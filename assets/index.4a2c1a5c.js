function _mergeNamespaces(et,_e){for(var tt=0;tt<_e.length;tt++){const rt=_e[tt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const nt in rt)if(nt!=="default"&&!(nt in et)){const it=Object.getOwnPropertyDescriptor(rt,nt);it&&Object.defineProperty(et,nt,it.get?it:{enumerable:!0,get:()=>rt[nt]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const it of nt)if(it.type==="childList")for(const at of it.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&rt(at)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const it={};return nt.integrity&&(it.integrity=nt.integrity),nt.referrerpolicy&&(it.referrerPolicy=nt.referrerpolicy),nt.crossorigin==="use-credentials"?it.credentials="include":nt.crossorigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function rt(nt){if(nt.ep)return;nt.ep=!0;const it=tt(nt);fetch(nt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){var _e=et.default;if(typeof _e=="function"){var tt=function(){return _e.apply(this,arguments)};tt.prototype=_e.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(et).forEach(function(rt){var nt=Object.getOwnPropertyDescriptor(et,rt);Object.defineProperty(tt,rt,nt.get?nt:{enumerable:!0,get:function(){return et[rt]}})}),tt}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$9=Symbol.for("react.fragment"),q$8=Symbol.for("react.strict_mode"),r$9=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$6=Symbol.for("react.suspense"),x$6=Symbol.for("react.memo"),y$6=Symbol.for("react.lazy"),z$9=Symbol.iterator;function A$8(et){return et===null||typeof et!="object"?null:(et=z$9&&et[z$9]||et["@@iterator"],typeof et=="function"?et:null)}var B$5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$5={};function E$6(et,_e,tt){this.props=et,this.context=_e,this.refs=D$5,this.updater=tt||B$5}E$6.prototype.isReactComponent={};E$6.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$6.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$5(){}F$5.prototype=E$6.prototype;function G$2(et,_e,tt){this.props=et,this.context=_e,this.refs=D$5,this.updater=tt||B$5}var H$5=G$2.prototype=new F$5;H$5.constructor=G$2;C$5(H$5,E$6.prototype);H$5.isPureReactComponent=!0;var I$5=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$7={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$5(et,_e,tt){var rt,nt={},it=null,at=null;if(_e!=null)for(rt in _e.ref!==void 0&&(at=_e.ref),_e.key!==void 0&&(it=""+_e.key),_e)J$1.call(_e,rt)&&!L$5.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);var st=arguments.length-2;if(st===1)nt.children=tt;else if(1<st){for(var ot=Array(st),ct=0;ct<st;ct++)ot[ct]=arguments[ct+2];nt.children=ot}if(et&&et.defaultProps)for(rt in st=et.defaultProps,st)nt[rt]===void 0&&(nt[rt]=st[rt]);return{$$typeof:l$6,type:et,key:it,ref:at,props:nt,_owner:K$7.current}}function N$6(et,_e){return{$$typeof:l$6,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$4(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$6}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return _e[tt]})}var P$6=/\/+/g;function Q$3(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$5(et,_e,tt,rt,nt){var it=typeof et;(it==="undefined"||it==="boolean")&&(et=null);var at=!1;if(et===null)at=!0;else switch(it){case"string":case"number":at=!0;break;case"object":switch(et.$$typeof){case l$6:case n$5:at=!0}}if(at)return at=et,nt=nt(at),et=rt===""?"."+Q$3(at,0):rt,I$5(nt)?(tt="",et!=null&&(tt=et.replace(P$6,"$&/")+"/"),R$5(nt,_e,tt,"",function(ct){return ct})):nt!=null&&(O$4(nt)&&(nt=N$6(nt,tt+(!nt.key||at&&at.key===nt.key?"":(""+nt.key).replace(P$6,"$&/")+"/")+et)),_e.push(nt)),1;if(at=0,rt=rt===""?".":rt+":",I$5(et))for(var st=0;st<et.length;st++){it=et[st];var ot=rt+Q$3(it,st);at+=R$5(it,_e,tt,ot,nt)}else if(ot=A$8(et),typeof ot=="function")for(et=ot.call(et),st=0;!(it=et.next()).done;)it=it.value,ot=rt+Q$3(it,st++),at+=R$5(it,_e,tt,ot,nt);else if(it==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return at}function S$4(et,_e,tt){if(et==null)return et;var rt=[],nt=0;return R$5(et,rt,"","",function(it){return _e.call(tt,it,nt++)}),rt}function T$7(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$3={transition:null},W$8={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$7};react_production_min.Children={map:S$4,forEach:function(et,_e,tt){S$4(et,function(){_e.apply(this,arguments)},tt)},count:function(et){var _e=0;return S$4(et,function(){_e++}),_e},toArray:function(et){return S$4(et,function(_e){return _e})||[]},only:function(et){if(!O$4(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$6;react_production_min.Fragment=p$9;react_production_min.Profiler=r$9;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$8;react_production_min.Suspense=w$6;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$8;react_production_min.cloneElement=function(et,_e,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var rt=C$5({},et.props),nt=et.key,it=et.ref,at=et._owner;if(_e!=null){if(_e.ref!==void 0&&(it=_e.ref,at=K$7.current),_e.key!==void 0&&(nt=""+_e.key),et.type&&et.type.defaultProps)var st=et.type.defaultProps;for(ot in _e)J$1.call(_e,ot)&&!L$5.hasOwnProperty(ot)&&(rt[ot]=_e[ot]===void 0&&st!==void 0?st[ot]:_e[ot])}var ot=arguments.length-2;if(ot===1)rt.children=tt;else if(1<ot){st=Array(ot);for(var ct=0;ct<ot;ct++)st[ct]=arguments[ct+2];rt.children=st}return{$$typeof:l$6,type:et.type,key:nt,ref:it,props:rt,_owner:at}};react_production_min.createContext=function(et){return et={$$typeof:u$6,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$6,_context:et},et.Consumer=et};react_production_min.createElement=M$5;react_production_min.createFactory=function(et){var _e=M$5.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$7,render:et}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(et){return{$$typeof:y$6,_payload:{_status:-1,_result:et},_init:T$7}};react_production_min.memo=function(et,_e){return{$$typeof:x$6,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$3.transition;V$3.transition={};try{et()}finally{V$3.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$2.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$2.current.useEffect(et,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,_e,tt){return U$2.current.useImperativeHandle(et,_e,tt)};react_production_min.useInsertionEffect=function(et,_e){return U$2.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$2.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$2.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,tt){return U$2.current.useReducer(et,_e,tt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,tt){return U$2.current.useSyncExternalStore(et,_e,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(et){et.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(react.exports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[react.exports]);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e($t,St){var Dt=$t.length;$t.push(St);e:for(;0<Dt;){var Rt=Dt-1>>>1,_t=$t[Rt];if(0<nt(_t,St))$t[Rt]=St,$t[Dt]=_t,Dt=Rt;else break e}}function tt($t){return $t.length===0?null:$t[0]}function rt($t){if($t.length===0)return null;var St=$t[0],Dt=$t.pop();if(Dt!==St){$t[0]=Dt;e:for(var Rt=0,_t=$t.length,Pt=_t>>>1;Rt<Pt;){var Vt=2*(Rt+1)-1,Bt=$t[Vt],qt=Vt+1,Yt=$t[qt];if(0>nt(Bt,Dt))qt<_t&&0>nt(Yt,Bt)?($t[Rt]=Yt,$t[qt]=Dt,Rt=qt):($t[Rt]=Bt,$t[Vt]=Dt,Rt=Vt);else if(qt<_t&&0>nt(Yt,Dt))$t[Rt]=Yt,$t[qt]=Dt,Rt=qt;else break e}}return St}function nt($t,St){var Dt=$t.sortIndex-St.sortIndex;return Dt!==0?Dt:$t.id-St.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var at=Date,st=at.now();et.unstable_now=function(){return at.now()-st}}var ot=[],ct=[],lt=1,ut=null,dt=3,mt=!1,gt=!1,bt=!1,ht=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,wt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt($t){for(var St=tt(ct);St!==null;){if(St.callback===null)rt(ct);else if(St.startTime<=$t)rt(ct),St.sortIndex=St.expirationTime,_e(ot,St);else break;St=tt(ct)}}function At($t){if(bt=!1,xt($t),!gt)if(tt(ot)!==null)gt=!0,Mt(kt);else{var St=tt(ct);St!==null&&Nt(At,St.startTime-$t)}}function kt($t,St){gt=!1,bt&&(bt=!1,yt(Ht),Ht=-1),mt=!0;var Dt=dt;try{for(xt(St),ut=tt(ot);ut!==null&&(!(ut.expirationTime>St)||$t&&!Et());){var Rt=ut.callback;if(typeof Rt=="function"){ut.callback=null,dt=ut.priorityLevel;var _t=Rt(ut.expirationTime<=St);St=et.unstable_now(),typeof _t=="function"?ut.callback=_t:ut===tt(ot)&&rt(ot),xt(St)}else rt(ot);ut=tt(ot)}if(ut!==null)var Pt=!0;else{var Vt=tt(ct);Vt!==null&&Nt(At,Vt.startTime-St),Pt=!1}return Pt}finally{ut=null,dt=Dt,mt=!1}}var Ot=!1,Wt=null,Ht=-1,Zt=5,Lt=-1;function Et(){return!(et.unstable_now()-Lt<Zt)}function It(){if(Wt!==null){var $t=et.unstable_now();Lt=$t;var St=!0;try{St=Wt(!0,$t)}finally{St?Ct():(Ot=!1,Wt=null)}}else Ot=!1}var Ct;if(typeof wt=="function")Ct=function(){wt(It)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Tt=vt.port2;vt.port1.onmessage=It,Ct=function(){Tt.postMessage(null)}}else Ct=function(){ht(It,0)};function Mt($t){Wt=$t,Ot||(Ot=!0,Ct())}function Nt($t,St){Ht=ht(function(){$t(et.unstable_now())},St)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function($t){$t.callback=null},et.unstable_continueExecution=function(){gt||mt||(gt=!0,Mt(kt))},et.unstable_forceFrameRate=function($t){0>$t||125<$t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Zt=0<$t?Math.floor(1e3/$t):5},et.unstable_getCurrentPriorityLevel=function(){return dt},et.unstable_getFirstCallbackNode=function(){return tt(ot)},et.unstable_next=function($t){switch(dt){case 1:case 2:case 3:var St=3;break;default:St=dt}var Dt=dt;dt=St;try{return $t()}finally{dt=Dt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function($t,St){switch($t){case 1:case 2:case 3:case 4:case 5:break;default:$t=3}var Dt=dt;dt=$t;try{return St()}finally{dt=Dt}},et.unstable_scheduleCallback=function($t,St,Dt){var Rt=et.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?Rt+Dt:Rt):Dt=Rt,$t){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=Dt+_t,$t={id:lt++,callback:St,priorityLevel:$t,startTime:Dt,expirationTime:_t,sortIndex:-1},Dt>Rt?($t.sortIndex=Dt,_e(ct,$t),tt(ot)===null&&$t===tt(ct)&&(bt?(yt(Ht),Ht=-1):bt=!0,Nt(At,Dt-Rt))):($t.sortIndex=_t,_e(ot,$t),gt||mt||(gt=!0,Mt(kt))),$t},et.unstable_shouldYield=Et,et.unstable_wrapCallback=function($t){var St=dt;return function(){var Dt=dt;dt=St;try{return $t.apply(this,arguments)}finally{dt=Dt}}}})(scheduler_production_min);(function(et){et.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$8(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)_e+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa$1(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,tt,rt){if(_e===null||typeof _e>"u"||pa(et,_e,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$6(et,_e,tt,rt,nt,it,at){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=et,this.type=_e,this.sanitizeURL=it,this.removeEmptyString=at}var z$8={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$8[et]=new v$6(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z$8[_e]=new v$6(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$8[et]=new v$6(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$8[et]=new v$6(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$8[et]=new v$6(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$8[et]=new v$6(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$8[et]=new v$6(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$8[et]=new v$6(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$8[et]=new v$6(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$8[_e]=new v$6(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$8[_e]=new v$6(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z$8[_e]=new v$6(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$8[et]=new v$6(et,1,!1,et.toLowerCase(),null,!1,!1)});z$8.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$8[et]=new v$6(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,tt,rt){var nt=z$8.hasOwnProperty(_e)?z$8[_e]:null;(nt!==null?nt.type!==0:rt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,tt,nt,rt)&&(tt=null),rt||nt===null?oa(_e)&&(tt===null?et.removeAttribute(_e):et.setAttribute(_e,""+tt)):nt.mustUseProperty?et[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(_e=nt.attributeName,rt=nt.attributeNamespace,tt===null?et.removeAttribute(_e):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?et.setAttributeNS(rt,_e,tt):et.setAttribute(_e,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$7=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var _e=tt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ct){var rt=ct}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(ct){rt=ct}et.call(_e.prototype)}else{try{throw Error()}catch(ct){rt=ct}et()}}catch(ct){if(ct&&rt&&typeof ct.stack=="string"){for(var nt=ct.stack.split(`
`),it=rt.stack.split(`
`),at=nt.length-1,st=it.length-1;1<=at&&0<=st&&nt[at]!==it[st];)st--;for(;1<=at&&0<=st;at--,st--)if(nt[at]!==it[st]){if(at!==1||st!==1)do if(at--,st--,0>st||nt[at]!==it[st]){var ot=`
`+nt[at].replace(" at new "," at ");return et.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",et.displayName)),ot}while(1<=at&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),rt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,it=tt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(at){rt=""+at,it.call(this,at)}}),Object.defineProperty(et,_e,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(at){rt=""+at},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var tt=_e.getValue(),rt="";return et&&(rt=Ta(et)?et.checked?"true":"false":et.value),et=rt,et!==tt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var tt=_e.checked;return A$7({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt!=null?tt:et._wrapperState.initialChecked})}function Za(et,_e){var tt=_e.defaultValue==null?"":_e.defaultValue,rt=_e.checked!=null?_e.checked:_e.defaultChecked;tt=Sa(_e.value!=null?_e.value:tt),et._wrapperState={initialChecked:rt,initialValue:tt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var tt=Sa(_e.value),rt=_e.type;if(tt!=null)rt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(rt==="submit"||rt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,tt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,tt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var rt=_e.type;if(!(rt!=="submit"&&rt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,tt||_e===et.value||(et.value=_e),et.defaultValue=_e}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb(et,_e,tt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,_e,tt,rt){if(et=et.options,_e){_e={};for(var nt=0;nt<tt.length;nt++)_e["$"+tt[nt]]=!0;for(tt=0;tt<et.length;tt++)nt=_e.hasOwnProperty("$"+et[tt].value),et[tt].selected!==nt&&(et[tt].selected=nt),nt&&rt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),_e=null,nt=0;nt<et.length;nt++){if(et[nt].value===tt){et[nt].selected=!0,rt&&(et[nt].defaultSelected=!0);return}_e!==null||et[nt].disabled||(_e=et[nt])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$8(91));return A$7({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var tt=_e.value;if(tt==null){if(tt=_e.children,_e=_e.defaultValue,tt!=null){if(_e!=null)throw Error(p$8(92));if(eb(tt)){if(1<tt.length)throw Error(p$8(93));tt=tt[0]}_e=tt}_e==null&&(_e=""),tt=_e}et._wrapperState={initialValue:Sa(tt)}}function ib(et,_e){var tt=Sa(_e.value),rt=Sa(_e.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),_e.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),rt!=null&&(et.defaultValue=""+rt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return et(_e,tt,rt,nt)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,tt){return _e==null||typeof _e=="boolean"||_e===""?"":tt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var tt in _e)if(_e.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,_e[tt],rt);tt==="float"&&(tt="cssFloat"),rt?et.setProperty(tt,nt):et[tt]=nt}}var tb=A$7({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$8(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$8(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$8(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$8(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$8(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,tt){if(Ib)return et(_e,tt);Ib=!0;try{return Gb(et,_e,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var tt=et.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(et=et.type,rt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!rt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$8(231,_e,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,tt,rt,nt,it,at,st,ot){var ct=Array.prototype.slice.call(arguments,3);try{_e.apply(tt,ct)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,tt,rt,nt,it,at,st,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,tt,rt,nt,it,at,st,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$8(198));Qb||(Qb=!0,Rb=ct)}}function Vb(et){var _e=et,tt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,(_e.flags&4098)!==0&&(tt=_e.return),et=_e.return;while(et)}return _e.tag===3?tt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$8(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$8(188));return _e!==et?null:et}for(var tt=et,rt=_e;;){var nt=tt.return;if(nt===null)break;var it=nt.alternate;if(it===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===it.child){for(it=nt.child;it;){if(it===tt)return Xb(nt),et;if(it===rt)return Xb(nt),_e;it=it.sibling}throw Error(p$8(188))}if(tt.return!==rt.return)tt=nt,rt=it;else{for(var at=!1,st=nt.child;st;){if(st===tt){at=!0,tt=nt,rt=it;break}if(st===rt){at=!0,rt=nt,tt=it;break}st=st.sibling}if(!at){for(st=it.child;st;){if(st===tt){at=!0,tt=it,rt=nt;break}if(st===rt){at=!0,rt=it,tt=nt;break}st=st.sibling}if(!at)throw Error(p$8(189))}}if(tt.alternate!==rt)throw Error(p$8(190))}if(tt.tag!==3)throw Error(p$8(188));return tt.stateNode.current===tt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$4=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var tt=et.pendingLanes;if(tt===0)return 0;var rt=0,nt=et.suspendedLanes,it=et.pingedLanes,at=tt&268435455;if(at!==0){var st=at&~nt;st!==0?rt=tc(st):(it&=at,it!==0&&(rt=tc(it)))}else at=tt&~nt,at!==0?rt=tc(at):it!==0&&(rt=tc(it));if(rt===0)return 0;if(_e!==0&&_e!==rt&&(_e&nt)===0&&(nt=rt&-rt,it=_e&-_e,nt>=it||nt===16&&(it&4194240)!==0))return _e;if((rt&4)!==0&&(rt|=tt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=rt;0<_e;)tt=31-oc(_e),nt=1<<tt,rt|=et[tt],_e&=~nt;return rt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var tt=et.suspendedLanes,rt=et.pingedLanes,nt=et.expirationTimes,it=et.pendingLanes;0<it;){var at=31-oc(it),st=1<<at,ot=nt[at];ot===-1?((st&tt)===0||(st&rt)!==0)&&(nt[at]=vc(st,_e)):ot<=_e&&(et.expiredLanes|=st),it&=~st}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),et}function zc(et){for(var _e=[],tt=0;31>tt;tt++)_e.push(et);return _e}function Ac(et,_e,tt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=tt}function Bc(et,_e){var tt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var rt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var nt=31-oc(tt),it=1<<nt;_e[nt]=0,rt[nt]=-1,et[nt]=-1,tt&=~it}}function Cc(et,_e){var tt=et.entangledLanes|=_e;for(et=et.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&_e|et[rt]&_e&&(et[rt]|=_e),tt&=~nt}}var C$4=0;function Dc(et){return et&=-et,1<et?4<et?(et&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,tt,rt,nt,it){return et===null||et.nativeEvent!==it?(et={blockedOn:_e,domEventName:tt,eventSystemFlags:rt,nativeEvent:it,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=rt,_e=et.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),et)}function Uc(et,_e,tt,rt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,et,_e,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,et,_e,tt,rt,nt),!0;case"pointerover":var it=nt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,et,_e,tt,rt,nt)),!0;case"gotpointercapture":return it=nt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,et,_e,tt,rt,nt)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var tt=Vb(_e);if(tt!==null){if(_e=tt.tag,_e===13){if(_e=Wb(tt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(tt)});return}}else if(_e===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return _e=Cb(tt),_e!==null&&Fc(_e),et.blockedOn=tt,!1;_e.shift()}return!0}function Zc(et,_e,tt){Xc(et)&&tt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(nt){return ad(nt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===et&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===et&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,tt,rt){var nt=C$4,it=cd.transition;cd.transition=null;try{C$4=1,fd(et,_e,tt,rt)}finally{C$4=nt,cd.transition=it}}function gd(et,_e,tt,rt){var nt=C$4,it=cd.transition;cd.transition=null;try{C$4=4,fd(et,_e,tt,rt)}finally{C$4=nt,cd.transition=it}}function fd(et,_e,tt,rt){if(dd){var nt=Yc(et,_e,tt,rt);if(nt===null)hd(et,_e,rt,id$1,tt),Sc(et,rt);else if(Uc(nt,et,_e,tt,rt))rt.stopPropagation();else if(Sc(et,rt),_e&4&&-1<Rc.indexOf(et)){for(;nt!==null;){var it=Cb(nt);if(it!==null&&Ec(it),it=Yc(et,_e,tt,rt),it===null&&hd(et,_e,rt,id$1,tt),it===nt)break;nt=it}nt!==null&&rt.stopPropagation()}else hd(et,_e,rt,null,tt)}}var id$1=null;function Yc(et,_e,tt,rt){if(id$1=null,et=xb(rt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(tt=_e.tag,tt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(tt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id$1=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,tt=_e.length,rt,nt="value"in kd?kd.value:kd.textContent,it=nt.length;for(et=0;et<tt&&_e[et]===nt[et];et++);var at=tt-et;for(rt=1;rt<=at&&_e[tt-rt]===nt[it-rt];rt++);return md=nt.slice(et,1<rt?1-rt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(tt,rt,nt,it,at){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=it,this.target=at,this.currentTarget=null;for(var st in et)et.hasOwnProperty(st)&&(tt=et[st],this[st]=tt?tt(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$7(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$7({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$7({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$7({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$7({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$7({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$7({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$7({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$7({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$7({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$7({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$7({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$7({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je(et,_e){switch(et){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return et=_e.data,et===ee&&fe?null:et;default:return null}}function ke(et,_e){if(ie)return et==="compositionend"||!ae&&ge(et,_e)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le[et.type]:_e==="textarea"}function ne(et,_e,tt,rt){Eb(rt),_e=oe(_e,"onChange"),0<_e.length&&(tt=new td("onChange","change",null,tt,rt),et.push({event:tt,listeners:_e}))}var pe=null,qe=null;function re(et){se(et,0)}function te(et){var _e=ue(et);if(Wa(_e))return et}function ve(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,et,xb(et)),Jb(re,_e)}}function Ce(et,_e,tt){et==="focusin"?(Ae(),pe=_e,qe=tt,pe.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var tt=Object.keys(et),rt=Object.keys(_e);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(_e,nt)||!He(et[nt],_e[nt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var tt=Je(et);et=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=et+tt.textContent.length,et<=_e&&rt>=_e)return{node:tt,offset:_e-et};et=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var tt=typeof _e.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me(),tt=et.focusedElem,rt=et.selectionRange;if(_e!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(_e=rt.start,et=rt.end,et===void 0&&(et=_e),"selectionStart"in tt)tt.selectionStart=_e,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(_e=tt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var nt=tt.textContent.length,it=Math.min(rt.start,nt);rt=rt.end===void 0?it:Math.min(rt.end,nt),!et.extend&&it>rt&&(nt=rt,rt=it,it=nt),nt=Ke(tt,it);var at=Ke(tt,rt);nt&&at&&(et.rangeCount!==1||et.anchorNode!==nt.node||et.anchorOffset!==nt.offset||et.focusNode!==at.node||et.focusOffset!==at.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),et.removeAllRanges(),it>rt?(et.addRange(_e),et.extend(at.node,at.offset)):(_e.setEnd(at.node,at.offset),et.addRange(_e)))}}for(_e=[],et=tt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<_e.length;tt++)et=_e[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(et,_e,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe(Re,"onSelect"),0<rt.length&&(_e=new td("onSelect","select",null,_e,tt),et.push({event:_e,listeners:rt}),_e.target=Qe)))}function Ve(et,_e){var tt={};return tt[et.toLowerCase()]=_e.toLowerCase(),tt["Webkit"+et]="webkit"+_e,tt["Moz"+et]="moz"+_e,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],tt;for(tt in _e)if(_e.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=_e[tt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa$1(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,tt){var rt=et.type||"unknown-event";et.currentTarget=tt,Ub(rt,_e,void 0,et),et.currentTarget=null}function se(et,_e){_e=(_e&4)!==0;for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.event;rt=rt.listeners;e:{var it=void 0;if(_e)for(var at=rt.length-1;0<=at;at--){var st=rt[at],ot=st.instance,ct=st.currentTarget;if(st=st.listener,ot!==it&&nt.isPropagationStopped())break e;nf(nt,st,ct),it=ot}else for(at=0;at<rt.length;at++){if(st=rt[at],ot=st.instance,ct=st.currentTarget,st=st.listener,ot!==it&&nt.isPropagationStopped())break e;nf(nt,st,ct),it=ot}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$4(et,_e){var tt=_e[of$1];tt===void 0&&(tt=_e[of$1]=new Set);var rt=et+"__bubble";tt.has(rt)||(pf(_e,et,2,!1),tt.add(rt))}function qf(et,_e,tt){var rt=0;_e&&(rt|=4),pf(tt,et,rt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,tt,rt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,_e,tt,et),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),rt?nt!==void 0?et.addEventListener(_e,tt,{capture:!0,passive:nt}):et.addEventListener(_e,tt,!0):nt!==void 0?et.addEventListener(_e,tt,{passive:nt}):et.addEventListener(_e,tt,!1)}function hd(et,_e,tt,rt,nt){var it=rt;if((_e&1)===0&&(_e&2)===0&&rt!==null)e:for(;;){if(rt===null)return;var at=rt.tag;if(at===3||at===4){var st=rt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(at===4)for(at=rt.return;at!==null;){var ot=at.tag;if((ot===3||ot===4)&&(ot=at.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;at=at.return}for(;st!==null;){if(at=Wc(st),at===null)return;if(ot=at.tag,ot===5||ot===6){rt=it=at;continue e}st=st.parentNode}}rt=rt.return}Jb(function(){var ct=it,lt=xb(tt),ut=[];e:{var dt=df.get(et);if(dt!==void 0){var mt=td,gt=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":gt="focus",mt=Fd;break;case"focusout":gt="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var bt=(_e&4)!==0,ht=!bt&&et==="scroll",yt=bt?dt!==null?dt+"Capture":null:dt;bt=[];for(var wt=ct,xt;wt!==null;){xt=wt;var At=xt.stateNode;if(xt.tag===5&&At!==null&&(xt=At,yt!==null&&(At=Kb(wt,yt),At!=null&&bt.push(tf(wt,At,xt)))),ht)break;wt=wt.return}0<bt.length&&(dt=new mt(dt,gt,null,tt,lt),ut.push({event:dt,listeners:bt}))}}if((_e&7)===0){e:{if(dt=et==="mouseover"||et==="pointerover",mt=et==="mouseout"||et==="pointerout",dt&&tt!==wb&&(gt=tt.relatedTarget||tt.fromElement)&&(Wc(gt)||gt[uf]))break e;if((mt||dt)&&(dt=lt.window===lt?lt:(dt=lt.ownerDocument)?dt.defaultView||dt.parentWindow:window,mt?(gt=tt.relatedTarget||tt.toElement,mt=ct,gt=gt?Wc(gt):null,gt!==null&&(ht=Vb(gt),gt!==ht||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(mt=null,gt=ct),mt!==gt)){if(bt=Bd,At="onMouseLeave",yt="onMouseEnter",wt="mouse",(et==="pointerout"||et==="pointerover")&&(bt=Td,At="onPointerLeave",yt="onPointerEnter",wt="pointer"),ht=mt==null?dt:ue(mt),xt=gt==null?dt:ue(gt),dt=new bt(At,wt+"leave",mt,tt,lt),dt.target=ht,dt.relatedTarget=xt,At=null,Wc(lt)===ct&&(bt=new bt(yt,wt+"enter",gt,tt,lt),bt.target=xt,bt.relatedTarget=ht,At=bt),ht=At,mt&&gt)t:{for(bt=mt,yt=gt,wt=0,xt=bt;xt;xt=vf(xt))wt++;for(xt=0,At=yt;At;At=vf(At))xt++;for(;0<wt-xt;)bt=vf(bt),wt--;for(;0<xt-wt;)yt=vf(yt),xt--;for(;wt--;){if(bt===yt||yt!==null&&bt===yt.alternate)break t;bt=vf(bt),yt=vf(yt)}bt=null}else bt=null;mt!==null&&wf(ut,dt,mt,bt,!1),gt!==null&&ht!==null&&wf(ut,ht,gt,bt,!0)}}e:{if(dt=ct?ue(ct):window,mt=dt.nodeName&&dt.nodeName.toLowerCase(),mt==="select"||mt==="input"&&dt.type==="file")var kt=ve;else if(me(dt))if(we)kt=Fe;else{kt=De;var Ot=Ce}else(mt=dt.nodeName)&&mt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(kt=Ee);if(kt&&(kt=kt(et,ct))){ne(ut,kt,tt,lt);break e}Ot&&Ot(et,dt,ct),et==="focusout"&&(Ot=dt._wrapperState)&&Ot.controlled&&dt.type==="number"&&cb(dt,"number",dt.value)}switch(Ot=ct?ue(ct):window,et){case"focusin":(me(Ot)||Ot.contentEditable==="true")&&(Qe=Ot,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,tt,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,tt,lt)}var Wt;if(ae)e:{switch(et){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else ie?ge(et,tt)&&(Ht="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&(Ht="onCompositionStart");Ht&&(de$1&&tt.locale!=="ko"&&(ie||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&ie&&(Wt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ot=oe(ct,Ht),0<Ot.length&&(Ht=new Ld(Ht,et,null,tt,lt),ut.push({event:Ht,listeners:Ot}),Wt?Ht.data=Wt:(Wt=he(tt),Wt!==null&&(Ht.data=Wt)))),(Wt=ce?je(et,tt):ke(et,tt))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(lt=new Ld("onBeforeInput","beforeinput",null,tt,lt),ut.push({event:lt,listeners:ct}),lt.data=Wt))}se(ut,_e)})}function tf(et,_e,tt){return{instance:et,listener:_e,currentTarget:tt}}function oe(et,_e){for(var tt=_e+"Capture",rt=[];et!==null;){var nt=et,it=nt.stateNode;nt.tag===5&&it!==null&&(nt=it,it=Kb(et,tt),it!=null&&rt.unshift(tf(et,it,nt)),it=Kb(et,_e),it!=null&&rt.push(tf(et,it,nt))),et=et.return}return rt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,tt,rt,nt){for(var it=_e._reactName,at=[];tt!==null&&tt!==rt;){var st=tt,ot=st.alternate,ct=st.stateNode;if(ot!==null&&ot===rt)break;st.tag===5&&ct!==null&&(st=ct,nt?(ot=Kb(tt,it),ot!=null&&at.unshift(tf(tt,ot,st))):nt||(ot=Kb(tt,it),ot!=null&&at.push(tf(tt,ot,st)))),tt=tt.return}at.length!==0&&et.push({event:_e,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,tt){if(_e=zf(_e),zf(et)!==_e&&tt)throw Error(p$8(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var tt=_e,rt=0;do{var nt=tt.nextSibling;if(et.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){et.removeChild(nt),bd(_e);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(_e===0)return et;_e--}else tt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var tt=et.parentNode;tt;){if(_e=tt[uf]||tt[Of]){if(tt=_e.alternate,_e.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return _e}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$8(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$5(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H$4=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var tt=et.type.contextTypes;if(!tt)return Vf;var rt=et.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===_e)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},it;for(it in tt)nt[it]=_e[it];return rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$5(Wf),E$5(H$4)}function ag(et,_e,tt){if(H$4.current!==Vf)throw Error(p$8(168));G$1(H$4,_e),G$1(Wf,tt)}function bg(et,_e,tt){var rt=et.stateNode;if(_e=_e.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in _e))throw Error(p$8(108,Ra(et)||"Unknown",nt));return A$7({},tt,rt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$4.current,G$1(H$4,et),G$1(Wf,Wf.current),!0}function dg(et,_e,tt){var rt=et.stateNode;if(!rt)throw Error(p$8(169));tt?(et=bg(et,_e,Xf),rt.__reactInternalMemoizedMergedChildContext=et,E$5(Wf),E$5(H$4),G$1(H$4,et)):E$5(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C$4;try{var tt=eg;for(C$4=1;et<tt.length;et++){var rt=tt[et];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),nt}finally{C$4=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var rt=rg;et=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var it=32-oc(_e)+nt;if(30<it){var at=nt-nt%5;it=(rt&(1<<at)-1).toString(32),rt>>=at,nt-=at,rg=1<<32-oc(_e)+nt|tt<<nt|rt,sg=it+et}else rg=1<<it|tt<<nt|rt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(et,_e){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=_e,tt.return=et,_e=et.deletions,_e===null?(et.deletions=[tt],et.flags|=16):_e.push(tt)}function Cg(et,_e){switch(et.tag){case 5:var tt=et.type;return _e=_e.nodeType!==1||tt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=_e,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$4){var _e=yg;if(_e){var tt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$8(418));_e=Lf(tt.nextSibling);var rt=xg;_e&&Cg(et,_e)?Ag(rt,tt):(et.flags=et.flags&-4097|2,I$4=!1,xg=et)}}else{if(Dg(et))throw Error(p$8(418));et.flags=et.flags&-4097|2,I$4=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$4)return Fg(et),I$4=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$8(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$8(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$7({},_e),et=et.defaultProps;for(var tt in et)_e[tt]===void 0&&(_e[tt]=et[tt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E$5(Mg),et._currentValue=_e}function Sg(et,_e,tt){for(;et!==null;){var rt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,rt!==null&&(rt.childLanes|=_e)):rt!==null&&(rt.childLanes&_e)!==_e&&(rt.childLanes|=_e),et===tt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&((et.lanes&_e)!==0&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$8(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,tt,rt){var nt=_e.interleaved;return nt===null?(tt.next=tt,Xg(_e)):(tt.next=nt.next,nt.next=tt),_e.interleaved=tt,Zg(et,rt)}function Zg(et,_e){et.lanes|=_e;var tt=et.alternate;for(tt!==null&&(tt.lanes|=_e),tt=et,et=et.return;et!==null;)et.childLanes|=_e,tt=et.alternate,tt!==null&&(tt.childLanes|=_e),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch$1(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,tt){var rt=et.updateQueue;if(rt===null)return null;if(rt=rt.shared,(K$6&2)!==0){var nt=rt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),rt.pending=_e,Zg(et,tt)}return nt=rt.interleaved,nt===null?(_e.next=_e,Xg(rt)):(_e.next=nt.next,nt.next=_e),rt.interleaved=_e,Zg(et,tt)}function eh(et,_e,tt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(tt&4194240)!==0)){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}function fh(et,_e){var tt=et.updateQueue,rt=et.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var at={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?nt=it=at:it=it.next=at,tt=tt.next}while(tt!==null);it===null?nt=it=_e:it=it.next=_e}else nt=it=_e;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:it,shared:rt.shared,effects:rt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=_e:et.next=_e,tt.lastBaseUpdate=_e}function gh(et,_e,tt,rt){var nt=et.updateQueue;$g=!1;var it=nt.firstBaseUpdate,at=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ot=st,ct=ot.next;ot.next=null,at===null?it=ct:at.next=ct,at=ot;var lt=et.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==at&&(st===null?lt.firstBaseUpdate=ct:st.next=ct,lt.lastBaseUpdate=ot))}if(it!==null){var ut=nt.baseState;at=0,lt=ct=ot=null,st=it;do{var dt=st.lane,mt=st.eventTime;if((rt&dt)===dt){lt!==null&&(lt=lt.next={eventTime:mt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var gt=et,bt=st;switch(dt=_e,mt=tt,bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){ut=gt.call(mt,ut,dt);break e}ut=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,dt=typeof gt=="function"?gt.call(mt,ut,dt):gt,dt==null)break e;ut=A$7({},ut,dt);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(et.flags|=64,dt=nt.effects,dt===null?nt.effects=[st]:dt.push(st))}else mt={eventTime:mt,lane:dt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(ct=lt=mt,ot=ut):lt=lt.next=mt,at|=dt;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;dt=st,st=dt.next,dt.next=null,nt.lastBaseUpdate=dt,nt.shared.pending=null}}while(1);if(lt===null&&(ot=ut),nt.baseState=ot,nt.firstBaseUpdate=ct,nt.lastBaseUpdate=lt,_e=nt.shared.interleaved,_e!==null){nt=_e;do at|=nt.lane,nt=nt.next;while(nt!==_e)}else it===null&&(nt.shared.lanes=0);hh|=at,et.lanes=at,et.memoizedState=ut}}function ih(et,_e,tt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var rt=et[_e],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$8(191,nt));nt.call(rt)}}}var jh=new aa.Component().refs;function kh(et,_e,tt,rt){_e=et.memoizedState,tt=tt(rt,_e),tt=tt==null?_e:A$7({},_e,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,tt){et=et._reactInternals;var rt=L$4(),nt=lh(et),it=ch$1(rt,nt);it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueReplaceState:function(et,_e,tt){et=et._reactInternals;var rt=L$4(),nt=lh(et),it=ch$1(rt,nt);it.tag=1,it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var tt=L$4(),rt=lh(et),nt=ch$1(tt,rt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=dh(et,nt,rt),_e!==null&&(mh(_e,et,rt,tt),eh(_e,et,rt))}};function oh(et,_e,tt,rt,nt,it,at){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(rt,it,at):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(tt,rt)||!Ie(nt,it):!0}function ph(et,_e,tt){var rt=!1,nt=Vf,it=_e.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(nt=Zf(_e)?Xf:H$4.current,rt=_e.contextTypes,it=(rt=rt!=null)?Yf(et,nt):Vf),_e=new _e(tt,it),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=nt,et.__reactInternalMemoizedMaskedChildContext=it),_e}function qh(et,_e,tt,rt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(tt,rt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(tt,rt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh$1(et,_e,tt,rt){var nt=et.stateNode;nt.props=tt,nt.state=et.memoizedState,nt.refs=jh,ah(et);var it=_e.contextType;typeof it=="object"&&it!==null?nt.context=Vg(it):(it=Zf(_e)?Xf:H$4.current,nt.context=Yf(et,it)),nt.state=et.memoizedState,it=_e.getDerivedStateFromProps,typeof it=="function"&&(kh(et,_e,it,tt),nt.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(et,tt,nt,rt),nt.state=et.memoizedState),typeof nt.componentDidMount=="function"&&(et.flags|=4194308)}function sh$1(et,_e,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$8(309));var rt=tt.stateNode}if(!rt)throw Error(p$8(147,et));var nt=rt,it=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===it?_e.ref:(_e=function(at){var st=nt.refs;st===jh&&(st=nt.refs={}),at===null?delete st[it]:st[it]=at},_e._stringRef=it,_e)}if(typeof et!="string")throw Error(p$8(284));if(!tt._owner)throw Error(p$8(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$8(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh(et){function _e(yt,wt){if(et){var xt=yt.deletions;xt===null?(yt.deletions=[wt],yt.flags|=16):xt.push(wt)}}function tt(yt,wt){if(!et)return null;for(;wt!==null;)_e(yt,wt),wt=wt.sibling;return null}function rt(yt,wt){for(yt=new Map;wt!==null;)wt.key!==null?yt.set(wt.key,wt):yt.set(wt.index,wt),wt=wt.sibling;return yt}function nt(yt,wt){return yt=wh(yt,wt),yt.index=0,yt.sibling=null,yt}function it(yt,wt,xt){return yt.index=xt,et?(xt=yt.alternate,xt!==null?(xt=xt.index,xt<wt?(yt.flags|=2,wt):xt):(yt.flags|=2,wt)):(yt.flags|=1048576,wt)}function at(yt){return et&&yt.alternate===null&&(yt.flags|=2),yt}function st(yt,wt,xt,At){return wt===null||wt.tag!==6?(wt=xh(xt,yt.mode,At),wt.return=yt,wt):(wt=nt(wt,xt),wt.return=yt,wt)}function ot(yt,wt,xt,At){var kt=xt.type;return kt===ya?lt(yt,wt,xt.props.children,At,xt.key):wt!==null&&(wt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&uh(kt)===wt.type)?(At=nt(wt,xt.props),At.ref=sh$1(yt,wt,xt),At.return=yt,At):(At=yh(xt.type,xt.key,xt.props,null,yt.mode,At),At.ref=sh$1(yt,wt,xt),At.return=yt,At)}function ct(yt,wt,xt,At){return wt===null||wt.tag!==4||wt.stateNode.containerInfo!==xt.containerInfo||wt.stateNode.implementation!==xt.implementation?(wt=zh$1(xt,yt.mode,At),wt.return=yt,wt):(wt=nt(wt,xt.children||[]),wt.return=yt,wt)}function lt(yt,wt,xt,At,kt){return wt===null||wt.tag!==7?(wt=Ah(xt,yt.mode,At,kt),wt.return=yt,wt):(wt=nt(wt,xt),wt.return=yt,wt)}function ut(yt,wt,xt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return wt=xh(""+wt,yt.mode,xt),wt.return=yt,wt;if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return xt=yh(wt.type,wt.key,wt.props,null,yt.mode,xt),xt.ref=sh$1(yt,null,wt),xt.return=yt,xt;case wa:return wt=zh$1(wt,yt.mode,xt),wt.return=yt,wt;case Ha:var At=wt._init;return ut(yt,At(wt._payload),xt)}if(eb(wt)||Ka(wt))return wt=Ah(wt,yt.mode,xt,null),wt.return=yt,wt;th(yt,wt)}return null}function dt(yt,wt,xt,At){var kt=wt!==null?wt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return kt!==null?null:st(yt,wt,""+xt,At);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return xt.key===kt?ot(yt,wt,xt,At):null;case wa:return xt.key===kt?ct(yt,wt,xt,At):null;case Ha:return kt=xt._init,dt(yt,wt,kt(xt._payload),At)}if(eb(xt)||Ka(xt))return kt!==null?null:lt(yt,wt,xt,At,null);th(yt,xt)}return null}function mt(yt,wt,xt,At,kt){if(typeof At=="string"&&At!==""||typeof At=="number")return yt=yt.get(xt)||null,st(wt,yt,""+At,kt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case va:return yt=yt.get(At.key===null?xt:At.key)||null,ot(wt,yt,At,kt);case wa:return yt=yt.get(At.key===null?xt:At.key)||null,ct(wt,yt,At,kt);case Ha:var Ot=At._init;return mt(yt,wt,xt,Ot(At._payload),kt)}if(eb(At)||Ka(At))return yt=yt.get(xt)||null,lt(wt,yt,At,kt,null);th(wt,At)}return null}function gt(yt,wt,xt,At){for(var kt=null,Ot=null,Wt=wt,Ht=wt=0,Zt=null;Wt!==null&&Ht<xt.length;Ht++){Wt.index>Ht?(Zt=Wt,Wt=null):Zt=Wt.sibling;var Lt=dt(yt,Wt,xt[Ht],At);if(Lt===null){Wt===null&&(Wt=Zt);break}et&&Wt&&Lt.alternate===null&&_e(yt,Wt),wt=it(Lt,wt,Ht),Ot===null?kt=Lt:Ot.sibling=Lt,Ot=Lt,Wt=Zt}if(Ht===xt.length)return tt(yt,Wt),I$4&&tg(yt,Ht),kt;if(Wt===null){for(;Ht<xt.length;Ht++)Wt=ut(yt,xt[Ht],At),Wt!==null&&(wt=it(Wt,wt,Ht),Ot===null?kt=Wt:Ot.sibling=Wt,Ot=Wt);return I$4&&tg(yt,Ht),kt}for(Wt=rt(yt,Wt);Ht<xt.length;Ht++)Zt=mt(Wt,yt,Ht,xt[Ht],At),Zt!==null&&(et&&Zt.alternate!==null&&Wt.delete(Zt.key===null?Ht:Zt.key),wt=it(Zt,wt,Ht),Ot===null?kt=Zt:Ot.sibling=Zt,Ot=Zt);return et&&Wt.forEach(function(Et){return _e(yt,Et)}),I$4&&tg(yt,Ht),kt}function bt(yt,wt,xt,At){var kt=Ka(xt);if(typeof kt!="function")throw Error(p$8(150));if(xt=kt.call(xt),xt==null)throw Error(p$8(151));for(var Ot=kt=null,Wt=wt,Ht=wt=0,Zt=null,Lt=xt.next();Wt!==null&&!Lt.done;Ht++,Lt=xt.next()){Wt.index>Ht?(Zt=Wt,Wt=null):Zt=Wt.sibling;var Et=dt(yt,Wt,Lt.value,At);if(Et===null){Wt===null&&(Wt=Zt);break}et&&Wt&&Et.alternate===null&&_e(yt,Wt),wt=it(Et,wt,Ht),Ot===null?kt=Et:Ot.sibling=Et,Ot=Et,Wt=Zt}if(Lt.done)return tt(yt,Wt),I$4&&tg(yt,Ht),kt;if(Wt===null){for(;!Lt.done;Ht++,Lt=xt.next())Lt=ut(yt,Lt.value,At),Lt!==null&&(wt=it(Lt,wt,Ht),Ot===null?kt=Lt:Ot.sibling=Lt,Ot=Lt);return I$4&&tg(yt,Ht),kt}for(Wt=rt(yt,Wt);!Lt.done;Ht++,Lt=xt.next())Lt=mt(Wt,yt,Ht,Lt.value,At),Lt!==null&&(et&&Lt.alternate!==null&&Wt.delete(Lt.key===null?Ht:Lt.key),wt=it(Lt,wt,Ht),Ot===null?kt=Lt:Ot.sibling=Lt,Ot=Lt);return et&&Wt.forEach(function(It){return _e(yt,It)}),I$4&&tg(yt,Ht),kt}function ht(yt,wt,xt,At){if(typeof xt=="object"&&xt!==null&&xt.type===ya&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:e:{for(var kt=xt.key,Ot=wt;Ot!==null;){if(Ot.key===kt){if(kt=xt.type,kt===ya){if(Ot.tag===7){tt(yt,Ot.sibling),wt=nt(Ot,xt.props.children),wt.return=yt,yt=wt;break e}}else if(Ot.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&uh(kt)===Ot.type){tt(yt,Ot.sibling),wt=nt(Ot,xt.props),wt.ref=sh$1(yt,Ot,xt),wt.return=yt,yt=wt;break e}tt(yt,Ot);break}else _e(yt,Ot);Ot=Ot.sibling}xt.type===ya?(wt=Ah(xt.props.children,yt.mode,At,xt.key),wt.return=yt,yt=wt):(At=yh(xt.type,xt.key,xt.props,null,yt.mode,At),At.ref=sh$1(yt,wt,xt),At.return=yt,yt=At)}return at(yt);case wa:e:{for(Ot=xt.key;wt!==null;){if(wt.key===Ot)if(wt.tag===4&&wt.stateNode.containerInfo===xt.containerInfo&&wt.stateNode.implementation===xt.implementation){tt(yt,wt.sibling),wt=nt(wt,xt.children||[]),wt.return=yt,yt=wt;break e}else{tt(yt,wt);break}else _e(yt,wt);wt=wt.sibling}wt=zh$1(xt,yt.mode,At),wt.return=yt,yt=wt}return at(yt);case Ha:return Ot=xt._init,ht(yt,wt,Ot(xt._payload),At)}if(eb(xt))return gt(yt,wt,xt,At);if(Ka(xt))return bt(yt,wt,xt,At);th(yt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,wt!==null&&wt.tag===6?(tt(yt,wt.sibling),wt=nt(wt,xt),wt.return=yt,yt=wt):(tt(yt,wt),wt=xh(xt,yt.mode,At),wt.return=yt,yt=wt),at(yt)):tt(yt,wt)}return ht}var Bh=vh(!0),Ch$1=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$8(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E$5(Eh),G$1(Eh,_e)}function Jh(){E$5(Eh),E$5(Fh),E$5(Gh)}function Kh$1(et){Hh(Gh.current);var _e=Hh(Eh.current),tt=lb(_e,et.type);_e!==tt&&(G$1(Fh,et),G$1(Eh,tt))}function Lh(et){Fh.current===et&&(E$5(Eh),E$5(Fh))}var M$4=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var tt=_e.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$5=null,O$3=null,P$5=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$8(321))}function Wh(et,_e){if(_e===null)return!1;for(var tt=0;tt<_e.length&&tt<et.length;tt++)if(!He(et[tt],_e[tt]))return!1;return!0}function Xh(et,_e,tt,rt,nt,it){if(Rh=it,N$5=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=tt(rt,nt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$8(301));it+=1,P$5=O$3=null,_e.updateQueue=null,Ph.current=$h,et=tt(rt,nt)}while(Th)}if(Ph.current=ai,_e=O$3!==null&&O$3.next!==null,Rh=0,P$5=O$3=N$5=null,Sh=!1,_e)throw Error(p$8(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$5===null?N$5.memoizedState=P$5=et:P$5=P$5.next=et,P$5}function di(){if(O$3===null){var et=N$5.alternate;et=et!==null?et.memoizedState:null}else et=O$3.next;var _e=P$5===null?N$5.memoizedState:P$5.next;if(_e!==null)P$5=_e,O$3=et;else{if(et===null)throw Error(p$8(310));O$3=et,et={memoizedState:O$3.memoizedState,baseState:O$3.baseState,baseQueue:O$3.baseQueue,queue:O$3.queue,next:null},P$5===null?N$5.memoizedState=P$5=et:P$5=P$5.next=et}return P$5}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$8(311));tt.lastRenderedReducer=et;var rt=O$3,nt=rt.baseQueue,it=tt.pending;if(it!==null){if(nt!==null){var at=nt.next;nt.next=it.next,it.next=at}rt.baseQueue=nt=it,tt.pending=null}if(nt!==null){it=nt.next,rt=rt.baseState;var st=at=null,ot=null,ct=it;do{var lt=ct.lane;if((Rh&lt)===lt)ot!==null&&(ot=ot.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),rt=ct.hasEagerState?ct.eagerState:et(rt,ct.action);else{var ut={lane:lt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};ot===null?(st=ot=ut,at=rt):ot=ot.next=ut,N$5.lanes|=lt,hh|=lt}ct=ct.next}while(ct!==null&&ct!==it);ot===null?at=rt:ot.next=st,He(rt,_e.memoizedState)||(Ug=!0),_e.memoizedState=rt,_e.baseState=at,_e.baseQueue=ot,tt.lastRenderedState=rt}if(et=tt.interleaved,et!==null){nt=et;do it=nt.lane,N$5.lanes|=it,hh|=it,nt=nt.next;while(nt!==et)}else nt===null&&(tt.lanes=0);return[_e.memoizedState,tt.dispatch]}function gi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$8(311));tt.lastRenderedReducer=et;var rt=tt.dispatch,nt=tt.pending,it=_e.memoizedState;if(nt!==null){tt.pending=null;var at=nt=nt.next;do it=et(it,at.action),at=at.next;while(at!==nt);He(it,_e.memoizedState)||(Ug=!0),_e.memoizedState=it,_e.baseQueue===null&&(_e.baseState=it),tt.lastRenderedState=it}return[it,rt]}function hi(){}function ii(et,_e){var tt=N$5,rt=di(),nt=_e(),it=!He(rt.memoizedState,nt);if(it&&(rt.memoizedState=nt,Ug=!0),rt=rt.queue,ji(ki.bind(null,tt,rt,et),[et]),rt.getSnapshot!==_e||it||P$5!==null&&P$5.memoizedState.tag&1){if(tt.flags|=2048,li(9,mi.bind(null,tt,rt,nt,_e),void 0,null),R$4===null)throw Error(p$8(349));(Rh&30)!==0||ni(tt,_e,nt)}return nt}function ni(et,_e,tt){et.flags|=16384,et={getSnapshot:_e,value:tt},_e=N$5.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$5.updateQueue=_e,_e.stores=[et]):(tt=_e.stores,tt===null?_e.stores=[et]:tt.push(et))}function mi(et,_e,tt,rt){_e.value=tt,_e.getSnapshot=rt,oi(_e)&&pi(et)}function ki(et,_e,tt){return tt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!He(et,tt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N$5,et),[_e.memoizedState,et]}function li(et,_e,tt,rt){return et={tag:et,create:_e,destroy:tt,deps:rt,next:null},_e=N$5.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$5.updateQueue=_e,_e.lastEffect=et.next=et):(tt=_e.lastEffect,tt===null?_e.lastEffect=et.next=et:(rt=tt.next,tt.next=et,et.next=rt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,tt,rt){var nt=ci();N$5.flags|=et,nt.memoizedState=li(1|_e,tt,void 0,rt===void 0?null:rt)}function ui(et,_e,tt,rt){var nt=di();rt=rt===void 0?null:rt;var it=void 0;if(O$3!==null){var at=O$3.memoizedState;if(it=at.destroy,rt!==null&&Wh(rt,at.deps)){nt.memoizedState=li(_e,tt,it,rt);return}}N$5.flags|=et,nt.memoizedState=li(1|_e,tt,it,rt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),tt)}function Ai(){}function Bi(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(tt.memoizedState=[et,_e],et)}function Ci(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(et=et(),tt.memoizedState=[et,_e],et)}function Di(et,_e,tt){return(Rh&21)===0?(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=tt):(He(tt,_e)||(tt=yc(),N$5.lanes|=tt,hh|=tt,et.baseState=!0),_e)}function Ei(et,_e){var tt=C$4;C$4=tt!==0&&4>tt?tt:4,et(!0);var rt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C$4=tt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(et,_e,tt){var rt=lh(et);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,tt);else if(tt=Yg(et,_e,tt,rt),tt!==null){var nt=L$4();mh(tt,et,rt,nt),Ji(tt,_e,rt)}}function ri(et,_e,tt){var rt=lh(et),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,nt);else{var it=et.alternate;if(et.lanes===0&&(it===null||it.lanes===0)&&(it=_e.lastRenderedReducer,it!==null))try{var at=_e.lastRenderedState,st=it(at,tt);if(nt.hasEagerState=!0,nt.eagerState=st,He(st,at)){var ot=_e.interleaved;ot===null?(nt.next=nt,Xg(_e)):(nt.next=ot.next,ot.next=nt),_e.interleaved=nt;return}}catch{}finally{}tt=Yg(et,_e,nt,rt),tt!==null&&(nt=L$4(),mh(tt,et,rt,nt),Ji(tt,_e,rt))}}function Hi(et){var _e=et.alternate;return et===N$5||_e!==null&&_e===N$5}function Ii(et,_e){Th=Sh=!0;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}function Ji(et,_e,tt){if((tt&4194240)!==0){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),tt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var tt=ci();return _e=_e===void 0?null:_e,et=et(),tt.memoizedState=[et,_e],et},useReducer:function(et,_e,tt){var rt=ci();return _e=tt!==void 0?tt(_e):_e,rt.memoizedState=rt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},rt.queue=et,et=et.dispatch=Gi.bind(null,N$5,et),[rt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,tt){var rt=N$5,nt=ci();if(I$4){if(tt===void 0)throw Error(p$8(407));tt=tt()}else{if(tt=_e(),R$4===null)throw Error(p$8(349));(Rh&30)!==0||ni(rt,_e,tt)}nt.memoizedState=tt;var it={value:tt,getSnapshot:_e};return nt.queue=it,vi(ki.bind(null,rt,it,et),[et]),rt.flags|=2048,li(9,mi.bind(null,rt,it,tt,_e),void 0,null),tt},useId:function(){var et=ci(),_e=R$4.identifierPrefix;if(I$4){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,_e=":"+_e+"R"+tt,tt=Uh++,0<tt&&(_e+="H"+tt.toString(32)),_e+=":"}else tt=Vh++,_e=":"+_e+"r"+tt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$3.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$3===null?_e.memoizedState=et:Di(_e,O$3.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var tt="",rt=_e;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(it){nt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:et,source:_e,stack:nt,digest:null}}function Li(et,_e,tt){return{value:et,source:null,stack:tt!=null?tt:null,digest:_e!=null?_e:null}}function Mi(et,_e){try{console.error(_e.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,tt){tt=ch$1(-1,tt),tt.tag=3,tt.payload={element:null};var rt=_e.value;return tt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(et,_e)},tt}function Ri(et,_e,tt){tt=ch$1(-1,tt),tt.tag=3;var rt=et.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=_e.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Mi(et,_e)}}var it=et.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(et,_e),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var at=_e.stack;this.componentDidCatch(_e.value,{componentStack:at!==null?at:""})}),tt}function Ti(et,_e,tt){var rt=et.pingCache;if(rt===null){rt=et.pingCache=new Ni;var nt=new Set;rt.set(_e,nt)}else nt=rt.get(_e),nt===void 0&&(nt=new Set,rt.set(_e,nt));nt.has(tt)||(nt.add(tt),et=Ui.bind(null,et,_e,tt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,tt,rt,nt){return(et.mode&1)===0?(et===_e?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(_e=ch$1(-1,1),_e.tag=2,dh(tt,_e,1))),tt.lanes|=1),et):(et.flags|=65536,et.lanes=nt,et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,tt,rt){_e.child=et===null?Ch$1(_e,null,tt,rt):Bh(_e,et.child,tt,rt)}function Zi(et,_e,tt,rt,nt){tt=tt.render;var it=_e.ref;return Tg(_e,nt),rt=Xh(et,_e,tt,rt,it,nt),tt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$4&&tt&&vg(_e),_e.flags|=1,Yi(et,_e,rt,nt),_e.child)}function aj(et,_e,tt,rt,nt){if(et===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(_e.tag=15,_e.type=it,cj(et,_e,it,rt,nt)):(et=yh(tt.type,null,rt,_e,_e.mode,nt),et.ref=_e.ref,et.return=_e,_e.child=et)}if(it=et.child,(et.lanes&nt)===0){var at=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(at,rt)&&et.ref===_e.ref)return $i(et,_e,nt)}return _e.flags|=1,et=wh(it,rt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,tt,rt,nt){if(et!==null){var it=et.memoizedProps;if(Ie(it,rt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=rt=it,(et.lanes&nt)!==0)(et.flags&131072)!==0&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,nt)}return dj(et,_e,tt,rt,nt)}function ej(et,_e,tt){var rt=_e.pendingProps,nt=rt.children,it=et!==null?et.memoizedState:null;if(rt.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if((tt&1073741824)===0)return et=it!==null?it.baseLanes|tt:tt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=rt}else it!==null?(rt=it.baseLanes|tt,_e.memoizedState=null):rt=tt,G$1(fj,gj),gj|=rt;return Yi(et,_e,nt,tt),_e.child}function hj(et,_e){var tt=_e.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,tt,rt,nt){var it=Zf(tt)?Xf:H$4.current;return it=Yf(_e,it),Tg(_e,nt),tt=Xh(et,_e,tt,rt,it,nt),rt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$4&&rt&&vg(_e),_e.flags|=1,Yi(et,_e,tt,nt),_e.child)}function ij(et,_e,tt,rt,nt){if(Zf(tt)){var it=!0;cg(_e)}else it=!1;if(Tg(_e,nt),_e.stateNode===null)jj(et,_e),ph(_e,tt,rt),rh$1(_e,tt,rt,nt),rt=!0;else if(et===null){var at=_e.stateNode,st=_e.memoizedProps;at.props=st;var ot=at.context,ct=tt.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(tt)?Xf:H$4.current,ct=Yf(_e,ct));var lt=tt.getDerivedStateFromProps,ut=typeof lt=="function"||typeof at.getSnapshotBeforeUpdate=="function";ut||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==rt||ot!==ct)&&qh(_e,at,rt,ct),$g=!1;var dt=_e.memoizedState;at.state=dt,gh(_e,rt,at,nt),ot=_e.memoizedState,st!==rt||dt!==ot||Wf.current||$g?(typeof lt=="function"&&(kh(_e,tt,lt,rt),ot=_e.memoizedState),(st=$g||oh(_e,tt,st,rt,dt,ot,ct))?(ut||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=rt,_e.memoizedState=ot),at.props=rt,at.state=ot,at.context=ct,rt=st):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),rt=!1)}else{at=_e.stateNode,bh(et,_e),st=_e.memoizedProps,ct=_e.type===_e.elementType?st:Lg(_e.type,st),at.props=ct,ut=_e.pendingProps,dt=at.context,ot=tt.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(tt)?Xf:H$4.current,ot=Yf(_e,ot));var mt=tt.getDerivedStateFromProps;(lt=typeof mt=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==ut||dt!==ot)&&qh(_e,at,rt,ot),$g=!1,dt=_e.memoizedState,at.state=dt,gh(_e,rt,at,nt);var gt=_e.memoizedState;st!==ut||dt!==gt||Wf.current||$g?(typeof mt=="function"&&(kh(_e,tt,mt,rt),gt=_e.memoizedState),(ct=$g||oh(_e,tt,ct,rt,dt,gt,ot)||!1)?(lt||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(rt,gt,ot),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(rt,gt,ot)),typeof at.componentDidUpdate=="function"&&(_e.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof at.componentDidUpdate!="function"||st===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=rt,_e.memoizedState=gt),at.props=rt,at.state=gt,at.context=ot,rt=ct):(typeof at.componentDidUpdate!="function"||st===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=1024),rt=!1)}return kj(et,_e,tt,rt,it,nt)}function kj(et,_e,tt,rt,nt,it){hj(et,_e);var at=(_e.flags&128)!==0;if(!rt&&!at)return nt&&dg(_e,tt,!1),$i(et,_e,it);rt=_e.stateNode,Xi.current=_e;var st=at&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return _e.flags|=1,et!==null&&at?(_e.child=Bh(_e,et.child,null,it),_e.child=Bh(_e,null,st,it)):Yi(et,_e,st,it),_e.memoizedState=rt.state,nt&&dg(_e,tt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,tt,rt,nt){return Ig(),Jg(nt),_e.flags|=256,Yi(et,_e,tt,rt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,tt){var rt=_e.pendingProps,nt=M$4.current,it=!1,at=(_e.flags&128)!==0,st;if((st=at)||(st=et!==null&&et.memoizedState===null?!1:(nt&2)!==0),st?(it=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(nt|=1),G$1(M$4,nt&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?((_e.mode&1)===0?_e.lanes=1:et.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(at=rt.children,et=rt.fallback,it?(rt=_e.mode,it=_e.child,at={mode:"hidden",children:at},(rt&1)===0&&it!==null?(it.childLanes=0,it.pendingProps=at):it=qj(at,rt,0,null),et=Ah(et,rt,tt,null),it.return=_e,et.return=_e,it.sibling=et,_e.child=it,_e.child.memoizedState=oj(tt),_e.memoizedState=nj,et):rj(_e,at));if(nt=et.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return sj(et,_e,at,rt,st,nt,tt);if(it){it=rt.fallback,at=_e.mode,nt=et.child,st=nt.sibling;var ot={mode:"hidden",children:rt.children};return(at&1)===0&&_e.child!==nt?(rt=_e.child,rt.childLanes=0,rt.pendingProps=ot,_e.deletions=null):(rt=wh(nt,ot),rt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?it=wh(st,it):(it=Ah(it,at,tt,null),it.flags|=2),it.return=_e,rt.return=_e,rt.sibling=it,_e.child=rt,rt=it,it=_e.child,at=et.child.memoizedState,at=at===null?oj(tt):{baseLanes:at.baseLanes|tt,cachePool:null,transitions:at.transitions},it.memoizedState=at,it.childLanes=et.childLanes&~tt,_e.memoizedState=nj,rt}return it=et.child,et=it.sibling,rt=wh(it,{mode:"visible",children:rt.children}),(_e.mode&1)===0&&(rt.lanes=tt),rt.return=_e,rt.sibling=null,et!==null&&(tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)),_e.child=rt,_e.memoizedState=null,rt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,tt,rt){return rt!==null&&Jg(rt),Bh(_e,et.child,null,tt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,tt,rt,nt,it,at){if(tt)return _e.flags&256?(_e.flags&=-257,rt=Li(Error(p$8(422))),tj(et,_e,at,rt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(it=rt.fallback,nt=_e.mode,rt=qj({mode:"visible",children:rt.children},nt,0,null),it=Ah(it,nt,at,null),it.flags|=2,rt.return=_e,it.return=_e,rt.sibling=it,_e.child=rt,(_e.mode&1)!==0&&Bh(_e,et.child,null,at),_e.child.memoizedState=oj(at),_e.memoizedState=nj,it);if((_e.mode&1)===0)return tj(et,_e,at,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var st=rt.dgst;return rt=st,it=Error(p$8(419)),rt=Li(it,rt,void 0),tj(et,_e,at,rt)}if(st=(at&et.childLanes)!==0,Ug||st){if(rt=R$4,rt!==null){switch(at&-at){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=(nt&(rt.suspendedLanes|at))!==0?0:nt,nt!==0&&nt!==it.retryLane&&(it.retryLane=nt,Zg(et,nt),mh(rt,et,nt,-1))}return uj(),rt=Li(Error(p$8(421))),tj(et,_e,at,rt)}return nt.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),nt._reactRetry=_e,null):(et=it.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$4=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,rt.children),_e.flags|=4096,_e)}function wj(et,_e,tt){et.lanes|=_e;var rt=et.alternate;rt!==null&&(rt.lanes|=_e),Sg(et.return,_e,tt)}function xj(et,_e,tt,rt,nt){var it=et.memoizedState;it===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(it.isBackwards=_e,it.rendering=null,it.renderingStartTime=0,it.last=rt,it.tail=tt,it.tailMode=nt)}function yj(et,_e,tt){var rt=_e.pendingProps,nt=rt.revealOrder,it=rt.tail;if(Yi(et,_e,rt.children,tt),rt=M$4.current,(rt&2)!==0)rt=rt&1|2,_e.flags|=128;else{if(et!==null&&(et.flags&128)!==0)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,tt,_e);else if(et.tag===19)wj(et,tt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}rt&=1}if(G$1(M$4,rt),(_e.mode&1)===0)_e.memoizedState=null;else switch(nt){case"forwards":for(tt=_e.child,nt=null;tt!==null;)et=tt.alternate,et!==null&&Mh(et)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=_e.child,_e.child=null):(nt=tt.sibling,tt.sibling=null),xj(_e,!1,nt,tt,it);break;case"backwards":for(tt=null,nt=_e.child,_e.child=null;nt!==null;){if(et=nt.alternate,et!==null&&Mh(et)===null){_e.child=nt;break}et=nt.sibling,nt.sibling=tt,tt=nt,nt=et}xj(_e,!0,tt,null,it);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){(_e.mode&1)===0&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,tt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,(tt&_e.childLanes)===0)return null;if(et!==null&&_e.child!==et.child)throw Error(p$8(153));if(_e.child!==null){for(et=_e.child,tt=wh(et,et.pendingProps),_e.child=tt,tt.return=_e;et.sibling!==null;)et=et.sibling,tt=tt.sibling=wh(et,et.pendingProps),tt.return=_e;tt.sibling=null}return _e.child}function zj(et,_e,tt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh$1(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var rt=_e.type._context,nt=_e.memoizedProps.value;G$1(Mg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=_e.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(M$4,M$4.current&1),_e.flags|=128,null):(tt&_e.child.childLanes)!==0?pj(et,_e,tt):(G$1(M$4,M$4.current&1),et=$i(et,_e,tt),et!==null?et.sibling:null);G$1(M$4,M$4.current&1);break;case 19:if(rt=(tt&_e.childLanes)!==0,(et.flags&128)!==0){if(rt)return yj(et,_e,tt);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$4,M$4.current),rt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,tt)}return $i(et,_e,tt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var tt=_e.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(et,_e,tt,rt){var nt=et.memoizedProps;if(nt!==rt){et=_e.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":nt=Ya(et,nt),rt=Ya(et,rt),it=[];break;case"select":nt=A$7({},nt,{value:void 0}),rt=A$7({},rt,{value:void 0}),it=[];break;case"textarea":nt=gb(et,nt),rt=gb(et,rt),it=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(et.onclick=Bf)}ub(tt,rt);var at;tt=null;for(ct in nt)if(!rt.hasOwnProperty(ct)&&nt.hasOwnProperty(ct)&&nt[ct]!=null)if(ct==="style"){var st=nt[ct];for(at in st)st.hasOwnProperty(at)&&(tt||(tt={}),tt[at]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?it||(it=[]):(it=it||[]).push(ct,null));for(ct in rt){var ot=rt[ct];if(st=nt!=null?nt[ct]:void 0,rt.hasOwnProperty(ct)&&ot!==st&&(ot!=null||st!=null))if(ct==="style")if(st){for(at in st)!st.hasOwnProperty(at)||ot&&ot.hasOwnProperty(at)||(tt||(tt={}),tt[at]="");for(at in ot)ot.hasOwnProperty(at)&&st[at]!==ot[at]&&(tt||(tt={}),tt[at]=ot[at])}else tt||(it||(it=[]),it.push(ct,tt)),tt=ot;else ct==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,st=st?st.__html:void 0,ot!=null&&st!==ot&&(it=it||[]).push(ct,ot)):ct==="children"?typeof ot!="string"&&typeof ot!="number"||(it=it||[]).push(ct,""+ot):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(ot!=null&&ct==="onScroll"&&D$4("scroll",et),it||st===ot||(it=[])):(it=it||[]).push(ct,ot))}tt&&(it=it||[]).push("style",tt);var ct=it;(_e.updateQueue=ct)&&(_e.flags|=4)}};Dj=function(et,_e,tt,rt){tt!==rt&&(_e.flags|=4)};function Ej(et,_e){if(!I$4)switch(et.tailMode){case"hidden":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:rt.sibling=null}}function S$3(et){var _e=et.alternate!==null&&et.alternate.child===et.child,tt=0,rt=0;if(_e)for(var nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=et,nt=nt.sibling;else for(nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=et,nt=nt.sibling;return et.subtreeFlags|=rt,et.childLanes=tt,_e}function Fj(et,_e,tt){var rt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(_e),null;case 1:return Zf(_e.type)&&$f(),S$3(_e),null;case 3:return rt=_e.stateNode,Jh(),E$5(Wf),E$5(H$4),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$3(_e),null;case 5:Lh(_e);var nt=Hh(Gh.current);if(tt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,tt,rt,nt),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!rt){if(_e.stateNode===null)throw Error(p$8(166));return S$3(_e),null}if(et=Hh(Eh.current),Gg(_e)){rt=_e.stateNode,tt=_e.type;var it=_e.memoizedProps;switch(rt[Of]=_e,rt[Pf]=it,et=(_e.mode&1)!==0,tt){case"dialog":D$4("cancel",rt),D$4("close",rt);break;case"iframe":case"object":case"embed":D$4("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$4(lf[nt],rt);break;case"source":D$4("error",rt);break;case"img":case"image":case"link":D$4("error",rt),D$4("load",rt);break;case"details":D$4("toggle",rt);break;case"input":Za(rt,it),D$4("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!it.multiple},D$4("invalid",rt);break;case"textarea":hb(rt,it),D$4("invalid",rt)}ub(tt,it),nt=null;for(var at in it)if(it.hasOwnProperty(at)){var st=it[at];at==="children"?typeof st=="string"?rt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,st,et),nt=["children",st]):typeof st=="number"&&rt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,st,et),nt=["children",""+st]):ea.hasOwnProperty(at)&&st!=null&&at==="onScroll"&&D$4("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,it,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(rt.onclick=Bf)}rt=nt,_e.updateQueue=rt,rt!==null&&(_e.flags|=4)}else{at=nt.nodeType===9?nt:nt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=at.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof rt.is=="string"?et=at.createElement(tt,{is:rt.is}):(et=at.createElement(tt),tt==="select"&&(at=et,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):et=at.createElementNS(et,tt),et[Of]=_e,et[Pf]=rt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(at=vb(tt,rt),tt){case"dialog":D$4("cancel",et),D$4("close",et),nt=rt;break;case"iframe":case"object":case"embed":D$4("load",et),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$4(lf[nt],et);nt=rt;break;case"source":D$4("error",et),nt=rt;break;case"img":case"image":case"link":D$4("error",et),D$4("load",et),nt=rt;break;case"details":D$4("toggle",et),nt=rt;break;case"input":Za(et,rt),nt=Ya(et,rt),D$4("invalid",et);break;case"option":nt=rt;break;case"select":et._wrapperState={wasMultiple:!!rt.multiple},nt=A$7({},rt,{value:void 0}),D$4("invalid",et);break;case"textarea":hb(et,rt),nt=gb(et,rt),D$4("invalid",et);break;default:nt=rt}ub(tt,nt),st=nt;for(it in st)if(st.hasOwnProperty(it)){var ot=st[it];it==="style"?sb(et,ot):it==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(et,ot)):it==="children"?typeof ot=="string"?(tt!=="textarea"||ot!=="")&&ob(et,ot):typeof ot=="number"&&ob(et,""+ot):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?ot!=null&&it==="onScroll"&&D$4("scroll",et):ot!=null&&ta(et,it,ot,at))}switch(tt){case"input":Va(et),db(et,rt,!1);break;case"textarea":Va(et),jb(et);break;case"option":rt.value!=null&&et.setAttribute("value",""+Sa(rt.value));break;case"select":et.multiple=!!rt.multiple,it=rt.value,it!=null?fb(et,!!rt.multiple,it,!1):rt.defaultValue!=null&&fb(et,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$3(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,rt);else{if(typeof rt!="string"&&_e.stateNode===null)throw Error(p$8(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(rt=_e.stateNode,tt=_e.memoizedProps,rt[Of]=_e,(it=rt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(rt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(et.mode&1)!==0)}it&&(_e.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=_e,_e.stateNode=rt}return S$3(_e),null;case 13:if(E$5(M$4),rt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,it=!1;else if(it=Gg(_e),rt!==null&&rt.dehydrated!==null){if(et===null){if(!it)throw Error(p$8(318));if(it=_e.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$8(317));it[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$3(_e),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=tt,_e):(rt=rt!==null,rt!==(et!==null&&et.memoizedState!==null)&&rt&&(_e.child.flags|=8192,(_e.mode&1)!==0&&(et===null||(M$4.current&1)!==0?T$6===0&&(T$6=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$3(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$3(_e),null;case 10:return Rg(_e.type._context),S$3(_e),null;case 17:return Zf(_e.type)&&$f(),S$3(_e),null;case 19:if(E$5(M$4),it=_e.memoizedState,it===null)return S$3(_e),null;if(rt=(_e.flags&128)!==0,at=it.rendering,at===null)if(rt)Ej(it,!1);else{if(T$6!==0||et!==null&&(et.flags&128)!==0)for(et=_e.child;et!==null;){if(at=Mh(et),at!==null){for(_e.flags|=128,Ej(it,!1),rt=at.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),_e.subtreeFlags=0,rt=tt,tt=_e.child;tt!==null;)it=tt,et=rt,it.flags&=14680066,at=it.alternate,at===null?(it.childLanes=0,it.lanes=et,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=at.childLanes,it.lanes=at.lanes,it.child=at.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=at.memoizedProps,it.memoizedState=at.memoizedState,it.updateQueue=at.updateQueue,it.type=at.type,et=at.dependencies,it.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G$1(M$4,M$4.current&1|2),_e.child}et=et.sibling}it.tail!==null&&B$4()>Hj&&(_e.flags|=128,rt=!0,Ej(it,!1),_e.lanes=4194304)}else{if(!rt)if(et=Mh(at),et!==null){if(_e.flags|=128,rt=!0,tt=et.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!at.alternate&&!I$4)return S$3(_e),null}else 2*B$4()-it.renderingStartTime>Hj&&tt!==1073741824&&(_e.flags|=128,rt=!0,Ej(it,!1),_e.lanes=4194304);it.isBackwards?(at.sibling=_e.child,_e.child=at):(tt=it.last,tt!==null?tt.sibling=at:_e.child=at,it.last=at)}return it.tail!==null?(_e=it.tail,it.rendering=_e,it.tail=_e.sibling,it.renderingStartTime=B$4(),_e.sibling=null,tt=M$4.current,G$1(M$4,rt?tt&1|2:tt&1),_e):(S$3(_e),null);case 22:case 23:return Ij(),rt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==rt&&(_e.flags|=8192),rt&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$3(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$3(_e),null;case 24:return null;case 25:return null}throw Error(p$8(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E$5(Wf),E$5(H$4),Oh(),et=_e.flags,(et&65536)!==0&&(et&128)===0?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$5(M$4),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$8(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E$5(M$4),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(et,_e){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$7(et,_e,rt)}else tt.current=null}function Nj(et,_e,tt){try{tt()}catch(rt){W$7(et,_e,rt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,it=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var at=0,st=-1,ot=-1,ct=0,lt=0,ut=et,dt=null;t:for(;;){for(var mt;ut!==tt||nt!==0&&ut.nodeType!==3||(st=at+nt),ut!==it||rt!==0&&ut.nodeType!==3||(ot=at+rt),ut.nodeType===3&&(at+=ut.nodeValue.length),(mt=ut.firstChild)!==null;)dt=ut,ut=mt;for(;;){if(ut===et)break t;if(dt===tt&&++ct===nt&&(st=at),dt===it&&++lt===rt&&(ot=at),(mt=ut.nextSibling)!==null)break;ut=dt,dt=ut.parentNode}ut=mt}tt=st===-1||ot===-1?null:{start:st,end:ot}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$2=_e;V$2!==null;)if(_e=V$2,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$2=et;else for(;V$2!==null;){_e=V$2;try{var gt=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var bt=gt.memoizedProps,ht=gt.memoizedState,yt=_e.stateNode,wt=yt.getSnapshotBeforeUpdate(_e.elementType===_e.type?bt:Lg(_e.type,bt),ht);yt.__reactInternalSnapshotBeforeUpdate=wt}break;case 3:var xt=_e.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$8(163))}}catch(At){W$7(_e,_e.return,At)}if(et=_e.sibling,et!==null){et.return=_e.return,V$2=et;break}V$2=_e.return}return gt=Oj,Oj=!1,gt}function Qj(et,_e,tt){var rt=_e.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&et)===et){var it=nt.destroy;nt.destroy=void 0,it!==void 0&&Nj(_e,tt,it)}nt=nt.next}while(nt!==rt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&et)===et){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of$1],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.nodeType===8?tt.parentNode.insertBefore(et,_e):tt.insertBefore(et,_e):(tt.nodeType===8?(_e=tt.parentNode,_e.insertBefore(et,tt)):(_e=tt,_e.appendChild(et)),tt=tt._reactRootContainer,tt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(rt!==4&&(et=et.child,et!==null))for(Wj(et,_e,tt),et=et.sibling;et!==null;)Wj(et,_e,tt),et=et.sibling}function Xj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.insertBefore(et,_e):tt.appendChild(et);else if(rt!==4&&(et=et.child,et!==null))for(Xj(et,_e,tt),et=et.sibling;et!==null;)Xj(et,_e,tt),et=et.sibling}var X$1=null,Yj=!1;function Zj(et,_e,tt){for(tt=tt.child;tt!==null;)ak(et,_e,tt),tt=tt.sibling}function ak(et,_e,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Mj(tt,_e);case 6:var rt=X$1,nt=Yj;X$1=null,Zj(et,_e,tt),X$1=rt,Yj=nt,X$1!==null&&(Yj?(et=X$1,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X$1.removeChild(tt.stateNode));break;case 18:X$1!==null&&(Yj?(et=X$1,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X$1,tt.stateNode));break;case 4:rt=X$1,nt=Yj,X$1=tt.stateNode.containerInfo,Yj=!0,Zj(et,_e,tt),X$1=rt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var it=nt,at=it.destroy;it=it.tag,at!==void 0&&((it&2)!==0||(it&4)!==0)&&Nj(tt,_e,at),nt=nt.next}while(nt!==rt)}Zj(et,_e,tt);break;case 1:if(!U$1&&(Mj(tt,_e),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(st){W$7(tt,_e,st)}Zj(et,_e,tt);break;case 21:Zj(et,_e,tt);break;case 22:tt.mode&1?(U$1=(rt=U$1)||tt.memoizedState!==null,Zj(et,_e,tt),U$1=rt):Zj(et,_e,tt);break;default:Zj(et,_e,tt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Lj),_e.forEach(function(rt){var nt=ck.bind(null,et,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function dk(et,_e){var tt=_e.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var it=et,at=_e,st=at;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Yj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$1===null)throw Error(p$8(160));ak(it,at,nt),X$1=null,Yj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(ct){W$7(nt,_e,ct)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var tt=et.alternate,rt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),rt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(bt){W$7(et,et.return,bt)}try{Qj(5,et,et.return)}catch(bt){W$7(et,et.return,bt)}}break;case 1:dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return),et.flags&32){var nt=et.stateNode;try{ob(nt,"")}catch(bt){W$7(et,et.return,bt)}}if(rt&4&&(nt=et.stateNode,nt!=null)){var it=et.memoizedProps,at=tt!==null?tt.memoizedProps:it,st=et.type,ot=et.updateQueue;if(et.updateQueue=null,ot!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(nt,it),vb(st,at);var ct=vb(st,it);for(at=0;at<ot.length;at+=2){var lt=ot[at],ut=ot[at+1];lt==="style"?sb(nt,ut):lt==="dangerouslySetInnerHTML"?nb(nt,ut):lt==="children"?ob(nt,ut):ta(nt,lt,ut,ct)}switch(st){case"input":bb(nt,it);break;case"textarea":ib(nt,it);break;case"select":var dt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!it.multiple;var mt=it.value;mt!=null?fb(nt,!!it.multiple,mt,!1):dt!==!!it.multiple&&(it.defaultValue!=null?fb(nt,!!it.multiple,it.defaultValue,!0):fb(nt,!!it.multiple,it.multiple?[]:"",!1))}nt[Pf]=it}catch(bt){W$7(et,et.return,bt)}}break;case 6:if(dk(_e,et),fk(et),rt&4){if(et.stateNode===null)throw Error(p$8(162));nt=et.stateNode,it=et.memoizedProps;try{nt.nodeValue=it}catch(bt){W$7(et,et.return,bt)}}break;case 3:if(dk(_e,et),fk(et),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(bt){W$7(et,et.return,bt)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),nt=et.child,nt.flags&8192&&(it=nt.memoizedState!==null,nt.stateNode.isHidden=it,!it||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$4())),rt&4&&bk(et);break;case 22:if(lt=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$1=(ct=U$1)||lt,dk(_e,et),U$1=ct):dk(_e,et),fk(et),rt&8192){if(ct=et.memoizedState!==null,(et.stateNode.isHidden=ct)&&!lt&&(et.mode&1)!==0)for(V$2=et,lt=et.child;lt!==null;){for(ut=V$2=lt;V$2!==null;){switch(dt=V$2,mt=dt.child,dt.tag){case 0:case 11:case 14:case 15:Qj(4,dt,dt.return);break;case 1:Mj(dt,dt.return);var gt=dt.stateNode;if(typeof gt.componentWillUnmount=="function"){rt=dt,tt=dt.return;try{_e=rt,gt.props=_e.memoizedProps,gt.state=_e.memoizedState,gt.componentWillUnmount()}catch(bt){W$7(rt,tt,bt)}}break;case 5:Mj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){hk(ut);continue}}mt!==null?(mt.return=dt,V$2=mt):hk(ut)}lt=lt.sibling}e:for(lt=null,ut=et;;){if(ut.tag===5){if(lt===null){lt=ut;try{nt=ut.stateNode,ct?(it=nt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=ut.stateNode,ot=ut.memoizedProps.style,at=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,st.style.display=rb("display",at))}catch(bt){W$7(et,et.return,bt)}}}else if(ut.tag===6){if(lt===null)try{ut.stateNode.nodeValue=ct?"":ut.memoizedProps}catch(bt){W$7(et,et.return,bt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===et)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===et)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===et)break e;lt===ut&&(lt=null),ut=ut.return}lt===ut&&(lt=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:dk(_e,et),fk(et),rt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var tt=et.return;tt!==null;){if(Uj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$8(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var it=Vj(et);Xj(et,it,nt);break;case 3:case 4:var at=rt.stateNode.containerInfo,st=Vj(et);Wj(et,st,at);break;default:throw Error(p$8(161))}}catch(ot){W$7(et,et.return,ot)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,tt){V$2=et,jk(et)}function jk(et,_e,tt){for(var rt=(et.mode&1)!==0;V$2!==null;){var nt=V$2,it=nt.child;if(nt.tag===22&&rt){var at=nt.memoizedState!==null||Kj;if(!at){var st=nt.alternate,ot=st!==null&&st.memoizedState!==null||U$1;st=Kj;var ct=U$1;if(Kj=at,(U$1=ot)&&!ct)for(V$2=nt;V$2!==null;)at=V$2,ot=at.child,at.tag===22&&at.memoizedState!==null?kk(nt):ot!==null?(ot.return=at,V$2=ot):kk(nt);for(;it!==null;)V$2=it,jk(it),it=it.sibling;V$2=nt,Kj=st,U$1=ct}lk(et)}else(nt.subtreeFlags&8772)!==0&&it!==null?(it.return=nt,V$2=it):lk(et)}}function lk(et){for(;V$2!==null;){var _e=V$2;if((_e.flags&8772)!==0){var tt=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var rt=_e.stateNode;if(_e.flags&4&&!U$1)if(tt===null)rt.componentDidMount();else{var nt=_e.elementType===_e.type?tt.memoizedProps:Lg(_e.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var it=_e.updateQueue;it!==null&&ih(_e,it,rt);break;case 3:var at=_e.updateQueue;if(at!==null){if(tt=null,_e.child!==null)switch(_e.child.tag){case 5:tt=_e.child.stateNode;break;case 1:tt=_e.child.stateNode}ih(_e,at,tt)}break;case 5:var st=_e.stateNode;if(tt===null&&_e.flags&4){tt=st;var ot=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&tt.focus();break;case"img":ot.src&&(tt.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ct=_e.alternate;if(ct!==null){var lt=ct.memoizedState;if(lt!==null){var ut=lt.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$8(163))}U$1||_e.flags&512&&Sj(_e)}catch(dt){W$7(_e,_e.return,dt)}}if(_e===et){V$2=null;break}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$2=tt;break}V$2=_e.return}}function hk(et){for(;V$2!==null;){var _e=V$2;if(_e===et){V$2=null;break}var tt=_e.sibling;if(tt!==null){tt.return=_e.return,V$2=tt;break}V$2=_e.return}}function kk(et){for(;V$2!==null;){var _e=V$2;try{switch(_e.tag){case 0:case 11:case 15:var tt=_e.return;try{Rj(4,_e)}catch(ot){W$7(_e,tt,ot)}break;case 1:var rt=_e.stateNode;if(typeof rt.componentDidMount=="function"){var nt=_e.return;try{rt.componentDidMount()}catch(ot){W$7(_e,nt,ot)}}var it=_e.return;try{Sj(_e)}catch(ot){W$7(_e,it,ot)}break;case 5:var at=_e.return;try{Sj(_e)}catch(ot){W$7(_e,at,ot)}}}catch(ot){W$7(_e,_e.return,ot)}if(_e===et){V$2=null;break}var st=_e.sibling;if(st!==null){st.return=_e.return,V$2=st;break}V$2=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$6=0,R$4=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$6=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$4(){return(K$6&6)!==0?B$4():Bk!==-1?Bk:Bk=B$4()}function lh(et){return(et.mode&1)===0?1:(K$6&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$4,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et)}function mh(et,_e,tt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$8(185));Ac(et,tt,rt),((K$6&2)===0||et!==R$4)&&(et===R$4&&((K$6&2)===0&&(rk|=tt),T$6===4&&Dk(et,Z$1)),Ek(et,rt),tt===1&&K$6===0&&(_e.mode&1)===0&&(Hj=B$4()+500,fg&&jg()))}function Ek(et,_e){var tt=et.callbackNode;wc(et,_e);var rt=uc(et,et===R$4?Z$1:0);if(rt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(_e=rt&-rt,et.callbackPriority!==_e){if(tt!=null&&bc(tt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){(K$6&6)===0&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=tt}}function Hk(et,_e){if(Bk=-1,Ck=0,(K$6&6)!==0)throw Error(p$8(327));var tt=et.callbackNode;if(Ik()&&et.callbackNode!==tt)return null;var rt=uc(et,et===R$4?Z$1:0);if(rt===0)return null;if((rt&30)!==0||(rt&et.expiredLanes)!==0||_e)_e=Jk(et,rt);else{_e=rt;var nt=K$6;K$6|=2;var it=Kk();(R$4!==et||Z$1!==_e)&&(vk=null,Hj=B$4()+500,Lk(et,_e));do try{Mk();break}catch(st){Nk(et,st)}while(1);Qg(),nk.current=it,K$6=nt,Y$1!==null?_e=0:(R$4=null,Z$1=0,_e=T$6)}if(_e!==0){if(_e===2&&(nt=xc(et),nt!==0&&(rt=nt,_e=Ok(et,nt))),_e===1)throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$4()),tt;if(_e===6)Dk(et,rt);else{if(nt=et.current.alternate,(rt&30)===0&&!Pk(nt)&&(_e=Jk(et,rt),_e===2&&(it=xc(et),it!==0&&(rt=it,_e=Ok(et,it))),_e===1))throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$4()),tt;switch(et.finishedWork=nt,et.finishedLanes=rt,_e){case 0:case 1:throw Error(p$8(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,rt),(rt&130023424)===rt&&(_e=gk+500-B$4(),10<_e)){if(uc(et,0)!==0)break;if(nt=et.suspendedLanes,(nt&rt)!==rt){L$4(),et.pingedLanes|=et.suspendedLanes&nt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,rt),(rt&4194240)===rt)break;for(_e=et.eventTimes,nt=-1;0<rt;){var at=31-oc(rt);it=1<<at,at=_e[at],at>nt&&(nt=at),rt&=~it}if(rt=nt,rt=B$4()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),rt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$8(329))}}}return Ek(et,B$4()),et.callbackNode===tt?Hk.bind(null,et):null}function Ok(et,_e){var tt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=tt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var tt=_e.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.getSnapshot;nt=nt.value;try{if(!He(it(),nt))return!1}catch{return!1}}}if(tt=_e.child,_e.subtreeFlags&16384&&tt!==null)tt.return=_e,_e=tt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var tt=31-oc(_e),rt=1<<tt;et[tt]=-1,_e&=~rt}}function Fk(et){if((K$6&6)!==0)throw Error(p$8(327));Ik();var _e=uc(et,0);if((_e&1)===0)return Ek(et,B$4()),null;var tt=Jk(et,_e);if(et.tag!==0&&tt===2){var rt=xc(et);rt!==0&&(_e=rt,tt=Ok(et,rt))}if(tt===1)throw tt=qk,Lk(et,0),Dk(et,_e),Ek(et,B$4()),tt;if(tt===6)throw Error(p$8(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B$4()),null}function Rk(et,_e){var tt=K$6;K$6|=1;try{return et(_e)}finally{K$6=tt,K$6===0&&(Hj=B$4()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&(K$6&6)===0&&Ik();var _e=K$6;K$6|=1;var tt=pk.transition,rt=C$4;try{if(pk.transition=null,C$4=1,et)return et()}finally{C$4=rt,pk.transition=tt,K$6=_e,(K$6&6)===0&&jg()}}function Ij(){gj=fj.current,E$5(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$5(Wf),E$5(H$4),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$5(M$4);break;case 19:E$5(M$4);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$4=et,Y$1=et=wh(et.current,null),Z$1=gj=_e,T$6=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(tt=Wg[_e],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,it=tt.pending;if(it!==null){var at=it.next;it.next=nt,rt.next=at}tt.pending=rt}Wg=null}return et}function Nk(et,_e){do{var tt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$5.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$5=O$3=N$5=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$6=1,qk=_e,Y$1=null;break}e:{var it=et,at=tt.return,st=tt,ot=_e;if(_e=Z$1,st.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var ct=ot,lt=st,ut=lt.tag;if((lt.mode&1)===0&&(ut===0||ut===11||ut===15)){var dt=lt.alternate;dt?(lt.updateQueue=dt.updateQueue,lt.memoizedState=dt.memoizedState,lt.lanes=dt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var mt=Vi(at);if(mt!==null){mt.flags&=-257,Wi(mt,at,st,it,_e),mt.mode&1&&Ti(it,ct,_e),_e=mt,ot=ct;var gt=_e.updateQueue;if(gt===null){var bt=new Set;bt.add(ot),_e.updateQueue=bt}else gt.add(ot);break e}else{if((_e&1)===0){Ti(it,ct,_e),uj();break e}ot=Error(p$8(426))}}else if(I$4&&st.mode&1){var ht=Vi(at);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Wi(ht,at,st,it,_e),Jg(Ki(ot,st));break e}}it=ot=Ki(ot,st),T$6!==4&&(T$6=2),tk===null?tk=[it]:tk.push(it),it=at;do{switch(it.tag){case 3:it.flags|=65536,_e&=-_e,it.lanes|=_e;var yt=Oi(it,ot,_e);fh(it,yt);break e;case 1:st=ot;var wt=it.type,xt=it.stateNode;if((it.flags&128)===0&&(typeof wt.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Si===null||!Si.has(xt)))){it.flags|=65536,_e&=-_e,it.lanes|=_e;var At=Ri(it,st,_e);fh(it,At);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(kt){_e=kt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$6===0||T$6===3||T$6===2)&&(T$6=4),R$4===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$4,Z$1)}function Jk(et,_e){var tt=K$6;K$6|=2;var rt=Kk();(R$4!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(nt){Nk(et,nt)}while(1);if(Qg(),K$6=tt,nk.current=rt,Y$1!==null)throw Error(p$8(261));return R$4=null,Z$1=0,T$6}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$1=_e,ok.current=null}function Tk(et){var _e=et;do{var tt=_e.alternate;if(et=_e.return,(_e.flags&32768)===0){if(tt=Fj(tt,_e,gj),tt!==null){Y$1=tt;return}}else{if(tt=Jj(tt,_e),tt!==null){tt.flags&=32767,Y$1=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$6=6,Y$1=null;return}}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=et}while(_e!==null);T$6===0&&(T$6=5)}function Qk(et,_e,tt){var rt=C$4,nt=pk.transition;try{pk.transition=null,C$4=1,Xk(et,_e,tt,rt)}finally{pk.transition=nt,C$4=rt}return null}function Xk(et,_e,tt,rt){do Ik();while(xk!==null);if((K$6&6)!==0)throw Error(p$8(327));tt=et.finishedWork;var nt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$8(177));et.callbackNode=null,et.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(et,it),et===R$4&&(Y$1=R$4=null,Z$1=0),(tt.subtreeFlags&2064)===0&&(tt.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,(tt.subtreeFlags&15990)!==0||it){it=pk.transition,pk.transition=null;var at=C$4;C$4=1;var st=K$6;K$6|=4,ok.current=null,Pj(et,tt),ek(tt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=tt,ik(tt),dc(),K$6=st,C$4=at,pk.transition=it}else et.current=tt;if(wk&&(wk=!1,xk=et,yk=nt),it=et.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(et,B$4()),_e!==null)for(rt=et.onRecoverableError,tt=0;tt<_e.length;tt++)nt=_e[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return(yk&1)!==0&&et.tag!==0&&Ik(),it=et.pendingLanes,(it&1)!==0?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,tt=C$4;try{if(pk.transition=null,C$4=16>et?16:et,xk===null)var rt=!1;else{if(et=xk,xk=null,yk=0,(K$6&6)!==0)throw Error(p$8(331));var nt=K$6;for(K$6|=4,V$2=et.current;V$2!==null;){var it=V$2,at=it.child;if((V$2.flags&16)!==0){var st=it.deletions;if(st!==null){for(var ot=0;ot<st.length;ot++){var ct=st[ot];for(V$2=ct;V$2!==null;){var lt=V$2;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,it)}var ut=lt.child;if(ut!==null)ut.return=lt,V$2=ut;else for(;V$2!==null;){lt=V$2;var dt=lt.sibling,mt=lt.return;if(Tj(lt),lt===ct){V$2=null;break}if(dt!==null){dt.return=mt,V$2=dt;break}V$2=mt}}}var gt=it.alternate;if(gt!==null){var bt=gt.child;if(bt!==null){gt.child=null;do{var ht=bt.sibling;bt.sibling=null,bt=ht}while(bt!==null)}}V$2=it}}if((it.subtreeFlags&2064)!==0&&at!==null)at.return=it,V$2=at;else e:for(;V$2!==null;){if(it=V$2,(it.flags&2048)!==0)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var yt=it.sibling;if(yt!==null){yt.return=it.return,V$2=yt;break e}V$2=it.return}}var wt=et.current;for(V$2=wt;V$2!==null;){at=V$2;var xt=at.child;if((at.subtreeFlags&2064)!==0&&xt!==null)xt.return=at,V$2=xt;else e:for(at=wt;V$2!==null;){if(st=V$2,(st.flags&2048)!==0)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(kt){W$7(st,st.return,kt)}if(st===at){V$2=null;break e}var At=st.sibling;if(At!==null){At.return=st.return,V$2=At;break e}V$2=st.return}}if(K$6=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}rt=!0}return rt}finally{C$4=tt,pk.transition=_e}}return!1}function Yk(et,_e,tt){_e=Ki(tt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L$4(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$7(et,_e,tt){if(et.tag===3)Yk(et,et,tt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,tt);break}else if(_e.tag===1){var rt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){et=Ki(tt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L$4(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,tt){var rt=et.pingCache;rt!==null&&rt.delete(_e),_e=L$4(),et.pingedLanes|=et.suspendedLanes&tt,R$4===et&&(Z$1&tt)===tt&&(T$6===4||T$6===3&&(Z$1&130023424)===Z$1&&500>B$4()-gk?Lk(et,0):sk|=tt),Ek(et,_e)}function Zk(et,_e){_e===0&&((et.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var tt=L$4();et=Zg(et,_e),et!==null&&(Ac(et,_e,tt),Ek(et,tt))}function vj(et){var _e=et.memoizedState,tt=0;_e!==null&&(tt=_e.retryLane),Zk(et,tt)}function ck(et,_e){var tt=0;switch(et.tag){case 13:var rt=et.stateNode,nt=et.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=et.stateNode;break;default:throw Error(p$8(314))}rt!==null&&rt.delete(_e),Zk(et,tt)}var Wk;Wk=function(et,_e,tt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if((et.lanes&tt)===0&&(_e.flags&128)===0)return Ug=!1,zj(et,_e,tt);Ug=(et.flags&131072)!==0}else Ug=!1,I$4&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var rt=_e.type;jj(et,_e),et=_e.pendingProps;var nt=Yf(_e,H$4.current);Tg(_e,tt),nt=Xh(null,_e,rt,et,nt,tt);var it=bi();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(rt)?(it=!0,cg(_e)):it=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_e),nt.updater=nh,_e.stateNode=nt,nt._reactInternals=_e,rh$1(_e,rt,et,tt),_e=kj(null,_e,rt,!0,it,tt)):(_e.tag=0,I$4&&it&&vg(_e),Yi(null,_e,nt,tt),_e=_e.child),_e;case 16:rt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,nt=rt._init,rt=nt(rt._payload),_e.type=rt,nt=_e.tag=$k(rt),et=Lg(rt,et),nt){case 0:_e=dj(null,_e,rt,et,tt);break e;case 1:_e=ij(null,_e,rt,et,tt);break e;case 11:_e=Zi(null,_e,rt,et,tt);break e;case 14:_e=aj(null,_e,rt,Lg(rt.type,et),tt);break e}throw Error(p$8(306,rt,""))}return _e;case 0:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),dj(et,_e,rt,nt,tt);case 1:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),ij(et,_e,rt,nt,tt);case 3:e:{if(lj(_e),et===null)throw Error(p$8(387));rt=_e.pendingProps,it=_e.memoizedState,nt=it.element,bh(et,_e),gh(_e,rt,null,tt);var at=_e.memoizedState;if(rt=at.element,it.isDehydrated)if(it={element:rt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},_e.updateQueue.baseState=it,_e.memoizedState=it,_e.flags&256){nt=Ki(Error(p$8(423)),_e),_e=mj(et,_e,rt,tt,nt);break e}else if(rt!==nt){nt=Ki(Error(p$8(424)),_e),_e=mj(et,_e,rt,tt,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$4=!0,zg=null,tt=Ch$1(_e,null,rt,tt),_e.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){_e=$i(et,_e,tt);break e}Yi(et,_e,rt,tt)}_e=_e.child}return _e;case 5:return Kh$1(_e),et===null&&Eg(_e),rt=_e.type,nt=_e.pendingProps,it=et!==null?et.memoizedProps:null,at=nt.children,Ef(rt,nt)?at=null:it!==null&&Ef(rt,it)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,at,tt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,tt);case 4:return Ih(_e,_e.stateNode.containerInfo),rt=_e.pendingProps,et===null?_e.child=Bh(_e,null,rt,tt):Yi(et,_e,rt,tt),_e.child;case 11:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),Zi(et,_e,rt,nt,tt);case 7:return Yi(et,_e,_e.pendingProps,tt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 10:e:{if(rt=_e.type._context,nt=_e.pendingProps,it=_e.memoizedProps,at=nt.value,G$1(Mg,rt._currentValue),rt._currentValue=at,it!==null)if(He(it.value,at)){if(it.children===nt.children&&!Wf.current){_e=$i(et,_e,tt);break e}}else for(it=_e.child,it!==null&&(it.return=_e);it!==null;){var st=it.dependencies;if(st!==null){at=it.child;for(var ot=st.firstContext;ot!==null;){if(ot.context===rt){if(it.tag===1){ot=ch$1(-1,tt&-tt),ot.tag=2;var ct=it.updateQueue;if(ct!==null){ct=ct.shared;var lt=ct.pending;lt===null?ot.next=ot:(ot.next=lt.next,lt.next=ot),ct.pending=ot}}it.lanes|=tt,ot=it.alternate,ot!==null&&(ot.lanes|=tt),Sg(it.return,tt,_e),st.lanes|=tt;break}ot=ot.next}}else if(it.tag===10)at=it.type===_e.type?null:it.child;else if(it.tag===18){if(at=it.return,at===null)throw Error(p$8(341));at.lanes|=tt,st=at.alternate,st!==null&&(st.lanes|=tt),Sg(at,tt,_e),at=it.sibling}else at=it.child;if(at!==null)at.return=it;else for(at=it;at!==null;){if(at===_e){at=null;break}if(it=at.sibling,it!==null){it.return=at.return,at=it;break}at=at.return}it=at}Yi(et,_e,nt.children,tt),_e=_e.child}return _e;case 9:return nt=_e.type,rt=_e.pendingProps.children,Tg(_e,tt),nt=Vg(nt),rt=rt(nt),_e.flags|=1,Yi(et,_e,rt,tt),_e.child;case 14:return rt=_e.type,nt=Lg(rt,_e.pendingProps),nt=Lg(rt.type,nt),aj(et,_e,rt,nt,tt);case 15:return cj(et,_e,_e.type,_e.pendingProps,tt);case 17:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),jj(et,_e),_e.tag=1,Zf(rt)?(et=!0,cg(_e)):et=!1,Tg(_e,tt),ph(_e,rt,nt),rh$1(_e,rt,nt,tt),kj(null,_e,rt,!0,et,tt);case 19:return yj(et,_e,tt);case 22:return ej(et,_e,tt)}throw Error(p$8(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,tt,rt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,tt,rt){return new al(et,_e,tt,rt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,_e,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=_e,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,_e=et.dependencies,tt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function yh(et,_e,tt,rt,nt,it){var at=2;if(rt=et,typeof et=="function")bj(et)&&(at=1);else if(typeof et=="string")at=5;else e:switch(et){case ya:return Ah(tt.children,nt,it,_e);case za:at=8,nt|=8;break;case Aa:return et=Bg(12,tt,_e,nt|2),et.elementType=Aa,et.lanes=it,et;case Ea:return et=Bg(13,tt,_e,nt),et.elementType=Ea,et.lanes=it,et;case Fa:return et=Bg(19,tt,_e,nt),et.elementType=Fa,et.lanes=it,et;case Ia:return qj(tt,nt,it,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,rt=null;break e}throw Error(p$8(130,et==null?et:typeof et,""))}return _e=Bg(at,tt,_e,nt),_e.elementType=et,_e.type=rt,_e.lanes=it,_e}function Ah(et,_e,tt,rt){return et=Bg(7,et,rt,_e),et.lanes=tt,et}function qj(et,_e,tt,rt){return et=Bg(22,et,rt,_e),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function xh(et,_e,tt){return et=Bg(6,et,null,_e),et.lanes=tt,et}function zh$1(et,_e,tt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=tt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,tt,rt,nt){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(et,_e,tt,rt,nt,it,at,st,ot){return et=new bl(et,_e,tt,st,ot),_e===1?(_e=1,it===!0&&(_e|=8)):_e=0,it=Bg(3,null,null,_e),et.current=it,it.stateNode=et,it.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),et}function dl(et,_e,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:et,containerInfo:_e,implementation:tt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$8(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$8(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,_e)}return _e}function fl(et,_e,tt,rt,nt,it,at,st,ot){return et=cl(tt,rt,!0,et,nt,it,at,st,ot),et.context=el(null),tt=et.current,rt=L$4(),nt=lh(tt),it=ch$1(rt,nt),it.callback=_e!=null?_e:null,dh(tt,it,nt),et.current.lanes=nt,Ac(et,nt,rt),Ek(et,rt),et}function gl(et,_e,tt,rt){var nt=_e.current,it=L$4(),at=lh(nt);return tt=el(tt),_e.context===null?_e.context=tt:_e.pendingContext=tt,_e=ch$1(it,at),_e.payload={element:et},rt=rt===void 0?null:rt,rt!==null&&(_e.callback=rt),et=dh(nt,_e,at),et!==null&&(mh(et,nt,at,it),eh(et,nt,at)),at}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<_e?tt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$8(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var tt=0;tt<Qc.length&&_e!==0&&_e<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,tt,rt,nt){if(nt){if(typeof rt=="function"){var it=rt;rt=function(){var ct=hl(at);it.call(ct)}}var at=fl(_e,rt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=at,et[uf]=at.current,sf(et.nodeType===8?et.parentNode:et),Sk(),at}for(;nt=et.lastChild;)et.removeChild(nt);if(typeof rt=="function"){var st=rt;rt=function(){var ct=hl(ot);st.call(ct)}}var ot=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,ot,tt,rt)}),ot}function sl(et,_e,tt,rt,nt){var it=tt._reactRootContainer;if(it){var at=it;if(typeof nt=="function"){var st=nt;nt=function(){var ot=hl(at);st.call(ot)}}gl(_e,at,et,nt)}else at=rl(tt,_e,et,nt,rt);return hl(at)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var tt=tc(_e.pendingLanes);tt!==0&&(Cc(_e,tt|1),Ek(_e,B$4()),(K$6&6)===0&&(Hj=B$4()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(et,1);if(rt!==null){var nt=L$4();mh(rt,et,1,nt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var tt=L$4();mh(_e,et,134217728,tt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),tt=Zg(et,_e);if(tt!==null){var rt=L$4();mh(tt,et,_e,rt)}jl(et,_e)}};Hc=function(){return C$4};Ic=function(et,_e){var tt=C$4;try{return C$4=et,_e()}finally{C$4=tt}};yb=function(et,_e,tt){switch(_e){case"input":if(bb(et,tt),_e=tt.name,tt.type==="radio"&&_e!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<tt.length;_e++){var rt=tt[_e];if(rt!==et&&rt.form===et.form){var nt=Db(rt);if(!nt)throw Error(p$8(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(et,tt);break;case"select":_e=tt.value,_e!=null&&fb(et,!!tt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$8(200));return dl(et,_e,null,tt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$8(299));var tt=!1,rt="",nt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,tt,!1,rt,nt),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$8(188)):(et=Object.keys(et).join(","),Error(p$8(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,tt){if(!pl(_e))throw Error(p$8(200));return sl(null,et,_e,!0,tt)};reactDom_production_min.hydrateRoot=function(et,_e,tt){if(!ol(et))throw Error(p$8(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,it="",at=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),_e=fl(_e,null,et,1,tt!=null?tt:null,nt,!1,it,at),et[uf]=_e.current,sf(et),rt)for(et=0;et<rt.length;et++)tt=rt[et],nt=tt._getVersion,nt=nt(tt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[tt,nt]:_e.mutableSourceEagerHydrationData.push(tt,nt);return new nl(_e)};reactDom_production_min.render=function(et,_e,tt){if(!pl(_e))throw Error(p$8(200));return sl(null,et,_e,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$8(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,tt,rt){if(!pl(tt))throw Error(p$8(200));if(et==null||et._reactInternals===void 0)throw Error(p$8(38));return sl(et,_e,tt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(et){function _e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_e)}catch(tt){console.error(tt)}}_e(),et.exports=reactDom_production_min})(reactDom);var createRoot,m$8=reactDom.exports;createRoot=m$8.createRoot,m$8.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$2.apply(this,arguments)}var Action$1;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function _e(rt,nt){let{pathname:it,search:at,hash:st}=rt.location;return createLocation("",{pathname:it,search:at,hash:st},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function tt(rt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(_e,tt,null,et)}function invariant$1(et,_e){if(et===!1||et===null||typeof et>"u")throw new Error(_e)}function warning(et,_e){if(!et){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,_e){return{usr:et.state,key:et.key,idx:_e}}function createLocation(et,_e,tt,rt){return tt===void 0&&(tt=null),_extends$2({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:tt,key:_e&&_e.key||rt||createKey()})}function createPath(et){let{pathname:_e="/",search:tt="",hash:rt=""}=et;return tt&&tt!=="?"&&(_e+=tt.charAt(0)==="?"?tt:"?"+tt),rt&&rt!=="#"&&(_e+=rt.charAt(0)==="#"?rt:"#"+rt),_e}function parsePath(et){let _e={};if(et){let tt=et.indexOf("#");tt>=0&&(_e.hash=et.substr(tt),et=et.substr(0,tt));let rt=et.indexOf("?");rt>=0&&(_e.search=et.substr(rt),et=et.substr(0,rt)),et&&(_e.pathname=et)}return _e}function getUrlBasedHistory(et,_e,tt,rt){rt===void 0&&(rt={});let{window:nt=document.defaultView,v5Compat:it=!1}=rt,at=nt.history,st=Action$1.Pop,ot=null,ct=lt();ct==null&&(ct=0,at.replaceState(_extends$2({},at.state,{idx:ct}),""));function lt(){return(at.state||{idx:null}).idx}function ut(){st=Action$1.Pop;let ht=lt(),yt=ht==null?null:ht-ct;ct=ht,ot&&ot({action:st,location:bt.location,delta:yt})}function dt(ht,yt){st=Action$1.Push;let wt=createLocation(bt.location,ht,yt);tt&&tt(wt,ht),ct=lt()+1;let xt=getHistoryState(wt,ct),At=bt.createHref(wt);try{at.pushState(xt,"",At)}catch{nt.location.assign(At)}it&&ot&&ot({action:st,location:bt.location,delta:1})}function mt(ht,yt){st=Action$1.Replace;let wt=createLocation(bt.location,ht,yt);tt&&tt(wt,ht),ct=lt();let xt=getHistoryState(wt,ct),At=bt.createHref(wt);at.replaceState(xt,"",At),it&&ot&&ot({action:st,location:bt.location,delta:0})}function gt(ht){let yt=nt.location.origin!=="null"?nt.location.origin:nt.location.href,wt=typeof ht=="string"?ht:createPath(ht);return invariant$1(yt,"No window.location.(origin|href) available to create URL for href: "+wt),new URL(wt,yt)}let bt={get action(){return st},get location(){return et(nt,at)},listen(ht){if(ot)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,ut),ot=ht,()=>{nt.removeEventListener(PopStateEventType,ut),ot=null}},createHref(ht){return _e(nt,ht)},createURL:gt,encodeLocation(ht){let yt=gt(ht);return{pathname:yt.pathname,search:yt.search,hash:yt.hash}},push:dt,replace:mt,go(ht){return at.go(ht)}};return bt}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,_e,tt){tt===void 0&&(tt="/");let rt=typeof _e=="string"?parsePath(_e):_e,nt=stripBasename(rt.pathname||"/",tt);if(nt==null)return null;let it=flattenRoutes(et);rankRouteBranches(it);let at=null;for(let st=0;at==null&&st<it.length;++st)at=matchRouteBranch(it[st],safelyDecodeURI(nt));return at}function flattenRoutes(et,_e,tt,rt){_e===void 0&&(_e=[]),tt===void 0&&(tt=[]),rt===void 0&&(rt="");let nt=(it,at,st)=>{let ot={relativePath:st===void 0?it.path||"":st,caseSensitive:it.caseSensitive===!0,childrenIndex:at,route:it};ot.relativePath.startsWith("/")&&(invariant$1(ot.relativePath.startsWith(rt),'Absolute route path "'+ot.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ot.relativePath=ot.relativePath.slice(rt.length));let ct=joinPaths([rt,ot.relativePath]),lt=tt.concat(ot);it.children&&it.children.length>0&&(invariant$1(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(it.children,_e,lt,ct)),!(it.path==null&&!it.index)&&_e.push({path:ct,score:computeScore(ct,it.index),routesMeta:lt})};return et.forEach((it,at)=>{var st;if(it.path===""||!((st=it.path)!=null&&st.includes("?")))nt(it,at);else for(let ot of explodeOptionalSegments(it.path))nt(it,at,ot)}),_e}function explodeOptionalSegments(et){let _e=et.split("/");if(_e.length===0)return[];let[tt,...rt]=_e,nt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(rt.length===0)return nt?[it,""]:[it];let at=explodeOptionalSegments(rt.join("/")),st=[];return st.push(...at.map(ot=>ot===""?it:[it,ot].join("/"))),nt&&st.push(...at),st.map(ot=>et.startsWith("/")&&ot===""?"/":ot)}function rankRouteBranches(et){et.sort((_e,tt)=>_e.score!==tt.score?tt.score-_e.score:compareIndexes(_e.routesMeta.map(rt=>rt.childrenIndex),tt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,_e){let tt=et.split("/"),rt=tt.length;return tt.some(isSplat)&&(rt+=splatPenalty),_e&&(rt+=indexRouteValue),tt.filter(nt=>!isSplat(nt)).reduce((nt,it)=>nt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(et,_e){return et.length===_e.length&&et.slice(0,-1).every((rt,nt)=>rt===_e[nt])?et[et.length-1]-_e[_e.length-1]:0}function matchRouteBranch(et,_e){let{routesMeta:tt}=et,rt={},nt="/",it=[];for(let at=0;at<tt.length;++at){let st=tt[at],ot=at===tt.length-1,ct=nt==="/"?_e:_e.slice(nt.length)||"/",lt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:ot},ct);if(!lt)return null;Object.assign(rt,lt.params);let ut=st.route;it.push({params:rt,pathname:joinPaths([nt,lt.pathname]),pathnameBase:normalizePathname(joinPaths([nt,lt.pathnameBase])),route:ut}),lt.pathnameBase!=="/"&&(nt=joinPaths([nt,lt.pathnameBase]))}return it}function matchPath(et,_e){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[tt,rt]=compilePath(et.path,et.caseSensitive,et.end),nt=_e.match(tt);if(!nt)return null;let it=nt[0],at=it.replace(/(.)\/+$/,"$1"),st=nt.slice(1);return{params:rt.reduce((ct,lt,ut)=>{if(lt==="*"){let dt=st[ut]||"";at=it.slice(0,it.length-dt.length).replace(/(.)\/+$/,"$1")}return ct[lt]=safelyDecodeURIComponent(st[ut]||"",lt),ct},{}),pathname:it,pathnameBase:at,pattern:et}}function compilePath(et,_e,tt){_e===void 0&&(_e=!1),tt===void 0&&(tt=!0),warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let rt=[],nt="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(at,st)=>(rt.push(st),"/([^\\/]+)"));return et.endsWith("*")?(rt.push("*"),nt+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?nt+="\\/*$":et!==""&&et!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,_e?void 0:"i"),rt]}function safelyDecodeURI(et){try{return decodeURI(et)}catch(_e){return warning(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),et}}function safelyDecodeURIComponent(et,_e){try{return decodeURIComponent(et)}catch(tt){return warning(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+et+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tt+").")),et}}function stripBasename(et,_e){if(_e==="/")return et;if(!et.toLowerCase().startsWith(_e.toLowerCase()))return null;let tt=_e.endsWith("/")?_e.length-1:_e.length,rt=et.charAt(tt);return rt&&rt!=="/"?null:et.slice(tt)||"/"}function resolvePath(et,_e){_e===void 0&&(_e="/");let{pathname:tt,search:rt="",hash:nt=""}=typeof et=="string"?parsePath(et):et;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,_e):_e,search:normalizeSearch(rt),hash:normalizeHash(nt)}}function resolvePathname(et,_e){let tt=_e.replace(/\/+$/,"").split("/");return et.split("/").forEach(nt=>{nt===".."?tt.length>1&&tt.pop():nt!=="."&&tt.push(nt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(et,_e,tt,rt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(rt)+"].  Please separate it out to the ")+("`to."+tt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((_e,tt)=>tt===0||_e.route.path&&_e.route.path.length>0)}function resolveTo(et,_e,tt,rt){rt===void 0&&(rt=!1);let nt;typeof et=="string"?nt=parsePath(et):(nt=_extends$2({},et),invariant$1(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant$1(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant$1(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let it=et===""||nt.pathname==="",at=it?"/":nt.pathname,st;if(rt||at==null)st=tt;else{let ut=_e.length-1;if(at.startsWith("..")){let dt=at.split("/");for(;dt[0]==="..";)dt.shift(),ut-=1;nt.pathname=dt.join("/")}st=ut>=0?_e[ut]:"/"}let ot=resolvePath(nt,st),ct=at&&at!=="/"&&at.endsWith("/"),lt=(it||at===".")&&tt.endsWith("/");return!ot.pathname.endsWith("/")&&(ct||lt)&&(ot.pathname+="/"),ot}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=react.exports,k$7=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$4=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$7(et,_e,tt){var rt,nt={},it=null,at=null;tt!==void 0&&(it=""+tt),_e.key!==void 0&&(it=""+_e.key),_e.ref!==void 0&&(at=_e.ref);for(rt in _e)m$7.call(_e,rt)&&!p$7.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);if(et&&et.defaultProps)for(rt in _e=et.defaultProps,_e)nt[rt]===void 0&&(nt[rt]=_e[rt]);return{$$typeof:k$7,type:et,key:it,ref:at,props:nt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$7;reactJsxRuntime_production_min.jsxs=q$7;(function(et){et.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment$1=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function isPolyfill(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$2;function useSyncExternalStore$2(et,_e,tt){const rt=_e(),[{inst:nt},it]=useState({inst:{value:rt,getSnapshot:_e}});return useLayoutEffect(()=>{nt.value=rt,nt.getSnapshot=_e,checkIfSnapshotChanged(nt)&&it({inst:nt})},[et,rt,_e]),useEffect(()=>(checkIfSnapshotChanged(nt)&&it({inst:nt}),et(()=>{checkIfSnapshotChanged(nt)&&it({inst:nt})})),[et]),useDebugValue(rt),rt}function checkIfSnapshotChanged(et){const _e=et.getSnapshot,tt=et.value;try{const rt=_e();return!is(tt,rt)}catch{return!0}}function useSyncExternalStore$1(et,_e,tt){return _e()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim$1=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$2&&(et=>et.useSyncExternalStore)(React$2);const DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$1.apply(this,arguments)}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:et,navigator:_e}=react.exports.useContext(NavigationContext),{matches:tt}=react.exports.useContext(RouteContext),{pathname:rt}=useLocation(),nt=JSON.stringify(getPathContributingMatches(tt).map(st=>st.pathnameBase)),it=react.exports.useRef(!1);return react.exports.useEffect(()=>{it.current=!0}),react.exports.useCallback(function(st,ot){if(ot===void 0&&(ot={}),!it.current)return;if(typeof st=="number"){_e.go(st);return}let ct=resolveTo(st,JSON.parse(nt),rt,ot.relative==="path");et!=="/"&&(ct.pathname=ct.pathname==="/"?et:joinPaths([et,ct.pathname])),(ot.replace?_e.replace:_e.push)(ct,ot.state,ot)},[et,_e,nt,rt])}function useParams(){let{matches:et}=react.exports.useContext(RouteContext),_e=et[et.length-1];return _e?_e.params:{}}function useRoutes(et,_e){useInRouterContext()||invariant$1(!1);let{navigator:tt}=react.exports.useContext(NavigationContext),rt=react.exports.useContext(DataRouterStateContext),{matches:nt}=react.exports.useContext(RouteContext),it=nt[nt.length-1],at=it?it.params:{};it&&it.pathname;let st=it?it.pathnameBase:"/";it&&it.route;let ot=useLocation(),ct;if(_e){var lt;let bt=typeof _e=="string"?parsePath(_e):_e;st==="/"||((lt=bt.pathname)==null?void 0:lt.startsWith(st))||invariant$1(!1),ct=bt}else ct=ot;let ut=ct.pathname||"/",dt=st==="/"?ut:ut.slice(st.length)||"/",mt=matchRoutes(et,{pathname:dt}),gt=_renderMatches(mt&&mt.map(bt=>Object.assign({},bt,{params:Object.assign({},at,bt.params),pathname:joinPaths([st,tt.encodeLocation?tt.encodeLocation(bt.pathname).pathname:bt.pathname]),pathnameBase:bt.pathnameBase==="/"?st:joinPaths([st,tt.encodeLocation?tt.encodeLocation(bt.pathnameBase).pathname:bt.pathnameBase])})),nt,rt||void 0);return _e&&gt?jsx(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},ct),navigationType:Action$1.Pop},children:gt}):gt}function DefaultErrorComponent(){let et=useRouteError(),_e=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),tt=et instanceof Error?et.stack:null;return jsxs(Fragment$1,{children:[jsx("h2",{children:"Unexpected Application Error!"}),jsx("h3",{style:{fontStyle:"italic"},children:_e}),tt?jsx("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:tt}):null,null]})}class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,tt){return tt.location!==_e.location?{error:_e.error,location:_e.location}:{error:_e.error||tt.error,location:tt.location}}componentDidCatch(_e,tt){console.error("React Router caught the following error during render",_e,tt)}render(){return this.state.error?jsx(RouteContext.Provider,{value:this.props.routeContext,children:jsx(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function RenderedRoute(et){let{routeContext:_e,match:tt,children:rt}=et,nt=react.exports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=tt.route.id),jsx(RouteContext.Provider,{value:_e,children:rt})}function _renderMatches(et,_e,tt){if(_e===void 0&&(_e=[]),et==null)if(tt!=null&&tt.errors)et=tt.matches;else return null;let rt=et,nt=tt==null?void 0:tt.errors;if(nt!=null){let it=rt.findIndex(at=>at.route.id&&(nt==null?void 0:nt[at.route.id]));it>=0||invariant$1(!1),rt=rt.slice(0,Math.min(rt.length,it+1))}return rt.reduceRight((it,at,st)=>{let ot=at.route.id?nt==null?void 0:nt[at.route.id]:null,ct=null;tt&&(at.route.ErrorBoundary?ct=react.exports.createElement(at.route.ErrorBoundary,null):at.route.errorElement?ct=at.route.errorElement:ct=jsx(DefaultErrorComponent,{}));let lt=_e.concat(rt.slice(0,st+1)),ut=()=>{let dt=it;return ot?dt=ct:at.route.Component?dt=react.exports.createElement(at.route.Component,null):at.route.element&&(dt=at.route.element),jsx(RenderedRoute,{match:at,routeContext:{outlet:it,matches:lt},children:dt})};return tt&&(at.route.ErrorBoundary||at.route.errorElement||st===0)?jsx(RenderErrorBoundary,{location:tt.location,component:ct,error:ot,children:ut(),routeContext:{outlet:null,matches:lt}}):ut()},null)}var DataRouterHook$1;(function(et){et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(et){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant$1(!1),_e}function useRouteContext(et){let _e=react.exports.useContext(RouteContext);return _e||invariant$1(!1),_e}function useCurrentRouteId(et){let _e=useRouteContext(),tt=_e.matches[_e.matches.length-1];return tt.route.id||invariant$1(!1),tt.route.id}function useRouteError(){var et;let _e=react.exports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _e||((et=tt.errors)==null?void 0:et[rt])}function Route(et){invariant$1(!1)}function Router(et){let{basename:_e="/",children:tt=null,location:rt,navigationType:nt=Action$1.Pop,navigator:it,static:at=!1}=et;useInRouterContext()&&invariant$1(!1);let st=_e.replace(/^\/*/,"/"),ot=react.exports.useMemo(()=>({basename:st,navigator:it,static:at}),[st,it,at]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ct="/",search:lt="",hash:ut="",state:dt=null,key:mt="default"}=rt,gt=react.exports.useMemo(()=>{let bt=stripBasename(ct,st);return bt==null?null:{location:{pathname:bt,search:lt,hash:ut,state:dt,key:mt},navigationType:nt}},[st,ct,lt,ut,dt,mt,nt]);return gt==null?null:jsx(NavigationContext.Provider,{value:ot,children:jsx(LocationContext.Provider,{children:tt,value:gt})})}function Routes(et){let{children:_e,location:tt}=et,rt=react.exports.useContext(DataRouterContext),nt=rt&&!_e?rt.router.routes:createRoutesFromChildren(_e);return useRoutes(nt,tt)}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(et,_e){_e===void 0&&(_e=[]);let tt=[];return react.exports.Children.forEach(et,(rt,nt)=>{if(!react.exports.isValidElement(rt))return;if(rt.type===react.exports.Fragment){tt.push.apply(tt,createRoutesFromChildren(rt.props.children,_e));return}rt.type!==Route&&invariant$1(!1),!rt.props.index||!rt.props.children||invariant$1(!1);let it=[..._e,nt],at={id:rt.props.id||it.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,loader:rt.props.loader,action:rt.props.action,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(at.children=createRoutesFromChildren(rt.props.children,it)),tt.push(at)}),tt}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BrowserRouter(et){let{basename:_e,children:tt,window:rt}=et,nt=react.exports.useRef();nt.current==null&&(nt.current=createBrowserHistory({window:rt,v5Compat:!0}));let it=nt.current,[at,st]=react.exports.useState({action:it.action,location:it.location});return react.exports.useLayoutEffect(()=>it.listen(st),[it]),jsx(Router,{basename:_e,children:tt,location:at.location,navigationType:at.action,navigator:it})}var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const scriptRel="modulepreload",assetsURL=function(et){return"/crowdfunding/"+et},seen={},__vitePreload=function(_e,tt,rt){if(!tt||tt.length===0)return _e();const nt=document.getElementsByTagName("link");return Promise.all(tt.map(it=>{if(it=assetsURL(it),it in seen)return;seen[it]=!0;const at=it.endsWith(".css"),st=at?'[rel="stylesheet"]':"";if(!!rt)for(let lt=nt.length-1;lt>=0;lt--){const ut=nt[lt];if(ut.href===it&&(!at||ut.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${st}`))return;const ct=document.createElement("link");if(ct.rel=at?"stylesheet":scriptRel,at||(ct.as="script",ct.crossOrigin=""),ct.href=it,document.head.appendChild(ct),at)return new Promise((lt,ut)=>{ct.addEventListener("load",lt),ct.addEventListener("error",()=>ut(new Error(`Unable to preload CSS for ${it}`)))})})).then(()=>_e())};var c1={name:"Ethereum Mainnet",chain:"ETH",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},rpc:["https://ethereum.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://mainnet.infura.io/v3/${INFURA_API_KEY}","wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}","https://api.mycryptoapi.com/eth","https://cloudflare-eth.com"],features:[{name:"EIP1559"},{name:"EIP155"}],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},infoURL:"https://ethereum.org",shortName:"eth",chainId:1,networkId:1,slip44:60,ens:{registry:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},explorers:[{name:"etherscan",url:"https://etherscan.io",standard:"EIP3091"}],testnet:!1,slug:"ethereum"},c5={name:"Goerli",title:"Ethereum Testnet Goerli",chain:"ETH",rpc:["https://goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://eth-goerli.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://goerli.infura.io/v3/${INFURA_API_KEY}","wss://goerli.infura.io/v3/${INFURA_API_KEY}","https://rpc.goerli.mudit.blog/"],faucets:["https://faucet.goerli.mudit.blog","https://goerli-faucet.slock.it?address=${ADDRESS}","http://fauceth.komputing.org?chain=5&address=${ADDRESS}"],nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},infoURL:"https://goerli.net/#about",shortName:"gor",chainId:5,networkId:5,ens:{registry:"0x112234455c3a32fd11230c42e7bccd4a84e02010"},explorers:[{name:"etherscan-goerli",url:"https://goerli.etherscan.io",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!0,slug:"goerli"},c10={name:"Optimism",chain:"ETH",rpc:["https://optimism.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://opt-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://optimism-mainnet.infura.io/v3/${INFURA_API_KEY}","https://mainnet.optimism.io/"],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},infoURL:"https://optimism.io",shortName:"oeth",chainId:10,networkId:10,explorers:[{name:"etherscan",url:"https://optimistic.etherscan.io",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/optimism/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!1,slug:"optimism"},c56={name:"Binance Smart Chain Mainnet",chain:"BSC",rpc:["https://binance.rpc.thirdweb.com/${THIRDWEB_API_KEY}","wss://bsc-ws-node.nariox.org","https://bsc-dataseed4.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed1.defibit.io","https://bsc-dataseed4.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed1.binance.org"],faucets:["https://free-online-app.com/faucet-for-eth-evm-chains/"],nativeCurrency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},infoURL:"https://www.binance.org",shortName:"bnb",chainId:56,networkId:56,slip44:714,explorers:[{name:"bscscan",url:"https://bscscan.com",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/binance-coin/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!1,slug:"binance"},c97={name:"Binance Smart Chain Testnet",chain:"BSC",rpc:["https://binance-testnet.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://data-seed-prebsc-2-s3.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s1.binance.org:8545"],faucets:["https://testnet.binance.org/faucet-smart"],nativeCurrency:{name:"Binance Chain Native Token",symbol:"tBNB",decimals:18},infoURL:"https://testnet.binance.org/",shortName:"bnbt",chainId:97,networkId:97,explorers:[{name:"bscscan-testnet",url:"https://testnet.bscscan.com",standard:"EIP3091"}],icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/binance-coin/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!0,slug:"binance-testnet"},c137={name:"Polygon Mainnet",chain:"Polygon",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/polygon/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},rpc:["https://polygon.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://polygon-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://polygon-mainnet.infura.io/v3/${INFURA_API_KEY}","https://polygon-rpc.com/","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com","https://polygon-bor.publicnode.com"],faucets:[],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},infoURL:"https://polygon.technology/",shortName:"matic",chainId:137,networkId:137,slip44:966,explorers:[{name:"polygonscan",url:"https://polygonscan.com",standard:"EIP3091"}],testnet:!1,slug:"polygon"},c250={name:"Fantom Opera",chain:"FTM",rpc:["https://fantom.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://rpc.ftm.tools"],faucets:["https://free-online-app.com/faucet-for-eth-evm-chains/"],nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},infoURL:"https://fantom.foundation",shortName:"ftm",chainId:250,networkId:250,icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/fantom/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},explorers:[{name:"ftmscan",url:"https://ftmscan.com",icon:"ftmscan",standard:"EIP3091"}],testnet:!1,slug:"fantom"},c420={name:"Optimism Goerli Testnet",chain:"ETH",rpc:["https://optimism-goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://opt-goerli.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://optimism-goerli.infura.io/v3/${INFURA_API_KEY}","https://goerli.optimism.io/"],faucets:[],nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},infoURL:"https://optimism.io",shortName:"ogor",chainId:420,networkId:420,icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/optimism/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!0,slug:"optimism-goerli"},c4002={name:"Fantom Testnet",chain:"FTM",rpc:["https://fantom-testnet.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://rpc.testnet.fantom.network"],faucets:["https://faucet.fantom.network"],nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},infoURL:"https://docs.fantom.foundation/quick-start/short-guide#fantom-testnet",shortName:"tftm",chainId:4002,networkId:4002,icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/fantom/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},explorers:[{name:"ftmscan",url:"https://testnet.ftmscan.com",icon:"ftmscan",standard:"EIP3091"}],testnet:!0,slug:"fantom-testnet"},c42161={name:"Arbitrum One",chainId:42161,shortName:"arb1",chain:"ETH",networkId:42161,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpc:["https://arbitrum.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}","https://arb-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://arb1.arbitrum.io/rpc"],faucets:[],explorers:[{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io",standard:"EIP3091"},{name:"Arbiscan",url:"https://arbiscan.io",standard:"EIP3091"}],infoURL:"https://arbitrum.io",parent:{type:"L2",chain:"eip155-1",bridges:[{url:"https://bridge.arbitrum.io"}]},icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/arbitrum/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!1,slug:"arbitrum"},c43113={name:"Avalanche Fuji Testnet",chain:"AVAX",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/avalanche/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},rpc:["https://avalanche-fuji.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://avalanche-fuji.infura.io/v3/${INFURA_API_KEY}","https://api.avax-test.network/ext/bc/C/rpc"],faucets:["https://faucet.avax-test.network/"],nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},infoURL:"https://cchain.explorer.avax-test.network",shortName:"Fuji",chainId:43113,networkId:1,explorers:[{name:"snowtrace",url:"https://testnet.snowtrace.io",standard:"EIP3091"}],testnet:!0,slug:"avalanche-fuji"},c43114={name:"Avalanche C-Chain",chain:"AVAX",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/avalanche/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},rpc:["https://avalanche.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://avalanche-mainnet.infura.io/v3/${INFURA_API_KEY}","https://api.avax.network/ext/bc/C/rpc"],features:[{name:"EIP1559"}],faucets:["https://free-online-app.com/faucet-for-eth-evm-chains/"],nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},infoURL:"https://www.avax.network/",shortName:"avax",chainId:43114,networkId:43114,slip44:9005,explorers:[{name:"snowtrace",url:"https://snowtrace.io",standard:"EIP3091"}],testnet:!1,slug:"avalanche"},c80001={name:"Mumbai",title:"Polygon Testnet Mumbai",chain:"Polygon",icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/polygon/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},rpc:["https://mumbai.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://polygon-mumbai.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://polygon-mumbai.infura.io/v3/${INFURA_API_KEY}","https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],faucets:["https://faucet.polygon.technology/"],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},infoURL:"https://polygon.technology/",shortName:"maticmum",chainId:80001,networkId:80001,explorers:[{name:"polygonscan",url:"https://mumbai.polygonscan.com",standard:"EIP3091"}],testnet:!0,slug:"mumbai"},c421613={name:"Arbitrum Goerli",title:"Arbitrum Goerli Rollup Testnet",chainId:421613,shortName:"arb-goerli",chain:"ETH",networkId:421613,nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18},rpc:["https://arbitrum-goerli.rpc.thirdweb.com/${THIRDWEB_API_KEY}","https://arb-goerli.g.alchemy.com/v2/${ALCHEMY_API_KEY}","https://abritrum-goerli.infura.io/v3/${INFURA_API_KEY}","https://goerli-rollup.arbitrum.io/rpc/"],faucets:[],infoURL:"https://arbitrum.io/",explorers:[{name:"Arbitrum Goerli Rollup Explorer",url:"https://goerli-rollup-explorer.arbitrum.io",standard:"EIP3091"}],parent:{type:"L2",chain:"eip155-5",bridges:[{url:"https://bridge.arbitrum.io/"}]},icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/arbitrum/512.png",height:512,width:512,format:"png",sizes:[512,256,128,64,32,16]},testnet:!0,slug:"arbitrum-goerli"},c1337={name:"Localhost",chain:"ETH",rpc:["http://localhost:8545"],faucets:[],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},icon:{url:"ipfs://QmcxZHpyJa8T4i63xqjPYrZ6tKrt55tZJpbXcjSDKuKaf9/ethereum/512.png",height:512,width:512,format:"png",sizes:[16,32,64,128,256,512]},shortName:"local",chainId:1337,networkId:1337,testnet:!0,slug:"localhost"};const defaultOptions$4={mode:"http"};function getChainRPCs(et,_e){const{thirdwebApiKey:tt,alchemyApiKey:rt,infuraApiKey:nt,mode:it}={...defaultOptions$4,..._e},at=et.rpc.filter(dt=>!!(dt.startsWith("http")&&it==="http"||dt.startsWith("ws")&&it==="ws")),st=at.filter(dt=>dt.includes("${THIRDWEB_API_KEY}")&&tt).map(dt=>tt?dt.replace("${THIRDWEB_API_KEY}",tt):dt),ot=at.filter(dt=>dt.includes("${ALCHEMY_API_KEY}")&&rt).map(dt=>rt?dt.replace("${ALCHEMY_API_KEY}",rt):dt),ct=at.filter(dt=>dt.includes("${INFURA_API_KEY}")&&nt).map(dt=>nt?dt.replace("${INFURA_API_KEY}",nt):dt),lt=at.filter(dt=>!dt.includes("${")),ut=[...st,...ct,...ot,...lt];if(ut.length===0)throw new Error(`No RPC available for chainId "${et.chainId}" with mode ${it}`);return ut}function getChainRPC(et,_e){return getChainRPCs(et,_e)[0]}const Ethereum=c1,Goerli=c5,Optimism=c10,Binance=c56,BinanceTestnet=c97,Polygon=c137,Fantom=c250,OptimismGoerli=c420,FantomTestnet=c4002,Arbitrum=c42161,AvalancheFuji=c43113,Avalanche=c43114,Mumbai=c80001,ArbitrumGoerli=c421613,Localhost=c1337,defaultChains$1=[Ethereum,Goerli,Polygon,Mumbai,Arbitrum,ArbitrumGoerli,Optimism,OptimismGoerli,Binance,BinanceTestnet,Fantom,FantomTestnet,Avalanche,AvalancheFuji,Localhost];class Subscribable{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(_e){return this.listeners.push(_e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(tt=>tt!==_e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$5(){}function functionalUpdate(et,_e){return typeof et=="function"?et(_e):et}function isValidTimeout(et){return typeof et=="number"&&et>=0&&et!==1/0}function timeUntilStale(et,_e){return Math.max(et+(_e||0)-Date.now(),0)}function parseQueryArgs(et,_e,tt){return isQueryKey(et)?typeof _e=="function"?{...tt,queryKey:et,queryFn:_e}:{..._e,queryKey:et}:et}function parseMutationArgs(et,_e,tt){return isQueryKey(et)?typeof _e=="function"?{...tt,mutationKey:et,mutationFn:_e}:{..._e,mutationKey:et}:typeof et=="function"?{..._e,mutationFn:et}:{...et}}function parseFilterArgs(et,_e,tt){return isQueryKey(et)?[{..._e,queryKey:et},tt]:[et||{},_e]}function matchQuery(et,_e){const{type:tt="all",exact:rt,fetchStatus:nt,predicate:it,queryKey:at,stale:st}=et;if(isQueryKey(at)){if(rt){if(_e.queryHash!==hashQueryKeyByOptions(at,_e.options))return!1}else if(!partialMatchKey(_e.queryKey,at))return!1}if(tt!=="all"){const ot=_e.isActive();if(tt==="active"&&!ot||tt==="inactive"&&ot)return!1}return!(typeof st=="boolean"&&_e.isStale()!==st||typeof nt<"u"&&nt!==_e.state.fetchStatus||it&&!it(_e))}function matchMutation(et,_e){const{exact:tt,fetching:rt,predicate:nt,mutationKey:it}=et;if(isQueryKey(it)){if(!_e.options.mutationKey)return!1;if(tt){if(hashQueryKey(_e.options.mutationKey)!==hashQueryKey(it))return!1}else if(!partialMatchKey(_e.options.mutationKey,it))return!1}return!(typeof rt=="boolean"&&_e.state.status==="loading"!==rt||nt&&!nt(_e))}function hashQueryKeyByOptions(et,_e){return((_e==null?void 0:_e.queryKeyHashFn)||hashQueryKey)(et)}function hashQueryKey(et){return JSON.stringify(et,(_e,tt)=>isPlainObject(tt)?Object.keys(tt).sort().reduce((rt,nt)=>(rt[nt]=tt[nt],rt),{}):tt)}function partialMatchKey(et,_e){return partialDeepEqual(et,_e)}function partialDeepEqual(et,_e){return et===_e?!0:typeof et!=typeof _e?!1:et&&_e&&typeof et=="object"&&typeof _e=="object"?!Object.keys(_e).some(tt=>!partialDeepEqual(et[tt],_e[tt])):!1}function replaceEqualDeep(et,_e){if(et===_e)return et;const tt=isPlainArray(et)&&isPlainArray(_e);if(tt||isPlainObject(et)&&isPlainObject(_e)){const rt=tt?et.length:Object.keys(et).length,nt=tt?_e:Object.keys(_e),it=nt.length,at=tt?[]:{};let st=0;for(let ot=0;ot<it;ot++){const ct=tt?ot:nt[ot];at[ct]=replaceEqualDeep(et[ct],_e[ct]),at[ct]===et[ct]&&st++}return rt===it&&st===rt?et:at}return _e}function shallowEqualObjects(et,_e){if(et&&!_e||_e&&!et)return!1;for(const tt in et)if(et[tt]!==_e[tt])return!1;return!0}function isPlainArray(et){return Array.isArray(et)&&et.length===Object.keys(et).length}function isPlainObject(et){if(!hasObjectPrototype(et))return!1;const _e=et.constructor;if(typeof _e>"u")return!0;const tt=_e.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(et){return Object.prototype.toString.call(et)==="[object Object]"}function isQueryKey(et){return Array.isArray(et)}function sleep(et){return new Promise(_e=>{setTimeout(_e,et)})}function scheduleMicrotask(et){sleep(0).then(et)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(et,_e,tt){return tt.isDataEqual!=null&&tt.isDataEqual(et,_e)?et:typeof tt.structuralSharing=="function"?tt.structuralSharing(et,_e):tt.structuralSharing!==!1?replaceEqualDeep(et,_e):_e}class FocusManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()})}setFocused(_e){this.focused=_e,_e&&this.onFocus()}onFocus(){this.listeners.forEach(_e=>{_e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager;class OnlineManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("online",tt,!1),window.addEventListener("offline",tt,!1),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setOnline(rt):this.onOnline()})}setOnline(_e){this.online=_e,_e&&this.onOnline()}onOnline(){this.listeners.forEach(_e=>{_e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(et){return Math.min(1e3*2**et,3e4)}function canFetch(et){return(et!=null?et:"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(_e){this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent}}function isCancelledError(et){return et instanceof CancelledError}function createRetryer(et){let _e=!1,tt=0,rt=!1,nt,it,at;const st=new Promise((ht,yt)=>{it=ht,at=yt}),ot=ht=>{rt||(mt(new CancelledError(ht)),et.abort==null||et.abort())},ct=()=>{_e=!0},lt=()=>{_e=!1},ut=()=>!focusManager.isFocused()||et.networkMode!=="always"&&!onlineManager.isOnline(),dt=ht=>{rt||(rt=!0,et.onSuccess==null||et.onSuccess(ht),nt==null||nt(),it(ht))},mt=ht=>{rt||(rt=!0,et.onError==null||et.onError(ht),nt==null||nt(),at(ht))},gt=()=>new Promise(ht=>{nt=yt=>{const wt=rt||!ut();return wt&&ht(yt),wt},et.onPause==null||et.onPause()}).then(()=>{nt=void 0,rt||et.onContinue==null||et.onContinue()}),bt=()=>{if(rt)return;let ht;try{ht=et.fn()}catch(yt){ht=Promise.reject(yt)}Promise.resolve(ht).then(dt).catch(yt=>{var wt,xt;if(rt)return;const At=(wt=et.retry)!=null?wt:3,kt=(xt=et.retryDelay)!=null?xt:defaultRetryDelay,Ot=typeof kt=="function"?kt(tt,yt):kt,Wt=At===!0||typeof At=="number"&&tt<At||typeof At=="function"&&At(tt,yt);if(_e||!Wt){mt(yt);return}tt++,et.onFail==null||et.onFail(tt,yt),sleep(Ot).then(()=>{if(ut())return gt()}).then(()=>{_e?mt(yt):bt()})})};return canFetch(et.networkMode)?bt():gt().then(bt),{promise:st,cancel:ot,continue:()=>(nt==null?void 0:nt())?st:Promise.resolve(),cancelRetry:ct,continueRetry:lt}}const defaultLogger=console;function createNotifyManager(){let et=[],_e=0,tt=lt=>{lt()},rt=lt=>{lt()};const nt=lt=>{let ut;_e++;try{ut=lt()}finally{_e--,_e||st()}return ut},it=lt=>{_e?et.push(lt):scheduleMicrotask(()=>{tt(lt)})},at=lt=>(...ut)=>{it(()=>{lt(...ut)})},st=()=>{const lt=et;et=[],lt.length&&scheduleMicrotask(()=>{rt(()=>{lt.forEach(ut=>{tt(ut)})})})};return{batch:nt,batchCalls:at,schedule:it,setNotifyFunction:lt=>{tt=lt},setBatchNotifyFunction:lt=>{rt=lt}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(_e){this.cacheTime=Math.max(this.cacheTime||0,_e!=null?_e:isServer?1/0:5*60*1e3)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(_e){super(),this.abortSignalConsumed=!1,this.defaultOptions=_e.defaultOptions,this.setOptions(_e.options),this.observers=[],this.cache=_e.cache,this.logger=_e.logger||defaultLogger,this.queryKey=_e.queryKey,this.queryHash=_e.queryHash,this.initialState=_e.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(_e){this.options={...this.defaultOptions,..._e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(_e,tt){const rt=replaceData(this.state.data,_e,this.options);return this.dispatch({data:rt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),rt}setState(_e,tt){this.dispatch({type:"setState",state:_e,setStateOptions:tt})}cancel(_e){var tt;const rt=this.promise;return(tt=this.retryer)==null||tt.cancel(_e),rt?rt.then(noop$5).catch(noop$5):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(_e=>_e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(_e=>_e.getCurrentResult().isStale)}isStaleByTime(_e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_e)}onFocus(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnWindowFocus());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}onOnline(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnReconnect());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}addObserver(_e){this.observers.indexOf(_e)===-1&&(this.observers.push(_e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_e}))}removeObserver(_e){this.observers.indexOf(_e)!==-1&&(this.observers=this.observers.filter(tt=>tt!==_e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:_e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(_e,tt){var rt,nt;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&tt!=null&&tt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var it;return(it=this.retryer)==null||it.continueRetry(),this.promise}}if(_e&&this.setOptions(_e),!this.options.queryFn){const mt=this.observers.find(gt=>gt.options.queryFn);mt&&this.setOptions(mt.options)}Array.isArray(this.options.queryKey);const at=getAbortController(),st={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},ot=mt=>{Object.defineProperty(mt,"signal",{enumerable:!0,get:()=>{if(at)return this.abortSignalConsumed=!0,at.signal}})};ot(st);const ct=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(st)):Promise.reject("Missing queryFn"),lt={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ct};if(ot(lt),(rt=this.options.behavior)==null||rt.onFetch(lt),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((nt=lt.fetchOptions)==null?void 0:nt.meta)){var ut;this.dispatch({type:"fetch",meta:(ut=lt.fetchOptions)==null?void 0:ut.meta})}const dt=mt=>{if(isCancelledError(mt)&&mt.silent||this.dispatch({type:"error",error:mt}),!isCancelledError(mt)){var gt,bt,ht,yt;(gt=(bt=this.cache.config).onError)==null||gt.call(bt,mt,this),(ht=(yt=this.cache.config).onSettled)==null||ht.call(yt,this.state.data,mt,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:lt.fetchFn,abort:at==null?void 0:at.abort.bind(at),onSuccess:mt=>{var gt,bt,ht,yt;if(typeof mt>"u"){dt(new Error("undefined"));return}this.setData(mt),(gt=(bt=this.cache.config).onSuccess)==null||gt.call(bt,mt,this),(ht=(yt=this.cache.config).onSettled)==null||ht.call(yt,mt,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:dt,onFail:(mt,gt)=>{this.dispatch({type:"failed",failureCount:mt,error:gt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:lt.options.retry,retryDelay:lt.options.retryDelay,networkMode:lt.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(_e){const tt=rt=>{var nt,it;switch(_e.type){case"failed":return{...rt,fetchFailureCount:_e.failureCount,fetchFailureReason:_e.error};case"pause":return{...rt,fetchStatus:"paused"};case"continue":return{...rt,fetchStatus:"fetching"};case"fetch":return{...rt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(nt=_e.meta)!=null?nt:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!rt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...rt,data:_e.data,dataUpdateCount:rt.dataUpdateCount+1,dataUpdatedAt:(it=_e.dataUpdatedAt)!=null?it:Date.now(),error:null,isInvalidated:!1,status:"success",...!_e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=_e.error;return isCancelledError(at)&&at.revert&&this.revertState?{...this.revertState}:{...rt,error:at,errorUpdateCount:rt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:rt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...rt,isInvalidated:!0};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onQueryUpdate(_e)}),this.cache.notify({query:this,type:"updated",action:_e})})}}function getDefaultState$1(et){const _e=typeof et.initialData=="function"?et.initialData():et.initialData,tt=typeof _e<"u",rt=tt?typeof et.initialDataUpdatedAt=="function"?et.initialDataUpdatedAt():et.initialDataUpdatedAt:0;return{data:_e,dataUpdateCount:0,dataUpdatedAt:tt?rt!=null?rt:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.queries=[],this.queriesMap={}}build(_e,tt,rt){var nt;const it=tt.queryKey,at=(nt=tt.queryHash)!=null?nt:hashQueryKeyByOptions(it,tt);let st=this.get(at);return st||(st=new Query({cache:this,logger:_e.getLogger(),queryKey:it,queryHash:at,options:_e.defaultQueryOptions(tt),state:rt,defaultOptions:_e.getQueryDefaults(it)}),this.add(st)),st}add(_e){this.queriesMap[_e.queryHash]||(this.queriesMap[_e.queryHash]=_e,this.queries.push(_e),this.notify({type:"added",query:_e}))}remove(_e){const tt=this.queriesMap[_e.queryHash];tt&&(_e.destroy(),this.queries=this.queries.filter(rt=>rt!==_e),tt===_e&&delete this.queriesMap[_e.queryHash],this.notify({type:"removed",query:_e}))}clear(){notifyManager.batch(()=>{this.queries.forEach(_e=>{this.remove(_e)})})}get(_e){return this.queriesMap[_e]}getAll(){return this.queries}find(_e,tt){const[rt]=parseFilterArgs(_e,tt);return typeof rt.exact>"u"&&(rt.exact=!0),this.queries.find(nt=>matchQuery(rt,nt))}findAll(_e,tt){const[rt]=parseFilterArgs(_e,tt);return Object.keys(rt).length>0?this.queries.filter(nt=>matchQuery(rt,nt)):this.queries}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(_e)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onOnline()})})}}class Mutation extends Removable{constructor(_e){super(),this.defaultOptions=_e.defaultOptions,this.mutationId=_e.mutationId,this.mutationCache=_e.mutationCache,this.logger=_e.logger||defaultLogger,this.observers=[],this.state=_e.state||getDefaultState(),this.setOptions(_e.options),this.scheduleGc()}setOptions(_e){this.options={...this.defaultOptions,..._e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(_e){this.dispatch({type:"setState",state:_e})}addObserver(_e){this.observers.indexOf(_e)===-1&&(this.observers.push(_e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:_e}))}removeObserver(_e){this.observers=this.observers.filter(tt=>tt!==_e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:_e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var _e,tt;return(_e=(tt=this.retryer)==null?void 0:tt.continue())!=null?_e:this.execute()}async execute(){const _e=()=>{var Wt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Ht,Zt)=>{this.dispatch({type:"failed",failureCount:Ht,error:Zt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(Wt=this.options.retry)!=null?Wt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},tt=this.state.status==="loading";try{var rt,nt,it,at,st,ot,ct,lt;if(!tt){var ut,dt,mt,gt;this.dispatch({type:"loading",variables:this.options.variables}),await((ut=(dt=this.mutationCache.config).onMutate)==null?void 0:ut.call(dt,this.state.variables,this));const Ht=await((mt=(gt=this.options).onMutate)==null?void 0:mt.call(gt,this.state.variables));Ht!==this.state.context&&this.dispatch({type:"loading",context:Ht,variables:this.state.variables})}const Wt=await _e();return await((rt=(nt=this.mutationCache.config).onSuccess)==null?void 0:rt.call(nt,Wt,this.state.variables,this.state.context,this)),await((it=(at=this.options).onSuccess)==null?void 0:it.call(at,Wt,this.state.variables,this.state.context)),await((st=(ot=this.mutationCache.config).onSettled)==null?void 0:st.call(ot,Wt,null,this.state.variables,this.state.context,this)),await((ct=(lt=this.options).onSettled)==null?void 0:ct.call(lt,Wt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:Wt}),Wt}catch(Wt){try{var bt,ht,yt,wt,xt,At,kt,Ot;throw await((bt=(ht=this.mutationCache.config).onError)==null?void 0:bt.call(ht,Wt,this.state.variables,this.state.context,this)),await((yt=(wt=this.options).onError)==null?void 0:yt.call(wt,Wt,this.state.variables,this.state.context)),await((xt=(At=this.mutationCache.config).onSettled)==null?void 0:xt.call(At,void 0,Wt,this.state.variables,this.state.context,this)),await((kt=(Ot=this.options).onSettled)==null?void 0:kt.call(Ot,void 0,Wt,this.state.variables,this.state.context)),Wt}finally{this.dispatch({type:"error",error:Wt})}}}dispatch(_e){const tt=rt=>{switch(_e.type){case"failed":return{...rt,failureCount:_e.failureCount,failureReason:_e.error};case"pause":return{...rt,isPaused:!0};case"continue":return{...rt,isPaused:!1};case"loading":return{...rt,context:_e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:_e.variables};case"success":return{...rt,data:_e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...rt,data:void 0,error:_e.error,failureCount:rt.failureCount+1,failureReason:_e.error,isPaused:!1,status:"error"};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onMutationUpdate(_e)}),this.mutationCache.notify({mutation:this,type:"updated",action:_e})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.mutations=[],this.mutationId=0}build(_e,tt,rt){const nt=new Mutation({mutationCache:this,logger:_e.getLogger(),mutationId:++this.mutationId,options:_e.defaultMutationOptions(tt),state:rt,defaultOptions:tt.mutationKey?_e.getMutationDefaults(tt.mutationKey):void 0});return this.add(nt),nt}add(_e){this.mutations.push(_e),this.notify({type:"added",mutation:_e})}remove(_e){this.mutations=this.mutations.filter(tt=>tt!==_e),this.notify({type:"removed",mutation:_e})}clear(){notifyManager.batch(()=>{this.mutations.forEach(_e=>{this.remove(_e)})})}getAll(){return this.mutations}find(_e){return typeof _e.exact>"u"&&(_e.exact=!0),this.mutations.find(tt=>matchMutation(_e,tt))}findAll(_e){return this.mutations.filter(tt=>matchMutation(_e,tt))}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(_e)})})}resumePausedMutations(){var _e;return this.resuming=((_e=this.resuming)!=null?_e:Promise.resolve()).then(()=>{const tt=this.mutations.filter(rt=>rt.state.isPaused);return notifyManager.batch(()=>tt.reduce((rt,nt)=>rt.then(()=>nt.continue().catch(noop$5)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:et=>{et.fetchFn=()=>{var _e,tt,rt,nt,it,at;const st=(_e=et.fetchOptions)==null||(tt=_e.meta)==null?void 0:tt.refetchPage,ot=(rt=et.fetchOptions)==null||(nt=rt.meta)==null?void 0:nt.fetchMore,ct=ot==null?void 0:ot.pageParam,lt=(ot==null?void 0:ot.direction)==="forward",ut=(ot==null?void 0:ot.direction)==="backward",dt=((it=et.state.data)==null?void 0:it.pages)||[],mt=((at=et.state.data)==null?void 0:at.pageParams)||[];let gt=mt,bt=!1;const ht=Ot=>{Object.defineProperty(Ot,"signal",{enumerable:!0,get:()=>{var Wt;if((Wt=et.signal)!=null&&Wt.aborted)bt=!0;else{var Ht;(Ht=et.signal)==null||Ht.addEventListener("abort",()=>{bt=!0})}return et.signal}})},yt=et.options.queryFn||(()=>Promise.reject("Missing queryFn")),wt=(Ot,Wt,Ht,Zt)=>(gt=Zt?[Wt,...gt]:[...gt,Wt],Zt?[Ht,...Ot]:[...Ot,Ht]),xt=(Ot,Wt,Ht,Zt)=>{if(bt)return Promise.reject("Cancelled");if(typeof Ht>"u"&&!Wt&&Ot.length)return Promise.resolve(Ot);const Lt={queryKey:et.queryKey,pageParam:Ht,meta:et.options.meta};ht(Lt);const Et=yt(Lt);return Promise.resolve(Et).then(Ct=>wt(Ot,Ht,Ct,Zt))};let At;if(!dt.length)At=xt([]);else if(lt){const Ot=typeof ct<"u",Wt=Ot?ct:getNextPageParam(et.options,dt);At=xt(dt,Ot,Wt)}else if(ut){const Ot=typeof ct<"u",Wt=Ot?ct:getPreviousPageParam(et.options,dt);At=xt(dt,Ot,Wt,!0)}else{gt=[];const Ot=typeof et.options.getNextPageParam>"u";At=(st&&dt[0]?st(dt[0],0,dt):!0)?xt([],Ot,mt[0]):Promise.resolve(wt([],mt[0],dt[0]));for(let Ht=1;Ht<dt.length;Ht++)At=At.then(Zt=>{if(st&&dt[Ht]?st(dt[Ht],Ht,dt):!0){const Et=Ot?mt[Ht]:getNextPageParam(et.options,Zt);return xt(Zt,Ot,Et)}return Promise.resolve(wt(Zt,mt[Ht],dt[Ht]))})}return At.then(Ot=>({pages:Ot,pageParams:gt}))}}}}function getNextPageParam(et,_e){return et.getNextPageParam==null?void 0:et.getNextPageParam(_e[_e.length-1],_e)}function getPreviousPageParam(et,_e){return et.getPreviousPageParam==null?void 0:et.getPreviousPageParam(_e[0],_e)}class QueryClient{constructor(_e={}){this.queryCache=_e.queryCache||new QueryCache,this.mutationCache=_e.mutationCache||new MutationCache,this.logger=_e.logger||defaultLogger,this.defaultOptions=_e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var _e,tt;this.mountCount--,this.mountCount===0&&((_e=this.unsubscribeFocus)==null||_e.call(this),this.unsubscribeFocus=void 0,(tt=this.unsubscribeOnline)==null||tt.call(this),this.unsubscribeOnline=void 0)}isFetching(_e,tt){const[rt]=parseFilterArgs(_e,tt);return rt.fetchStatus="fetching",this.queryCache.findAll(rt).length}isMutating(_e){return this.mutationCache.findAll({..._e,fetching:!0}).length}getQueryData(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state.data}ensureQueryData(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),it=this.getQueryData(nt.queryKey);return it?Promise.resolve(it):this.fetchQuery(nt)}getQueriesData(_e){return this.getQueryCache().findAll(_e).map(({queryKey:tt,state:rt})=>{const nt=rt.data;return[tt,nt]})}setQueryData(_e,tt,rt){const nt=this.queryCache.find(_e),it=nt==null?void 0:nt.state.data,at=functionalUpdate(tt,it);if(typeof at>"u")return;const st=parseQueryArgs(_e),ot=this.defaultQueryOptions(st);return this.queryCache.build(this,ot).setData(at,{...rt,manual:!0})}setQueriesData(_e,tt,rt){return notifyManager.batch(()=>this.getQueryCache().findAll(_e).map(({queryKey:nt})=>[nt,this.setQueryData(nt,tt,rt)]))}getQueryState(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state}removeQueries(_e,tt){const[rt]=parseFilterArgs(_e,tt),nt=this.queryCache;notifyManager.batch(()=>{nt.findAll(rt).forEach(it=>{nt.remove(it)})})}resetQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt),at=this.queryCache,st={type:"active",...nt};return notifyManager.batch(()=>(at.findAll(nt).forEach(ot=>{ot.reset()}),this.refetchQueries(st,it)))}cancelQueries(_e,tt,rt){const[nt,it={}]=parseFilterArgs(_e,tt,rt);typeof it.revert>"u"&&(it.revert=!0);const at=notifyManager.batch(()=>this.queryCache.findAll(nt).map(st=>st.cancel(it)));return Promise.all(at).then(noop$5).catch(noop$5)}invalidateQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt);return notifyManager.batch(()=>{var at,st;if(this.queryCache.findAll(nt).forEach(ct=>{ct.invalidate()}),nt.refetchType==="none")return Promise.resolve();const ot={...nt,type:(at=(st=nt.refetchType)!=null?st:nt.type)!=null?at:"active"};return this.refetchQueries(ot,it)})}refetchQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt),at=notifyManager.batch(()=>this.queryCache.findAll(nt).filter(ot=>!ot.isDisabled()).map(ot=>{var ct;return ot.fetch(void 0,{...it,cancelRefetch:(ct=it==null?void 0:it.cancelRefetch)!=null?ct:!0,meta:{refetchPage:nt.refetchPage}})}));let st=Promise.all(at).then(noop$5);return it!=null&&it.throwOnError||(st=st.catch(noop$5)),st}fetchQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),it=this.defaultQueryOptions(nt);typeof it.retry>"u"&&(it.retry=!1);const at=this.queryCache.build(this,it);return at.isStaleByTime(it.staleTime)?at.fetch(it):Promise.resolve(at.state.data)}prefetchQuery(_e,tt,rt){return this.fetchQuery(_e,tt,rt).then(noop$5).catch(noop$5)}fetchInfiniteQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt);return nt.behavior=infiniteQueryBehavior(),this.fetchQuery(nt)}prefetchInfiniteQuery(_e,tt,rt){return this.fetchInfiniteQuery(_e,tt,rt).then(noop$5).catch(noop$5)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(_e){this.defaultOptions=_e}setQueryDefaults(_e,tt){const rt=this.queryDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.queryKey));rt?rt.defaultOptions=tt:this.queryDefaults.push({queryKey:_e,defaultOptions:tt})}getQueryDefaults(_e){if(!_e)return;const tt=this.queryDefaults.find(rt=>partialMatchKey(_e,rt.queryKey));return tt==null?void 0:tt.defaultOptions}setMutationDefaults(_e,tt){const rt=this.mutationDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.mutationKey));rt?rt.defaultOptions=tt:this.mutationDefaults.push({mutationKey:_e,defaultOptions:tt})}getMutationDefaults(_e){if(!_e)return;const tt=this.mutationDefaults.find(rt=>partialMatchKey(_e,rt.mutationKey));return tt==null?void 0:tt.defaultOptions}defaultQueryOptions(_e){if(_e!=null&&_e._defaulted)return _e;const tt={...this.defaultOptions.queries,...this.getQueryDefaults(_e==null?void 0:_e.queryKey),..._e,_defaulted:!0};return!tt.queryHash&&tt.queryKey&&(tt.queryHash=hashQueryKeyByOptions(tt.queryKey,tt)),typeof tt.refetchOnReconnect>"u"&&(tt.refetchOnReconnect=tt.networkMode!=="always"),typeof tt.useErrorBoundary>"u"&&(tt.useErrorBoundary=!!tt.suspense),tt}defaultMutationOptions(_e){return _e!=null&&_e._defaulted?_e:{...this.defaultOptions.mutations,...this.getMutationDefaults(_e==null?void 0:_e.mutationKey),..._e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(_e,tt){super(),this.client=_e,this.options=tt,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(tt)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(_e,tt){const rt=this.options,nt=this.currentQuery;if(this.options=this.client.defaultQueryOptions(_e),shallowEqualObjects(rt,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=rt.queryKey),this.updateQuery();const it=this.hasListeners();it&&shouldFetchOptionally(this.currentQuery,nt,this.options,rt)&&this.executeFetch(),this.updateResult(tt),it&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||this.options.staleTime!==rt.staleTime)&&this.updateStaleTimeout();const at=this.computeRefetchInterval();it&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||at!==this.currentRefetchInterval)&&this.updateRefetchInterval(at)}getOptimisticResult(_e){const tt=this.client.getQueryCache().build(this.client,_e);return this.createResult(tt,_e)}getCurrentResult(){return this.currentResult}trackResult(_e){const tt={};return Object.keys(_e).forEach(rt=>{Object.defineProperty(tt,rt,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(rt),_e[rt])})}),tt}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:_e,...tt}={}){return this.fetch({...tt,meta:{refetchPage:_e}})}fetchOptimistic(_e){const tt=this.client.defaultQueryOptions(_e),rt=this.client.getQueryCache().build(this.client,tt);return rt.isFetchingOptimistic=!0,rt.fetch().then(()=>this.createResult(rt,tt))}fetch(_e){var tt;return this.executeFetch({..._e,cancelRefetch:(tt=_e.cancelRefetch)!=null?tt:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(_e){this.updateQuery();let tt=this.currentQuery.fetch(this.options,_e);return _e!=null&&_e.throwOnError||(tt=tt.catch(noop$5)),tt}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const tt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},tt)}computeRefetchInterval(){var _e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(_e=this.options.refetchInterval)!=null?_e:!1}updateRefetchInterval(_e){this.clearRefetchInterval(),this.currentRefetchInterval=_e,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(_e,tt){const rt=this.currentQuery,nt=this.options,it=this.currentResult,at=this.currentResultState,st=this.currentResultOptions,ot=_e!==rt,ct=ot?_e.state:this.currentQueryInitialState,lt=ot?this.currentResult:this.previousQueryResult,{state:ut}=_e;let{dataUpdatedAt:dt,error:mt,errorUpdatedAt:gt,fetchStatus:bt,status:ht}=ut,yt=!1,wt=!1,xt;if(tt._optimisticResults){const Ht=this.hasListeners(),Zt=!Ht&&shouldFetchOnMount(_e,tt),Lt=Ht&&shouldFetchOptionally(_e,rt,tt,nt);(Zt||Lt)&&(bt=canFetch(_e.options.networkMode)?"fetching":"paused",dt||(ht="loading")),tt._optimisticResults==="isRestoring"&&(bt="idle")}if(tt.keepPreviousData&&!ut.dataUpdatedAt&&lt!=null&&lt.isSuccess&&ht!=="error")xt=lt.data,dt=lt.dataUpdatedAt,ht=lt.status,yt=!0;else if(tt.select&&typeof ut.data<"u")if(it&&ut.data===(at==null?void 0:at.data)&&tt.select===this.selectFn)xt=this.selectResult;else try{this.selectFn=tt.select,xt=tt.select(ut.data),xt=replaceData(it==null?void 0:it.data,xt,tt),this.selectResult=xt,this.selectError=null}catch(Ht){this.selectError=Ht}else xt=ut.data;if(typeof tt.placeholderData<"u"&&typeof xt>"u"&&ht==="loading"){let Ht;if(it!=null&&it.isPlaceholderData&&tt.placeholderData===(st==null?void 0:st.placeholderData))Ht=it.data;else if(Ht=typeof tt.placeholderData=="function"?tt.placeholderData():tt.placeholderData,tt.select&&typeof Ht<"u")try{Ht=tt.select(Ht),this.selectError=null}catch(Zt){this.selectError=Zt}typeof Ht<"u"&&(ht="success",xt=replaceData(it==null?void 0:it.data,Ht,tt),wt=!0)}this.selectError&&(mt=this.selectError,xt=this.selectResult,gt=Date.now(),ht="error");const At=bt==="fetching",kt=ht==="loading",Ot=ht==="error";return{status:ht,fetchStatus:bt,isLoading:kt,isSuccess:ht==="success",isError:Ot,isInitialLoading:kt&&At,data:xt,dataUpdatedAt:dt,error:mt,errorUpdatedAt:gt,failureCount:ut.fetchFailureCount,failureReason:ut.fetchFailureReason,errorUpdateCount:ut.errorUpdateCount,isFetched:ut.dataUpdateCount>0||ut.errorUpdateCount>0,isFetchedAfterMount:ut.dataUpdateCount>ct.dataUpdateCount||ut.errorUpdateCount>ct.errorUpdateCount,isFetching:At,isRefetching:At&&!kt,isLoadingError:Ot&&ut.dataUpdatedAt===0,isPaused:bt==="paused",isPlaceholderData:wt,isPreviousData:yt,isRefetchError:Ot&&ut.dataUpdatedAt!==0,isStale:isStale(_e,tt),refetch:this.refetch,remove:this.remove}}updateResult(_e){const tt=this.currentResult,rt=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(rt,tt))return;this.currentResult=rt;const nt={cache:!0},it=()=>{if(!tt)return!0;const{notifyOnChangeProps:at}=this.options;if(at==="all"||!at&&!this.trackedProps.size)return!0;const st=new Set(at!=null?at:this.trackedProps);return this.options.useErrorBoundary&&st.add("error"),Object.keys(this.currentResult).some(ot=>{const ct=ot;return this.currentResult[ct]!==tt[ct]&&st.has(ct)})};(_e==null?void 0:_e.listeners)!==!1&&it()&&(nt.listeners=!0),this.notify({...nt,..._e})}updateQuery(){const _e=this.client.getQueryCache().build(this.client,this.options);if(_e===this.currentQuery)return;const tt=this.currentQuery;this.currentQuery=_e,this.currentQueryInitialState=_e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(tt==null||tt.removeObserver(this),_e.addObserver(this))}onQueryUpdate(_e){const tt={};_e.type==="success"?tt.onSuccess=!_e.manual:_e.type==="error"&&!isCancelledError(_e.error)&&(tt.onError=!0),this.updateResult(tt),this.hasListeners()&&this.updateTimers()}notify(_e){notifyManager.batch(()=>{if(_e.onSuccess){var tt,rt,nt,it;(tt=(rt=this.options).onSuccess)==null||tt.call(rt,this.currentResult.data),(nt=(it=this.options).onSettled)==null||nt.call(it,this.currentResult.data,null)}else if(_e.onError){var at,st,ot,ct;(at=(st=this.options).onError)==null||at.call(st,this.currentResult.error),(ot=(ct=this.options).onSettled)==null||ot.call(ct,void 0,this.currentResult.error)}_e.listeners&&this.listeners.forEach(lt=>{lt(this.currentResult)}),_e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(et,_e){return _e.enabled!==!1&&!et.state.dataUpdatedAt&&!(et.state.status==="error"&&_e.retryOnMount===!1)}function shouldFetchOnMount(et,_e){return shouldLoadOnMount(et,_e)||et.state.dataUpdatedAt>0&&shouldFetchOn(et,_e,_e.refetchOnMount)}function shouldFetchOn(et,_e,tt){if(_e.enabled!==!1){const rt=typeof tt=="function"?tt(et):tt;return rt==="always"||rt!==!1&&isStale(et,_e)}return!1}function shouldFetchOptionally(et,_e,tt,rt){return tt.enabled!==!1&&(et!==_e||rt.enabled===!1)&&(!tt.suspense||et.state.status!=="error")&&isStale(et,tt)}function isStale(et,_e){return et.isStaleByTime(_e.staleTime)}class MutationObserver$1 extends Subscribable{constructor(_e,tt){super(),this.client=_e,this.setOptions(tt),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(_e){var tt;const rt=this.options;this.options=this.client.defaultMutationOptions(_e),shallowEqualObjects(rt,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(tt=this.currentMutation)==null||tt.setOptions(this.options)}onUnsubscribe(){if(!this.listeners.length){var _e;(_e=this.currentMutation)==null||_e.removeObserver(this)}}onMutationUpdate(_e){this.updateResult();const tt={listeners:!0};_e.type==="success"?tt.onSuccess=!0:_e.type==="error"&&(tt.onError=!0),this.notify(tt)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(_e,tt){return this.mutateOptions=tt,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof _e<"u"?_e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const _e=this.currentMutation?this.currentMutation.state:getDefaultState(),tt={..._e,isLoading:_e.status==="loading",isSuccess:_e.status==="success",isError:_e.status==="error",isIdle:_e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=tt}notify(_e){notifyManager.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(_e.onSuccess){var tt,rt,nt,it;(tt=(rt=this.mutateOptions).onSuccess)==null||tt.call(rt,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(nt=(it=this.mutateOptions).onSettled)==null||nt.call(it,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(_e.onError){var at,st,ot,ct;(at=(st=this.mutateOptions).onError)==null||at.call(st,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(ot=(ct=this.mutateOptions).onSettled)==null||ot.call(ct,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}_e.listeners&&this.listeners.forEach(lt=>{lt(this.currentResult)})})}}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$5=react.exports;function h$6(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var k$6=typeof Object.is=="function"?Object.is:h$6,l$4=e$5.useState,m$6=e$5.useEffect,n$3=e$5.useLayoutEffect,p$6=e$5.useDebugValue;function q$6(et,_e){var tt=_e(),rt=l$4({inst:{value:tt,getSnapshot:_e}}),nt=rt[0].inst,it=rt[1];return n$3(function(){nt.value=tt,nt.getSnapshot=_e,r$8(nt)&&it({inst:nt})},[et,tt,_e]),m$6(function(){return r$8(nt)&&it({inst:nt}),et(function(){r$8(nt)&&it({inst:nt})})},[et]),p$6(tt),tt}function r$8(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!k$6(et,tt)}catch{return!0}}function t$5(et,_e){return _e()}var u$5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$5:q$6;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$5.useSyncExternalStore!==void 0?e$5.useSyncExternalStore:u$5;(function(et){et.exports=useSyncExternalStoreShim_production_min})(shim);const useSyncExternalStore=shim.exports.useSyncExternalStore,defaultContext=react.exports.createContext(void 0),QueryClientSharingContext=react.exports.createContext(!1);function getQueryClientContext(et,_e){return et||(_e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:et}={})=>{const _e=react.exports.useContext(getQueryClientContext(et,react.exports.useContext(QueryClientSharingContext)));if(!_e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _e},QueryClientProvider=({client:et,children:_e,context:tt,contextSharing:rt=!1})=>{react.exports.useEffect(()=>(et.mount(),()=>{et.unmount()}),[et]);const nt=getQueryClientContext(tt,rt);return jsx(QueryClientSharingContext.Provider,{value:!tt&&rt,children:jsx(nt.Provider,{value:et,children:_e})})},IsRestoringContext=react.exports.createContext(!1),useIsRestoring=()=>react.exports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let et=!1;return{clearReset:()=>{et=!1},reset:()=>{et=!0},isReset:()=>et}}const QueryErrorResetBoundaryContext=react.exports.createContext(createValue()),useQueryErrorResetBoundary=()=>react.exports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(et,_e){return typeof et=="function"?et(..._e):!!et}const ensurePreventErrorBoundaryRetry=(et,_e)=>{(et.suspense||et.useErrorBoundary)&&(_e.isReset()||(et.retryOnMount=!1))},useClearResetErrorBoundary=et=>{react.exports.useEffect(()=>{et.clearReset()},[et])},getHasError=({result:et,errorResetBoundary:_e,useErrorBoundary:tt,query:rt})=>et.isError&&!_e.isReset()&&!et.isFetching&&shouldThrowError(tt,[et.error,rt]),ensureStaleTime=et=>{et.suspense&&typeof et.staleTime!="number"&&(et.staleTime=1e3)},willFetch=(et,_e)=>et.isLoading&&et.isFetching&&!_e,shouldSuspend=(et,_e,tt)=>(et==null?void 0:et.suspense)&&willFetch(_e,tt),fetchOptimistic=(et,_e,tt)=>_e.fetchOptimistic(et).then(({data:rt})=>{et.onSuccess==null||et.onSuccess(rt),et.onSettled==null||et.onSettled(rt,null)}).catch(rt=>{tt.clearReset(),et.onError==null||et.onError(rt),et.onSettled==null||et.onSettled(void 0,rt)});function useBaseQuery(et,_e){const tt=useQueryClient({context:et.context}),rt=useIsRestoring(),nt=useQueryErrorResetBoundary(),it=tt.defaultQueryOptions(et);it._optimisticResults=rt?"isRestoring":"optimistic",it.onError&&(it.onError=notifyManager.batchCalls(it.onError)),it.onSuccess&&(it.onSuccess=notifyManager.batchCalls(it.onSuccess)),it.onSettled&&(it.onSettled=notifyManager.batchCalls(it.onSettled)),ensureStaleTime(it),ensurePreventErrorBoundaryRetry(it,nt),useClearResetErrorBoundary(nt);const[at]=react.exports.useState(()=>new _e(tt,it)),st=at.getOptimisticResult(it);if(useSyncExternalStore(react.exports.useCallback(ot=>rt?()=>{}:at.subscribe(notifyManager.batchCalls(ot)),[at,rt]),()=>at.getCurrentResult(),()=>at.getCurrentResult()),react.exports.useEffect(()=>{at.setOptions(it,{listeners:!1})},[it,at]),shouldSuspend(it,st,rt))throw fetchOptimistic(it,at,nt);if(getHasError({result:st,errorResetBoundary:nt,useErrorBoundary:it.useErrorBoundary,query:at.getCurrentQuery()}))throw st.error;return it.notifyOnChangeProps?st:at.trackResult(st)}function useQuery(et,_e,tt){const rt=parseQueryArgs(et,_e,tt);return useBaseQuery(rt,QueryObserver)}function useMutation(et,_e,tt){const rt=parseMutationArgs(et,_e,tt),nt=useQueryClient({context:rt.context}),[it]=react.exports.useState(()=>new MutationObserver$1(nt,rt));react.exports.useEffect(()=>{it.setOptions(rt)},[it,rt]);const at=useSyncExternalStore(react.exports.useCallback(ot=>it.subscribe(notifyManager.batchCalls(ot)),[it]),()=>it.getCurrentResult(),()=>it.getCurrentResult()),st=react.exports.useCallback((ot,ct)=>{it.mutate(ot,ct).catch(noop$4)},[it]);if(at.error&&shouldThrowError(it.options.useErrorBoundary,[at.error]))throw at.error;return{...at,mutate:st,mutateAsync:at.mutate}}function noop$4(){}var isProduction=!0,prefix$2="Invariant failed";function invariant(et,_e){if(!et){if(isProduction)throw new Error(prefix$2);var tt=typeof _e=="function"?_e():_e,rt=tt?"".concat(prefix$2,": ").concat(tt):prefix$2;throw new Error(rt)}}const QueryClientProviderWithDefault=et=>{let{queryClient:_e,children:tt}=et;const rt=react.exports.useMemo(()=>_e||new QueryClient,[_e]);return jsx(QueryClientProvider,{client:rt,children:tt})},NEVER_PERSIST_QUERY_POSTFIX={persist:!1};function neverPersist(et){return[...et,NEVER_PERSIST_QUERY_POSTFIX]}function requiredParamInvariant(et,_e){invariant(et!==null||et!==void 0,_e)}var bn$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(et){(function(_e,tt){function rt(Ct,vt){if(!Ct)throw new Error(vt||"Assertion failed")}function nt(Ct,vt){Ct.super_=vt;var Tt=function(){};Tt.prototype=vt.prototype,Ct.prototype=new Tt,Ct.prototype.constructor=Ct}function it(Ct,vt,Tt){if(it.isBN(Ct))return Ct;this.negative=0,this.words=null,this.length=0,this.red=null,Ct!==null&&((vt==="le"||vt==="be")&&(Tt=vt,vt=10),this._init(Ct||0,vt||10,Tt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=require$$0$5.Buffer}catch{}it.isBN=function(vt){return vt instanceof it?!0:vt!==null&&typeof vt=="object"&&vt.constructor.wordSize===it.wordSize&&Array.isArray(vt.words)},it.max=function(vt,Tt){return vt.cmp(Tt)>0?vt:Tt},it.min=function(vt,Tt){return vt.cmp(Tt)<0?vt:Tt},it.prototype._init=function(vt,Tt,Mt){if(typeof vt=="number")return this._initNumber(vt,Tt,Mt);if(typeof vt=="object")return this._initArray(vt,Tt,Mt);Tt==="hex"&&(Tt=16),rt(Tt===(Tt|0)&&Tt>=2&&Tt<=36),vt=vt.toString().replace(/\s+/g,"");var Nt=0;vt[0]==="-"&&(Nt++,this.negative=1),Nt<vt.length&&(Tt===16?this._parseHex(vt,Nt,Mt):(this._parseBase(vt,Tt,Nt),Mt==="le"&&this._initArray(this.toArray(),Tt,Mt)))},it.prototype._initNumber=function(vt,Tt,Mt){vt<0&&(this.negative=1,vt=-vt),vt<67108864?(this.words=[vt&67108863],this.length=1):vt<4503599627370496?(this.words=[vt&67108863,vt/67108864&67108863],this.length=2):(rt(vt<9007199254740992),this.words=[vt&67108863,vt/67108864&67108863,1],this.length=3),Mt==="le"&&this._initArray(this.toArray(),Tt,Mt)},it.prototype._initArray=function(vt,Tt,Mt){if(rt(typeof vt.length=="number"),vt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(vt.length/3),this.words=new Array(this.length);for(var Nt=0;Nt<this.length;Nt++)this.words[Nt]=0;var $t,St,Dt=0;if(Mt==="be")for(Nt=vt.length-1,$t=0;Nt>=0;Nt-=3)St=vt[Nt]|vt[Nt-1]<<8|vt[Nt-2]<<16,this.words[$t]|=St<<Dt&67108863,this.words[$t+1]=St>>>26-Dt&67108863,Dt+=24,Dt>=26&&(Dt-=26,$t++);else if(Mt==="le")for(Nt=0,$t=0;Nt<vt.length;Nt+=3)St=vt[Nt]|vt[Nt+1]<<8|vt[Nt+2]<<16,this.words[$t]|=St<<Dt&67108863,this.words[$t+1]=St>>>26-Dt&67108863,Dt+=24,Dt>=26&&(Dt-=26,$t++);return this._strip()};function st(Ct,vt){var Tt=Ct.charCodeAt(vt);if(Tt>=48&&Tt<=57)return Tt-48;if(Tt>=65&&Tt<=70)return Tt-55;if(Tt>=97&&Tt<=102)return Tt-87;rt(!1,"Invalid character in "+Ct)}function ot(Ct,vt,Tt){var Mt=st(Ct,Tt);return Tt-1>=vt&&(Mt|=st(Ct,Tt-1)<<4),Mt}it.prototype._parseHex=function(vt,Tt,Mt){this.length=Math.ceil((vt.length-Tt)/6),this.words=new Array(this.length);for(var Nt=0;Nt<this.length;Nt++)this.words[Nt]=0;var $t=0,St=0,Dt;if(Mt==="be")for(Nt=vt.length-1;Nt>=Tt;Nt-=2)Dt=ot(vt,Tt,Nt)<<$t,this.words[St]|=Dt&67108863,$t>=18?($t-=18,St+=1,this.words[St]|=Dt>>>26):$t+=8;else{var Rt=vt.length-Tt;for(Nt=Rt%2===0?Tt+1:Tt;Nt<vt.length;Nt+=2)Dt=ot(vt,Tt,Nt)<<$t,this.words[St]|=Dt&67108863,$t>=18?($t-=18,St+=1,this.words[St]|=Dt>>>26):$t+=8}this._strip()};function ct(Ct,vt,Tt,Mt){for(var Nt=0,$t=0,St=Math.min(Ct.length,Tt),Dt=vt;Dt<St;Dt++){var Rt=Ct.charCodeAt(Dt)-48;Nt*=Mt,Rt>=49?$t=Rt-49+10:Rt>=17?$t=Rt-17+10:$t=Rt,rt(Rt>=0&&$t<Mt,"Invalid character"),Nt+=$t}return Nt}it.prototype._parseBase=function(vt,Tt,Mt){this.words=[0],this.length=1;for(var Nt=0,$t=1;$t<=67108863;$t*=Tt)Nt++;Nt--,$t=$t/Tt|0;for(var St=vt.length-Mt,Dt=St%Nt,Rt=Math.min(St,St-Dt)+Mt,_t=0,Pt=Mt;Pt<Rt;Pt+=Nt)_t=ct(vt,Pt,Pt+Nt,Tt),this.imuln($t),this.words[0]+_t<67108864?this.words[0]+=_t:this._iaddn(_t);if(Dt!==0){var Vt=1;for(_t=ct(vt,Pt,vt.length,Tt),Pt=0;Pt<Dt;Pt++)Vt*=Tt;this.imuln(Vt),this.words[0]+_t<67108864?this.words[0]+=_t:this._iaddn(_t)}this._strip()},it.prototype.copy=function(vt){vt.words=new Array(this.length);for(var Tt=0;Tt<this.length;Tt++)vt.words[Tt]=this.words[Tt];vt.length=this.length,vt.negative=this.negative,vt.red=this.red};function lt(Ct,vt){Ct.words=vt.words,Ct.length=vt.length,Ct.negative=vt.negative,Ct.red=vt.red}if(it.prototype._move=function(vt){lt(vt,this)},it.prototype.clone=function(){var vt=new it(null);return this.copy(vt),vt},it.prototype._expand=function(vt){for(;this.length<vt;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=ut}catch{it.prototype.inspect=ut}else it.prototype.inspect=ut;function ut(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var dt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(vt,Tt){vt=vt||10,Tt=Tt|0||1;var Mt;if(vt===16||vt==="hex"){Mt="";for(var Nt=0,$t=0,St=0;St<this.length;St++){var Dt=this.words[St],Rt=((Dt<<Nt|$t)&16777215).toString(16);$t=Dt>>>24-Nt&16777215,Nt+=2,Nt>=26&&(Nt-=26,St--),$t!==0||St!==this.length-1?Mt=dt[6-Rt.length]+Rt+Mt:Mt=Rt+Mt}for($t!==0&&(Mt=$t.toString(16)+Mt);Mt.length%Tt!==0;)Mt="0"+Mt;return this.negative!==0&&(Mt="-"+Mt),Mt}if(vt===(vt|0)&&vt>=2&&vt<=36){var _t=mt[vt],Pt=gt[vt];Mt="";var Vt=this.clone();for(Vt.negative=0;!Vt.isZero();){var Bt=Vt.modrn(Pt).toString(vt);Vt=Vt.idivn(Pt),Vt.isZero()?Mt=Bt+Mt:Mt=dt[_t-Bt.length]+Bt+Mt}for(this.isZero()&&(Mt="0"+Mt);Mt.length%Tt!==0;)Mt="0"+Mt;return this.negative!==0&&(Mt="-"+Mt),Mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var vt=this.words[0];return this.length===2?vt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?vt+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-vt:vt},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(vt,Tt){return this.toArrayLike(at,vt,Tt)}),it.prototype.toArray=function(vt,Tt){return this.toArrayLike(Array,vt,Tt)};var bt=function(vt,Tt){return vt.allocUnsafe?vt.allocUnsafe(Tt):new vt(Tt)};it.prototype.toArrayLike=function(vt,Tt,Mt){this._strip();var Nt=this.byteLength(),$t=Mt||Math.max(1,Nt);rt(Nt<=$t,"byte array longer than desired length"),rt($t>0,"Requested array length <= 0");var St=bt(vt,$t),Dt=Tt==="le"?"LE":"BE";return this["_toArrayLike"+Dt](St,Nt),St},it.prototype._toArrayLikeLE=function(vt,Tt){for(var Mt=0,Nt=0,$t=0,St=0;$t<this.length;$t++){var Dt=this.words[$t]<<St|Nt;vt[Mt++]=Dt&255,Mt<vt.length&&(vt[Mt++]=Dt>>8&255),Mt<vt.length&&(vt[Mt++]=Dt>>16&255),St===6?(Mt<vt.length&&(vt[Mt++]=Dt>>24&255),Nt=0,St=0):(Nt=Dt>>>24,St+=2)}if(Mt<vt.length)for(vt[Mt++]=Nt;Mt<vt.length;)vt[Mt++]=0},it.prototype._toArrayLikeBE=function(vt,Tt){for(var Mt=vt.length-1,Nt=0,$t=0,St=0;$t<this.length;$t++){var Dt=this.words[$t]<<St|Nt;vt[Mt--]=Dt&255,Mt>=0&&(vt[Mt--]=Dt>>8&255),Mt>=0&&(vt[Mt--]=Dt>>16&255),St===6?(Mt>=0&&(vt[Mt--]=Dt>>24&255),Nt=0,St=0):(Nt=Dt>>>24,St+=2)}if(Mt>=0)for(vt[Mt--]=Nt;Mt>=0;)vt[Mt--]=0},Math.clz32?it.prototype._countBits=function(vt){return 32-Math.clz32(vt)}:it.prototype._countBits=function(vt){var Tt=vt,Mt=0;return Tt>=4096&&(Mt+=13,Tt>>>=13),Tt>=64&&(Mt+=7,Tt>>>=7),Tt>=8&&(Mt+=4,Tt>>>=4),Tt>=2&&(Mt+=2,Tt>>>=2),Mt+Tt},it.prototype._zeroBits=function(vt){if(vt===0)return 26;var Tt=vt,Mt=0;return(Tt&8191)===0&&(Mt+=13,Tt>>>=13),(Tt&127)===0&&(Mt+=7,Tt>>>=7),(Tt&15)===0&&(Mt+=4,Tt>>>=4),(Tt&3)===0&&(Mt+=2,Tt>>>=2),(Tt&1)===0&&Mt++,Mt},it.prototype.bitLength=function(){var vt=this.words[this.length-1],Tt=this._countBits(vt);return(this.length-1)*26+Tt};function ht(Ct){for(var vt=new Array(Ct.bitLength()),Tt=0;Tt<vt.length;Tt++){var Mt=Tt/26|0,Nt=Tt%26;vt[Tt]=Ct.words[Mt]>>>Nt&1}return vt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var vt=0,Tt=0;Tt<this.length;Tt++){var Mt=this._zeroBits(this.words[Tt]);if(vt+=Mt,Mt!==26)break}return vt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(vt){return this.negative!==0?this.abs().inotn(vt).iaddn(1):this.clone()},it.prototype.fromTwos=function(vt){return this.testn(vt-1)?this.notn(vt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(vt){for(;this.length<vt.length;)this.words[this.length++]=0;for(var Tt=0;Tt<vt.length;Tt++)this.words[Tt]=this.words[Tt]|vt.words[Tt];return this._strip()},it.prototype.ior=function(vt){return rt((this.negative|vt.negative)===0),this.iuor(vt)},it.prototype.or=function(vt){return this.length>vt.length?this.clone().ior(vt):vt.clone().ior(this)},it.prototype.uor=function(vt){return this.length>vt.length?this.clone().iuor(vt):vt.clone().iuor(this)},it.prototype.iuand=function(vt){var Tt;this.length>vt.length?Tt=vt:Tt=this;for(var Mt=0;Mt<Tt.length;Mt++)this.words[Mt]=this.words[Mt]&vt.words[Mt];return this.length=Tt.length,this._strip()},it.prototype.iand=function(vt){return rt((this.negative|vt.negative)===0),this.iuand(vt)},it.prototype.and=function(vt){return this.length>vt.length?this.clone().iand(vt):vt.clone().iand(this)},it.prototype.uand=function(vt){return this.length>vt.length?this.clone().iuand(vt):vt.clone().iuand(this)},it.prototype.iuxor=function(vt){var Tt,Mt;this.length>vt.length?(Tt=this,Mt=vt):(Tt=vt,Mt=this);for(var Nt=0;Nt<Mt.length;Nt++)this.words[Nt]=Tt.words[Nt]^Mt.words[Nt];if(this!==Tt)for(;Nt<Tt.length;Nt++)this.words[Nt]=Tt.words[Nt];return this.length=Tt.length,this._strip()},it.prototype.ixor=function(vt){return rt((this.negative|vt.negative)===0),this.iuxor(vt)},it.prototype.xor=function(vt){return this.length>vt.length?this.clone().ixor(vt):vt.clone().ixor(this)},it.prototype.uxor=function(vt){return this.length>vt.length?this.clone().iuxor(vt):vt.clone().iuxor(this)},it.prototype.inotn=function(vt){rt(typeof vt=="number"&&vt>=0);var Tt=Math.ceil(vt/26)|0,Mt=vt%26;this._expand(Tt),Mt>0&&Tt--;for(var Nt=0;Nt<Tt;Nt++)this.words[Nt]=~this.words[Nt]&67108863;return Mt>0&&(this.words[Nt]=~this.words[Nt]&67108863>>26-Mt),this._strip()},it.prototype.notn=function(vt){return this.clone().inotn(vt)},it.prototype.setn=function(vt,Tt){rt(typeof vt=="number"&&vt>=0);var Mt=vt/26|0,Nt=vt%26;return this._expand(Mt+1),Tt?this.words[Mt]=this.words[Mt]|1<<Nt:this.words[Mt]=this.words[Mt]&~(1<<Nt),this._strip()},it.prototype.iadd=function(vt){var Tt;if(this.negative!==0&&vt.negative===0)return this.negative=0,Tt=this.isub(vt),this.negative^=1,this._normSign();if(this.negative===0&&vt.negative!==0)return vt.negative=0,Tt=this.isub(vt),vt.negative=1,Tt._normSign();var Mt,Nt;this.length>vt.length?(Mt=this,Nt=vt):(Mt=vt,Nt=this);for(var $t=0,St=0;St<Nt.length;St++)Tt=(Mt.words[St]|0)+(Nt.words[St]|0)+$t,this.words[St]=Tt&67108863,$t=Tt>>>26;for(;$t!==0&&St<Mt.length;St++)Tt=(Mt.words[St]|0)+$t,this.words[St]=Tt&67108863,$t=Tt>>>26;if(this.length=Mt.length,$t!==0)this.words[this.length]=$t,this.length++;else if(Mt!==this)for(;St<Mt.length;St++)this.words[St]=Mt.words[St];return this},it.prototype.add=function(vt){var Tt;return vt.negative!==0&&this.negative===0?(vt.negative=0,Tt=this.sub(vt),vt.negative^=1,Tt):vt.negative===0&&this.negative!==0?(this.negative=0,Tt=vt.sub(this),this.negative=1,Tt):this.length>vt.length?this.clone().iadd(vt):vt.clone().iadd(this)},it.prototype.isub=function(vt){if(vt.negative!==0){vt.negative=0;var Tt=this.iadd(vt);return vt.negative=1,Tt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(vt),this.negative=1,this._normSign();var Mt=this.cmp(vt);if(Mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Nt,$t;Mt>0?(Nt=this,$t=vt):(Nt=vt,$t=this);for(var St=0,Dt=0;Dt<$t.length;Dt++)Tt=(Nt.words[Dt]|0)-($t.words[Dt]|0)+St,St=Tt>>26,this.words[Dt]=Tt&67108863;for(;St!==0&&Dt<Nt.length;Dt++)Tt=(Nt.words[Dt]|0)+St,St=Tt>>26,this.words[Dt]=Tt&67108863;if(St===0&&Dt<Nt.length&&Nt!==this)for(;Dt<Nt.length;Dt++)this.words[Dt]=Nt.words[Dt];return this.length=Math.max(this.length,Dt),Nt!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(vt){return this.clone().isub(vt)};function yt(Ct,vt,Tt){Tt.negative=vt.negative^Ct.negative;var Mt=Ct.length+vt.length|0;Tt.length=Mt,Mt=Mt-1|0;var Nt=Ct.words[0]|0,$t=vt.words[0]|0,St=Nt*$t,Dt=St&67108863,Rt=St/67108864|0;Tt.words[0]=Dt;for(var _t=1;_t<Mt;_t++){for(var Pt=Rt>>>26,Vt=Rt&67108863,Bt=Math.min(_t,vt.length-1),qt=Math.max(0,_t-Ct.length+1);qt<=Bt;qt++){var Yt=_t-qt|0;Nt=Ct.words[Yt]|0,$t=vt.words[qt]|0,St=Nt*$t+Vt,Pt+=St/67108864|0,Vt=St&67108863}Tt.words[_t]=Vt|0,Rt=Pt|0}return Rt!==0?Tt.words[_t]=Rt|0:Tt.length--,Tt._strip()}var wt=function(vt,Tt,Mt){var Nt=vt.words,$t=Tt.words,St=Mt.words,Dt=0,Rt,_t,Pt,Vt=Nt[0]|0,Bt=Vt&8191,qt=Vt>>>13,Yt=Nt[1]|0,Xt=Yt&8191,rr=Yt>>>13,lr=Nt[2]|0,Qt=lr&8191,Kt=lr>>>13,sr=Nt[3]|0,ir=sr&8191,hr=sr>>>13,er=Nt[4]|0,Ut=er&8191,zt=er>>>13,Jt=Nt[5]|0,nr=Jt&8191,ur=Jt>>>13,pr=Nt[6]|0,mr=pr&8191,yr=pr>>>13,Er=Nt[7]|0,gr=Er&8191,Gt=Er>>>13,Ft=Nt[8]|0,jt=Ft&8191,tr=Ft>>>13,ar=Nt[9]|0,cr=ar&8191,dr=ar>>>13,_r=$t[0]|0,xr=_r&8191,vr=_r>>>13,Fr=$t[1]|0,br=Fr&8191,Ar=Fr>>>13,Wr=$t[2]|0,$r=Wr&8191,Sr=Wr>>>13,Hr=$t[3]|0,kr=Hr&8191,Rr=Hr>>>13,zr=$t[4]|0,Ir=zr&8191,Pr=zr>>>13,qr=$t[5]|0,Mr=qr&8191,Cr=qr>>>13,jr=$t[6]|0,wr=jr&8191,Tr=jr>>>13,Vr=$t[7]|0,Nr=Vr&8191,Br=Vr>>>13,Xr=$t[8]|0,Or=Xr&8191,Dr=Xr>>>13,Yr=$t[9]|0,Lr=Yr&8191,Ur=Yr>>>13;Mt.negative=vt.negative^Tt.negative,Mt.length=19,Rt=Math.imul(Bt,xr),_t=Math.imul(Bt,vr),_t=_t+Math.imul(qt,xr)|0,Pt=Math.imul(qt,vr);var Gr=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,Rt=Math.imul(Xt,xr),_t=Math.imul(Xt,vr),_t=_t+Math.imul(rr,xr)|0,Pt=Math.imul(rr,vr),Rt=Rt+Math.imul(Bt,br)|0,_t=_t+Math.imul(Bt,Ar)|0,_t=_t+Math.imul(qt,br)|0,Pt=Pt+Math.imul(qt,Ar)|0;var Kr=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,Rt=Math.imul(Qt,xr),_t=Math.imul(Qt,vr),_t=_t+Math.imul(Kt,xr)|0,Pt=Math.imul(Kt,vr),Rt=Rt+Math.imul(Xt,br)|0,_t=_t+Math.imul(Xt,Ar)|0,_t=_t+Math.imul(rr,br)|0,Pt=Pt+Math.imul(rr,Ar)|0,Rt=Rt+Math.imul(Bt,$r)|0,_t=_t+Math.imul(Bt,Sr)|0,_t=_t+Math.imul(qt,$r)|0,Pt=Pt+Math.imul(qt,Sr)|0;var Zr=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,Rt=Math.imul(ir,xr),_t=Math.imul(ir,vr),_t=_t+Math.imul(hr,xr)|0,Pt=Math.imul(hr,vr),Rt=Rt+Math.imul(Qt,br)|0,_t=_t+Math.imul(Qt,Ar)|0,_t=_t+Math.imul(Kt,br)|0,Pt=Pt+Math.imul(Kt,Ar)|0,Rt=Rt+Math.imul(Xt,$r)|0,_t=_t+Math.imul(Xt,Sr)|0,_t=_t+Math.imul(rr,$r)|0,Pt=Pt+Math.imul(rr,Sr)|0,Rt=Rt+Math.imul(Bt,kr)|0,_t=_t+Math.imul(Bt,Rr)|0,_t=_t+Math.imul(qt,kr)|0,Pt=Pt+Math.imul(qt,Rr)|0;var Qr=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,Rt=Math.imul(Ut,xr),_t=Math.imul(Ut,vr),_t=_t+Math.imul(zt,xr)|0,Pt=Math.imul(zt,vr),Rt=Rt+Math.imul(ir,br)|0,_t=_t+Math.imul(ir,Ar)|0,_t=_t+Math.imul(hr,br)|0,Pt=Pt+Math.imul(hr,Ar)|0,Rt=Rt+Math.imul(Qt,$r)|0,_t=_t+Math.imul(Qt,Sr)|0,_t=_t+Math.imul(Kt,$r)|0,Pt=Pt+Math.imul(Kt,Sr)|0,Rt=Rt+Math.imul(Xt,kr)|0,_t=_t+Math.imul(Xt,Rr)|0,_t=_t+Math.imul(rr,kr)|0,Pt=Pt+Math.imul(rr,Rr)|0,Rt=Rt+Math.imul(Bt,Ir)|0,_t=_t+Math.imul(Bt,Pr)|0,_t=_t+Math.imul(qt,Ir)|0,Pt=Pt+Math.imul(qt,Pr)|0;var Jr=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,Rt=Math.imul(nr,xr),_t=Math.imul(nr,vr),_t=_t+Math.imul(ur,xr)|0,Pt=Math.imul(ur,vr),Rt=Rt+Math.imul(Ut,br)|0,_t=_t+Math.imul(Ut,Ar)|0,_t=_t+Math.imul(zt,br)|0,Pt=Pt+Math.imul(zt,Ar)|0,Rt=Rt+Math.imul(ir,$r)|0,_t=_t+Math.imul(ir,Sr)|0,_t=_t+Math.imul(hr,$r)|0,Pt=Pt+Math.imul(hr,Sr)|0,Rt=Rt+Math.imul(Qt,kr)|0,_t=_t+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Kt,kr)|0,Pt=Pt+Math.imul(Kt,Rr)|0,Rt=Rt+Math.imul(Xt,Ir)|0,_t=_t+Math.imul(Xt,Pr)|0,_t=_t+Math.imul(rr,Ir)|0,Pt=Pt+Math.imul(rr,Pr)|0,Rt=Rt+Math.imul(Bt,Mr)|0,_t=_t+Math.imul(Bt,Cr)|0,_t=_t+Math.imul(qt,Mr)|0,Pt=Pt+Math.imul(qt,Cr)|0;var tn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(tn>>>26)|0,tn&=67108863,Rt=Math.imul(mr,xr),_t=Math.imul(mr,vr),_t=_t+Math.imul(yr,xr)|0,Pt=Math.imul(yr,vr),Rt=Rt+Math.imul(nr,br)|0,_t=_t+Math.imul(nr,Ar)|0,_t=_t+Math.imul(ur,br)|0,Pt=Pt+Math.imul(ur,Ar)|0,Rt=Rt+Math.imul(Ut,$r)|0,_t=_t+Math.imul(Ut,Sr)|0,_t=_t+Math.imul(zt,$r)|0,Pt=Pt+Math.imul(zt,Sr)|0,Rt=Rt+Math.imul(ir,kr)|0,_t=_t+Math.imul(ir,Rr)|0,_t=_t+Math.imul(hr,kr)|0,Pt=Pt+Math.imul(hr,Rr)|0,Rt=Rt+Math.imul(Qt,Ir)|0,_t=_t+Math.imul(Qt,Pr)|0,_t=_t+Math.imul(Kt,Ir)|0,Pt=Pt+Math.imul(Kt,Pr)|0,Rt=Rt+Math.imul(Xt,Mr)|0,_t=_t+Math.imul(Xt,Cr)|0,_t=_t+Math.imul(rr,Mr)|0,Pt=Pt+Math.imul(rr,Cr)|0,Rt=Rt+Math.imul(Bt,wr)|0,_t=_t+Math.imul(Bt,Tr)|0,_t=_t+Math.imul(qt,wr)|0,Pt=Pt+Math.imul(qt,Tr)|0;var rn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(rn>>>26)|0,rn&=67108863,Rt=Math.imul(gr,xr),_t=Math.imul(gr,vr),_t=_t+Math.imul(Gt,xr)|0,Pt=Math.imul(Gt,vr),Rt=Rt+Math.imul(mr,br)|0,_t=_t+Math.imul(mr,Ar)|0,_t=_t+Math.imul(yr,br)|0,Pt=Pt+Math.imul(yr,Ar)|0,Rt=Rt+Math.imul(nr,$r)|0,_t=_t+Math.imul(nr,Sr)|0,_t=_t+Math.imul(ur,$r)|0,Pt=Pt+Math.imul(ur,Sr)|0,Rt=Rt+Math.imul(Ut,kr)|0,_t=_t+Math.imul(Ut,Rr)|0,_t=_t+Math.imul(zt,kr)|0,Pt=Pt+Math.imul(zt,Rr)|0,Rt=Rt+Math.imul(ir,Ir)|0,_t=_t+Math.imul(ir,Pr)|0,_t=_t+Math.imul(hr,Ir)|0,Pt=Pt+Math.imul(hr,Pr)|0,Rt=Rt+Math.imul(Qt,Mr)|0,_t=_t+Math.imul(Qt,Cr)|0,_t=_t+Math.imul(Kt,Mr)|0,Pt=Pt+Math.imul(Kt,Cr)|0,Rt=Rt+Math.imul(Xt,wr)|0,_t=_t+Math.imul(Xt,Tr)|0,_t=_t+Math.imul(rr,wr)|0,Pt=Pt+Math.imul(rr,Tr)|0,Rt=Rt+Math.imul(Bt,Nr)|0,_t=_t+Math.imul(Bt,Br)|0,_t=_t+Math.imul(qt,Nr)|0,Pt=Pt+Math.imul(qt,Br)|0;var nn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(nn>>>26)|0,nn&=67108863,Rt=Math.imul(jt,xr),_t=Math.imul(jt,vr),_t=_t+Math.imul(tr,xr)|0,Pt=Math.imul(tr,vr),Rt=Rt+Math.imul(gr,br)|0,_t=_t+Math.imul(gr,Ar)|0,_t=_t+Math.imul(Gt,br)|0,Pt=Pt+Math.imul(Gt,Ar)|0,Rt=Rt+Math.imul(mr,$r)|0,_t=_t+Math.imul(mr,Sr)|0,_t=_t+Math.imul(yr,$r)|0,Pt=Pt+Math.imul(yr,Sr)|0,Rt=Rt+Math.imul(nr,kr)|0,_t=_t+Math.imul(nr,Rr)|0,_t=_t+Math.imul(ur,kr)|0,Pt=Pt+Math.imul(ur,Rr)|0,Rt=Rt+Math.imul(Ut,Ir)|0,_t=_t+Math.imul(Ut,Pr)|0,_t=_t+Math.imul(zt,Ir)|0,Pt=Pt+Math.imul(zt,Pr)|0,Rt=Rt+Math.imul(ir,Mr)|0,_t=_t+Math.imul(ir,Cr)|0,_t=_t+Math.imul(hr,Mr)|0,Pt=Pt+Math.imul(hr,Cr)|0,Rt=Rt+Math.imul(Qt,wr)|0,_t=_t+Math.imul(Qt,Tr)|0,_t=_t+Math.imul(Kt,wr)|0,Pt=Pt+Math.imul(Kt,Tr)|0,Rt=Rt+Math.imul(Xt,Nr)|0,_t=_t+Math.imul(Xt,Br)|0,_t=_t+Math.imul(rr,Nr)|0,Pt=Pt+Math.imul(rr,Br)|0,Rt=Rt+Math.imul(Bt,Or)|0,_t=_t+Math.imul(Bt,Dr)|0,_t=_t+Math.imul(qt,Or)|0,Pt=Pt+Math.imul(qt,Dr)|0;var an=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(an>>>26)|0,an&=67108863,Rt=Math.imul(cr,xr),_t=Math.imul(cr,vr),_t=_t+Math.imul(dr,xr)|0,Pt=Math.imul(dr,vr),Rt=Rt+Math.imul(jt,br)|0,_t=_t+Math.imul(jt,Ar)|0,_t=_t+Math.imul(tr,br)|0,Pt=Pt+Math.imul(tr,Ar)|0,Rt=Rt+Math.imul(gr,$r)|0,_t=_t+Math.imul(gr,Sr)|0,_t=_t+Math.imul(Gt,$r)|0,Pt=Pt+Math.imul(Gt,Sr)|0,Rt=Rt+Math.imul(mr,kr)|0,_t=_t+Math.imul(mr,Rr)|0,_t=_t+Math.imul(yr,kr)|0,Pt=Pt+Math.imul(yr,Rr)|0,Rt=Rt+Math.imul(nr,Ir)|0,_t=_t+Math.imul(nr,Pr)|0,_t=_t+Math.imul(ur,Ir)|0,Pt=Pt+Math.imul(ur,Pr)|0,Rt=Rt+Math.imul(Ut,Mr)|0,_t=_t+Math.imul(Ut,Cr)|0,_t=_t+Math.imul(zt,Mr)|0,Pt=Pt+Math.imul(zt,Cr)|0,Rt=Rt+Math.imul(ir,wr)|0,_t=_t+Math.imul(ir,Tr)|0,_t=_t+Math.imul(hr,wr)|0,Pt=Pt+Math.imul(hr,Tr)|0,Rt=Rt+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,Br)|0,_t=_t+Math.imul(Kt,Nr)|0,Pt=Pt+Math.imul(Kt,Br)|0,Rt=Rt+Math.imul(Xt,Or)|0,_t=_t+Math.imul(Xt,Dr)|0,_t=_t+Math.imul(rr,Or)|0,Pt=Pt+Math.imul(rr,Dr)|0,Rt=Rt+Math.imul(Bt,Lr)|0,_t=_t+Math.imul(Bt,Ur)|0,_t=_t+Math.imul(qt,Lr)|0,Pt=Pt+Math.imul(qt,Ur)|0;var sn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(sn>>>26)|0,sn&=67108863,Rt=Math.imul(cr,br),_t=Math.imul(cr,Ar),_t=_t+Math.imul(dr,br)|0,Pt=Math.imul(dr,Ar),Rt=Rt+Math.imul(jt,$r)|0,_t=_t+Math.imul(jt,Sr)|0,_t=_t+Math.imul(tr,$r)|0,Pt=Pt+Math.imul(tr,Sr)|0,Rt=Rt+Math.imul(gr,kr)|0,_t=_t+Math.imul(gr,Rr)|0,_t=_t+Math.imul(Gt,kr)|0,Pt=Pt+Math.imul(Gt,Rr)|0,Rt=Rt+Math.imul(mr,Ir)|0,_t=_t+Math.imul(mr,Pr)|0,_t=_t+Math.imul(yr,Ir)|0,Pt=Pt+Math.imul(yr,Pr)|0,Rt=Rt+Math.imul(nr,Mr)|0,_t=_t+Math.imul(nr,Cr)|0,_t=_t+Math.imul(ur,Mr)|0,Pt=Pt+Math.imul(ur,Cr)|0,Rt=Rt+Math.imul(Ut,wr)|0,_t=_t+Math.imul(Ut,Tr)|0,_t=_t+Math.imul(zt,wr)|0,Pt=Pt+Math.imul(zt,Tr)|0,Rt=Rt+Math.imul(ir,Nr)|0,_t=_t+Math.imul(ir,Br)|0,_t=_t+Math.imul(hr,Nr)|0,Pt=Pt+Math.imul(hr,Br)|0,Rt=Rt+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Dr)|0,_t=_t+Math.imul(Kt,Or)|0,Pt=Pt+Math.imul(Kt,Dr)|0,Rt=Rt+Math.imul(Xt,Lr)|0,_t=_t+Math.imul(Xt,Ur)|0,_t=_t+Math.imul(rr,Lr)|0,Pt=Pt+Math.imul(rr,Ur)|0;var on=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(on>>>26)|0,on&=67108863,Rt=Math.imul(cr,$r),_t=Math.imul(cr,Sr),_t=_t+Math.imul(dr,$r)|0,Pt=Math.imul(dr,Sr),Rt=Rt+Math.imul(jt,kr)|0,_t=_t+Math.imul(jt,Rr)|0,_t=_t+Math.imul(tr,kr)|0,Pt=Pt+Math.imul(tr,Rr)|0,Rt=Rt+Math.imul(gr,Ir)|0,_t=_t+Math.imul(gr,Pr)|0,_t=_t+Math.imul(Gt,Ir)|0,Pt=Pt+Math.imul(Gt,Pr)|0,Rt=Rt+Math.imul(mr,Mr)|0,_t=_t+Math.imul(mr,Cr)|0,_t=_t+Math.imul(yr,Mr)|0,Pt=Pt+Math.imul(yr,Cr)|0,Rt=Rt+Math.imul(nr,wr)|0,_t=_t+Math.imul(nr,Tr)|0,_t=_t+Math.imul(ur,wr)|0,Pt=Pt+Math.imul(ur,Tr)|0,Rt=Rt+Math.imul(Ut,Nr)|0,_t=_t+Math.imul(Ut,Br)|0,_t=_t+Math.imul(zt,Nr)|0,Pt=Pt+Math.imul(zt,Br)|0,Rt=Rt+Math.imul(ir,Or)|0,_t=_t+Math.imul(ir,Dr)|0,_t=_t+Math.imul(hr,Or)|0,Pt=Pt+Math.imul(hr,Dr)|0,Rt=Rt+Math.imul(Qt,Lr)|0,_t=_t+Math.imul(Qt,Ur)|0,_t=_t+Math.imul(Kt,Lr)|0,Pt=Pt+Math.imul(Kt,Ur)|0;var cn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(cn>>>26)|0,cn&=67108863,Rt=Math.imul(cr,kr),_t=Math.imul(cr,Rr),_t=_t+Math.imul(dr,kr)|0,Pt=Math.imul(dr,Rr),Rt=Rt+Math.imul(jt,Ir)|0,_t=_t+Math.imul(jt,Pr)|0,_t=_t+Math.imul(tr,Ir)|0,Pt=Pt+Math.imul(tr,Pr)|0,Rt=Rt+Math.imul(gr,Mr)|0,_t=_t+Math.imul(gr,Cr)|0,_t=_t+Math.imul(Gt,Mr)|0,Pt=Pt+Math.imul(Gt,Cr)|0,Rt=Rt+Math.imul(mr,wr)|0,_t=_t+Math.imul(mr,Tr)|0,_t=_t+Math.imul(yr,wr)|0,Pt=Pt+Math.imul(yr,Tr)|0,Rt=Rt+Math.imul(nr,Nr)|0,_t=_t+Math.imul(nr,Br)|0,_t=_t+Math.imul(ur,Nr)|0,Pt=Pt+Math.imul(ur,Br)|0,Rt=Rt+Math.imul(Ut,Or)|0,_t=_t+Math.imul(Ut,Dr)|0,_t=_t+Math.imul(zt,Or)|0,Pt=Pt+Math.imul(zt,Dr)|0,Rt=Rt+Math.imul(ir,Lr)|0,_t=_t+Math.imul(ir,Ur)|0,_t=_t+Math.imul(hr,Lr)|0,Pt=Pt+Math.imul(hr,Ur)|0;var ln=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(ln>>>26)|0,ln&=67108863,Rt=Math.imul(cr,Ir),_t=Math.imul(cr,Pr),_t=_t+Math.imul(dr,Ir)|0,Pt=Math.imul(dr,Pr),Rt=Rt+Math.imul(jt,Mr)|0,_t=_t+Math.imul(jt,Cr)|0,_t=_t+Math.imul(tr,Mr)|0,Pt=Pt+Math.imul(tr,Cr)|0,Rt=Rt+Math.imul(gr,wr)|0,_t=_t+Math.imul(gr,Tr)|0,_t=_t+Math.imul(Gt,wr)|0,Pt=Pt+Math.imul(Gt,Tr)|0,Rt=Rt+Math.imul(mr,Nr)|0,_t=_t+Math.imul(mr,Br)|0,_t=_t+Math.imul(yr,Nr)|0,Pt=Pt+Math.imul(yr,Br)|0,Rt=Rt+Math.imul(nr,Or)|0,_t=_t+Math.imul(nr,Dr)|0,_t=_t+Math.imul(ur,Or)|0,Pt=Pt+Math.imul(ur,Dr)|0,Rt=Rt+Math.imul(Ut,Lr)|0,_t=_t+Math.imul(Ut,Ur)|0,_t=_t+Math.imul(zt,Lr)|0,Pt=Pt+Math.imul(zt,Ur)|0;var un=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(un>>>26)|0,un&=67108863,Rt=Math.imul(cr,Mr),_t=Math.imul(cr,Cr),_t=_t+Math.imul(dr,Mr)|0,Pt=Math.imul(dr,Cr),Rt=Rt+Math.imul(jt,wr)|0,_t=_t+Math.imul(jt,Tr)|0,_t=_t+Math.imul(tr,wr)|0,Pt=Pt+Math.imul(tr,Tr)|0,Rt=Rt+Math.imul(gr,Nr)|0,_t=_t+Math.imul(gr,Br)|0,_t=_t+Math.imul(Gt,Nr)|0,Pt=Pt+Math.imul(Gt,Br)|0,Rt=Rt+Math.imul(mr,Or)|0,_t=_t+Math.imul(mr,Dr)|0,_t=_t+Math.imul(yr,Or)|0,Pt=Pt+Math.imul(yr,Dr)|0,Rt=Rt+Math.imul(nr,Lr)|0,_t=_t+Math.imul(nr,Ur)|0,_t=_t+Math.imul(ur,Lr)|0,Pt=Pt+Math.imul(ur,Ur)|0;var dn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(dn>>>26)|0,dn&=67108863,Rt=Math.imul(cr,wr),_t=Math.imul(cr,Tr),_t=_t+Math.imul(dr,wr)|0,Pt=Math.imul(dr,Tr),Rt=Rt+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,Br)|0,_t=_t+Math.imul(tr,Nr)|0,Pt=Pt+Math.imul(tr,Br)|0,Rt=Rt+Math.imul(gr,Or)|0,_t=_t+Math.imul(gr,Dr)|0,_t=_t+Math.imul(Gt,Or)|0,Pt=Pt+Math.imul(Gt,Dr)|0,Rt=Rt+Math.imul(mr,Lr)|0,_t=_t+Math.imul(mr,Ur)|0,_t=_t+Math.imul(yr,Lr)|0,Pt=Pt+Math.imul(yr,Ur)|0;var fn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(fn>>>26)|0,fn&=67108863,Rt=Math.imul(cr,Nr),_t=Math.imul(cr,Br),_t=_t+Math.imul(dr,Nr)|0,Pt=Math.imul(dr,Br),Rt=Rt+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Dr)|0,_t=_t+Math.imul(tr,Or)|0,Pt=Pt+Math.imul(tr,Dr)|0,Rt=Rt+Math.imul(gr,Lr)|0,_t=_t+Math.imul(gr,Ur)|0,_t=_t+Math.imul(Gt,Lr)|0,Pt=Pt+Math.imul(Gt,Ur)|0;var hn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(hn>>>26)|0,hn&=67108863,Rt=Math.imul(cr,Or),_t=Math.imul(cr,Dr),_t=_t+Math.imul(dr,Or)|0,Pt=Math.imul(dr,Dr),Rt=Rt+Math.imul(jt,Lr)|0,_t=_t+Math.imul(jt,Ur)|0,_t=_t+Math.imul(tr,Lr)|0,Pt=Pt+Math.imul(tr,Ur)|0;var pn=(Dt+Rt|0)+((_t&8191)<<13)|0;Dt=(Pt+(_t>>>13)|0)+(pn>>>26)|0,pn&=67108863,Rt=Math.imul(cr,Lr),_t=Math.imul(cr,Ur),_t=_t+Math.imul(dr,Lr)|0,Pt=Math.imul(dr,Ur);var mn=(Dt+Rt|0)+((_t&8191)<<13)|0;return Dt=(Pt+(_t>>>13)|0)+(mn>>>26)|0,mn&=67108863,St[0]=Gr,St[1]=Kr,St[2]=Zr,St[3]=Qr,St[4]=Jr,St[5]=tn,St[6]=rn,St[7]=nn,St[8]=an,St[9]=sn,St[10]=on,St[11]=cn,St[12]=ln,St[13]=un,St[14]=dn,St[15]=fn,St[16]=hn,St[17]=pn,St[18]=mn,Dt!==0&&(St[19]=Dt,Mt.length++),Mt};Math.imul||(wt=yt);function xt(Ct,vt,Tt){Tt.negative=vt.negative^Ct.negative,Tt.length=Ct.length+vt.length;for(var Mt=0,Nt=0,$t=0;$t<Tt.length-1;$t++){var St=Nt;Nt=0;for(var Dt=Mt&67108863,Rt=Math.min($t,vt.length-1),_t=Math.max(0,$t-Ct.length+1);_t<=Rt;_t++){var Pt=$t-_t,Vt=Ct.words[Pt]|0,Bt=vt.words[_t]|0,qt=Vt*Bt,Yt=qt&67108863;St=St+(qt/67108864|0)|0,Yt=Yt+Dt|0,Dt=Yt&67108863,St=St+(Yt>>>26)|0,Nt+=St>>>26,St&=67108863}Tt.words[$t]=Dt,Mt=St,St=Nt}return Mt!==0?Tt.words[$t]=Mt:Tt.length--,Tt._strip()}function At(Ct,vt,Tt){return xt(Ct,vt,Tt)}it.prototype.mulTo=function(vt,Tt){var Mt,Nt=this.length+vt.length;return this.length===10&&vt.length===10?Mt=wt(this,vt,Tt):Nt<63?Mt=yt(this,vt,Tt):Nt<1024?Mt=xt(this,vt,Tt):Mt=At(this,vt,Tt),Mt},it.prototype.mul=function(vt){var Tt=new it(null);return Tt.words=new Array(this.length+vt.length),this.mulTo(vt,Tt)},it.prototype.mulf=function(vt){var Tt=new it(null);return Tt.words=new Array(this.length+vt.length),At(this,vt,Tt)},it.prototype.imul=function(vt){return this.clone().mulTo(vt,this)},it.prototype.imuln=function(vt){var Tt=vt<0;Tt&&(vt=-vt),rt(typeof vt=="number"),rt(vt<67108864);for(var Mt=0,Nt=0;Nt<this.length;Nt++){var $t=(this.words[Nt]|0)*vt,St=($t&67108863)+(Mt&67108863);Mt>>=26,Mt+=$t/67108864|0,Mt+=St>>>26,this.words[Nt]=St&67108863}return Mt!==0&&(this.words[Nt]=Mt,this.length++),Tt?this.ineg():this},it.prototype.muln=function(vt){return this.clone().imuln(vt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(vt){var Tt=ht(vt);if(Tt.length===0)return new it(1);for(var Mt=this,Nt=0;Nt<Tt.length&&Tt[Nt]===0;Nt++,Mt=Mt.sqr());if(++Nt<Tt.length)for(var $t=Mt.sqr();Nt<Tt.length;Nt++,$t=$t.sqr())Tt[Nt]!==0&&(Mt=Mt.mul($t));return Mt},it.prototype.iushln=function(vt){rt(typeof vt=="number"&&vt>=0);var Tt=vt%26,Mt=(vt-Tt)/26,Nt=67108863>>>26-Tt<<26-Tt,$t;if(Tt!==0){var St=0;for($t=0;$t<this.length;$t++){var Dt=this.words[$t]&Nt,Rt=(this.words[$t]|0)-Dt<<Tt;this.words[$t]=Rt|St,St=Dt>>>26-Tt}St&&(this.words[$t]=St,this.length++)}if(Mt!==0){for($t=this.length-1;$t>=0;$t--)this.words[$t+Mt]=this.words[$t];for($t=0;$t<Mt;$t++)this.words[$t]=0;this.length+=Mt}return this._strip()},it.prototype.ishln=function(vt){return rt(this.negative===0),this.iushln(vt)},it.prototype.iushrn=function(vt,Tt,Mt){rt(typeof vt=="number"&&vt>=0);var Nt;Tt?Nt=(Tt-Tt%26)/26:Nt=0;var $t=vt%26,St=Math.min((vt-$t)/26,this.length),Dt=67108863^67108863>>>$t<<$t,Rt=Mt;if(Nt-=St,Nt=Math.max(0,Nt),Rt){for(var _t=0;_t<St;_t++)Rt.words[_t]=this.words[_t];Rt.length=St}if(St!==0)if(this.length>St)for(this.length-=St,_t=0;_t<this.length;_t++)this.words[_t]=this.words[_t+St];else this.words[0]=0,this.length=1;var Pt=0;for(_t=this.length-1;_t>=0&&(Pt!==0||_t>=Nt);_t--){var Vt=this.words[_t]|0;this.words[_t]=Pt<<26-$t|Vt>>>$t,Pt=Vt&Dt}return Rt&&Pt!==0&&(Rt.words[Rt.length++]=Pt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(vt,Tt,Mt){return rt(this.negative===0),this.iushrn(vt,Tt,Mt)},it.prototype.shln=function(vt){return this.clone().ishln(vt)},it.prototype.ushln=function(vt){return this.clone().iushln(vt)},it.prototype.shrn=function(vt){return this.clone().ishrn(vt)},it.prototype.ushrn=function(vt){return this.clone().iushrn(vt)},it.prototype.testn=function(vt){rt(typeof vt=="number"&&vt>=0);var Tt=vt%26,Mt=(vt-Tt)/26,Nt=1<<Tt;if(this.length<=Mt)return!1;var $t=this.words[Mt];return!!($t&Nt)},it.prototype.imaskn=function(vt){rt(typeof vt=="number"&&vt>=0);var Tt=vt%26,Mt=(vt-Tt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=Mt)return this;if(Tt!==0&&Mt++,this.length=Math.min(Mt,this.length),Tt!==0){var Nt=67108863^67108863>>>Tt<<Tt;this.words[this.length-1]&=Nt}return this._strip()},it.prototype.maskn=function(vt){return this.clone().imaskn(vt)},it.prototype.iaddn=function(vt){return rt(typeof vt=="number"),rt(vt<67108864),vt<0?this.isubn(-vt):this.negative!==0?this.length===1&&(this.words[0]|0)<=vt?(this.words[0]=vt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(vt),this.negative=1,this):this._iaddn(vt)},it.prototype._iaddn=function(vt){this.words[0]+=vt;for(var Tt=0;Tt<this.length&&this.words[Tt]>=67108864;Tt++)this.words[Tt]-=67108864,Tt===this.length-1?this.words[Tt+1]=1:this.words[Tt+1]++;return this.length=Math.max(this.length,Tt+1),this},it.prototype.isubn=function(vt){if(rt(typeof vt=="number"),rt(vt<67108864),vt<0)return this.iaddn(-vt);if(this.negative!==0)return this.negative=0,this.iaddn(vt),this.negative=1,this;if(this.words[0]-=vt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Tt=0;Tt<this.length&&this.words[Tt]<0;Tt++)this.words[Tt]+=67108864,this.words[Tt+1]-=1;return this._strip()},it.prototype.addn=function(vt){return this.clone().iaddn(vt)},it.prototype.subn=function(vt){return this.clone().isubn(vt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(vt,Tt,Mt){var Nt=vt.length+Mt,$t;this._expand(Nt);var St,Dt=0;for($t=0;$t<vt.length;$t++){St=(this.words[$t+Mt]|0)+Dt;var Rt=(vt.words[$t]|0)*Tt;St-=Rt&67108863,Dt=(St>>26)-(Rt/67108864|0),this.words[$t+Mt]=St&67108863}for(;$t<this.length-Mt;$t++)St=(this.words[$t+Mt]|0)+Dt,Dt=St>>26,this.words[$t+Mt]=St&67108863;if(Dt===0)return this._strip();for(rt(Dt===-1),Dt=0,$t=0;$t<this.length;$t++)St=-(this.words[$t]|0)+Dt,Dt=St>>26,this.words[$t]=St&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(vt,Tt){var Mt=this.length-vt.length,Nt=this.clone(),$t=vt,St=$t.words[$t.length-1]|0,Dt=this._countBits(St);Mt=26-Dt,Mt!==0&&($t=$t.ushln(Mt),Nt.iushln(Mt),St=$t.words[$t.length-1]|0);var Rt=Nt.length-$t.length,_t;if(Tt!=="mod"){_t=new it(null),_t.length=Rt+1,_t.words=new Array(_t.length);for(var Pt=0;Pt<_t.length;Pt++)_t.words[Pt]=0}var Vt=Nt.clone()._ishlnsubmul($t,1,Rt);Vt.negative===0&&(Nt=Vt,_t&&(_t.words[Rt]=1));for(var Bt=Rt-1;Bt>=0;Bt--){var qt=(Nt.words[$t.length+Bt]|0)*67108864+(Nt.words[$t.length+Bt-1]|0);for(qt=Math.min(qt/St|0,67108863),Nt._ishlnsubmul($t,qt,Bt);Nt.negative!==0;)qt--,Nt.negative=0,Nt._ishlnsubmul($t,1,Bt),Nt.isZero()||(Nt.negative^=1);_t&&(_t.words[Bt]=qt)}return _t&&_t._strip(),Nt._strip(),Tt!=="div"&&Mt!==0&&Nt.iushrn(Mt),{div:_t||null,mod:Nt}},it.prototype.divmod=function(vt,Tt,Mt){if(rt(!vt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var Nt,$t,St;return this.negative!==0&&vt.negative===0?(St=this.neg().divmod(vt,Tt),Tt!=="mod"&&(Nt=St.div.neg()),Tt!=="div"&&($t=St.mod.neg(),Mt&&$t.negative!==0&&$t.iadd(vt)),{div:Nt,mod:$t}):this.negative===0&&vt.negative!==0?(St=this.divmod(vt.neg(),Tt),Tt!=="mod"&&(Nt=St.div.neg()),{div:Nt,mod:St.mod}):(this.negative&vt.negative)!==0?(St=this.neg().divmod(vt.neg(),Tt),Tt!=="div"&&($t=St.mod.neg(),Mt&&$t.negative!==0&&$t.isub(vt)),{div:St.div,mod:$t}):vt.length>this.length||this.cmp(vt)<0?{div:new it(0),mod:this}:vt.length===1?Tt==="div"?{div:this.divn(vt.words[0]),mod:null}:Tt==="mod"?{div:null,mod:new it(this.modrn(vt.words[0]))}:{div:this.divn(vt.words[0]),mod:new it(this.modrn(vt.words[0]))}:this._wordDiv(vt,Tt)},it.prototype.div=function(vt){return this.divmod(vt,"div",!1).div},it.prototype.mod=function(vt){return this.divmod(vt,"mod",!1).mod},it.prototype.umod=function(vt){return this.divmod(vt,"mod",!0).mod},it.prototype.divRound=function(vt){var Tt=this.divmod(vt);if(Tt.mod.isZero())return Tt.div;var Mt=Tt.div.negative!==0?Tt.mod.isub(vt):Tt.mod,Nt=vt.ushrn(1),$t=vt.andln(1),St=Mt.cmp(Nt);return St<0||$t===1&&St===0?Tt.div:Tt.div.negative!==0?Tt.div.isubn(1):Tt.div.iaddn(1)},it.prototype.modrn=function(vt){var Tt=vt<0;Tt&&(vt=-vt),rt(vt<=67108863);for(var Mt=(1<<26)%vt,Nt=0,$t=this.length-1;$t>=0;$t--)Nt=(Mt*Nt+(this.words[$t]|0))%vt;return Tt?-Nt:Nt},it.prototype.modn=function(vt){return this.modrn(vt)},it.prototype.idivn=function(vt){var Tt=vt<0;Tt&&(vt=-vt),rt(vt<=67108863);for(var Mt=0,Nt=this.length-1;Nt>=0;Nt--){var $t=(this.words[Nt]|0)+Mt*67108864;this.words[Nt]=$t/vt|0,Mt=$t%vt}return this._strip(),Tt?this.ineg():this},it.prototype.divn=function(vt){return this.clone().idivn(vt)},it.prototype.egcd=function(vt){rt(vt.negative===0),rt(!vt.isZero());var Tt=this,Mt=vt.clone();Tt.negative!==0?Tt=Tt.umod(vt):Tt=Tt.clone();for(var Nt=new it(1),$t=new it(0),St=new it(0),Dt=new it(1),Rt=0;Tt.isEven()&&Mt.isEven();)Tt.iushrn(1),Mt.iushrn(1),++Rt;for(var _t=Mt.clone(),Pt=Tt.clone();!Tt.isZero();){for(var Vt=0,Bt=1;(Tt.words[0]&Bt)===0&&Vt<26;++Vt,Bt<<=1);if(Vt>0)for(Tt.iushrn(Vt);Vt-- >0;)(Nt.isOdd()||$t.isOdd())&&(Nt.iadd(_t),$t.isub(Pt)),Nt.iushrn(1),$t.iushrn(1);for(var qt=0,Yt=1;(Mt.words[0]&Yt)===0&&qt<26;++qt,Yt<<=1);if(qt>0)for(Mt.iushrn(qt);qt-- >0;)(St.isOdd()||Dt.isOdd())&&(St.iadd(_t),Dt.isub(Pt)),St.iushrn(1),Dt.iushrn(1);Tt.cmp(Mt)>=0?(Tt.isub(Mt),Nt.isub(St),$t.isub(Dt)):(Mt.isub(Tt),St.isub(Nt),Dt.isub($t))}return{a:St,b:Dt,gcd:Mt.iushln(Rt)}},it.prototype._invmp=function(vt){rt(vt.negative===0),rt(!vt.isZero());var Tt=this,Mt=vt.clone();Tt.negative!==0?Tt=Tt.umod(vt):Tt=Tt.clone();for(var Nt=new it(1),$t=new it(0),St=Mt.clone();Tt.cmpn(1)>0&&Mt.cmpn(1)>0;){for(var Dt=0,Rt=1;(Tt.words[0]&Rt)===0&&Dt<26;++Dt,Rt<<=1);if(Dt>0)for(Tt.iushrn(Dt);Dt-- >0;)Nt.isOdd()&&Nt.iadd(St),Nt.iushrn(1);for(var _t=0,Pt=1;(Mt.words[0]&Pt)===0&&_t<26;++_t,Pt<<=1);if(_t>0)for(Mt.iushrn(_t);_t-- >0;)$t.isOdd()&&$t.iadd(St),$t.iushrn(1);Tt.cmp(Mt)>=0?(Tt.isub(Mt),Nt.isub($t)):(Mt.isub(Tt),$t.isub(Nt))}var Vt;return Tt.cmpn(1)===0?Vt=Nt:Vt=$t,Vt.cmpn(0)<0&&Vt.iadd(vt),Vt},it.prototype.gcd=function(vt){if(this.isZero())return vt.abs();if(vt.isZero())return this.abs();var Tt=this.clone(),Mt=vt.clone();Tt.negative=0,Mt.negative=0;for(var Nt=0;Tt.isEven()&&Mt.isEven();Nt++)Tt.iushrn(1),Mt.iushrn(1);do{for(;Tt.isEven();)Tt.iushrn(1);for(;Mt.isEven();)Mt.iushrn(1);var $t=Tt.cmp(Mt);if($t<0){var St=Tt;Tt=Mt,Mt=St}else if($t===0||Mt.cmpn(1)===0)break;Tt.isub(Mt)}while(!0);return Mt.iushln(Nt)},it.prototype.invm=function(vt){return this.egcd(vt).a.umod(vt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(vt){return this.words[0]&vt},it.prototype.bincn=function(vt){rt(typeof vt=="number");var Tt=vt%26,Mt=(vt-Tt)/26,Nt=1<<Tt;if(this.length<=Mt)return this._expand(Mt+1),this.words[Mt]|=Nt,this;for(var $t=Nt,St=Mt;$t!==0&&St<this.length;St++){var Dt=this.words[St]|0;Dt+=$t,$t=Dt>>>26,Dt&=67108863,this.words[St]=Dt}return $t!==0&&(this.words[St]=$t,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(vt){var Tt=vt<0;if(this.negative!==0&&!Tt)return-1;if(this.negative===0&&Tt)return 1;this._strip();var Mt;if(this.length>1)Mt=1;else{Tt&&(vt=-vt),rt(vt<=67108863,"Number is too big");var Nt=this.words[0]|0;Mt=Nt===vt?0:Nt<vt?-1:1}return this.negative!==0?-Mt|0:Mt},it.prototype.cmp=function(vt){if(this.negative!==0&&vt.negative===0)return-1;if(this.negative===0&&vt.negative!==0)return 1;var Tt=this.ucmp(vt);return this.negative!==0?-Tt|0:Tt},it.prototype.ucmp=function(vt){if(this.length>vt.length)return 1;if(this.length<vt.length)return-1;for(var Tt=0,Mt=this.length-1;Mt>=0;Mt--){var Nt=this.words[Mt]|0,$t=vt.words[Mt]|0;if(Nt!==$t){Nt<$t?Tt=-1:Nt>$t&&(Tt=1);break}}return Tt},it.prototype.gtn=function(vt){return this.cmpn(vt)===1},it.prototype.gt=function(vt){return this.cmp(vt)===1},it.prototype.gten=function(vt){return this.cmpn(vt)>=0},it.prototype.gte=function(vt){return this.cmp(vt)>=0},it.prototype.ltn=function(vt){return this.cmpn(vt)===-1},it.prototype.lt=function(vt){return this.cmp(vt)===-1},it.prototype.lten=function(vt){return this.cmpn(vt)<=0},it.prototype.lte=function(vt){return this.cmp(vt)<=0},it.prototype.eqn=function(vt){return this.cmpn(vt)===0},it.prototype.eq=function(vt){return this.cmp(vt)===0},it.red=function(vt){return new Et(vt)},it.prototype.toRed=function(vt){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),vt.convertTo(this)._forceRed(vt)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(vt){return this.red=vt,this},it.prototype.forceRed=function(vt){return rt(!this.red,"Already a number in reduction context"),this._forceRed(vt)},it.prototype.redAdd=function(vt){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,vt)},it.prototype.redIAdd=function(vt){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,vt)},it.prototype.redSub=function(vt){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,vt)},it.prototype.redISub=function(vt){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,vt)},it.prototype.redShl=function(vt){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,vt)},it.prototype.redMul=function(vt){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,vt),this.red.mul(this,vt)},it.prototype.redIMul=function(vt){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,vt),this.red.imul(this,vt)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(vt){return rt(this.red&&!vt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,vt)};var kt={k256:null,p224:null,p192:null,p25519:null};function Ot(Ct,vt){this.name=Ct,this.p=new it(vt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ot.prototype._tmp=function(){var vt=new it(null);return vt.words=new Array(Math.ceil(this.n/13)),vt},Ot.prototype.ireduce=function(vt){var Tt=vt,Mt;do this.split(Tt,this.tmp),Tt=this.imulK(Tt),Tt=Tt.iadd(this.tmp),Mt=Tt.bitLength();while(Mt>this.n);var Nt=Mt<this.n?-1:Tt.ucmp(this.p);return Nt===0?(Tt.words[0]=0,Tt.length=1):Nt>0?Tt.isub(this.p):Tt.strip!==void 0?Tt.strip():Tt._strip(),Tt},Ot.prototype.split=function(vt,Tt){vt.iushrn(this.n,0,Tt)},Ot.prototype.imulK=function(vt){return vt.imul(this.k)};function Wt(){Ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Wt,Ot),Wt.prototype.split=function(vt,Tt){for(var Mt=4194303,Nt=Math.min(vt.length,9),$t=0;$t<Nt;$t++)Tt.words[$t]=vt.words[$t];if(Tt.length=Nt,vt.length<=9){vt.words[0]=0,vt.length=1;return}var St=vt.words[9];for(Tt.words[Tt.length++]=St&Mt,$t=10;$t<vt.length;$t++){var Dt=vt.words[$t]|0;vt.words[$t-10]=(Dt&Mt)<<4|St>>>22,St=Dt}St>>>=22,vt.words[$t-10]=St,St===0&&vt.length>10?vt.length-=10:vt.length-=9},Wt.prototype.imulK=function(vt){vt.words[vt.length]=0,vt.words[vt.length+1]=0,vt.length+=2;for(var Tt=0,Mt=0;Mt<vt.length;Mt++){var Nt=vt.words[Mt]|0;Tt+=Nt*977,vt.words[Mt]=Tt&67108863,Tt=Nt*64+(Tt/67108864|0)}return vt.words[vt.length-1]===0&&(vt.length--,vt.words[vt.length-1]===0&&vt.length--),vt};function Ht(){Ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Ht,Ot);function Zt(){Ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(Zt,Ot);function Lt(){Ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Lt,Ot),Lt.prototype.imulK=function(vt){for(var Tt=0,Mt=0;Mt<vt.length;Mt++){var Nt=(vt.words[Mt]|0)*19+Tt,$t=Nt&67108863;Nt>>>=26,vt.words[Mt]=$t,Tt=Nt}return Tt!==0&&(vt.words[vt.length++]=Tt),vt},it._prime=function(vt){if(kt[vt])return kt[vt];var Tt;if(vt==="k256")Tt=new Wt;else if(vt==="p224")Tt=new Ht;else if(vt==="p192")Tt=new Zt;else if(vt==="p25519")Tt=new Lt;else throw new Error("Unknown prime "+vt);return kt[vt]=Tt,Tt};function Et(Ct){if(typeof Ct=="string"){var vt=it._prime(Ct);this.m=vt.p,this.prime=vt}else rt(Ct.gtn(1),"modulus must be greater than 1"),this.m=Ct,this.prime=null}Et.prototype._verify1=function(vt){rt(vt.negative===0,"red works only with positives"),rt(vt.red,"red works only with red numbers")},Et.prototype._verify2=function(vt,Tt){rt((vt.negative|Tt.negative)===0,"red works only with positives"),rt(vt.red&&vt.red===Tt.red,"red works only with red numbers")},Et.prototype.imod=function(vt){return this.prime?this.prime.ireduce(vt)._forceRed(this):(lt(vt,vt.umod(this.m)._forceRed(this)),vt)},Et.prototype.neg=function(vt){return vt.isZero()?vt.clone():this.m.sub(vt)._forceRed(this)},Et.prototype.add=function(vt,Tt){this._verify2(vt,Tt);var Mt=vt.add(Tt);return Mt.cmp(this.m)>=0&&Mt.isub(this.m),Mt._forceRed(this)},Et.prototype.iadd=function(vt,Tt){this._verify2(vt,Tt);var Mt=vt.iadd(Tt);return Mt.cmp(this.m)>=0&&Mt.isub(this.m),Mt},Et.prototype.sub=function(vt,Tt){this._verify2(vt,Tt);var Mt=vt.sub(Tt);return Mt.cmpn(0)<0&&Mt.iadd(this.m),Mt._forceRed(this)},Et.prototype.isub=function(vt,Tt){this._verify2(vt,Tt);var Mt=vt.isub(Tt);return Mt.cmpn(0)<0&&Mt.iadd(this.m),Mt},Et.prototype.shl=function(vt,Tt){return this._verify1(vt),this.imod(vt.ushln(Tt))},Et.prototype.imul=function(vt,Tt){return this._verify2(vt,Tt),this.imod(vt.imul(Tt))},Et.prototype.mul=function(vt,Tt){return this._verify2(vt,Tt),this.imod(vt.mul(Tt))},Et.prototype.isqr=function(vt){return this.imul(vt,vt.clone())},Et.prototype.sqr=function(vt){return this.mul(vt,vt)},Et.prototype.sqrt=function(vt){if(vt.isZero())return vt.clone();var Tt=this.m.andln(3);if(rt(Tt%2===1),Tt===3){var Mt=this.m.add(new it(1)).iushrn(2);return this.pow(vt,Mt)}for(var Nt=this.m.subn(1),$t=0;!Nt.isZero()&&Nt.andln(1)===0;)$t++,Nt.iushrn(1);rt(!Nt.isZero());var St=new it(1).toRed(this),Dt=St.redNeg(),Rt=this.m.subn(1).iushrn(1),_t=this.m.bitLength();for(_t=new it(2*_t*_t).toRed(this);this.pow(_t,Rt).cmp(Dt)!==0;)_t.redIAdd(Dt);for(var Pt=this.pow(_t,Nt),Vt=this.pow(vt,Nt.addn(1).iushrn(1)),Bt=this.pow(vt,Nt),qt=$t;Bt.cmp(St)!==0;){for(var Yt=Bt,Xt=0;Yt.cmp(St)!==0;Xt++)Yt=Yt.redSqr();rt(Xt<qt);var rr=this.pow(Pt,new it(1).iushln(qt-Xt-1));Vt=Vt.redMul(rr),Pt=rr.redSqr(),Bt=Bt.redMul(Pt),qt=Xt}return Vt},Et.prototype.invm=function(vt){var Tt=vt._invmp(this.m);return Tt.negative!==0?(Tt.negative=0,this.imod(Tt).redNeg()):this.imod(Tt)},Et.prototype.pow=function(vt,Tt){if(Tt.isZero())return new it(1).toRed(this);if(Tt.cmpn(1)===0)return vt.clone();var Mt=4,Nt=new Array(1<<Mt);Nt[0]=new it(1).toRed(this),Nt[1]=vt;for(var $t=2;$t<Nt.length;$t++)Nt[$t]=this.mul(Nt[$t-1],vt);var St=Nt[0],Dt=0,Rt=0,_t=Tt.bitLength()%26;for(_t===0&&(_t=26),$t=Tt.length-1;$t>=0;$t--){for(var Pt=Tt.words[$t],Vt=_t-1;Vt>=0;Vt--){var Bt=Pt>>Vt&1;if(St!==Nt[0]&&(St=this.sqr(St)),Bt===0&&Dt===0){Rt=0;continue}Dt<<=1,Dt|=Bt,Rt++,!(Rt!==Mt&&($t!==0||Vt!==0))&&(St=this.mul(St,Nt[Dt]),Rt=0,Dt=0)}_t=26}return St},Et.prototype.convertTo=function(vt){var Tt=vt.umod(this.m);return Tt===vt?Tt.clone():Tt},Et.prototype.convertFrom=function(vt){var Tt=vt.clone();return Tt.red=null,Tt},it.mont=function(vt){return new It(vt)};function It(Ct){Et.call(this,Ct),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(It,Et),It.prototype.convertTo=function(vt){return this.imod(vt.ushln(this.shift))},It.prototype.convertFrom=function(vt){var Tt=this.imod(vt.mul(this.rinv));return Tt.red=null,Tt},It.prototype.imul=function(vt,Tt){if(vt.isZero()||Tt.isZero())return vt.words[0]=0,vt.length=1,vt;var Mt=vt.imul(Tt),Nt=Mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$t=Mt.isub(Nt).iushrn(this.shift),St=$t;return $t.cmp(this.m)>=0?St=$t.isub(this.m):$t.cmpn(0)<0&&(St=$t.iadd(this.m)),St._forceRed(this)},It.prototype.mul=function(vt,Tt){if(vt.isZero()||Tt.isZero())return new it(0)._forceRed(this);var Mt=vt.mul(Tt),Nt=Mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$t=Mt.isub(Nt).iushrn(this.shift),St=$t;return $t.cmp(this.m)>=0?St=$t.isub(this.m):$t.cmpn(0)<0&&(St=$t.iadd(this.m)),St._forceRed(this)},It.prototype.invm=function(vt){var Tt=this.imod(vt._invmp(this.m).mul(this.r2));return Tt._forceRed(this)}})(et,commonjsGlobal)})(bn$1);const BN$4=bn$1.exports,version$t="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const et=[];if(["NFD","NFC","NFKD","NFKC"].forEach(_e=>{try{if("test".normalize(_e)!=="test")throw new Error("bad normalize")}catch{et.push(_e)}}),et.length)throw new Error("missing "+et.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(et){return et.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(et){et.DEBUG="DEBUG",et.INFO="INFO",et.WARNING="WARNING",et.ERROR="ERROR",et.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(et){et.UNKNOWN_ERROR="UNKNOWN_ERROR",et.NOT_IMPLEMENTED="NOT_IMPLEMENTED",et.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",et.NETWORK_ERROR="NETWORK_ERROR",et.SERVER_ERROR="SERVER_ERROR",et.TIMEOUT="TIMEOUT",et.BUFFER_OVERRUN="BUFFER_OVERRUN",et.NUMERIC_FAULT="NUMERIC_FAULT",et.MISSING_NEW="MISSING_NEW",et.INVALID_ARGUMENT="INVALID_ARGUMENT",et.MISSING_ARGUMENT="MISSING_ARGUMENT",et.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",et.CALL_EXCEPTION="CALL_EXCEPTION",et.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",et.NONCE_EXPIRED="NONCE_EXPIRED",et.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",et.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",et.TRANSACTION_REPLACED="TRANSACTION_REPLACED",et.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(_e){Object.defineProperty(this,"version",{enumerable:!0,value:_e,writable:!1})}_log(_e,tt){const rt=_e.toLowerCase();LogLevels[rt]==null&&this.throwArgumentError("invalid log level name","logLevel",_e),!(_logLevel>LogLevels[rt])&&console.log.apply(console,tt)}debug(..._e){this._log(Logger.levels.DEBUG,_e)}info(..._e){this._log(Logger.levels.INFO,_e)}warn(..._e){this._log(Logger.levels.WARNING,_e)}makeError(_e,tt,rt){if(_censorErrors)return this.makeError("censored error",tt,{});tt||(tt=Logger.errors.UNKNOWN_ERROR),rt||(rt={});const nt=[];Object.keys(rt).forEach(ot=>{const ct=rt[ot];try{if(ct instanceof Uint8Array){let lt="";for(let ut=0;ut<ct.length;ut++)lt+=HEX[ct[ut]>>4],lt+=HEX[ct[ut]&15];nt.push(ot+"=Uint8Array(0x"+lt+")")}else nt.push(ot+"="+JSON.stringify(ct))}catch{nt.push(ot+"="+JSON.stringify(rt[ot].toString()))}}),nt.push(`code=${tt}`),nt.push(`version=${this.version}`);const it=_e;let at="";switch(tt){case ErrorCode.NUMERIC_FAULT:{at="NUMERIC_FAULT";const ot=_e;switch(ot){case"overflow":case"underflow":case"division-by-zero":at+="-"+ot;break;case"negative-power":case"negative-width":at+="-unsupported";break;case"unbound-bitwise-result":at+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:at=tt;break}at&&(_e+=" [ See: https://links.ethers.org/v5-errors-"+at+" ]"),nt.length&&(_e+=" ("+nt.join(", ")+")");const st=new Error(_e);return st.reason=it,st.code=tt,Object.keys(rt).forEach(function(ot){st[ot]=rt[ot]}),st}throwError(_e,tt,rt){throw this.makeError(_e,tt,rt)}throwArgumentError(_e,tt,rt){return this.throwError(_e,Logger.errors.INVALID_ARGUMENT,{argument:tt,value:rt})}assert(_e,tt,rt,nt){_e||this.throwError(tt,rt,nt)}assertArgument(_e,tt,rt,nt){_e||this.throwArgumentError(tt,rt,nt)}checkNormalize(_e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(_e,tt){typeof _e=="number"&&(tt==null&&(tt="value not safe"),(_e<0||_e>=9007199254740991)&&this.throwError(tt,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:_e}),_e%1&&this.throwError(tt,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:_e}))}checkArgumentCount(_e,tt,rt){rt?rt=": "+rt:rt="",_e<tt&&this.throwError("missing argument"+rt,Logger.errors.MISSING_ARGUMENT,{count:_e,expectedCount:tt}),_e>tt&&this.throwError("too many arguments"+rt,Logger.errors.UNEXPECTED_ARGUMENT,{count:_e,expectedCount:tt})}checkNew(_e,tt){(_e===Object||_e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:tt.name})}checkAbstract(_e,tt){_e===tt?this.throwError("cannot instantiate abstract class "+JSON.stringify(tt.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:_e.name,operation:"new"}):(_e===Object||_e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:tt.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$t)),_globalLogger}static setCensorship(_e,tt){if(!_e&&tt&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!_e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!_e,_permanentCensorErrors=!!tt}static setLogLevel(_e){const tt=LogLevels[_e.toLowerCase()];if(tt==null){Logger.globalLogger().warn("invalid log level - "+_e);return}_logLevel=tt}static from(_e){return new Logger(_e)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel},get ErrorCode(){return ErrorCode},Logger},Symbol.toStringTag,{value:"Module"})),version$s="bytes/5.7.0",logger$I=new Logger(version$s);function isHexable(et){return!!et.toHexString}function addSlice(et){return et.slice||(et.slice=function(){const _e=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(et,_e)))}),et}function isBytesLike(et){return isHexString$4(et)&&!(et.length%2)||isBytes(et)}function isInteger(et){return typeof et=="number"&&et==et&&et%1===0}function isBytes(et){if(et==null)return!1;if(et.constructor===Uint8Array)return!0;if(typeof et=="string"||!isInteger(et.length)||et.length<0)return!1;for(let _e=0;_e<et.length;_e++){const tt=et[_e];if(!isInteger(tt)||tt<0||tt>=256)return!1}return!0}function arrayify(et,_e){if(_e||(_e={}),typeof et=="number"){logger$I.checkSafeUint53(et,"invalid arrayify value");const tt=[];for(;et;)tt.unshift(et&255),et=parseInt(String(et/256));return tt.length===0&&tt.push(0),addSlice(new Uint8Array(tt))}if(_e.allowMissingPrefix&&typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),isHexable(et)&&(et=et.toHexString()),isHexString$4(et)){let tt=et.substring(2);tt.length%2&&(_e.hexPad==="left"?tt="0"+tt:_e.hexPad==="right"?tt+="0":logger$I.throwArgumentError("hex data is odd-length","value",et));const rt=[];for(let nt=0;nt<tt.length;nt+=2)rt.push(parseInt(tt.substring(nt,nt+2),16));return addSlice(new Uint8Array(rt))}return isBytes(et)?addSlice(new Uint8Array(et)):logger$I.throwArgumentError("invalid arrayify value","value",et)}function concat$c(et){const _e=et.map(nt=>arrayify(nt)),tt=_e.reduce((nt,it)=>nt+it.length,0),rt=new Uint8Array(tt);return _e.reduce((nt,it)=>(rt.set(it,nt),nt+it.length),0),addSlice(rt)}function stripZeros(et){let _e=arrayify(et);if(_e.length===0)return _e;let tt=0;for(;tt<_e.length&&_e[tt]===0;)tt++;return tt&&(_e=_e.slice(tt)),_e}function zeroPad(et,_e){et=arrayify(et),et.length>_e&&logger$I.throwArgumentError("value out of range","value",arguments[0]);const tt=new Uint8Array(_e);return tt.set(et,_e-et.length),addSlice(tt)}function isHexString$4(et,_e){return!(typeof et!="string"||!et.match(/^0x[0-9A-Fa-f]*$/)||_e&&et.length!==2+2*_e)}const HexCharacters="0123456789abcdef";function hexlify(et,_e){if(_e||(_e={}),typeof et=="number"){logger$I.checkSafeUint53(et,"invalid hexlify value");let tt="";for(;et;)tt=HexCharacters[et&15]+tt,et=Math.floor(et/16);return tt.length?(tt.length%2&&(tt="0"+tt),"0x"+tt):"0x00"}if(typeof et=="bigint")return et=et.toString(16),et.length%2?"0x0"+et:"0x"+et;if(_e.allowMissingPrefix&&typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),isHexable(et))return et.toHexString();if(isHexString$4(et))return et.length%2&&(_e.hexPad==="left"?et="0x0"+et.substring(2):_e.hexPad==="right"?et+="0":logger$I.throwArgumentError("hex data is odd-length","value",et)),et.toLowerCase();if(isBytes(et)){let tt="0x";for(let rt=0;rt<et.length;rt++){let nt=et[rt];tt+=HexCharacters[(nt&240)>>4]+HexCharacters[nt&15]}return tt}return logger$I.throwArgumentError("invalid hexlify value","value",et)}function hexDataLength(et){if(typeof et!="string")et=hexlify(et);else if(!isHexString$4(et)||et.length%2)return null;return(et.length-2)/2}function hexDataSlice(et,_e,tt){return typeof et!="string"?et=hexlify(et):(!isHexString$4(et)||et.length%2)&&logger$I.throwArgumentError("invalid hexData","value",et),_e=2+2*_e,tt!=null?"0x"+et.substring(_e,2+2*tt):"0x"+et.substring(_e)}function hexConcat(et){let _e="0x";return et.forEach(tt=>{_e+=hexlify(tt).substring(2)}),_e}function hexValue(et){const _e=hexStripZeros(hexlify(et,{hexPad:"left"}));return _e==="0x"?"0x0":_e}function hexStripZeros(et){typeof et!="string"&&(et=hexlify(et)),isHexString$4(et)||logger$I.throwArgumentError("invalid hex string","value",et),et=et.substring(2);let _e=0;for(;_e<et.length&&et[_e]==="0";)_e++;return"0x"+et.substring(_e)}function hexZeroPad(et,_e){for(typeof et!="string"?et=hexlify(et):isHexString$4(et)||logger$I.throwArgumentError("invalid hex string","value",et),et.length>2*_e+2&&logger$I.throwArgumentError("value out of range","value",arguments[1]);et.length<2*_e+2;)et="0x0"+et.substring(2);return et}function splitSignature(et){const _e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(et)){let tt=arrayify(et);tt.length===64?(_e.v=27+(tt[32]>>7),tt[32]&=127,_e.r=hexlify(tt.slice(0,32)),_e.s=hexlify(tt.slice(32,64))):tt.length===65?(_e.r=hexlify(tt.slice(0,32)),_e.s=hexlify(tt.slice(32,64)),_e.v=tt[64]):logger$I.throwArgumentError("invalid signature string","signature",et),_e.v<27&&(_e.v===0||_e.v===1?_e.v+=27:logger$I.throwArgumentError("signature invalid v byte","signature",et)),_e.recoveryParam=1-_e.v%2,_e.recoveryParam&&(tt[32]|=128),_e._vs=hexlify(tt.slice(32,64))}else{if(_e.r=et.r,_e.s=et.s,_e.v=et.v,_e.recoveryParam=et.recoveryParam,_e._vs=et._vs,_e._vs!=null){const nt=zeroPad(arrayify(_e._vs),32);_e._vs=hexlify(nt);const it=nt[0]>=128?1:0;_e.recoveryParam==null?_e.recoveryParam=it:_e.recoveryParam!==it&&logger$I.throwArgumentError("signature recoveryParam mismatch _vs","signature",et),nt[0]&=127;const at=hexlify(nt);_e.s==null?_e.s=at:_e.s!==at&&logger$I.throwArgumentError("signature v mismatch _vs","signature",et)}if(_e.recoveryParam==null)_e.v==null?logger$I.throwArgumentError("signature missing v and recoveryParam","signature",et):_e.v===0||_e.v===1?_e.recoveryParam=_e.v:_e.recoveryParam=1-_e.v%2;else if(_e.v==null)_e.v=27+_e.recoveryParam;else{const nt=_e.v===0||_e.v===1?_e.v:1-_e.v%2;_e.recoveryParam!==nt&&logger$I.throwArgumentError("signature recoveryParam mismatch v","signature",et)}_e.r==null||!isHexString$4(_e.r)?logger$I.throwArgumentError("signature missing or invalid r","signature",et):_e.r=hexZeroPad(_e.r,32),_e.s==null||!isHexString$4(_e.s)?logger$I.throwArgumentError("signature missing or invalid s","signature",et):_e.s=hexZeroPad(_e.s,32);const tt=arrayify(_e.s);tt[0]>=128&&logger$I.throwArgumentError("signature s out of range","signature",et),_e.recoveryParam&&(tt[0]|=128);const rt=hexlify(tt);_e._vs&&(isHexString$4(_e._vs)||logger$I.throwArgumentError("signature invalid _vs","signature",et),_e._vs=hexZeroPad(_e._vs,32)),_e._vs==null?_e._vs=rt:_e._vs!==rt&&logger$I.throwArgumentError("signature _vs mismatch v and s","signature",et)}return _e.yParityAndS=_e._vs,_e.compact=_e.r+_e.yParityAndS.substring(2),_e}function joinSignature(et){return et=splitSignature(et),hexlify(concat$c([et.r,et.s,et.recoveryParam?"0x1c":"0x1b"]))}const lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike,isBytes,arrayify,concat:concat$c,stripZeros,zeroPad,isHexString:isHexString$4,hexlify,hexDataLength,hexDataSlice,hexConcat,hexValue,hexStripZeros,hexZeroPad,splitSignature,joinSignature},Symbol.toStringTag,{value:"Module"})),version$r="bignumber/5.7.0";var BN$3=BN$4.BN;const logger$H=new Logger(version$r),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(et){return et!=null&&(BigNumber.isBigNumber(et)||typeof et=="number"&&et%1===0||typeof et=="string"&&!!et.match(/^-?[0-9]+$/)||isHexString$4(et)||typeof et=="bigint"||isBytes(et))}let _warnedToStringRadix=!1;class BigNumber{constructor(_e,tt){_e!==_constructorGuard$4&&logger$H.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=tt,this._isBigNumber=!0,Object.freeze(this)}fromTwos(_e){return toBigNumber(toBN(this).fromTwos(_e))}toTwos(_e){return toBigNumber(toBN(this).toTwos(_e))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(_e){return toBigNumber(toBN(this).add(toBN(_e)))}sub(_e){return toBigNumber(toBN(this).sub(toBN(_e)))}div(_e){return BigNumber.from(_e).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(_e)))}mul(_e){return toBigNumber(toBN(this).mul(toBN(_e)))}mod(_e){const tt=toBN(_e);return tt.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(tt))}pow(_e){const tt=toBN(_e);return tt.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(tt))}and(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(tt))}or(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(tt))}xor(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(tt))}mask(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(_e))}shl(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(_e))}shr(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(_e))}eq(_e){return toBN(this).eq(toBN(_e))}lt(_e){return toBN(this).lt(toBN(_e))}lte(_e){return toBN(this).lte(toBN(_e))}gt(_e){return toBN(this).gt(toBN(_e))}gte(_e){return toBN(this).gte(toBN(_e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$H.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$H.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$H.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$H.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(_e){return{type:"BigNumber",hex:this.toHexString()}}static from(_e){if(_e instanceof BigNumber)return _e;if(typeof _e=="string")return _e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$4,toHex$2(_e)):_e.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$4,toHex$2(new BN$3(_e))):logger$H.throwArgumentError("invalid BigNumber string","value",_e);if(typeof _e=="number")return _e%1&&throwFault$1("underflow","BigNumber.from",_e),(_e>=MAX_SAFE||_e<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",_e),BigNumber.from(String(_e));const tt=_e;if(typeof tt=="bigint")return BigNumber.from(tt.toString());if(isBytes(tt))return BigNumber.from(hexlify(tt));if(tt)if(tt.toHexString){const rt=tt.toHexString();if(typeof rt=="string")return BigNumber.from(rt)}else{let rt=tt._hex;if(rt==null&&tt.type==="BigNumber"&&(rt=tt.hex),typeof rt=="string"&&(isHexString$4(rt)||rt[0]==="-"&&isHexString$4(rt.substring(1))))return BigNumber.from(rt)}return logger$H.throwArgumentError("invalid BigNumber value","value",_e)}static isBigNumber(_e){return!!(_e&&_e._isBigNumber)}}function toHex$2(et){if(typeof et!="string")return toHex$2(et.toString(16));if(et[0]==="-")return et=et.substring(1),et[0]==="-"&&logger$H.throwArgumentError("invalid hex","value",et),et=toHex$2(et),et==="0x00"?et:"-"+et;if(et.substring(0,2)!=="0x"&&(et="0x"+et),et==="0x")return"0x00";for(et.length%2&&(et="0x0"+et.substring(2));et.length>4&&et.substring(0,4)==="0x00";)et="0x"+et.substring(4);return et}function toBigNumber(et){return BigNumber.from(toHex$2(et))}function toBN(et){const _e=BigNumber.from(et).toHexString();return _e[0]==="-"?new BN$3("-"+_e.substring(3),16):new BN$3(_e.substring(2),16)}function throwFault$1(et,_e,tt){const rt={fault:et,operation:_e};return tt!=null&&(rt.value=tt),logger$H.throwError(et,Logger.errors.NUMERIC_FAULT,rt)}function _base36To16(et){return new BN$3(et,36).toString(16)}function _base16To36(et){return new BN$3(et,16).toString(36)}const logger$G=new Logger(version$r),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(et,_e,tt,rt){const nt={fault:_e,operation:tt};return rt!==void 0&&(nt.value=rt),logger$G.throwError(et,Logger.errors.NUMERIC_FAULT,nt)}let zeros$1="0";for(;zeros$1.length<256;)zeros$1+=zeros$1;function getMultiplier(et){if(typeof et!="number")try{et=BigNumber.from(et).toNumber()}catch{}return typeof et=="number"&&et>=0&&et<=256&&!(et%1)?"1"+zeros$1.substring(0,et):logger$G.throwArgumentError("invalid decimal size","decimals",et)}function formatFixed(et,_e){_e==null&&(_e=0);const tt=getMultiplier(_e);et=BigNumber.from(et);const rt=et.lt(Zero$2);rt&&(et=et.mul(NegativeOne$2));let nt=et.mod(tt).toString();for(;nt.length<tt.length-1;)nt="0"+nt;nt=nt.match(/^([0-9]*[1-9]|0)(0*)/)[1];const it=et.div(tt).toString();return tt.length===1?et=it:et=it+"."+nt,rt&&(et="-"+et),et}function parseFixed(et,_e){_e==null&&(_e=0);const tt=getMultiplier(_e);(typeof et!="string"||!et.match(/^-?[0-9.]+$/))&&logger$G.throwArgumentError("invalid decimal value","value",et);const rt=et.substring(0,1)==="-";rt&&(et=et.substring(1)),et==="."&&logger$G.throwArgumentError("missing value","value",et);const nt=et.split(".");nt.length>2&&logger$G.throwArgumentError("too many decimal points","value",et);let it=nt[0],at=nt[1];for(it||(it="0"),at||(at="0");at[at.length-1]==="0";)at=at.substring(0,at.length-1);for(at.length>tt.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),at===""&&(at="0");at.length<tt.length-1;)at+="0";const st=BigNumber.from(it),ot=BigNumber.from(at);let ct=st.mul(tt).add(ot);return rt&&(ct=ct.mul(NegativeOne$2)),ct}class FixedFormat{constructor(_e,tt,rt,nt){_e!==_constructorGuard$3&&logger$G.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=tt,this.width=rt,this.decimals=nt,this.name=(tt?"":"u")+"fixed"+String(rt)+"x"+String(nt),this._multiplier=getMultiplier(nt),Object.freeze(this)}static from(_e){if(_e instanceof FixedFormat)return _e;typeof _e=="number"&&(_e=`fixed128x${_e}`);let tt=!0,rt=128,nt=18;if(typeof _e=="string"){if(_e!=="fixed")if(_e==="ufixed")tt=!1;else{const it=_e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);it||logger$G.throwArgumentError("invalid fixed format","format",_e),tt=it[1]!=="u",rt=parseInt(it[2]),nt=parseInt(it[3])}}else if(_e){const it=(at,st,ot)=>_e[at]==null?ot:(typeof _e[at]!==st&&logger$G.throwArgumentError("invalid fixed format ("+at+" not "+st+")","format."+at,_e[at]),_e[at]);tt=it("signed","boolean",tt),rt=it("width","number",rt),nt=it("decimals","number",nt)}return rt%8&&logger$G.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",rt),nt>80&&logger$G.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",nt),new FixedFormat(_constructorGuard$3,tt,rt,nt)}}class FixedNumber{constructor(_e,tt,rt,nt){_e!==_constructorGuard$3&&logger$G.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=nt,this._hex=tt,this._value=rt,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(_e){this.format.name!==_e.format.name&&logger$G.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",_e)}addUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.add(rt),this.format.decimals,this.format)}subUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.sub(rt),this.format.decimals,this.format)}mulUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.mul(rt).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.mul(this.format._multiplier).div(rt),this.format.decimals,this.format)}floor(){const _e=this.toString().split(".");_e.length===1&&_e.push("0");let tt=FixedNumber.from(_e[0],this.format);const rt=!_e[1].match(/^(0*)$/);return this.isNegative()&&rt&&(tt=tt.subUnsafe(ONE.toFormat(tt.format))),tt}ceiling(){const _e=this.toString().split(".");_e.length===1&&_e.push("0");let tt=FixedNumber.from(_e[0],this.format);const rt=!_e[1].match(/^(0*)$/);return!this.isNegative()&&rt&&(tt=tt.addUnsafe(ONE.toFormat(tt.format))),tt}round(_e){_e==null&&(_e=0);const tt=this.toString().split(".");if(tt.length===1&&tt.push("0"),(_e<0||_e>80||_e%1)&&logger$G.throwArgumentError("invalid decimal count","decimals",_e),tt[1].length<=_e)return this;const rt=FixedNumber.from("1"+zeros$1.substring(0,_e),this.format),nt=BUMP.toFormat(this.format);return this.mulUnsafe(rt).addUnsafe(nt).floor().divUnsafe(rt)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(_e){if(_e==null)return this._hex;_e%8&&logger$G.throwArgumentError("invalid byte width","width",_e);const tt=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(_e).toHexString();return hexZeroPad(tt,_e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(_e){return FixedNumber.fromString(this._value,_e)}static fromValue(_e,tt,rt){return rt==null&&tt!=null&&!isBigNumberish(tt)&&(rt=tt,tt=null),tt==null&&(tt=0),rt==null&&(rt="fixed"),FixedNumber.fromString(formatFixed(_e,tt),FixedFormat.from(rt))}static fromString(_e,tt){tt==null&&(tt="fixed");const rt=FixedFormat.from(tt),nt=parseFixed(_e,rt.decimals);!rt.signed&&nt.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",_e);let it=null;rt.signed?it=nt.toTwos(rt.width).toHexString():(it=nt.toHexString(),it=hexZeroPad(it,rt.width/8));const at=formatFixed(nt,rt.decimals);return new FixedNumber(_constructorGuard$3,it,at,rt)}static fromBytes(_e,tt){tt==null&&(tt="fixed");const rt=FixedFormat.from(tt);if(arrayify(_e).length>rt.width/8)throw new Error("overflow");let nt=BigNumber.from(_e);rt.signed&&(nt=nt.fromTwos(rt.width));const it=nt.toTwos((rt.signed?0:1)+rt.width).toHexString(),at=formatFixed(nt,rt.decimals);return new FixedNumber(_constructorGuard$3,it,at,rt)}static from(_e,tt){if(typeof _e=="string")return FixedNumber.fromString(_e,tt);if(isBytes(_e))return FixedNumber.fromBytes(_e,tt);try{return FixedNumber.fromValue(_e,0,tt)}catch(rt){if(rt.code!==Logger.errors.INVALID_ARGUMENT)throw rt}return logger$G.throwArgumentError("invalid FixedNumber value","value",_e)}static isFixedNumber(_e){return!!(_e&&_e._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$q="properties/5.7.0";var __awaiter$g=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$F=new Logger(version$q);function defineReadOnly(et,_e,tt){Object.defineProperty(et,_e,{enumerable:!0,value:tt,writable:!1})}function getStatic(et,_e){for(let tt=0;tt<32;tt++){if(et[_e])return et[_e];if(!et.prototype||typeof et.prototype!="object")break;et=Object.getPrototypeOf(et.prototype).constructor}return null}function resolveProperties(et){return __awaiter$g(this,void 0,void 0,function*(){const _e=Object.keys(et).map(rt=>{const nt=et[rt];return Promise.resolve(nt).then(it=>({key:rt,value:it}))});return(yield Promise.all(_e)).reduce((rt,nt)=>(rt[nt.key]=nt.value,rt),{})})}function checkProperties(et,_e){(!et||typeof et!="object")&&logger$F.throwArgumentError("invalid object","object",et),Object.keys(et).forEach(tt=>{_e[tt]||logger$F.throwArgumentError("invalid object key - "+tt,"transaction:"+tt,et)})}function shallowCopy(et){const _e={};for(const tt in et)_e[tt]=et[tt];return _e}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(et){if(et==null||opaque[typeof et])return!0;if(Array.isArray(et)||typeof et=="object"){if(!Object.isFrozen(et))return!1;const _e=Object.keys(et);for(let tt=0;tt<_e.length;tt++){let rt=null;try{rt=et[_e[tt]]}catch{continue}if(!_isFrozen(rt))return!1}return!0}return logger$F.throwArgumentError(`Cannot deepCopy ${typeof et}`,"object",et)}function _deepCopy(et){if(_isFrozen(et))return et;if(Array.isArray(et))return Object.freeze(et.map(_e=>deepCopy(_e)));if(typeof et=="object"){const _e={};for(const tt in et){const rt=et[tt];rt!==void 0&&defineReadOnly(_e,tt,deepCopy(rt))}return _e}return logger$F.throwArgumentError(`Cannot deepCopy ${typeof et}`,"object",et)}function deepCopy(et){return _deepCopy(et)}class Description{constructor(_e){for(const tt in _e)this[tt]=deepCopy(_e[tt])}}const lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly,getStatic,resolveProperties,checkProperties,shallowCopy,deepCopy,Description},Symbol.toStringTag,{value:"Module"})),version$p="abi/5.7.0",logger$E=new Logger(version$p),_constructorGuard$2={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(et,_e){if(et==="bytes"||et==="string"){if(ModifiersBytes[_e])return!0}else if(et==="address"){if(_e==="payable")return!0}else if((et.indexOf("[")>=0||et==="tuple")&&ModifiersNest[_e])return!0;return(ModifiersBytes[_e]||_e==="payable")&&logger$E.throwArgumentError("invalid modifier","name",_e),!1}function parseParamType(et,_e){let tt=et;function rt(st){logger$E.throwArgumentError(`unexpected character at position ${st}`,"param",et)}et=et.replace(/\s/g," ");function nt(st){let ot={type:"",name:"",parent:st,state:{allowType:!0}};return _e&&(ot.indexed=!1),ot}let it={type:"",name:"",state:{allowType:!0}},at=it;for(let st=0;st<et.length;st++){let ot=et[st];switch(ot){case"(":at.state.allowType&&at.type===""?at.type="tuple":at.state.allowParams||rt(st),at.state.allowType=!1,at.type=verifyType(at.type),at.components=[nt(at)],at=at.components[0];break;case")":delete at.state,at.name==="indexed"&&(_e||rt(st),at.indexed=!0,at.name=""),checkModifier(at.type,at.name)&&(at.name=""),at.type=verifyType(at.type);let ct=at;at=at.parent,at||rt(st),delete ct.parent,at.state.allowParams=!1,at.state.allowName=!0,at.state.allowArray=!0;break;case",":delete at.state,at.name==="indexed"&&(_e||rt(st),at.indexed=!0,at.name=""),checkModifier(at.type,at.name)&&(at.name=""),at.type=verifyType(at.type);let lt=nt(at.parent);at.parent.components.push(lt),delete at.parent,at=lt;break;case" ":at.state.allowType&&at.type!==""&&(at.type=verifyType(at.type),delete at.state.allowType,at.state.allowName=!0,at.state.allowParams=!0),at.state.allowName&&at.name!==""&&(at.name==="indexed"?(_e||rt(st),at.indexed&&rt(st),at.indexed=!0,at.name=""):checkModifier(at.type,at.name)?at.name="":at.state.allowName=!1);break;case"[":at.state.allowArray||rt(st),at.type+=ot,at.state.allowArray=!1,at.state.allowName=!1,at.state.readArray=!0;break;case"]":at.state.readArray||rt(st),at.type+=ot,at.state.readArray=!1,at.state.allowArray=!0,at.state.allowName=!0;break;default:at.state.allowType?(at.type+=ot,at.state.allowParams=!0,at.state.allowArray=!0):at.state.allowName?(at.name+=ot,delete at.state.allowArray):at.state.readArray?at.type+=ot:rt(st)}}return at.parent&&logger$E.throwArgumentError("unexpected eof","param",et),delete it.state,at.name==="indexed"?(_e||rt(tt.length-7),at.indexed&&rt(tt.length-7),at.indexed=!0,at.name=""):checkModifier(at.type,at.name)&&(at.name=""),it.type=verifyType(it.type),it}function populate(et,_e){for(let tt in _e)defineReadOnly(et,tt,_e[tt])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(_e,tt){_e!==_constructorGuard$2&&logger$E.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,tt);let rt=this.type.match(paramTypeArray);rt?populate(this,{arrayLength:parseInt(rt[2]||"-1"),arrayChildren:ParamType.fromObject({type:rt[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json){let rt={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(rt.indexed=this.indexed),this.components&&(rt.components=this.components.map(nt=>JSON.parse(nt.format(_e)))),JSON.stringify(rt)}let tt="";return this.baseType==="array"?(tt+=this.arrayChildren.format(_e),tt+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(_e!==FormatTypes.sighash&&(tt+=this.type),tt+="("+this.components.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+")"):tt+=this.type,_e!==FormatTypes.sighash&&(this.indexed===!0&&(tt+=" indexed"),_e===FormatTypes.full&&this.name&&(tt+=" "+this.name)),tt}static from(_e,tt){return typeof _e=="string"?ParamType.fromString(_e,tt):ParamType.fromObject(_e)}static fromObject(_e){return ParamType.isParamType(_e)?_e:new ParamType(_constructorGuard$2,{name:_e.name||null,type:verifyType(_e.type),indexed:_e.indexed==null?null:!!_e.indexed,components:_e.components?_e.components.map(ParamType.fromObject):null})}static fromString(_e,tt){function rt(nt){return ParamType.fromObject({name:nt.name,type:nt.type,indexed:nt.indexed,components:nt.components})}return rt(parseParamType(_e,!!tt))}static isParamType(_e){return!!(_e!=null&&_e._isParamType)}}function parseParams(et,_e){return splitNesting(et).map(tt=>ParamType.fromString(tt,_e))}class Fragment{constructor(_e,tt){_e!==_constructorGuard$2&&logger$E.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,tt),this._isFragment=!0,Object.freeze(this)}static from(_e){return Fragment.isFragment(_e)?_e:typeof _e=="string"?Fragment.fromString(_e):Fragment.fromObject(_e)}static fromObject(_e){if(Fragment.isFragment(_e))return _e;switch(_e.type){case"function":return FunctionFragment.fromObject(_e);case"event":return EventFragment.fromObject(_e);case"constructor":return ConstructorFragment.fromObject(_e);case"error":return ErrorFragment.fromObject(_e);case"fallback":case"receive":return null}return logger$E.throwArgumentError("invalid fragment object","value",_e)}static fromString(_e){return _e=_e.replace(/\s/g," "),_e=_e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),_e=_e.trim(),_e.split(" ")[0]==="event"?EventFragment.fromString(_e.substring(5).trim()):_e.split(" ")[0]==="function"?FunctionFragment.fromString(_e.substring(8).trim()):_e.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(_e.trim()):_e.split(" ")[0]==="error"?ErrorFragment.fromString(_e.substring(5).trim()):logger$E.throwArgumentError("unsupported fragment","value",_e)}static isFragment(_e){return!!(_e&&_e._isFragment)}}class EventFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="event "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",_e!==FormatTypes.sighash&&this.anonymous&&(tt+="anonymous "),tt.trim()}static from(_e){return typeof _e=="string"?EventFragment.fromString(_e):EventFragment.fromObject(_e)}static fromObject(_e){if(EventFragment.isEventFragment(_e))return _e;_e.type!=="event"&&logger$E.throwArgumentError("invalid event object","value",_e);const tt={name:verifyIdentifier(_e.name),anonymous:_e.anonymous,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,tt)}static fromString(_e){let tt=_e.match(regexParen);tt||logger$E.throwArgumentError("invalid event string","value",_e);let rt=!1;return tt[3].split(" ").forEach(nt=>{switch(nt.trim()){case"anonymous":rt=!0;break;case"":break;default:logger$E.warn("unknown modifier: "+nt)}}),EventFragment.fromObject({name:tt[1].trim(),anonymous:rt,inputs:parseParams(tt[2],!0),type:"event"})}static isEventFragment(_e){return _e&&_e._isFragment&&_e.type==="event"}}function parseGas(et,_e){_e.gas=null;let tt=et.split("@");return tt.length!==1?(tt.length>2&&logger$E.throwArgumentError("invalid human-readable ABI signature","value",et),tt[1].match(/^[0-9]+$/)||logger$E.throwArgumentError("invalid human-readable ABI signature gas","value",et),_e.gas=BigNumber.from(tt[1]),tt[0]):et}function parseModifiers(et,_e){_e.constant=!1,_e.payable=!1,_e.stateMutability="nonpayable",et.split(" ").forEach(tt=>{switch(tt.trim()){case"constant":_e.constant=!0;break;case"payable":_e.payable=!0,_e.stateMutability="payable";break;case"nonpayable":_e.payable=!1,_e.stateMutability="nonpayable";break;case"pure":_e.constant=!0,_e.stateMutability="pure";break;case"view":_e.constant=!0,_e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+tt)}})}function verifyState(et){let _e={constant:!1,payable:!0,stateMutability:"payable"};return et.stateMutability!=null?(_e.stateMutability=et.stateMutability,_e.constant=_e.stateMutability==="view"||_e.stateMutability==="pure",et.constant!=null&&!!et.constant!==_e.constant&&logger$E.throwArgumentError("cannot have constant function with mutability "+_e.stateMutability,"value",et),_e.payable=_e.stateMutability==="payable",et.payable!=null&&!!et.payable!==_e.payable&&logger$E.throwArgumentError("cannot have payable function with mutability "+_e.stateMutability,"value",et)):et.payable!=null?(_e.payable=!!et.payable,et.constant==null&&!_e.payable&&et.type!=="constructor"&&logger$E.throwArgumentError("unable to determine stateMutability","value",et),_e.constant=!!et.constant,_e.constant?_e.stateMutability="view":_e.stateMutability=_e.payable?"payable":"nonpayable",_e.payable&&_e.constant&&logger$E.throwArgumentError("cannot have constant payable function","value",et)):et.constant!=null?(_e.constant=!!et.constant,_e.payable=!_e.constant,_e.stateMutability=_e.constant?"view":"payable"):et.type!=="constructor"&&logger$E.throwArgumentError("unable to determine stateMutability","value",et),_e}class ConstructorFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});_e===FormatTypes.sighash&&logger$E.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let tt="constructor("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(tt+=this.stateMutability+" "),tt.trim()}static from(_e){return typeof _e=="string"?ConstructorFragment.fromString(_e):ConstructorFragment.fromObject(_e)}static fromObject(_e){if(ConstructorFragment.isConstructorFragment(_e))return _e;_e.type!=="constructor"&&logger$E.throwArgumentError("invalid constructor object","value",_e);let tt=verifyState(_e);tt.constant&&logger$E.throwArgumentError("constructor cannot be constant","value",_e);const rt={name:null,type:_e.type,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],payable:tt.payable,stateMutability:tt.stateMutability,gas:_e.gas?BigNumber.from(_e.gas):null};return new ConstructorFragment(_constructorGuard$2,rt)}static fromString(_e){let tt={type:"constructor"};_e=parseGas(_e,tt);let rt=_e.match(regexParen);return(!rt||rt[1].trim()!=="constructor")&&logger$E.throwArgumentError("invalid constructor string","value",_e),tt.inputs=parseParams(rt[2].trim(),!1),parseModifiers(rt[3].trim(),tt),ConstructorFragment.fromObject(tt)}static isConstructorFragment(_e){return _e&&_e._isFragment&&_e.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e))),outputs:this.outputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="function "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",_e!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(tt+=this.stateMutability+" "):this.constant&&(tt+="view "),this.outputs&&this.outputs.length&&(tt+="returns ("+this.outputs.map(rt=>rt.format(_e)).join(", ")+") "),this.gas!=null&&(tt+="@"+this.gas.toString()+" ")),tt.trim()}static from(_e){return typeof _e=="string"?FunctionFragment.fromString(_e):FunctionFragment.fromObject(_e)}static fromObject(_e){if(FunctionFragment.isFunctionFragment(_e))return _e;_e.type!=="function"&&logger$E.throwArgumentError("invalid function object","value",_e);let tt=verifyState(_e);const rt={type:_e.type,name:verifyIdentifier(_e.name),constant:tt.constant,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],outputs:_e.outputs?_e.outputs.map(ParamType.fromObject):[],payable:tt.payable,stateMutability:tt.stateMutability,gas:_e.gas?BigNumber.from(_e.gas):null};return new FunctionFragment(_constructorGuard$2,rt)}static fromString(_e){let tt={type:"function"};_e=parseGas(_e,tt);let rt=_e.split(" returns ");rt.length>2&&logger$E.throwArgumentError("invalid function string","value",_e);let nt=rt[0].match(regexParen);if(nt||logger$E.throwArgumentError("invalid function signature","value",_e),tt.name=nt[1].trim(),tt.name&&verifyIdentifier(tt.name),tt.inputs=parseParams(nt[2],!1),parseModifiers(nt[3].trim(),tt),rt.length>1){let it=rt[1].match(regexParen);(it[1].trim()!=""||it[3].trim()!="")&&logger$E.throwArgumentError("unexpected tokens","value",_e),tt.outputs=parseParams(it[2],!1)}else tt.outputs=[];return FunctionFragment.fromObject(tt)}static isFunctionFragment(_e){return _e&&_e._isFragment&&_e.type==="function"}}function checkForbidden(et){const _e=et.format();return(_e==="Error(string)"||_e==="Panic(uint256)")&&logger$E.throwArgumentError(`cannot specify user defined ${_e} error`,"fragment",et),et}class ErrorFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="error "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",tt.trim()}static from(_e){return typeof _e=="string"?ErrorFragment.fromString(_e):ErrorFragment.fromObject(_e)}static fromObject(_e){if(ErrorFragment.isErrorFragment(_e))return _e;_e.type!=="error"&&logger$E.throwArgumentError("invalid error object","value",_e);const tt={type:_e.type,name:verifyIdentifier(_e.name),inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,tt))}static fromString(_e){let tt={type:"error"},rt=_e.match(regexParen);return rt||logger$E.throwArgumentError("invalid error signature","value",_e),tt.name=rt[1].trim(),tt.name&&verifyIdentifier(tt.name),tt.inputs=parseParams(rt[2],!1),checkForbidden(ErrorFragment.fromObject(tt))}static isErrorFragment(_e){return _e&&_e._isFragment&&_e.type==="error"}}function verifyType(et){return et.match(/^uint($|[^1-9])/)?et="uint256"+et.substring(4):et.match(/^int($|[^1-9])/)&&(et="int256"+et.substring(3)),et}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(et){return(!et||!et.match(regexIdentifier))&&logger$E.throwArgumentError(`invalid identifier "${et}"`,"value",et),et}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(et){et=et.trim();let _e=[],tt="",rt=0;for(let nt=0;nt<et.length;nt++){let it=et[nt];it===","&&rt===0?(_e.push(tt),tt=""):(tt+=it,it==="("?rt++:it===")"&&(rt--,rt===-1&&logger$E.throwArgumentError("unbalanced parenthesis","value",et)))}return tt&&_e.push(tt),_e}const logger$D=new Logger(version$p);function checkResultErrors(et){const _e=[],tt=function(rt,nt){if(!!Array.isArray(nt))for(let it in nt){const at=rt.slice();at.push(it);try{tt(at,nt[it])}catch(st){_e.push({path:at,error:st})}}};return tt([],et),_e}class Coder{constructor(_e,tt,rt,nt){this.name=_e,this.type=tt,this.localName=rt,this.dynamic=nt}_throwError(_e,tt){logger$D.throwArgumentError(_e,this.localName,tt)}}class Writer{constructor(_e){defineReadOnly(this,"wordSize",_e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(_e)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(_e){return this._data.push(_e),this._dataLength+=_e.length,_e.length}appendWriter(_e){return this._writeData(concat$c(_e._data))}writeBytes(_e){let tt=arrayify(_e);const rt=tt.length%this.wordSize;return rt&&(tt=concat$c([tt,this._padding.slice(rt)])),this._writeData(tt)}_getValue(_e){let tt=arrayify(BigNumber.from(_e));return tt.length>this.wordSize&&logger$D.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:tt.length}),tt.length%this.wordSize&&(tt=concat$c([this._padding.slice(tt.length%this.wordSize),tt])),tt}writeValue(_e){return this._writeData(this._getValue(_e))}writeUpdatableValue(){const _e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,tt=>{this._data[_e]=this._getValue(tt)}}}class Reader{constructor(_e,tt,rt,nt){defineReadOnly(this,"_data",arrayify(_e)),defineReadOnly(this,"wordSize",tt||32),defineReadOnly(this,"_coerceFunc",rt),defineReadOnly(this,"allowLoose",nt),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(_e,tt){let rt=_e.match("^u?int([0-9]+)$");return rt&&parseInt(rt[1])<=48&&(tt=tt.toNumber()),tt}coerce(_e,tt){return this._coerceFunc?this._coerceFunc(_e,tt):Reader.coerce(_e,tt)}_peekBytes(_e,tt,rt){let nt=Math.ceil(tt/this.wordSize)*this.wordSize;return this._offset+nt>this._data.length&&(this.allowLoose&&rt&&this._offset+tt<=this._data.length?nt=tt:logger$D.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+nt})),this._data.slice(this._offset,this._offset+nt)}subReader(_e){return new Reader(this._data.slice(this._offset+_e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(_e,tt){let rt=this._peekBytes(0,_e,!!tt);return this._offset+=rt.length,rt.slice(0,_e)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var sha3$3={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(et){(function(){var _e="input is invalid type",tt="finalize already called",rt=typeof window=="object",nt=rt?window:{};nt.JS_SHA3_NO_WINDOW&&(rt=!1);var it=!rt&&typeof self=="object",at=!nt.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;at?nt=globalThis:it&&(nt=self);var st=!nt.JS_SHA3_NO_COMMON_JS&&!0&&et.exports,ot=!nt.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ct="0123456789abcdef".split(""),lt=[31,7936,2031616,520093696],ut=[4,1024,262144,67108864],dt=[1,256,65536,16777216],mt=[6,1536,393216,100663296],gt=[0,8,16,24],bt=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ht=[224,256,384,512],yt=[128,256],wt=["hex","buffer","arrayBuffer","array","digest"],xt={128:168,256:136};(nt.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Bt){return Object.prototype.toString.call(Bt)==="[object Array]"}),ot&&(nt.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Bt){return typeof Bt=="object"&&Bt.buffer&&Bt.buffer.constructor===ArrayBuffer});for(var At=function(Bt,qt,Yt){return function(Xt){return new _t(Bt,qt,Bt).update(Xt)[Yt]()}},kt=function(Bt,qt,Yt){return function(Xt,rr){return new _t(Bt,qt,rr).update(Xt)[Yt]()}},Ot=function(Bt,qt,Yt){return function(Xt,rr,lr,Qt){return vt["cshake"+Bt].update(Xt,rr,lr,Qt)[Yt]()}},Wt=function(Bt,qt,Yt){return function(Xt,rr,lr,Qt){return vt["kmac"+Bt].update(Xt,rr,lr,Qt)[Yt]()}},Ht=function(Bt,qt,Yt,Xt){for(var rr=0;rr<wt.length;++rr){var lr=wt[rr];Bt[lr]=qt(Yt,Xt,lr)}return Bt},Zt=function(Bt,qt){var Yt=At(Bt,qt,"hex");return Yt.create=function(){return new _t(Bt,qt,Bt)},Yt.update=function(Xt){return Yt.create().update(Xt)},Ht(Yt,At,Bt,qt)},Lt=function(Bt,qt){var Yt=kt(Bt,qt,"hex");return Yt.create=function(Xt){return new _t(Bt,qt,Xt)},Yt.update=function(Xt,rr){return Yt.create(rr).update(Xt)},Ht(Yt,kt,Bt,qt)},Et=function(Bt,qt){var Yt=xt[Bt],Xt=Ot(Bt,qt,"hex");return Xt.create=function(rr,lr,Qt){return!lr&&!Qt?vt["shake"+Bt].create(rr):new _t(Bt,qt,rr).bytepad([lr,Qt],Yt)},Xt.update=function(rr,lr,Qt,Kt){return Xt.create(lr,Qt,Kt).update(rr)},Ht(Xt,Ot,Bt,qt)},It=function(Bt,qt){var Yt=xt[Bt],Xt=Wt(Bt,qt,"hex");return Xt.create=function(rr,lr,Qt){return new Pt(Bt,qt,lr).bytepad(["KMAC",Qt],Yt).bytepad([rr],Yt)},Xt.update=function(rr,lr,Qt,Kt){return Xt.create(rr,Qt,Kt).update(lr)},Ht(Xt,Wt,Bt,qt)},Ct=[{name:"keccak",padding:dt,bits:ht,createMethod:Zt},{name:"sha3",padding:mt,bits:ht,createMethod:Zt},{name:"shake",padding:lt,bits:yt,createMethod:Lt},{name:"cshake",padding:ut,bits:yt,createMethod:Et},{name:"kmac",padding:ut,bits:yt,createMethod:It}],vt={},Tt=[],Mt=0;Mt<Ct.length;++Mt)for(var Nt=Ct[Mt],$t=Nt.bits,St=0;St<$t.length;++St){var Dt=Nt.name+"_"+$t[St];if(Tt.push(Dt),vt[Dt]=Nt.createMethod($t[St],Nt.padding),Nt.name!=="sha3"){var Rt=Nt.name+$t[St];Tt.push(Rt),vt[Rt]=vt[Dt]}}function _t(Bt,qt,Yt){this.blocks=[],this.s=[],this.padding=qt,this.outputBits=Yt,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Bt<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Yt>>5,this.extraBytes=(Yt&31)>>3;for(var Xt=0;Xt<50;++Xt)this.s[Xt]=0}_t.prototype.update=function(Bt){if(this.finalized)throw new Error(tt);var qt,Yt=typeof Bt;if(Yt!=="string"){if(Yt==="object"){if(Bt===null)throw new Error(_e);if(ot&&Bt.constructor===ArrayBuffer)Bt=new Uint8Array(Bt);else if(!Array.isArray(Bt)&&(!ot||!ArrayBuffer.isView(Bt)))throw new Error(_e)}else throw new Error(_e);qt=!0}for(var Xt=this.blocks,rr=this.byteCount,lr=Bt.length,Qt=this.blockCount,Kt=0,sr=this.s,ir,hr;Kt<lr;){if(this.reset)for(this.reset=!1,Xt[0]=this.block,ir=1;ir<Qt+1;++ir)Xt[ir]=0;if(qt)for(ir=this.start;Kt<lr&&ir<rr;++Kt)Xt[ir>>2]|=Bt[Kt]<<gt[ir++&3];else for(ir=this.start;Kt<lr&&ir<rr;++Kt)hr=Bt.charCodeAt(Kt),hr<128?Xt[ir>>2]|=hr<<gt[ir++&3]:hr<2048?(Xt[ir>>2]|=(192|hr>>6)<<gt[ir++&3],Xt[ir>>2]|=(128|hr&63)<<gt[ir++&3]):hr<55296||hr>=57344?(Xt[ir>>2]|=(224|hr>>12)<<gt[ir++&3],Xt[ir>>2]|=(128|hr>>6&63)<<gt[ir++&3],Xt[ir>>2]|=(128|hr&63)<<gt[ir++&3]):(hr=65536+((hr&1023)<<10|Bt.charCodeAt(++Kt)&1023),Xt[ir>>2]|=(240|hr>>18)<<gt[ir++&3],Xt[ir>>2]|=(128|hr>>12&63)<<gt[ir++&3],Xt[ir>>2]|=(128|hr>>6&63)<<gt[ir++&3],Xt[ir>>2]|=(128|hr&63)<<gt[ir++&3]);if(this.lastByteIndex=ir,ir>=rr){for(this.start=ir-rr,this.block=Xt[Qt],ir=0;ir<Qt;++ir)sr[ir]^=Xt[ir];Vt(sr),this.reset=!0}else this.start=ir}return this},_t.prototype.encode=function(Bt,qt){var Yt=Bt&255,Xt=1,rr=[Yt];for(Bt=Bt>>8,Yt=Bt&255;Yt>0;)rr.unshift(Yt),Bt=Bt>>8,Yt=Bt&255,++Xt;return qt?rr.push(Xt):rr.unshift(Xt),this.update(rr),rr.length},_t.prototype.encodeString=function(Bt){var qt,Yt=typeof Bt;if(Yt!=="string"){if(Yt==="object"){if(Bt===null)throw new Error(_e);if(ot&&Bt.constructor===ArrayBuffer)Bt=new Uint8Array(Bt);else if(!Array.isArray(Bt)&&(!ot||!ArrayBuffer.isView(Bt)))throw new Error(_e)}else throw new Error(_e);qt=!0}var Xt=0,rr=Bt.length;if(qt)Xt=rr;else for(var lr=0;lr<Bt.length;++lr){var Qt=Bt.charCodeAt(lr);Qt<128?Xt+=1:Qt<2048?Xt+=2:Qt<55296||Qt>=57344?Xt+=3:(Qt=65536+((Qt&1023)<<10|Bt.charCodeAt(++lr)&1023),Xt+=4)}return Xt+=this.encode(Xt*8),this.update(Bt),Xt},_t.prototype.bytepad=function(Bt,qt){for(var Yt=this.encode(qt),Xt=0;Xt<Bt.length;++Xt)Yt+=this.encodeString(Bt[Xt]);var rr=qt-Yt%qt,lr=[];return lr.length=rr,this.update(lr),this},_t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Bt=this.blocks,qt=this.lastByteIndex,Yt=this.blockCount,Xt=this.s;if(Bt[qt>>2]|=this.padding[qt&3],this.lastByteIndex===this.byteCount)for(Bt[0]=Bt[Yt],qt=1;qt<Yt+1;++qt)Bt[qt]=0;for(Bt[Yt-1]|=2147483648,qt=0;qt<Yt;++qt)Xt[qt]^=Bt[qt];Vt(Xt)}},_t.prototype.toString=_t.prototype.hex=function(){this.finalize();for(var Bt=this.blockCount,qt=this.s,Yt=this.outputBlocks,Xt=this.extraBytes,rr=0,lr=0,Qt="",Kt;lr<Yt;){for(rr=0;rr<Bt&&lr<Yt;++rr,++lr)Kt=qt[rr],Qt+=ct[Kt>>4&15]+ct[Kt&15]+ct[Kt>>12&15]+ct[Kt>>8&15]+ct[Kt>>20&15]+ct[Kt>>16&15]+ct[Kt>>28&15]+ct[Kt>>24&15];lr%Bt===0&&(Vt(qt),rr=0)}return Xt&&(Kt=qt[rr],Qt+=ct[Kt>>4&15]+ct[Kt&15],Xt>1&&(Qt+=ct[Kt>>12&15]+ct[Kt>>8&15]),Xt>2&&(Qt+=ct[Kt>>20&15]+ct[Kt>>16&15])),Qt},_t.prototype.arrayBuffer=function(){this.finalize();var Bt=this.blockCount,qt=this.s,Yt=this.outputBlocks,Xt=this.extraBytes,rr=0,lr=0,Qt=this.outputBits>>3,Kt;Xt?Kt=new ArrayBuffer(Yt+1<<2):Kt=new ArrayBuffer(Qt);for(var sr=new Uint32Array(Kt);lr<Yt;){for(rr=0;rr<Bt&&lr<Yt;++rr,++lr)sr[lr]=qt[rr];lr%Bt===0&&Vt(qt)}return Xt&&(sr[rr]=qt[rr],Kt=Kt.slice(0,Qt)),Kt},_t.prototype.buffer=_t.prototype.arrayBuffer,_t.prototype.digest=_t.prototype.array=function(){this.finalize();for(var Bt=this.blockCount,qt=this.s,Yt=this.outputBlocks,Xt=this.extraBytes,rr=0,lr=0,Qt=[],Kt,sr;lr<Yt;){for(rr=0;rr<Bt&&lr<Yt;++rr,++lr)Kt=lr<<2,sr=qt[rr],Qt[Kt]=sr&255,Qt[Kt+1]=sr>>8&255,Qt[Kt+2]=sr>>16&255,Qt[Kt+3]=sr>>24&255;lr%Bt===0&&Vt(qt)}return Xt&&(Kt=lr<<2,sr=qt[rr],Qt[Kt]=sr&255,Xt>1&&(Qt[Kt+1]=sr>>8&255),Xt>2&&(Qt[Kt+2]=sr>>16&255)),Qt};function Pt(Bt,qt,Yt){_t.call(this,Bt,qt,Yt)}Pt.prototype=new _t,Pt.prototype.finalize=function(){return this.encode(this.outputBits,!0),_t.prototype.finalize.call(this)};var Vt=function(Bt){var qt,Yt,Xt,rr,lr,Qt,Kt,sr,ir,hr,er,Ut,zt,Jt,nr,ur,pr,mr,yr,Er,gr,Gt,Ft,jt,tr,ar,cr,dr,_r,xr,vr,Fr,br,Ar,Wr,$r,Sr,Hr,kr,Rr,zr,Ir,Pr,qr,Mr,Cr,jr,wr,Tr,Vr,Nr,Br,Xr,Or,Dr,Yr,Lr,Ur,Gr,Kr,Zr,Qr,Jr;for(Xt=0;Xt<48;Xt+=2)rr=Bt[0]^Bt[10]^Bt[20]^Bt[30]^Bt[40],lr=Bt[1]^Bt[11]^Bt[21]^Bt[31]^Bt[41],Qt=Bt[2]^Bt[12]^Bt[22]^Bt[32]^Bt[42],Kt=Bt[3]^Bt[13]^Bt[23]^Bt[33]^Bt[43],sr=Bt[4]^Bt[14]^Bt[24]^Bt[34]^Bt[44],ir=Bt[5]^Bt[15]^Bt[25]^Bt[35]^Bt[45],hr=Bt[6]^Bt[16]^Bt[26]^Bt[36]^Bt[46],er=Bt[7]^Bt[17]^Bt[27]^Bt[37]^Bt[47],Ut=Bt[8]^Bt[18]^Bt[28]^Bt[38]^Bt[48],zt=Bt[9]^Bt[19]^Bt[29]^Bt[39]^Bt[49],qt=Ut^(Qt<<1|Kt>>>31),Yt=zt^(Kt<<1|Qt>>>31),Bt[0]^=qt,Bt[1]^=Yt,Bt[10]^=qt,Bt[11]^=Yt,Bt[20]^=qt,Bt[21]^=Yt,Bt[30]^=qt,Bt[31]^=Yt,Bt[40]^=qt,Bt[41]^=Yt,qt=rr^(sr<<1|ir>>>31),Yt=lr^(ir<<1|sr>>>31),Bt[2]^=qt,Bt[3]^=Yt,Bt[12]^=qt,Bt[13]^=Yt,Bt[22]^=qt,Bt[23]^=Yt,Bt[32]^=qt,Bt[33]^=Yt,Bt[42]^=qt,Bt[43]^=Yt,qt=Qt^(hr<<1|er>>>31),Yt=Kt^(er<<1|hr>>>31),Bt[4]^=qt,Bt[5]^=Yt,Bt[14]^=qt,Bt[15]^=Yt,Bt[24]^=qt,Bt[25]^=Yt,Bt[34]^=qt,Bt[35]^=Yt,Bt[44]^=qt,Bt[45]^=Yt,qt=sr^(Ut<<1|zt>>>31),Yt=ir^(zt<<1|Ut>>>31),Bt[6]^=qt,Bt[7]^=Yt,Bt[16]^=qt,Bt[17]^=Yt,Bt[26]^=qt,Bt[27]^=Yt,Bt[36]^=qt,Bt[37]^=Yt,Bt[46]^=qt,Bt[47]^=Yt,qt=hr^(rr<<1|lr>>>31),Yt=er^(lr<<1|rr>>>31),Bt[8]^=qt,Bt[9]^=Yt,Bt[18]^=qt,Bt[19]^=Yt,Bt[28]^=qt,Bt[29]^=Yt,Bt[38]^=qt,Bt[39]^=Yt,Bt[48]^=qt,Bt[49]^=Yt,Jt=Bt[0],nr=Bt[1],Cr=Bt[11]<<4|Bt[10]>>>28,jr=Bt[10]<<4|Bt[11]>>>28,dr=Bt[20]<<3|Bt[21]>>>29,_r=Bt[21]<<3|Bt[20]>>>29,Kr=Bt[31]<<9|Bt[30]>>>23,Zr=Bt[30]<<9|Bt[31]>>>23,Ir=Bt[40]<<18|Bt[41]>>>14,Pr=Bt[41]<<18|Bt[40]>>>14,Ar=Bt[2]<<1|Bt[3]>>>31,Wr=Bt[3]<<1|Bt[2]>>>31,ur=Bt[13]<<12|Bt[12]>>>20,pr=Bt[12]<<12|Bt[13]>>>20,wr=Bt[22]<<10|Bt[23]>>>22,Tr=Bt[23]<<10|Bt[22]>>>22,xr=Bt[33]<<13|Bt[32]>>>19,vr=Bt[32]<<13|Bt[33]>>>19,Qr=Bt[42]<<2|Bt[43]>>>30,Jr=Bt[43]<<2|Bt[42]>>>30,Or=Bt[5]<<30|Bt[4]>>>2,Dr=Bt[4]<<30|Bt[5]>>>2,$r=Bt[14]<<6|Bt[15]>>>26,Sr=Bt[15]<<6|Bt[14]>>>26,mr=Bt[25]<<11|Bt[24]>>>21,yr=Bt[24]<<11|Bt[25]>>>21,Vr=Bt[34]<<15|Bt[35]>>>17,Nr=Bt[35]<<15|Bt[34]>>>17,Fr=Bt[45]<<29|Bt[44]>>>3,br=Bt[44]<<29|Bt[45]>>>3,jt=Bt[6]<<28|Bt[7]>>>4,tr=Bt[7]<<28|Bt[6]>>>4,Yr=Bt[17]<<23|Bt[16]>>>9,Lr=Bt[16]<<23|Bt[17]>>>9,Hr=Bt[26]<<25|Bt[27]>>>7,kr=Bt[27]<<25|Bt[26]>>>7,Er=Bt[36]<<21|Bt[37]>>>11,gr=Bt[37]<<21|Bt[36]>>>11,Br=Bt[47]<<24|Bt[46]>>>8,Xr=Bt[46]<<24|Bt[47]>>>8,qr=Bt[8]<<27|Bt[9]>>>5,Mr=Bt[9]<<27|Bt[8]>>>5,ar=Bt[18]<<20|Bt[19]>>>12,cr=Bt[19]<<20|Bt[18]>>>12,Ur=Bt[29]<<7|Bt[28]>>>25,Gr=Bt[28]<<7|Bt[29]>>>25,Rr=Bt[38]<<8|Bt[39]>>>24,zr=Bt[39]<<8|Bt[38]>>>24,Gt=Bt[48]<<14|Bt[49]>>>18,Ft=Bt[49]<<14|Bt[48]>>>18,Bt[0]=Jt^~ur&mr,Bt[1]=nr^~pr&yr,Bt[10]=jt^~ar&dr,Bt[11]=tr^~cr&_r,Bt[20]=Ar^~$r&Hr,Bt[21]=Wr^~Sr&kr,Bt[30]=qr^~Cr&wr,Bt[31]=Mr^~jr&Tr,Bt[40]=Or^~Yr&Ur,Bt[41]=Dr^~Lr&Gr,Bt[2]=ur^~mr&Er,Bt[3]=pr^~yr&gr,Bt[12]=ar^~dr&xr,Bt[13]=cr^~_r&vr,Bt[22]=$r^~Hr&Rr,Bt[23]=Sr^~kr&zr,Bt[32]=Cr^~wr&Vr,Bt[33]=jr^~Tr&Nr,Bt[42]=Yr^~Ur&Kr,Bt[43]=Lr^~Gr&Zr,Bt[4]=mr^~Er&Gt,Bt[5]=yr^~gr&Ft,Bt[14]=dr^~xr&Fr,Bt[15]=_r^~vr&br,Bt[24]=Hr^~Rr&Ir,Bt[25]=kr^~zr&Pr,Bt[34]=wr^~Vr&Br,Bt[35]=Tr^~Nr&Xr,Bt[44]=Ur^~Kr&Qr,Bt[45]=Gr^~Zr&Jr,Bt[6]=Er^~Gt&Jt,Bt[7]=gr^~Ft&nr,Bt[16]=xr^~Fr&jt,Bt[17]=vr^~br&tr,Bt[26]=Rr^~Ir&Ar,Bt[27]=zr^~Pr&Wr,Bt[36]=Vr^~Br&qr,Bt[37]=Nr^~Xr&Mr,Bt[46]=Kr^~Qr&Or,Bt[47]=Zr^~Jr&Dr,Bt[8]=Gt^~Jt&ur,Bt[9]=Ft^~nr&pr,Bt[18]=Fr^~jt&ar,Bt[19]=br^~tr&cr,Bt[28]=Ir^~Ar&$r,Bt[29]=Pr^~Wr&Sr,Bt[38]=Br^~qr&Cr,Bt[39]=Xr^~Mr&jr,Bt[48]=Qr^~Or&Yr,Bt[49]=Jr^~Dr&Lr,Bt[0]^=bt[Xt],Bt[1]^=bt[Xt+1]};if(st)et.exports=vt;else for(Mt=0;Mt<Tt.length;++Mt)nt[Tt[Mt]]=vt[Tt[Mt]]})()})(sha3$3);const sha3$2=sha3$3.exports;function keccak256$1(et){return"0x"+sha3$2.keccak_256(arrayify(et))}const lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$1},Symbol.toStringTag,{value:"Module"})),version$o="rlp/5.7.0",logger$C=new Logger(version$o);function arrayifyInteger(et){const _e=[];for(;et;)_e.unshift(et&255),et>>=8;return _e}function unarrayifyInteger(et,_e,tt){let rt=0;for(let nt=0;nt<tt;nt++)rt=rt*256+et[_e+nt];return rt}function _encode(et){if(Array.isArray(et)){let rt=[];if(et.forEach(function(it){rt=rt.concat(_encode(it))}),rt.length<=55)return rt.unshift(192+rt.length),rt;const nt=arrayifyInteger(rt.length);return nt.unshift(247+nt.length),nt.concat(rt)}isBytesLike(et)||logger$C.throwArgumentError("RLP object must be BytesLike","object",et);const _e=Array.prototype.slice.call(arrayify(et));if(_e.length===1&&_e[0]<=127)return _e;if(_e.length<=55)return _e.unshift(128+_e.length),_e;const tt=arrayifyInteger(_e.length);return tt.unshift(183+tt.length),tt.concat(_e)}function encode$c(et){return hexlify(_encode(et))}function _decodeChildren(et,_e,tt,rt){const nt=[];for(;tt<_e+1+rt;){const it=_decode(et,tt);nt.push(it.result),tt+=it.consumed,tt>_e+1+rt&&logger$C.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+rt,result:nt}}function _decode(et,_e){if(et.length===0&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),et[_e]>=248){const tt=et[_e]-247;_e+1+tt>et.length&&logger$C.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const rt=unarrayifyInteger(et,_e+1,tt);return _e+1+tt+rt>et.length&&logger$C.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(et,_e,_e+1+tt,tt+rt)}else if(et[_e]>=192){const tt=et[_e]-192;return _e+1+tt>et.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(et,_e,_e+1,tt)}else if(et[_e]>=184){const tt=et[_e]-183;_e+1+tt>et.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const rt=unarrayifyInteger(et,_e+1,tt);_e+1+tt+rt>et.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const nt=hexlify(et.slice(_e+1+tt,_e+1+tt+rt));return{consumed:1+tt+rt,result:nt}}else if(et[_e]>=128){const tt=et[_e]-128;_e+1+tt>et.length&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const rt=hexlify(et.slice(_e+1,_e+1+tt));return{consumed:1+tt,result:rt}}return{consumed:1,result:hexlify(et[_e])}}function decode$g(et){const _e=arrayify(et),tt=_decode(_e,0);return tt.consumed!==_e.length&&logger$C.throwArgumentError("invalid rlp data","data",et),tt.result}const lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$c,decode:decode$g},Symbol.toStringTag,{value:"Module"})),version$n="address/5.7.0",logger$B=new Logger(version$n);function getChecksumAddress(et){isHexString$4(et,20)||logger$B.throwArgumentError("invalid address","address",et),et=et.toLowerCase();const _e=et.substring(2).split(""),tt=new Uint8Array(40);for(let nt=0;nt<40;nt++)tt[nt]=_e[nt].charCodeAt(0);const rt=arrayify(keccak256$1(tt));for(let nt=0;nt<40;nt+=2)rt[nt>>1]>>4>=8&&(_e[nt]=_e[nt].toUpperCase()),(rt[nt>>1]&15)>=8&&(_e[nt+1]=_e[nt+1].toUpperCase());return"0x"+_e.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(et){return Math.log10?Math.log10(et):Math.log(et)/Math.LN10}const ibanLookup={};for(let et=0;et<10;et++)ibanLookup[String(et)]=String(et);for(let et=0;et<26;et++)ibanLookup[String.fromCharCode(65+et)]=String(10+et);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(et){et=et.toUpperCase(),et=et.substring(4)+et.substring(0,2)+"00";let _e=et.split("").map(rt=>ibanLookup[rt]).join("");for(;_e.length>=safeDigits;){let rt=_e.substring(0,safeDigits);_e=parseInt(rt,10)%97+_e.substring(rt.length)}let tt=String(98-parseInt(_e,10)%97);for(;tt.length<2;)tt="0"+tt;return tt}function getAddress(et){let _e=null;if(typeof et!="string"&&logger$B.throwArgumentError("invalid address","address",et),et.match(/^(0x)?[0-9a-fA-F]{40}$/))et.substring(0,2)!=="0x"&&(et="0x"+et),_e=getChecksumAddress(et),et.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&_e!==et&&logger$B.throwArgumentError("bad address checksum","address",et);else if(et.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(et.substring(2,4)!==ibanChecksum(et)&&logger$B.throwArgumentError("bad icap checksum","address",et),_e=_base36To16(et.substring(4));_e.length<40;)_e="0"+_e;_e=getChecksumAddress("0x"+_e)}else logger$B.throwArgumentError("invalid address","address",et);return _e}function isAddress(et){try{return getAddress(et),!0}catch{}return!1}function getIcapAddress(et){let _e=_base16To36(getAddress(et).substring(2)).toUpperCase();for(;_e.length<30;)_e="0"+_e;return"XE"+ibanChecksum("XE00"+_e)+_e}function getContractAddress(et){let _e=null;try{_e=getAddress(et.from)}catch{logger$B.throwArgumentError("missing from address","transaction",et)}const tt=stripZeros(arrayify(BigNumber.from(et.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$c([_e,tt])),12))}function getCreate2Address(et,_e,tt){return hexDataLength(_e)!==32&&logger$B.throwArgumentError("salt must be 32 bytes","salt",_e),hexDataLength(tt)!==32&&logger$B.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",tt),getAddress(hexDataSlice(keccak256$1(concat$c(["0xff",getAddress(et),_e,tt])),12))}const lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,getAddress,isAddress,getIcapAddress,getContractAddress,getCreate2Address},Symbol.toStringTag,{value:"Module"}));class AddressCoder extends Coder{constructor(_e){super("address","address",_e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(_e,tt){try{tt=getAddress(tt)}catch(rt){this._throwError(rt.message,tt)}return _e.writeValue(tt)}decode(_e){return getAddress(hexZeroPad(_e.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(_e){super(_e.name,_e.type,void 0,_e.dynamic),this.coder=_e}defaultValue(){return this.coder.defaultValue()}encode(_e,tt){return this.coder.encode(_e,tt)}decode(_e){return this.coder.decode(_e)}}const logger$A=new Logger(version$p);function pack$1(et,_e,tt){let rt=null;if(Array.isArray(tt))rt=tt;else if(tt&&typeof tt=="object"){let ot={};rt=_e.map(ct=>{const lt=ct.localName;return lt||logger$A.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ct,value:tt}),ot[lt]&&logger$A.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ct,value:tt}),ot[lt]=!0,tt[lt]})}else logger$A.throwArgumentError("invalid tuple value","tuple",tt);_e.length!==rt.length&&logger$A.throwArgumentError("types/value length mismatch","tuple",tt);let nt=new Writer(et.wordSize),it=new Writer(et.wordSize),at=[];_e.forEach((ot,ct)=>{let lt=rt[ct];if(ot.dynamic){let ut=it.length;ot.encode(it,lt);let dt=nt.writeUpdatableValue();at.push(mt=>{dt(mt+ut)})}else ot.encode(nt,lt)}),at.forEach(ot=>{ot(nt.length)});let st=et.appendWriter(nt);return st+=et.appendWriter(it),st}function unpack(et,_e){let tt=[],rt=et.subReader(0);_e.forEach(it=>{let at=null;if(it.dynamic){let st=et.readValue(),ot=rt.subReader(st.toNumber());try{at=it.decode(ot)}catch(ct){if(ct.code===Logger.errors.BUFFER_OVERRUN)throw ct;at=ct,at.baseType=it.name,at.name=it.localName,at.type=it.type}}else try{at=it.decode(et)}catch(st){if(st.code===Logger.errors.BUFFER_OVERRUN)throw st;at=st,at.baseType=it.name,at.name=it.localName,at.type=it.type}at!=null&&tt.push(at)});const nt=_e.reduce((it,at)=>{const st=at.localName;return st&&(it[st]||(it[st]=0),it[st]++),it},{});_e.forEach((it,at)=>{let st=it.localName;if(!st||nt[st]!==1||(st==="length"&&(st="_length"),tt[st]!=null))return;const ot=tt[at];ot instanceof Error?Object.defineProperty(tt,st,{enumerable:!0,get:()=>{throw ot}}):tt[st]=ot});for(let it=0;it<tt.length;it++){const at=tt[it];at instanceof Error&&Object.defineProperty(tt,it,{enumerable:!0,get:()=>{throw at}})}return Object.freeze(tt)}class ArrayCoder extends Coder{constructor(_e,tt,rt){const nt=_e.type+"["+(tt>=0?tt:"")+"]",it=tt===-1||_e.dynamic;super("array",nt,rt,it),this.coder=_e,this.length=tt}defaultValue(){const _e=this.coder.defaultValue(),tt=[];for(let rt=0;rt<this.length;rt++)tt.push(_e);return tt}encode(_e,tt){Array.isArray(tt)||this._throwError("expected array value",tt);let rt=this.length;rt===-1&&(rt=tt.length,_e.writeValue(tt.length)),logger$A.checkArgumentCount(tt.length,rt,"coder array"+(this.localName?" "+this.localName:""));let nt=[];for(let it=0;it<tt.length;it++)nt.push(this.coder);return pack$1(_e,nt,tt)}decode(_e){let tt=this.length;tt===-1&&(tt=_e.readValue().toNumber(),tt*32>_e._data.length&&logger$A.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:_e._data.length,count:tt}));let rt=[];for(let nt=0;nt<tt;nt++)rt.push(new AnonymousCoder(this.coder));return _e.coerce(this.name,unpack(_e,rt))}}class BooleanCoder extends Coder{constructor(_e){super("bool","bool",_e,!1)}defaultValue(){return!1}encode(_e,tt){return _e.writeValue(tt?1:0)}decode(_e){return _e.coerce(this.type,!_e.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(_e,tt){super(_e,_e,tt,!0)}defaultValue(){return"0x"}encode(_e,tt){tt=arrayify(tt);let rt=_e.writeValue(tt.length);return rt+=_e.writeBytes(tt),rt}decode(_e){return _e.readBytes(_e.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(_e){super("bytes",_e)}decode(_e){return _e.coerce(this.name,hexlify(super.decode(_e)))}}class FixedBytesCoder extends Coder{constructor(_e,tt){let rt="bytes"+String(_e);super(rt,rt,tt,!1),this.size=_e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(_e,tt){let rt=arrayify(tt);return rt.length!==this.size&&this._throwError("incorrect data length",tt),_e.writeBytes(rt)}decode(_e){return _e.coerce(this.name,hexlify(_e.readBytes(this.size)))}}class NullCoder extends Coder{constructor(_e){super("null","",_e,!1)}defaultValue(){return null}encode(_e,tt){return tt!=null&&this._throwError("not null",tt),_e.writeBytes([])}decode(_e){return _e.readBytes(0),_e.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(_e,tt,rt){const nt=(tt?"int":"uint")+_e*8;super(nt,nt,rt,!1),this.size=_e,this.signed=tt}defaultValue(){return 0}encode(_e,tt){let rt=BigNumber.from(tt),nt=MaxUint256$1.mask(_e.wordSize*8);if(this.signed){let it=nt.mask(this.size*8-1);(rt.gt(it)||rt.lt(it.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",tt)}else(rt.lt(Zero$1)||rt.gt(nt.mask(this.size*8)))&&this._throwError("value out-of-bounds",tt);return rt=rt.toTwos(this.size*8).mask(this.size*8),this.signed&&(rt=rt.fromTwos(this.size*8).toTwos(8*_e.wordSize)),_e.writeValue(rt)}decode(_e){let tt=_e.readValue().mask(this.size*8);return this.signed&&(tt=tt.fromTwos(this.size*8)),_e.coerce(this.name,tt)}}const version$m="strings/5.7.0",logger$z=new Logger(version$m);var UnicodeNormalizationForm;(function(et){et.current="",et.NFC="NFC",et.NFD="NFD",et.NFKC="NFKC",et.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(et){et.UNEXPECTED_CONTINUE="unexpected continuation byte",et.BAD_PREFIX="bad codepoint prefix",et.OVERRUN="string overrun",et.MISSING_CONTINUE="missing continuation byte",et.OUT_OF_RANGE="out of UTF-8 range",et.UTF16_SURROGATE="UTF-16 surrogate",et.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(et,_e,tt,rt,nt){return logger$z.throwArgumentError(`invalid codepoint at offset ${_e}; ${et}`,"bytes",tt)}function ignoreFunc(et,_e,tt,rt,nt){if(et===Utf8ErrorReason.BAD_PREFIX||et===Utf8ErrorReason.UNEXPECTED_CONTINUE){let it=0;for(let at=_e+1;at<tt.length&&tt[at]>>6===2;at++)it++;return it}return et===Utf8ErrorReason.OVERRUN?tt.length-_e-1:0}function replaceFunc(et,_e,tt,rt,nt){return et===Utf8ErrorReason.OVERLONG?(rt.push(nt),0):(rt.push(65533),ignoreFunc(et,_e,tt))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(et,_e){_e==null&&(_e=Utf8ErrorFuncs.error),et=arrayify(et);const tt=[];let rt=0;for(;rt<et.length;){const nt=et[rt++];if(nt>>7===0){tt.push(nt);continue}let it=null,at=null;if((nt&224)===192)it=1,at=127;else if((nt&240)===224)it=2,at=2047;else if((nt&248)===240)it=3,at=65535;else{(nt&192)===128?rt+=_e(Utf8ErrorReason.UNEXPECTED_CONTINUE,rt-1,et,tt):rt+=_e(Utf8ErrorReason.BAD_PREFIX,rt-1,et,tt);continue}if(rt-1+it>=et.length){rt+=_e(Utf8ErrorReason.OVERRUN,rt-1,et,tt);continue}let st=nt&(1<<8-it-1)-1;for(let ot=0;ot<it;ot++){let ct=et[rt];if((ct&192)!=128){rt+=_e(Utf8ErrorReason.MISSING_CONTINUE,rt,et,tt),st=null;break}st=st<<6|ct&63,rt++}if(st!==null){if(st>1114111){rt+=_e(Utf8ErrorReason.OUT_OF_RANGE,rt-1-it,et,tt,st);continue}if(st>=55296&&st<=57343){rt+=_e(Utf8ErrorReason.UTF16_SURROGATE,rt-1-it,et,tt,st);continue}if(st<=at){rt+=_e(Utf8ErrorReason.OVERLONG,rt-1-it,et,tt,st);continue}tt.push(st)}}return tt}function toUtf8Bytes(et,_e=UnicodeNormalizationForm.current){_e!=UnicodeNormalizationForm.current&&(logger$z.checkNormalize(),et=et.normalize(_e));let tt=[];for(let rt=0;rt<et.length;rt++){const nt=et.charCodeAt(rt);if(nt<128)tt.push(nt);else if(nt<2048)tt.push(nt>>6|192),tt.push(nt&63|128);else if((nt&64512)==55296){rt++;const it=et.charCodeAt(rt);if(rt>=et.length||(it&64512)!==56320)throw new Error("invalid utf-8 string");const at=65536+((nt&1023)<<10)+(it&1023);tt.push(at>>18|240),tt.push(at>>12&63|128),tt.push(at>>6&63|128),tt.push(at&63|128)}else tt.push(nt>>12|224),tt.push(nt>>6&63|128),tt.push(nt&63|128)}return arrayify(tt)}function escapeChar(et){const _e="0000"+et.toString(16);return"\\u"+_e.substring(_e.length-4)}function _toEscapedUtf8String(et,_e){return'"'+getUtf8CodePoints(et,_e).map(tt=>{if(tt<256){switch(tt){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(tt>=32&&tt<127)return String.fromCharCode(tt)}return tt<=65535?escapeChar(tt):(tt-=65536,escapeChar((tt>>10&1023)+55296)+escapeChar((tt&1023)+56320))}).join("")+'"'}function _toUtf8String(et){return et.map(_e=>_e<=65535?String.fromCharCode(_e):(_e-=65536,String.fromCharCode((_e>>10&1023)+55296,(_e&1023)+56320))).join("")}function toUtf8String(et,_e){return _toUtf8String(getUtf8CodePoints(et,_e))}function toUtf8CodePoints(et,_e=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(et,_e))}function formatBytes32String(et){const _e=toUtf8Bytes(et);if(_e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat$c([_e,HashZero]).slice(0,32))}function parseBytes32String(et){const _e=arrayify(et);if(_e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(_e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let tt=31;for(;_e[tt-1]===0;)tt--;return toUtf8String(_e.slice(0,tt))}function bytes2(et){if(et.length%4!==0)throw new Error("bad data");let _e=[];for(let tt=0;tt<et.length;tt+=4)_e.push(parseInt(et.substring(tt,tt+4),16));return _e}function createTable(et,_e){_e||(_e=function(nt){return[parseInt(nt,16)]});let tt=0,rt={};return et.split(",").forEach(nt=>{let it=nt.split(":");tt+=parseInt(it[0],16),rt[tt]=_e(it[1])}),rt}function createRangeTable(et){let _e=0;return et.split(",").map(tt=>{let rt=tt.split("-");rt.length===1?rt[1]="0":rt[1]===""&&(rt[1]="1");let nt=_e+parseInt(rt[0],16);return _e=parseInt(rt[1],16),{l:nt,h:_e}})}function matchMap(et,_e){let tt=0;for(let rt=0;rt<_e.length;rt++){let nt=_e[rt];if(tt+=nt.l,et>=tt&&et<=tt+nt.h&&(et-tt)%(nt.d||1)===0){if(nt.e&&nt.e.indexOf(et-tt)!==-1)continue;return nt}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(et=>parseInt(et,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(et){return et.reduce((_e,tt)=>(tt.forEach(rt=>{_e.push(rt)}),_e),[])}function _nameprepTableA1(et){return!!matchMap(et,Table_A_1_ranges)}function _nameprepTableB2(et){let _e=matchMap(et,Table_B_2_ranges);if(_e)return[et+_e.s];let tt=Table_B_2_lut_abs[et];if(tt)return tt;let rt=Table_B_2_lut_rel[et];if(rt)return[et+rt[0]];let nt=Table_B_2_complex[et];return nt||null}function _nameprepTableC(et){return!!matchMap(et,Table_C_ranges)}function nameprep(et){if(et.match(/^[a-z0-9-]*$/i)&&et.length<=59)return et.toLowerCase();let _e=toUtf8CodePoints(et);_e=flatten(_e.map(rt=>{if(Table_B_1_flags.indexOf(rt)>=0)return[];if(rt>=65024&&rt<=65039)return[];let nt=_nameprepTableB2(rt);return nt||[rt]})),_e=toUtf8CodePoints(_toUtf8String(_e),UnicodeNormalizationForm.NFKC),_e.forEach(rt=>{if(_nameprepTableC(rt))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),_e.forEach(rt=>{if(_nameprepTableA1(rt))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let tt=_toUtf8String(_e);if(tt.substring(0,1)==="-"||tt.substring(2,4)==="--"||tt.substring(tt.length-1)==="-")throw new Error("invalid hyphen");return tt}const lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},formatBytes32String,parseBytes32String,nameprep},Symbol.toStringTag,{value:"Module"}));class StringCoder extends DynamicBytesCoder{constructor(_e){super("string",_e)}defaultValue(){return""}encode(_e,tt){return super.encode(_e,toUtf8Bytes(tt))}decode(_e){return toUtf8String(super.decode(_e))}}class TupleCoder extends Coder{constructor(_e,tt){let rt=!1;const nt=[];_e.forEach(at=>{at.dynamic&&(rt=!0),nt.push(at.type)});const it="tuple("+nt.join(",")+")";super("tuple",it,tt,rt),this.coders=_e}defaultValue(){const _e=[];this.coders.forEach(rt=>{_e.push(rt.defaultValue())});const tt=this.coders.reduce((rt,nt)=>{const it=nt.localName;return it&&(rt[it]||(rt[it]=0),rt[it]++),rt},{});return this.coders.forEach((rt,nt)=>{let it=rt.localName;!it||tt[it]!==1||(it==="length"&&(it="_length"),_e[it]==null&&(_e[it]=_e[nt]))}),Object.freeze(_e)}encode(_e,tt){return pack$1(_e,this.coders,tt)}decode(_e){return _e.coerce(this.name,unpack(_e,this.coders))}}const logger$y=new Logger(version$p),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(_e){defineReadOnly(this,"coerceFunc",_e||null)}_getCoder(_e){switch(_e.baseType){case"address":return new AddressCoder(_e.name);case"bool":return new BooleanCoder(_e.name);case"string":return new StringCoder(_e.name);case"bytes":return new BytesCoder(_e.name);case"array":return new ArrayCoder(this._getCoder(_e.arrayChildren),_e.arrayLength,_e.name);case"tuple":return new TupleCoder((_e.components||[]).map(rt=>this._getCoder(rt)),_e.name);case"":return new NullCoder(_e.name)}let tt=_e.type.match(paramTypeNumber);if(tt){let rt=parseInt(tt[2]||"256");return(rt===0||rt>256||rt%8!==0)&&logger$y.throwArgumentError("invalid "+tt[1]+" bit length","param",_e),new NumberCoder(rt/8,tt[1]==="int",_e.name)}if(tt=_e.type.match(paramTypeBytes),tt){let rt=parseInt(tt[1]);return(rt===0||rt>32)&&logger$y.throwArgumentError("invalid bytes length","param",_e),new FixedBytesCoder(rt,_e.name)}return logger$y.throwArgumentError("invalid type","type",_e.type)}_getWordSize(){return 32}_getReader(_e,tt){return new Reader(_e,this._getWordSize(),this.coerceFunc,tt)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(_e){const tt=_e.map(nt=>this._getCoder(ParamType.from(nt)));return new TupleCoder(tt,"_").defaultValue()}encode(_e,tt){_e.length!==tt.length&&logger$y.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:_e.length,values:tt.length},value:{types:_e,values:tt}});const rt=_e.map(at=>this._getCoder(ParamType.from(at))),nt=new TupleCoder(rt,"_"),it=this._getWriter();return nt.encode(it,tt),it.data}decode(_e,tt,rt){const nt=_e.map(at=>this._getCoder(ParamType.from(at)));return new TupleCoder(nt,"_").decode(this._getReader(arrayify(tt),rt))}}const defaultAbiCoder=new AbiCoder;function id(et){return keccak256$1(toUtf8Bytes(et))}const version$l="hash/5.7.0";function decode$f(et){et=atob(et);const _e=[];for(let tt=0;tt<et.length;tt++)_e.push(et.charCodeAt(tt));return arrayify(_e)}function encode$b(et){et=arrayify(et);let _e="";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return btoa(_e)}const lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$f,encode:encode$b},Symbol.toStringTag,{value:"Module"}));function flat$1(et,_e){_e==null&&(_e=1);const tt=[],rt=tt.forEach,nt=function(it,at){rt.call(it,function(st){at>0&&Array.isArray(st)?nt(st,at-1):tt.push(st)})};return nt(et,_e),tt}function fromEntries(et){const _e={};for(let tt=0;tt<et.length;tt++){const rt=et[tt];_e[rt[0]]=rt[1]}return _e}function decode_arithmetic(et){let _e=0;function tt(){return et[_e++]<<8|et[_e++]}let rt=tt(),nt=1,it=[0,1];for(let kt=1;kt<rt;kt++)it.push(nt+=tt());let at=tt(),st=_e;_e+=at;let ot=0,ct=0;function lt(){return ot==0&&(ct=ct<<8|et[_e++],ot=8),ct>>--ot&1}const ut=31,dt=Math.pow(2,ut),mt=dt>>>1,gt=mt>>1,bt=dt-1;let ht=0;for(let kt=0;kt<ut;kt++)ht=ht<<1|lt();let yt=[],wt=0,xt=dt;for(;;){let kt=Math.floor(((ht-wt+1)*nt-1)/xt),Ot=0,Wt=rt;for(;Wt-Ot>1;){let Lt=Ot+Wt>>>1;kt<it[Lt]?Wt=Lt:Ot=Lt}if(Ot==0)break;yt.push(Ot);let Ht=wt+Math.floor(xt*it[Ot]/nt),Zt=wt+Math.floor(xt*it[Ot+1]/nt)-1;for(;((Ht^Zt)&mt)==0;)ht=ht<<1&bt|lt(),Ht=Ht<<1&bt,Zt=Zt<<1&bt|1;for(;Ht&~Zt&gt;)ht=ht&mt|ht<<1&bt>>>1|lt(),Ht=Ht<<1^mt,Zt=(Zt^mt)<<1|mt|1;wt=Ht,xt=1+Zt-Ht}let At=rt-4;return yt.map(kt=>{switch(kt-At){case 3:return At+65792+(et[st++]<<16|et[st++]<<8|et[st++]);case 2:return At+256+(et[st++]<<8|et[st++]);case 1:return At+et[st++];default:return kt-1}})}function read_payload(et){let _e=0;return()=>et[_e++]}function read_compressed_payload(et){return read_payload(decode_arithmetic(et))}function signed(et){return et&1?~et>>1:et>>1}function read_counts(et,_e){let tt=Array(et);for(let rt=0;rt<et;rt++)tt[rt]=1+_e();return tt}function read_ascending(et,_e){let tt=Array(et);for(let rt=0,nt=-1;rt<et;rt++)tt[rt]=nt+=1+_e();return tt}function read_deltas(et,_e){let tt=Array(et);for(let rt=0,nt=0;rt<et;rt++)tt[rt]=nt+=signed(_e());return tt}function read_member_array(et,_e){let tt=read_ascending(et(),et),rt=et(),nt=read_ascending(rt,et),it=read_counts(rt,et);for(let at=0;at<rt;at++)for(let st=0;st<it[at];st++)tt.push(nt[at]+st);return _e?tt.map(at=>_e[at]):tt}function read_mapped_map(et){let _e=[];for(;;){let tt=et();if(tt==0)break;_e.push(read_linear_table(tt,et))}for(;;){let tt=et()-1;if(tt<0)break;_e.push(read_replacement_table(tt,et))}return fromEntries(flat$1(_e))}function read_zero_terminated_array(et){let _e=[];for(;;){let tt=et();if(tt==0)break;_e.push(tt)}return _e}function read_transposed(et,_e,tt){let rt=Array(et).fill(void 0).map(()=>[]);for(let nt=0;nt<_e;nt++)read_deltas(et,tt).forEach((it,at)=>rt[at].push(it));return rt}function read_linear_table(et,_e){let tt=1+_e(),rt=_e(),nt=read_zero_terminated_array(_e),it=read_transposed(nt.length,1+et,_e);return flat$1(it.map((at,st)=>{const ot=at[0],ct=at.slice(1);return Array(nt[st]).fill(void 0).map((lt,ut)=>{let dt=ut*rt;return[ot+ut*tt,ct.map(mt=>mt+dt)]})}))}function read_replacement_table(et,_e){let tt=1+_e();return read_transposed(tt,1+et,_e).map(nt=>[nt[0],nt.slice(1)])}function read_emoji_trie(et){let _e=read_member_array(et).sort((rt,nt)=>rt-nt);return tt();function tt(){let rt=[];for(;;){let ct=read_member_array(et,_e);if(ct.length==0)break;rt.push({set:new Set(ct),node:tt()})}rt.sort((ct,lt)=>lt.set.size-ct.set.size);let nt=et(),it=nt%3;nt=nt/3|0;let at=!!(nt&1);nt>>=1;let st=nt==1,ot=nt==2;return{branches:rt,valid:it,fe0f:at,save:st,check:ot}}}function getData(){return read_compressed_payload(decode$f("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$7=getData(),VALID=new Set(read_member_array(r$7)),IGNORED=new Set(read_member_array(r$7)),MAPPED=read_mapped_map(r$7),EMOJI_ROOT=read_emoji_trie(r$7),HYPHEN=45,UNDERSCORE=95;function explode_cp(et){return toUtf8CodePoints(et)}function filter_fe0f(et){return et.filter(_e=>_e!=65039)}function ens_normalize_post_check(et){for(let _e of et.split(".")){let tt=explode_cp(_e);try{for(let rt=tt.lastIndexOf(UNDERSCORE)-1;rt>=0;rt--)if(tt[rt]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(tt.length>=4&&tt.every(rt=>rt<128)&&tt[2]===HYPHEN&&tt[3]===HYPHEN)throw new Error("invalid label extension")}catch(rt){throw new Error(`Invalid label "${_e}": ${rt.message}`)}}return et}function ens_normalize(et){return ens_normalize_post_check(normalize(et,filter_fe0f))}function normalize(et,_e){let tt=explode_cp(et).reverse(),rt=[];for(;tt.length;){let nt=consume_emoji_reversed(tt);if(nt){rt.push(..._e(nt));continue}let it=tt.pop();if(VALID.has(it)){rt.push(it);continue}if(IGNORED.has(it))continue;let at=MAPPED[it];if(at){rt.push(...at);continue}throw new Error(`Disallowed codepoint: 0x${it.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...rt)))}function nfc(et){return et.normalize("NFC")}function consume_emoji_reversed(et,_e){var tt;let rt=EMOJI_ROOT,nt,it,at=[],st=et.length;for(_e&&(_e.length=0);st;){let ot=et[--st];if(rt=(tt=rt.branches.find(ct=>ct.set.has(ot)))===null||tt===void 0?void 0:tt.node,!rt)break;if(rt.save)it=ot;else if(rt.check&&ot===it)break;at.push(ot),rt.fe0f&&(at.push(65039),st>0&&et[st-1]==65039&&st--),rt.valid&&(nt=at.slice(),rt.valid==2&&nt.splice(1,1),_e&&_e.push(...et.slice(st).reverse()),et.length=st)}return nt}const logger$x=new Logger(version$l),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(et){if(et.length===0)throw new Error("invalid ENS name; empty component");return et}function ensNameSplit(et){const _e=toUtf8Bytes(ens_normalize(et)),tt=[];if(et.length===0)return tt;let rt=0;for(let nt=0;nt<_e.length;nt++)_e[nt]===46&&(tt.push(checkComponent(_e.slice(rt,nt))),rt=nt+1);if(rt>=_e.length)throw new Error("invalid ENS name; empty component");return tt.push(checkComponent(_e.slice(rt))),tt}function ensNormalize(et){return ensNameSplit(et).map(_e=>toUtf8String(_e)).join(".")}function isValidName(et){try{return ensNameSplit(et).length!==0}catch{}return!1}function namehash(et){typeof et!="string"&&logger$x.throwArgumentError("invalid ENS name; not a string","name",et);let _e=Zeros$1;const tt=ensNameSplit(et);for(;tt.length;)_e=keccak256$1(concat$c([_e,keccak256$1(tt.pop())]));return hexlify(_e)}function dnsEncode(et){return hexlify(concat$c(ensNameSplit(et).map(_e=>{if(_e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const tt=new Uint8Array(_e.length+1);return tt.set(_e,1),tt[0]=tt.length-1,tt})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(et){return typeof et=="string"&&(et=toUtf8Bytes(et)),keccak256$1(concat$c([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(et.length)),et]))}var __awaiter$f=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$w=new Logger(version$l),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(et){const _e=arrayify(et),tt=_e.length%32;return tt?hexConcat([_e,padding.slice(tt)]):hexlify(_e)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(et){return function(_e){return typeof _e!="string"&&logger$w.throwArgumentError(`invalid domain value for ${JSON.stringify(et)}`,`domain.${et}`,_e),_e}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(et){try{return BigNumber.from(et).toString()}catch{}return logger$w.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",et)},verifyingContract:function(et){try{return getAddress(et).toLowerCase()}catch{}return logger$w.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",et)},salt:function(et){try{const _e=arrayify(et);if(_e.length!==32)throw new Error("bad length");return hexlify(_e)}catch{}return logger$w.throwArgumentError('invalid domain value "salt"',"domain.salt",et)}};function getBaseEncoder(et){{const _e=et.match(/^(u?)int(\d*)$/);if(_e){const tt=_e[1]==="",rt=parseInt(_e[2]||"256");(rt%8!==0||rt>256||_e[2]&&_e[2]!==String(rt))&&logger$w.throwArgumentError("invalid numeric width","type",et);const nt=MaxUint256.mask(tt?rt-1:rt),it=tt?nt.add(One).mul(NegativeOne):Zero;return function(at){const st=BigNumber.from(at);return(st.lt(it)||st.gt(nt))&&logger$w.throwArgumentError(`value out-of-bounds for ${et}`,"value",at),hexZeroPad(st.toTwos(256).toHexString(),32)}}}{const _e=et.match(/^bytes(\d+)$/);if(_e){const tt=parseInt(_e[1]);return(tt===0||tt>32||_e[1]!==String(tt))&&logger$w.throwArgumentError("invalid bytes width","type",et),function(rt){return arrayify(rt).length!==tt&&logger$w.throwArgumentError(`invalid length for ${et}`,"value",rt),hexPadRight(rt)}}}switch(et){case"address":return function(_e){return hexZeroPad(getAddress(_e),32)};case"bool":return function(_e){return _e?hexTrue:hexFalse};case"bytes":return function(_e){return keccak256$1(_e)};case"string":return function(_e){return id(_e)}}return null}function encodeType(et,_e){return`${et}(${_e.map(({name:tt,type:rt})=>rt+" "+tt).join(",")})`}class TypedDataEncoder{constructor(_e){defineReadOnly(this,"types",Object.freeze(deepCopy(_e))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const tt={},rt={},nt={};Object.keys(_e).forEach(st=>{tt[st]={},rt[st]=[],nt[st]={}});for(const st in _e){const ot={};_e[st].forEach(ct=>{ot[ct.name]&&logger$w.throwArgumentError(`duplicate variable name ${JSON.stringify(ct.name)} in ${JSON.stringify(st)}`,"types",_e),ot[ct.name]=!0;const lt=ct.type.match(/^([^\x5b]*)(\x5b|$)/)[1];lt===st&&logger$w.throwArgumentError(`circular type reference to ${JSON.stringify(lt)}`,"types",_e),!getBaseEncoder(lt)&&(rt[lt]||logger$w.throwArgumentError(`unknown type ${JSON.stringify(lt)}`,"types",_e),rt[lt].push(st),tt[st][lt]=!0)})}const it=Object.keys(rt).filter(st=>rt[st].length===0);it.length===0?logger$w.throwArgumentError("missing primary type","types",_e):it.length>1&&logger$w.throwArgumentError(`ambiguous primary types or unused types: ${it.map(st=>JSON.stringify(st)).join(", ")}`,"types",_e),defineReadOnly(this,"primaryType",it[0]);function at(st,ot){ot[st]&&logger$w.throwArgumentError(`circular type reference to ${JSON.stringify(st)}`,"types",_e),ot[st]=!0,Object.keys(tt[st]).forEach(ct=>{!rt[ct]||(at(ct,ot),Object.keys(ot).forEach(lt=>{nt[lt][ct]=!0}))}),delete ot[st]}at(this.primaryType,{});for(const st in nt){const ot=Object.keys(nt[st]);ot.sort(),this._types[st]=encodeType(st,_e[st])+ot.map(ct=>encodeType(ct,_e[ct])).join("")}}getEncoder(_e){let tt=this._encoderCache[_e];return tt||(tt=this._encoderCache[_e]=this._getEncoder(_e)),tt}_getEncoder(_e){{const nt=getBaseEncoder(_e);if(nt)return nt}const tt=_e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(tt){const nt=tt[1],it=this.getEncoder(nt),at=parseInt(tt[3]);return st=>{at>=0&&st.length!==at&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",st);let ot=st.map(it);return this._types[nt]&&(ot=ot.map(keccak256$1)),keccak256$1(hexConcat(ot))}}const rt=this.types[_e];if(rt){const nt=id(this._types[_e]);return it=>{const at=rt.map(({name:st,type:ot})=>{const ct=this.getEncoder(ot)(it[st]);return this._types[ot]?keccak256$1(ct):ct});return at.unshift(nt),hexConcat(at)}}return logger$w.throwArgumentError(`unknown type: ${_e}`,"type",_e)}encodeType(_e){const tt=this._types[_e];return tt||logger$w.throwArgumentError(`unknown type: ${JSON.stringify(_e)}`,"name",_e),tt}encodeData(_e,tt){return this.getEncoder(_e)(tt)}hashStruct(_e,tt){return keccak256$1(this.encodeData(_e,tt))}encode(_e){return this.encodeData(this.primaryType,_e)}hash(_e){return this.hashStruct(this.primaryType,_e)}_visit(_e,tt,rt){if(getBaseEncoder(_e))return rt(_e,tt);const nt=_e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(nt){const at=nt[1],st=parseInt(nt[3]);return st>=0&&tt.length!==st&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",tt),tt.map(ot=>this._visit(at,ot,rt))}const it=this.types[_e];return it?it.reduce((at,{name:st,type:ot})=>(at[st]=this._visit(ot,tt[st],rt),at),{}):logger$w.throwArgumentError(`unknown type: ${_e}`,"type",_e)}visit(_e,tt){return this._visit(this.primaryType,_e,tt)}static from(_e){return new TypedDataEncoder(_e)}static getPrimaryType(_e){return TypedDataEncoder.from(_e).primaryType}static hashStruct(_e,tt,rt){return TypedDataEncoder.from(tt).hashStruct(_e,rt)}static hashDomain(_e){const tt=[];for(const rt in _e){const nt=domainFieldTypes[rt];nt||logger$w.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(rt)}`,"domain",_e),tt.push({name:rt,type:nt})}return tt.sort((rt,nt)=>domainFieldNames.indexOf(rt.name)-domainFieldNames.indexOf(nt.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:tt},_e)}static encode(_e,tt,rt){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(_e),TypedDataEncoder.from(tt).hash(rt)])}static hash(_e,tt,rt){return keccak256$1(TypedDataEncoder.encode(_e,tt,rt))}static resolveNames(_e,tt,rt,nt){return __awaiter$f(this,void 0,void 0,function*(){_e=shallowCopy(_e);const it={};_e.verifyingContract&&!isHexString$4(_e.verifyingContract,20)&&(it[_e.verifyingContract]="0x");const at=TypedDataEncoder.from(tt);at.visit(rt,(st,ot)=>(st==="address"&&!isHexString$4(ot,20)&&(it[ot]="0x"),ot));for(const st in it)it[st]=yield nt(st);return _e.verifyingContract&&it[_e.verifyingContract]&&(_e.verifyingContract=it[_e.verifyingContract]),rt=at.visit(rt,(st,ot)=>st==="address"&&it[ot]?it[ot]:ot),{domain:_e,value:rt}})}static getPayload(_e,tt,rt){TypedDataEncoder.hashDomain(_e);const nt={},it=[];domainFieldNames.forEach(ot=>{const ct=_e[ot];ct!=null&&(nt[ot]=domainChecks[ot](ct),it.push({name:ot,type:domainFieldTypes[ot]}))});const at=TypedDataEncoder.from(tt),st=shallowCopy(tt);return st.EIP712Domain?logger$w.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",tt):st.EIP712Domain=it,at.encode(rt),{types:st,domain:nt,primaryType:at.primaryType,message:at.visit(rt,(ot,ct)=>{if(ot.match(/^bytes(\d*)/))return hexlify(arrayify(ct));if(ot.match(/^u?int/))return BigNumber.from(ct).toString();switch(ot){case"address":return ct.toLowerCase();case"bool":return!!ct;case"string":return typeof ct!="string"&&logger$w.throwArgumentError("invalid string","value",ct),ct}return logger$w.throwArgumentError("unsupported type","type",ot)})}}}const lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,id,dnsEncode,namehash,isValidName,ensNormalize,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"})),logger$v=new Logger(version$p);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(_e){return!!(_e&&_e._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(et,_e){const tt=new Error(`deferred error during ABI decoding triggered accessing ${et}`);return tt.error=_e,tt}class Interface{constructor(_e){let tt=[];typeof _e=="string"?tt=JSON.parse(_e):tt=_e,defineReadOnly(this,"fragments",tt.map(rt=>Fragment.from(rt)).filter(rt=>rt!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(rt=>{let nt=null;switch(rt.type){case"constructor":if(this.deploy){logger$v.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",rt);return;case"function":nt=this.functions;break;case"event":nt=this.events;break;case"error":nt=this.errors;break;default:return}let it=rt.format();if(nt[it]){logger$v.warn("duplicate definition - "+it);return}nt[it]=rt}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(_e){_e||(_e=FormatTypes.full),_e===FormatTypes.sighash&&logger$v.throwArgumentError("interface does not support formatting sighash","format",_e);const tt=this.fragments.map(rt=>rt.format(_e));return _e===FormatTypes.json?JSON.stringify(tt.map(rt=>JSON.parse(rt))):tt}static getAbiCoder(){return defaultAbiCoder}static getAddress(_e){return getAddress(_e)}static getSighash(_e){return hexDataSlice(id(_e.format()),0,4)}static getEventTopic(_e){return id(_e.format())}getFunction(_e){if(isHexString$4(_e)){for(const rt in this.functions)if(_e===this.getSighash(rt))return this.functions[rt];logger$v.throwArgumentError("no matching function","sighash",_e)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.functions).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$v.throwArgumentError("no matching function","name",rt):nt.length>1&&logger$v.throwArgumentError("multiple matching functions","name",rt),this.functions[nt[0]]}const tt=this.functions[FunctionFragment.fromString(_e).format()];return tt||logger$v.throwArgumentError("no matching function","signature",_e),tt}getEvent(_e){if(isHexString$4(_e)){const rt=_e.toLowerCase();for(const nt in this.events)if(rt===this.getEventTopic(nt))return this.events[nt];logger$v.throwArgumentError("no matching event","topichash",rt)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.events).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$v.throwArgumentError("no matching event","name",rt):nt.length>1&&logger$v.throwArgumentError("multiple matching events","name",rt),this.events[nt[0]]}const tt=this.events[EventFragment.fromString(_e).format()];return tt||logger$v.throwArgumentError("no matching event","signature",_e),tt}getError(_e){if(isHexString$4(_e)){const rt=getStatic(this.constructor,"getSighash");for(const nt in this.errors){const it=this.errors[nt];if(_e===rt(it))return this.errors[nt]}logger$v.throwArgumentError("no matching error","sighash",_e)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.errors).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$v.throwArgumentError("no matching error","name",rt):nt.length>1&&logger$v.throwArgumentError("multiple matching errors","name",rt),this.errors[nt[0]]}const tt=this.errors[FunctionFragment.fromString(_e).format()];return tt||logger$v.throwArgumentError("no matching error","signature",_e),tt}getSighash(_e){if(typeof _e=="string")try{_e=this.getFunction(_e)}catch(tt){try{_e=this.getError(_e)}catch{throw tt}}return getStatic(this.constructor,"getSighash")(_e)}getEventTopic(_e){return typeof _e=="string"&&(_e=this.getEvent(_e)),getStatic(this.constructor,"getEventTopic")(_e)}_decodeParams(_e,tt){return this._abiCoder.decode(_e,tt)}_encodeParams(_e,tt){return this._abiCoder.encode(_e,tt)}encodeDeploy(_e){return this._encodeParams(this.deploy.inputs,_e||[])}decodeErrorResult(_e,tt){typeof _e=="string"&&(_e=this.getError(_e));const rt=arrayify(tt);return hexlify(rt.slice(0,4))!==this.getSighash(_e)&&logger$v.throwArgumentError(`data signature does not match error ${_e.name}.`,"data",hexlify(rt)),this._decodeParams(_e.inputs,rt.slice(4))}encodeErrorResult(_e,tt){return typeof _e=="string"&&(_e=this.getError(_e)),hexlify(concat$c([this.getSighash(_e),this._encodeParams(_e.inputs,tt||[])]))}decodeFunctionData(_e,tt){typeof _e=="string"&&(_e=this.getFunction(_e));const rt=arrayify(tt);return hexlify(rt.slice(0,4))!==this.getSighash(_e)&&logger$v.throwArgumentError(`data signature does not match function ${_e.name}.`,"data",hexlify(rt)),this._decodeParams(_e.inputs,rt.slice(4))}encodeFunctionData(_e,tt){return typeof _e=="string"&&(_e=this.getFunction(_e)),hexlify(concat$c([this.getSighash(_e),this._encodeParams(_e.inputs,tt||[])]))}decodeFunctionResult(_e,tt){typeof _e=="string"&&(_e=this.getFunction(_e));let rt=arrayify(tt),nt=null,it="",at=null,st=null,ot=null;switch(rt.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(_e.outputs,rt)}catch{}break;case 4:{const ct=hexlify(rt.slice(0,4)),lt=BuiltinErrors[ct];if(lt)at=this._abiCoder.decode(lt.inputs,rt.slice(4)),st=lt.name,ot=lt.signature,lt.reason&&(nt=at[0]),st==="Error"?it=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(at[0])}`:st==="Panic"&&(it=`; VM Exception while processing transaction: reverted with panic code ${at[0]}`);else try{const ut=this.getError(ct);at=this._abiCoder.decode(ut.inputs,rt.slice(4)),st=ut.name,ot=ut.format()}catch{}break}}return logger$v.throwError("call revert exception"+it,Logger.errors.CALL_EXCEPTION,{method:_e.format(),data:hexlify(tt),errorArgs:at,errorName:st,errorSignature:ot,reason:nt})}encodeFunctionResult(_e,tt){return typeof _e=="string"&&(_e=this.getFunction(_e)),hexlify(this._abiCoder.encode(_e.outputs,tt||[]))}encodeFilterTopics(_e,tt){typeof _e=="string"&&(_e=this.getEvent(_e)),tt.length>_e.inputs.length&&logger$v.throwError("too many arguments for "+_e.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:tt});let rt=[];_e.anonymous||rt.push(this.getEventTopic(_e));const nt=(it,at)=>it.type==="string"?id(at):it.type==="bytes"?keccak256$1(hexlify(at)):(it.type==="bool"&&typeof at=="boolean"&&(at=at?"0x01":"0x00"),it.type.match(/^u?int/)&&(at=BigNumber.from(at).toHexString()),it.type==="address"&&this._abiCoder.encode(["address"],[at]),hexZeroPad(hexlify(at),32));for(tt.forEach((it,at)=>{let st=_e.inputs[at];if(!st.indexed){it!=null&&logger$v.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+st.name,it);return}it==null?rt.push(null):st.baseType==="array"||st.baseType==="tuple"?logger$v.throwArgumentError("filtering with tuples or arrays not supported","contract."+st.name,it):Array.isArray(it)?rt.push(it.map(ot=>nt(st,ot))):rt.push(nt(st,it))});rt.length&&rt[rt.length-1]===null;)rt.pop();return rt}encodeEventLog(_e,tt){typeof _e=="string"&&(_e=this.getEvent(_e));const rt=[],nt=[],it=[];return _e.anonymous||rt.push(this.getEventTopic(_e)),tt.length!==_e.inputs.length&&logger$v.throwArgumentError("event arguments/values mismatch","values",tt),_e.inputs.forEach((at,st)=>{const ot=tt[st];if(at.indexed)if(at.type==="string")rt.push(id(ot));else if(at.type==="bytes")rt.push(keccak256$1(ot));else{if(at.baseType==="tuple"||at.baseType==="array")throw new Error("not implemented");rt.push(this._abiCoder.encode([at.type],[ot]))}else nt.push(at),it.push(ot)}),{data:this._abiCoder.encode(nt,it),topics:rt}}decodeEventLog(_e,tt,rt){if(typeof _e=="string"&&(_e=this.getEvent(_e)),rt!=null&&!_e.anonymous){let dt=this.getEventTopic(_e);(!isHexString$4(rt[0],32)||rt[0].toLowerCase()!==dt)&&logger$v.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:dt,value:rt[0]}),rt=rt.slice(1)}let nt=[],it=[],at=[];_e.inputs.forEach((dt,mt)=>{dt.indexed?dt.type==="string"||dt.type==="bytes"||dt.baseType==="tuple"||dt.baseType==="array"?(nt.push(ParamType.fromObject({type:"bytes32",name:dt.name})),at.push(!0)):(nt.push(dt),at.push(!1)):(it.push(dt),at.push(!1))});let st=rt!=null?this._abiCoder.decode(nt,concat$c(rt)):null,ot=this._abiCoder.decode(it,tt,!0),ct=[],lt=0,ut=0;_e.inputs.forEach((dt,mt)=>{if(dt.indexed)if(st==null)ct[mt]=new Indexed({_isIndexed:!0,hash:null});else if(at[mt])ct[mt]=new Indexed({_isIndexed:!0,hash:st[ut++]});else try{ct[mt]=st[ut++]}catch(gt){ct[mt]=gt}else try{ct[mt]=ot[lt++]}catch(gt){ct[mt]=gt}if(dt.name&&ct[dt.name]==null){const gt=ct[mt];gt instanceof Error?Object.defineProperty(ct,dt.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(dt.name)}`,gt)}}):ct[dt.name]=gt}});for(let dt=0;dt<ct.length;dt++){const mt=ct[dt];mt instanceof Error&&Object.defineProperty(ct,dt,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${dt}`,mt)}})}return Object.freeze(ct)}parseTransaction(_e){let tt=this.getFunction(_e.data.substring(0,10).toLowerCase());return tt?new TransactionDescription({args:this._abiCoder.decode(tt.inputs,"0x"+_e.data.substring(10)),functionFragment:tt,name:tt.name,signature:tt.format(),sighash:this.getSighash(tt),value:BigNumber.from(_e.value||"0")}):null}parseLog(_e){let tt=this.getEvent(_e.topics[0]);return!tt||tt.anonymous?null:new LogDescription({eventFragment:tt,name:tt.name,signature:tt.format(),topic:this.getEventTopic(tt),args:this.decodeEventLog(tt,_e.data,_e.topics)})}parseError(_e){const tt=hexlify(_e);let rt=this.getError(tt.substring(0,10).toLowerCase());return rt?new ErrorDescription({args:this._abiCoder.decode(rt.inputs,"0x"+tt.substring(10)),errorFragment:rt,name:rt.name,signature:rt.format(),sighash:this.getSighash(rt)}):null}static isInterface(_e){return!!(_e&&_e._isInterface)}}const lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription},Symbol.toStringTag,{value:"Module"})),version$k="abstract-provider/5.7.0";var __awaiter$e=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$u=new Logger(version$k);class ForkEvent extends Description{static isForkEvent(_e){return!!(_e&&_e._isForkEvent)}}class Provider$1{constructor(){logger$u.checkAbstract(new.target,Provider$1),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$e(this,void 0,void 0,function*(){const{block:_e,gasPrice:tt}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(at=>null)});let rt=null,nt=null,it=null;return _e&&_e.baseFeePerGas&&(rt=_e.baseFeePerGas,it=BigNumber.from("1500000000"),nt=_e.baseFeePerGas.mul(2).add(it)),{lastBaseFeePerGas:rt,maxFeePerGas:nt,maxPriorityFeePerGas:it,gasPrice:tt}})}addListener(_e,tt){return this.on(_e,tt)}removeListener(_e,tt){return this.off(_e,tt)}static isProvider(_e){return!!(_e&&_e._isProvider)}}const version$j="abstract-signer/5.7.0";var __awaiter$d=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$t=new Logger(version$j),allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$t.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(_e){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),_e)})}getTransactionCount(_e){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),_e)})}estimateGas(_e){return __awaiter$d(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const tt=yield resolveProperties(this.checkTransaction(_e));return yield this.provider.estimateGas(tt)})}call(_e,tt){return __awaiter$d(this,void 0,void 0,function*(){this._checkProvider("call");const rt=yield resolveProperties(this.checkTransaction(_e));return yield this.provider.call(rt,tt)})}sendTransaction(_e){return __awaiter$d(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const tt=yield this.populateTransaction(_e),rt=yield this.signTransaction(tt);return yield this.provider.sendTransaction(rt)})}getChainId(){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(_e){return __awaiter$d(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(_e)})}checkTransaction(_e){for(const rt in _e)allowedTransactionKeys$3.indexOf(rt)===-1&&logger$t.throwArgumentError("invalid transaction key: "+rt,"transaction",_e);const tt=shallowCopy(_e);return tt.from==null?tt.from=this.getAddress():tt.from=Promise.all([Promise.resolve(tt.from),this.getAddress()]).then(rt=>(rt[0].toLowerCase()!==rt[1].toLowerCase()&&logger$t.throwArgumentError("from address mismatch","transaction",_e),rt[0])),tt}populateTransaction(_e){return __awaiter$d(this,void 0,void 0,function*(){const tt=yield resolveProperties(this.checkTransaction(_e));tt.to!=null&&(tt.to=Promise.resolve(tt.to).then(nt=>__awaiter$d(this,void 0,void 0,function*(){if(nt==null)return null;const it=yield this.resolveName(nt);return it==null&&logger$t.throwArgumentError("provided ENS name resolves to null","tx.to",nt),it})),tt.to.catch(nt=>{}));const rt=tt.maxFeePerGas!=null||tt.maxPriorityFeePerGas!=null;if(tt.gasPrice!=null&&(tt.type===2||rt)?logger$t.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",_e):(tt.type===0||tt.type===1)&&rt&&logger$t.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",_e),(tt.type===2||tt.type==null)&&tt.maxFeePerGas!=null&&tt.maxPriorityFeePerGas!=null)tt.type=2;else if(tt.type===0||tt.type===1)tt.gasPrice==null&&(tt.gasPrice=this.getGasPrice());else{const nt=yield this.getFeeData();if(tt.type==null)if(nt.maxFeePerGas!=null&&nt.maxPriorityFeePerGas!=null)if(tt.type=2,tt.gasPrice!=null){const it=tt.gasPrice;delete tt.gasPrice,tt.maxFeePerGas=it,tt.maxPriorityFeePerGas=it}else tt.maxFeePerGas==null&&(tt.maxFeePerGas=nt.maxFeePerGas),tt.maxPriorityFeePerGas==null&&(tt.maxPriorityFeePerGas=nt.maxPriorityFeePerGas);else nt.gasPrice!=null?(rt&&logger$t.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),tt.gasPrice==null&&(tt.gasPrice=nt.gasPrice),tt.type=0):logger$t.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else tt.type===2&&(tt.maxFeePerGas==null&&(tt.maxFeePerGas=nt.maxFeePerGas),tt.maxPriorityFeePerGas==null&&(tt.maxPriorityFeePerGas=nt.maxPriorityFeePerGas))}return tt.nonce==null&&(tt.nonce=this.getTransactionCount("pending")),tt.gasLimit==null&&(tt.gasLimit=this.estimateGas(tt).catch(nt=>{if(forwardErrors.indexOf(nt.code)>=0)throw nt;return logger$t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:nt,tx:tt})})),tt.chainId==null?tt.chainId=this.getChainId():tt.chainId=Promise.all([Promise.resolve(tt.chainId),this.getChainId()]).then(nt=>(nt[1]!==0&&nt[0]!==nt[1]&&logger$t.throwArgumentError("chainId address mismatch","transaction",_e),nt[0])),yield resolveProperties(tt)})}_checkProvider(_e){this.provider||logger$t.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:_e||"_checkProvider"})}static isSigner(_e){return!!(_e&&_e._isSigner)}}class VoidSigner extends Signer{constructor(_e,tt){super(),defineReadOnly(this,"address",_e),defineReadOnly(this,"provider",tt||null)}getAddress(){return Promise.resolve(this.address)}_fail(_e,tt){return Promise.resolve().then(()=>{logger$t.throwError(_e,Logger.errors.UNSUPPORTED_OPERATION,{operation:tt})})}signMessage(_e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(_e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(_e,tt,rt){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(_e){return new VoidSigner(this.address,_e)}}var hash$4={},utils$h={},minimalisticAssert$1=assert$b;function assert$b(et,_e){if(!et)throw new Error(_e||"Assertion failed")}assert$b.equal=function(_e,tt,rt){if(_e!=tt)throw new Error(rt||"Assertion failed: "+_e+" != "+tt)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(_e,tt){tt&&(_e.super_=tt,_e.prototype=Object.create(tt.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(_e,tt){if(tt){_e.super_=tt;var rt=function(){};rt.prototype=tt.prototype,_e.prototype=new rt,_e.prototype.constructor=_e}};var assert$a=minimalisticAssert$1,inherits$6=inherits_browser$1.exports;utils$h.inherits=inherits$6;function isSurrogatePair(et,_e){return(et.charCodeAt(_e)&64512)!==55296||_e<0||_e+1>=et.length?!1:(et.charCodeAt(_e+1)&64512)===56320}function toArray$1(et,_e){if(Array.isArray(et))return et.slice();if(!et)return[];var tt=[];if(typeof et=="string")if(_e){if(_e==="hex")for(et=et.replace(/[^a-z0-9]+/ig,""),et.length%2!==0&&(et="0"+et),nt=0;nt<et.length;nt+=2)tt.push(parseInt(et[nt]+et[nt+1],16))}else for(var rt=0,nt=0;nt<et.length;nt++){var it=et.charCodeAt(nt);it<128?tt[rt++]=it:it<2048?(tt[rt++]=it>>6|192,tt[rt++]=it&63|128):isSurrogatePair(et,nt)?(it=65536+((it&1023)<<10)+(et.charCodeAt(++nt)&1023),tt[rt++]=it>>18|240,tt[rt++]=it>>12&63|128,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128):(tt[rt++]=it>>12|224,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128)}else for(nt=0;nt<et.length;nt++)tt[nt]=et[nt]|0;return tt}utils$h.toArray=toArray$1;function toHex$1(et){for(var _e="",tt=0;tt<et.length;tt++)_e+=zero2(et[tt].toString(16));return _e}utils$h.toHex=toHex$1;function htonl(et){var _e=et>>>24|et>>>8&65280|et<<8&16711680|(et&255)<<24;return _e>>>0}utils$h.htonl=htonl;function toHex32(et,_e){for(var tt="",rt=0;rt<et.length;rt++){var nt=et[rt];_e==="little"&&(nt=htonl(nt)),tt+=zero8(nt.toString(16))}return tt}utils$h.toHex32=toHex32;function zero2(et){return et.length===1?"0"+et:et}utils$h.zero2=zero2;function zero8(et){return et.length===7?"0"+et:et.length===6?"00"+et:et.length===5?"000"+et:et.length===4?"0000"+et:et.length===3?"00000"+et:et.length===2?"000000"+et:et.length===1?"0000000"+et:et}utils$h.zero8=zero8;function join32(et,_e,tt,rt){var nt=tt-_e;assert$a(nt%4===0);for(var it=new Array(nt/4),at=0,st=_e;at<it.length;at++,st+=4){var ot;rt==="big"?ot=et[st]<<24|et[st+1]<<16|et[st+2]<<8|et[st+3]:ot=et[st+3]<<24|et[st+2]<<16|et[st+1]<<8|et[st],it[at]=ot>>>0}return it}utils$h.join32=join32;function split32(et,_e){for(var tt=new Array(et.length*4),rt=0,nt=0;rt<et.length;rt++,nt+=4){var it=et[rt];_e==="big"?(tt[nt]=it>>>24,tt[nt+1]=it>>>16&255,tt[nt+2]=it>>>8&255,tt[nt+3]=it&255):(tt[nt+3]=it>>>24,tt[nt+2]=it>>>16&255,tt[nt+1]=it>>>8&255,tt[nt]=it&255)}return tt}utils$h.split32=split32;function rotr32$1(et,_e){return et>>>_e|et<<32-_e}utils$h.rotr32=rotr32$1;function rotl32$2(et,_e){return et<<_e|et>>>32-_e}utils$h.rotl32=rotl32$2;function sum32$3(et,_e){return et+_e>>>0}utils$h.sum32=sum32$3;function sum32_3$1(et,_e,tt){return et+_e+tt>>>0}utils$h.sum32_3=sum32_3$1;function sum32_4$2(et,_e,tt,rt){return et+_e+tt+rt>>>0}utils$h.sum32_4=sum32_4$2;function sum32_5$2(et,_e,tt,rt,nt){return et+_e+tt+rt+nt>>>0}utils$h.sum32_5=sum32_5$2;function sum64$1(et,_e,tt,rt){var nt=et[_e],it=et[_e+1],at=rt+it>>>0,st=(at<rt?1:0)+tt+nt;et[_e]=st>>>0,et[_e+1]=at}utils$h.sum64=sum64$1;function sum64_hi$1(et,_e,tt,rt){var nt=_e+rt>>>0,it=(nt<_e?1:0)+et+tt;return it>>>0}utils$h.sum64_hi=sum64_hi$1;function sum64_lo$1(et,_e,tt,rt){var nt=_e+rt;return nt>>>0}utils$h.sum64_lo=sum64_lo$1;function sum64_4_hi$1(et,_e,tt,rt,nt,it,at,st){var ot=0,ct=_e;ct=ct+rt>>>0,ot+=ct<_e?1:0,ct=ct+it>>>0,ot+=ct<it?1:0,ct=ct+st>>>0,ot+=ct<st?1:0;var lt=et+tt+nt+at+ot;return lt>>>0}utils$h.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(et,_e,tt,rt,nt,it,at,st){var ot=_e+rt+it+st;return ot>>>0}utils$h.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(et,_e,tt,rt,nt,it,at,st,ot,ct){var lt=0,ut=_e;ut=ut+rt>>>0,lt+=ut<_e?1:0,ut=ut+it>>>0,lt+=ut<it?1:0,ut=ut+st>>>0,lt+=ut<st?1:0,ut=ut+ct>>>0,lt+=ut<ct?1:0;var dt=et+tt+nt+at+ot+lt;return dt>>>0}utils$h.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(et,_e,tt,rt,nt,it,at,st,ot,ct){var lt=_e+rt+it+st+ct;return lt>>>0}utils$h.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(et,_e,tt){var rt=_e<<32-tt|et>>>tt;return rt>>>0}utils$h.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(et,_e,tt){var rt=et<<32-tt|_e>>>tt;return rt>>>0}utils$h.rotr64_lo=rotr64_lo$1;function shr64_hi$1(et,_e,tt){return et>>>tt}utils$h.shr64_hi=shr64_hi$1;function shr64_lo$1(et,_e,tt){var rt=et<<32-tt|_e>>>tt;return rt>>>0}utils$h.shr64_lo=shr64_lo$1;var common$5={},utils$g=utils$h,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(_e,tt){if(_e=utils$g.toArray(_e,tt),this.pending?this.pending=this.pending.concat(_e):this.pending=_e,this.pendingTotal+=_e.length,this.pending.length>=this._delta8){_e=this.pending;var rt=_e.length%this._delta8;this.pending=_e.slice(_e.length-rt,_e.length),this.pending.length===0&&(this.pending=null),_e=utils$g.join32(_e,0,_e.length-rt,this.endian);for(var nt=0;nt<_e.length;nt+=this._delta32)this._update(_e,nt,nt+this._delta32)}return this};BlockHash$4.prototype.digest=function(_e){return this.update(this._pad()),assert$9(this.pending===null),this._digest(_e)};BlockHash$4.prototype._pad=function(){var _e=this.pendingTotal,tt=this._delta8,rt=tt-(_e+this.padLength)%tt,nt=new Array(rt+this.padLength);nt[0]=128;for(var it=1;it<rt;it++)nt[it]=0;if(_e<<=3,this.endian==="big"){for(var at=8;at<this.padLength;at++)nt[it++]=0;nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=_e>>>24&255,nt[it++]=_e>>>16&255,nt[it++]=_e>>>8&255,nt[it++]=_e&255}else for(nt[it++]=_e&255,nt[it++]=_e>>>8&255,nt[it++]=_e>>>16&255,nt[it++]=_e>>>24&255,nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=0,at=8;at<this.padLength;at++)nt[it++]=0;return nt};var sha$3={},common$4={},utils$f=utils$h,rotr32=utils$f.rotr32;function ft_1$1(et,_e,tt,rt){if(et===0)return ch32$1(_e,tt,rt);if(et===1||et===3)return p32(_e,tt,rt);if(et===2)return maj32$1(_e,tt,rt)}common$4.ft_1=ft_1$1;function ch32$1(et,_e,tt){return et&_e^~et&tt}common$4.ch32=ch32$1;function maj32$1(et,_e,tt){return et&_e^et&tt^_e&tt}common$4.maj32=maj32$1;function p32(et,_e,tt){return et^_e^tt}common$4.p32=p32;function s0_256$1(et){return rotr32(et,2)^rotr32(et,13)^rotr32(et,22)}common$4.s0_256=s0_256$1;function s1_256$1(et){return rotr32(et,6)^rotr32(et,11)^rotr32(et,25)}common$4.s1_256=s1_256$1;function g0_256$1(et){return rotr32(et,7)^rotr32(et,18)^et>>>3}common$4.g0_256=g0_256$1;function g1_256$1(et){return rotr32(et,17)^rotr32(et,19)^et>>>10}common$4.g1_256=g1_256$1;var utils$e=utils$h,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$e.rotl32,sum32$2=utils$e.sum32,sum32_5$1=utils$e.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$e.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(_e,tt){for(var rt=this.W,nt=0;nt<16;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt++)rt[nt]=rotl32$1(rt[nt-3]^rt[nt-8]^rt[nt-14]^rt[nt-16],1);var it=this.h[0],at=this.h[1],st=this.h[2],ot=this.h[3],ct=this.h[4];for(nt=0;nt<rt.length;nt++){var lt=~~(nt/20),ut=sum32_5$1(rotl32$1(it,5),ft_1(lt,at,st,ot),ct,rt[nt],sha1_K[lt]);ct=ot,ot=st,st=rotl32$1(at,30),at=it,it=ut}this.h[0]=sum32$2(this.h[0],it),this.h[1]=sum32$2(this.h[1],at),this.h[2]=sum32$2(this.h[2],st),this.h[3]=sum32$2(this.h[3],ot),this.h[4]=sum32$2(this.h[4],ct)};SHA1.prototype._digest=function(_e){return _e==="hex"?utils$e.toHex32(this.h,"big"):utils$e.split32(this.h,"big")};var utils$d=utils$h,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$d.sum32,sum32_4$1=utils$d.sum32_4,sum32_5=utils$d.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$d.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(_e,tt){for(var rt=this.W,nt=0;nt<16;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt++)rt[nt]=sum32_4$1(g1_256(rt[nt-2]),rt[nt-7],g0_256(rt[nt-15]),rt[nt-16]);var it=this.h[0],at=this.h[1],st=this.h[2],ot=this.h[3],ct=this.h[4],lt=this.h[5],ut=this.h[6],dt=this.h[7];for(assert$8(this.k.length===rt.length),nt=0;nt<rt.length;nt++){var mt=sum32_5(dt,s1_256(ct),ch32(ct,lt,ut),this.k[nt],rt[nt]),gt=sum32$1(s0_256(it),maj32(it,at,st));dt=ut,ut=lt,lt=ct,ct=sum32$1(ot,mt),ot=st,st=at,at=it,it=sum32$1(mt,gt)}this.h[0]=sum32$1(this.h[0],it),this.h[1]=sum32$1(this.h[1],at),this.h[2]=sum32$1(this.h[2],st),this.h[3]=sum32$1(this.h[3],ot),this.h[4]=sum32$1(this.h[4],ct),this.h[5]=sum32$1(this.h[5],lt),this.h[6]=sum32$1(this.h[6],ut),this.h[7]=sum32$1(this.h[7],dt)};SHA256$1.prototype._digest=function(_e){return _e==="hex"?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};var utils$c=utils$h,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$c.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(_e){return _e==="hex"?utils$c.toHex32(this.h.slice(0,7),"big"):utils$c.split32(this.h.slice(0,7),"big")};var utils$b=utils$h,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$b.rotr64_hi,rotr64_lo=utils$b.rotr64_lo,shr64_hi=utils$b.shr64_hi,shr64_lo=utils$b.shr64_lo,sum64=utils$b.sum64,sum64_hi=utils$b.sum64_hi,sum64_lo=utils$b.sum64_lo,sum64_4_hi=utils$b.sum64_4_hi,sum64_4_lo=utils$b.sum64_4_lo,sum64_5_hi=utils$b.sum64_5_hi,sum64_5_lo=utils$b.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$b.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024;SHA512$2.outSize=512;SHA512$2.hmacStrength=192;SHA512$2.padLength=128;SHA512$2.prototype._prepareBlock=function(_e,tt){for(var rt=this.W,nt=0;nt<32;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt+=2){var it=g1_512_hi(rt[nt-4],rt[nt-3]),at=g1_512_lo(rt[nt-4],rt[nt-3]),st=rt[nt-14],ot=rt[nt-13],ct=g0_512_hi(rt[nt-30],rt[nt-29]),lt=g0_512_lo(rt[nt-30],rt[nt-29]),ut=rt[nt-32],dt=rt[nt-31];rt[nt]=sum64_4_hi(it,at,st,ot,ct,lt,ut,dt),rt[nt+1]=sum64_4_lo(it,at,st,ot,ct,lt,ut,dt)}};SHA512$2.prototype._update=function(_e,tt){this._prepareBlock(_e,tt);var rt=this.W,nt=this.h[0],it=this.h[1],at=this.h[2],st=this.h[3],ot=this.h[4],ct=this.h[5],lt=this.h[6],ut=this.h[7],dt=this.h[8],mt=this.h[9],gt=this.h[10],bt=this.h[11],ht=this.h[12],yt=this.h[13],wt=this.h[14],xt=this.h[15];assert$7(this.k.length===rt.length);for(var At=0;At<rt.length;At+=2){var kt=wt,Ot=xt,Wt=s1_512_hi(dt,mt),Ht=s1_512_lo(dt,mt),Zt=ch64_hi(dt,mt,gt,bt,ht),Lt=ch64_lo(dt,mt,gt,bt,ht,yt),Et=this.k[At],It=this.k[At+1],Ct=rt[At],vt=rt[At+1],Tt=sum64_5_hi(kt,Ot,Wt,Ht,Zt,Lt,Et,It,Ct,vt),Mt=sum64_5_lo(kt,Ot,Wt,Ht,Zt,Lt,Et,It,Ct,vt);kt=s0_512_hi(nt,it),Ot=s0_512_lo(nt,it),Wt=maj64_hi(nt,it,at,st,ot),Ht=maj64_lo(nt,it,at,st,ot,ct);var Nt=sum64_hi(kt,Ot,Wt,Ht),$t=sum64_lo(kt,Ot,Wt,Ht);wt=ht,xt=yt,ht=gt,yt=bt,gt=dt,bt=mt,dt=sum64_hi(lt,ut,Tt,Mt),mt=sum64_lo(ut,ut,Tt,Mt),lt=ot,ut=ct,ot=at,ct=st,at=nt,st=it,nt=sum64_hi(Tt,Mt,Nt,$t),it=sum64_lo(Tt,Mt,Nt,$t)}sum64(this.h,0,nt,it),sum64(this.h,2,at,st),sum64(this.h,4,ot,ct),sum64(this.h,6,lt,ut),sum64(this.h,8,dt,mt),sum64(this.h,10,gt,bt),sum64(this.h,12,ht,yt),sum64(this.h,14,wt,xt)};SHA512$2.prototype._digest=function(_e){return _e==="hex"?utils$b.toHex32(this.h,"big"):utils$b.split32(this.h,"big")};function ch64_hi(et,_e,tt,rt,nt){var it=et&tt^~et&nt;return it<0&&(it+=4294967296),it}function ch64_lo(et,_e,tt,rt,nt,it){var at=_e&rt^~_e&it;return at<0&&(at+=4294967296),at}function maj64_hi(et,_e,tt,rt,nt){var it=et&tt^et&nt^tt&nt;return it<0&&(it+=4294967296),it}function maj64_lo(et,_e,tt,rt,nt,it){var at=_e&rt^_e&it^rt&it;return at<0&&(at+=4294967296),at}function s0_512_hi(et,_e){var tt=rotr64_hi(et,_e,28),rt=rotr64_hi(_e,et,2),nt=rotr64_hi(_e,et,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s0_512_lo(et,_e){var tt=rotr64_lo(et,_e,28),rt=rotr64_lo(_e,et,2),nt=rotr64_lo(_e,et,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s1_512_hi(et,_e){var tt=rotr64_hi(et,_e,14),rt=rotr64_hi(et,_e,18),nt=rotr64_hi(_e,et,9),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s1_512_lo(et,_e){var tt=rotr64_lo(et,_e,14),rt=rotr64_lo(et,_e,18),nt=rotr64_lo(_e,et,9),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g0_512_hi(et,_e){var tt=rotr64_hi(et,_e,1),rt=rotr64_hi(et,_e,8),nt=shr64_hi(et,_e,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g0_512_lo(et,_e){var tt=rotr64_lo(et,_e,1),rt=rotr64_lo(et,_e,8),nt=shr64_lo(et,_e,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g1_512_hi(et,_e){var tt=rotr64_hi(et,_e,19),rt=rotr64_hi(_e,et,29),nt=shr64_hi(et,_e,6),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g1_512_lo(et,_e){var tt=rotr64_lo(et,_e,19),rt=rotr64_lo(_e,et,29),nt=shr64_lo(et,_e,6),it=tt^rt^nt;return it<0&&(it+=4294967296),it}var utils$a=utils$h,SHA512$1=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$a.inherits(SHA384,SHA512$1);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(_e){return _e==="hex"?utils$a.toHex32(this.h.slice(0,12),"big"):utils$a.split32(this.h.slice(0,12),"big")};sha$3.sha1=_1;sha$3.sha224=_224;sha$3.sha256=_256;sha$3.sha384=_384;sha$3.sha512=_512;var ripemd={},utils$9=utils$h,common=common$5,rotl32=utils$9.rotl32,sum32=utils$9.sum32,sum32_3=utils$9.sum32_3,sum32_4=utils$9.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$9.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(_e,tt){for(var rt=this.h[0],nt=this.h[1],it=this.h[2],at=this.h[3],st=this.h[4],ot=rt,ct=nt,lt=it,ut=at,dt=st,mt=0;mt<80;mt++){var gt=sum32(rotl32(sum32_4(rt,f$6(mt,nt,it,at),_e[r$6[mt]+tt],K$5(mt)),s$4[mt]),st);rt=st,st=at,at=rotl32(it,10),it=nt,nt=gt,gt=sum32(rotl32(sum32_4(ot,f$6(79-mt,ct,lt,ut),_e[rh[mt]+tt],Kh(mt)),sh[mt]),dt),ot=dt,dt=ut,ut=rotl32(lt,10),lt=ct,ct=gt}gt=sum32_3(this.h[1],it,ut),this.h[1]=sum32_3(this.h[2],at,dt),this.h[2]=sum32_3(this.h[3],st,ot),this.h[3]=sum32_3(this.h[4],rt,ct),this.h[4]=sum32_3(this.h[0],nt,lt),this.h[0]=gt};RIPEMD160.prototype._digest=function(_e){return _e==="hex"?utils$9.toHex32(this.h,"little"):utils$9.split32(this.h,"little")};function f$6(et,_e,tt,rt){return et<=15?_e^tt^rt:et<=31?_e&tt|~_e&rt:et<=47?(_e|~tt)^rt:et<=63?_e&rt|tt&~rt:_e^(tt|~rt)}function K$5(et){return et<=15?0:et<=31?1518500249:et<=47?1859775393:et<=63?2400959708:2840853838}function Kh(et){return et<=15?1352829926:et<=31?1548603684:et<=47?1836072691:et<=63?2053994217:0}var r$6=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$8=utils$h,assert$6=minimalisticAssert$1;function Hmac(et,_e,tt){if(!(this instanceof Hmac))return new Hmac(et,_e,tt);this.Hash=et,this.blockSize=et.blockSize/8,this.outSize=et.outSize/8,this.inner=null,this.outer=null,this._init(utils$8.toArray(_e,tt))}var hmac$1=Hmac;Hmac.prototype._init=function(_e){_e.length>this.blockSize&&(_e=new this.Hash().update(_e).digest()),assert$6(_e.length<=this.blockSize);for(var tt=_e.length;tt<this.blockSize;tt++)_e.push(0);for(tt=0;tt<_e.length;tt++)_e[tt]^=54;for(this.inner=new this.Hash().update(_e),tt=0;tt<_e.length;tt++)_e[tt]^=106;this.outer=new this.Hash().update(_e)};Hmac.prototype.update=function(_e,tt){return this.inner.update(_e,tt),this};Hmac.prototype.digest=function(_e){return this.outer.update(this.inner.digest()),this.outer.digest(_e)};(function(et){var _e=et;_e.utils=utils$h,_e.common=common$5,_e.sha=sha$3,_e.ripemd=ripemd,_e.hmac=hmac$1,_e.sha1=_e.sha.sha1,_e.sha256=_e.sha.sha256,_e.sha224=_e.sha.sha224,_e.sha384=_e.sha.sha384,_e.sha512=_e.sha.sha512,_e.ripemd160=_e.ripemd.ripemd160})(hash$4);const hash$3=hash$4;function createCommonjsModule(et,_e,tt){return tt={path:_e,exports:{},require:function(rt,nt){return commonjsRequire(rt,nt==null?tt.path:nt)}},et(tt,tt.exports),tt.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert(et,_e){if(!et)throw new Error(_e||"Assertion failed")}assert.equal=function(_e,tt,rt){if(_e!=tt)throw new Error(rt||"Assertion failed: "+_e+" != "+tt)};var utils_1$1=createCommonjsModule(function(et,_e){var tt=_e;function rt(at,st){if(Array.isArray(at))return at.slice();if(!at)return[];var ot=[];if(typeof at!="string"){for(var ct=0;ct<at.length;ct++)ot[ct]=at[ct]|0;return ot}if(st==="hex"){at=at.replace(/[^a-z0-9]+/ig,""),at.length%2!==0&&(at="0"+at);for(var ct=0;ct<at.length;ct+=2)ot.push(parseInt(at[ct]+at[ct+1],16))}else for(var ct=0;ct<at.length;ct++){var lt=at.charCodeAt(ct),ut=lt>>8,dt=lt&255;ut?ot.push(ut,dt):ot.push(dt)}return ot}tt.toArray=rt;function nt(at){return at.length===1?"0"+at:at}tt.zero2=nt;function it(at){for(var st="",ot=0;ot<at.length;ot++)st+=nt(at[ot].toString(16));return st}tt.toHex=it,tt.encode=function(st,ot){return ot==="hex"?it(st):st}}),utils_1$1$1=createCommonjsModule(function(et,_e){var tt=_e;tt.assert=minimalisticAssert,tt.toArray=utils_1$1.toArray,tt.zero2=utils_1$1.zero2,tt.toHex=utils_1$1.toHex,tt.encode=utils_1$1.encode;function rt(ot,ct,lt){var ut=new Array(Math.max(ot.bitLength(),lt)+1);ut.fill(0);for(var dt=1<<ct+1,mt=ot.clone(),gt=0;gt<ut.length;gt++){var bt,ht=mt.andln(dt-1);mt.isOdd()?(ht>(dt>>1)-1?bt=(dt>>1)-ht:bt=ht,mt.isubn(bt)):bt=0,ut[gt]=bt,mt.iushrn(1)}return ut}tt.getNAF=rt;function nt(ot,ct){var lt=[[],[]];ot=ot.clone(),ct=ct.clone();for(var ut=0,dt=0,mt;ot.cmpn(-ut)>0||ct.cmpn(-dt)>0;){var gt=ot.andln(3)+ut&3,bt=ct.andln(3)+dt&3;gt===3&&(gt=-1),bt===3&&(bt=-1);var ht;(gt&1)===0?ht=0:(mt=ot.andln(7)+ut&7,(mt===3||mt===5)&&bt===2?ht=-gt:ht=gt),lt[0].push(ht);var yt;(bt&1)===0?yt=0:(mt=ct.andln(7)+dt&7,(mt===3||mt===5)&&gt===2?yt=-bt:yt=bt),lt[1].push(yt),2*ut===ht+1&&(ut=1-ut),2*dt===yt+1&&(dt=1-dt),ot.iushrn(1),ct.iushrn(1)}return lt}tt.getJSF=nt;function it(ot,ct,lt){var ut="_"+ct;ot.prototype[ct]=function(){return this[ut]!==void 0?this[ut]:this[ut]=lt.call(this)}}tt.cachedProperty=it;function at(ot){return typeof ot=="string"?tt.toArray(ot,"hex"):ot}tt.parseBytes=at;function st(ot){return new BN$4(ot,"hex","le")}tt.intFromLE=st}),getNAF=utils_1$1$1.getNAF,getJSF=utils_1$1$1.getJSF,assert$1=utils_1$1$1.assert;function BaseCurve(et,_e){this.type=et,this.p=new BN$4(_e.p,16),this.red=_e.prime?BN$4.red(_e.prime):BN$4.mont(this.p),this.zero=new BN$4(0).toRed(this.red),this.one=new BN$4(1).toRed(this.red),this.two=new BN$4(2).toRed(this.red),this.n=_e.n&&new BN$4(_e.n,16),this.g=_e.g&&this.pointFromJSON(_e.g,_e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var tt=this.n&&this.p.div(this.n);!tt||tt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$5=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(_e,tt){assert$1(_e.precomputed);var rt=_e._getDoubles(),nt=getNAF(tt,1,this._bitLength),it=(1<<rt.step+1)-(rt.step%2===0?2:1);it/=3;var at=[],st,ot;for(st=0;st<nt.length;st+=rt.step){ot=0;for(var ct=st+rt.step-1;ct>=st;ct--)ot=(ot<<1)+nt[ct];at.push(ot)}for(var lt=this.jpoint(null,null,null),ut=this.jpoint(null,null,null),dt=it;dt>0;dt--){for(st=0;st<at.length;st++)ot=at[st],ot===dt?ut=ut.mixedAdd(rt.points[st]):ot===-dt&&(ut=ut.mixedAdd(rt.points[st].neg()));lt=lt.add(ut)}return lt.toP()};BaseCurve.prototype._wnafMul=function(_e,tt){var rt=4,nt=_e._getNAFPoints(rt);rt=nt.wnd;for(var it=nt.points,at=getNAF(tt,rt,this._bitLength),st=this.jpoint(null,null,null),ot=at.length-1;ot>=0;ot--){for(var ct=0;ot>=0&&at[ot]===0;ot--)ct++;if(ot>=0&&ct++,st=st.dblp(ct),ot<0)break;var lt=at[ot];assert$1(lt!==0),_e.type==="affine"?lt>0?st=st.mixedAdd(it[lt-1>>1]):st=st.mixedAdd(it[-lt-1>>1].neg()):lt>0?st=st.add(it[lt-1>>1]):st=st.add(it[-lt-1>>1].neg())}return _e.type==="affine"?st.toP():st};BaseCurve.prototype._wnafMulAdd=function(_e,tt,rt,nt,it){var at=this._wnafT1,st=this._wnafT2,ot=this._wnafT3,ct=0,lt,ut,dt;for(lt=0;lt<nt;lt++){dt=tt[lt];var mt=dt._getNAFPoints(_e);at[lt]=mt.wnd,st[lt]=mt.points}for(lt=nt-1;lt>=1;lt-=2){var gt=lt-1,bt=lt;if(at[gt]!==1||at[bt]!==1){ot[gt]=getNAF(rt[gt],at[gt],this._bitLength),ot[bt]=getNAF(rt[bt],at[bt],this._bitLength),ct=Math.max(ot[gt].length,ct),ct=Math.max(ot[bt].length,ct);continue}var ht=[tt[gt],null,null,tt[bt]];tt[gt].y.cmp(tt[bt].y)===0?(ht[1]=tt[gt].add(tt[bt]),ht[2]=tt[gt].toJ().mixedAdd(tt[bt].neg())):tt[gt].y.cmp(tt[bt].y.redNeg())===0?(ht[1]=tt[gt].toJ().mixedAdd(tt[bt]),ht[2]=tt[gt].add(tt[bt].neg())):(ht[1]=tt[gt].toJ().mixedAdd(tt[bt]),ht[2]=tt[gt].toJ().mixedAdd(tt[bt].neg()));var yt=[-3,-1,-5,-7,0,7,5,1,3],wt=getJSF(rt[gt],rt[bt]);for(ct=Math.max(wt[0].length,ct),ot[gt]=new Array(ct),ot[bt]=new Array(ct),ut=0;ut<ct;ut++){var xt=wt[0][ut]|0,At=wt[1][ut]|0;ot[gt][ut]=yt[(xt+1)*3+(At+1)],ot[bt][ut]=0,st[gt]=ht}}var kt=this.jpoint(null,null,null),Ot=this._wnafT4;for(lt=ct;lt>=0;lt--){for(var Wt=0;lt>=0;){var Ht=!0;for(ut=0;ut<nt;ut++)Ot[ut]=ot[ut][lt]|0,Ot[ut]!==0&&(Ht=!1);if(!Ht)break;Wt++,lt--}if(lt>=0&&Wt++,kt=kt.dblp(Wt),lt<0)break;for(ut=0;ut<nt;ut++){var Zt=Ot[ut];Zt!==0&&(Zt>0?dt=st[ut][Zt-1>>1]:Zt<0&&(dt=st[ut][-Zt-1>>1].neg()),dt.type==="affine"?kt=kt.mixedAdd(dt):kt=kt.add(dt))}}for(lt=0;lt<nt;lt++)st[lt]=null;return it?kt:kt.toP()};function BasePoint(et,_e){this.curve=et,this.type=_e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(_e,tt){_e=utils_1$1$1.toArray(_e,tt);var rt=this.p.byteLength();if((_e[0]===4||_e[0]===6||_e[0]===7)&&_e.length-1===2*rt){_e[0]===6?assert$1(_e[_e.length-1]%2===0):_e[0]===7&&assert$1(_e[_e.length-1]%2===1);var nt=this.point(_e.slice(1,1+rt),_e.slice(1+rt,1+2*rt));return nt}else if((_e[0]===2||_e[0]===3)&&_e.length-1===rt)return this.pointFromX(_e.slice(1,1+rt),_e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(_e){return this.encode(_e,!0)};BasePoint.prototype._encode=function(_e){var tt=this.curve.p.byteLength(),rt=this.getX().toArray("be",tt);return _e?[this.getY().isEven()?2:3].concat(rt):[4].concat(rt,this.getY().toArray("be",tt))};BasePoint.prototype.encode=function(_e,tt){return utils_1$1$1.encode(this._encode(tt),_e)};BasePoint.prototype.precompute=function(_e){if(this.precomputed)return this;var tt={doubles:null,naf:null,beta:null};return tt.naf=this._getNAFPoints(8),tt.doubles=this._getDoubles(4,_e),tt.beta=this._getBeta(),this.precomputed=tt,this};BasePoint.prototype._hasDoubles=function(_e){if(!this.precomputed)return!1;var tt=this.precomputed.doubles;return tt?tt.points.length>=Math.ceil((_e.bitLength()+1)/tt.step):!1};BasePoint.prototype._getDoubles=function(_e,tt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var rt=[this],nt=this,it=0;it<tt;it+=_e){for(var at=0;at<_e;at++)nt=nt.dbl();rt.push(nt)}return{step:_e,points:rt}};BasePoint.prototype._getNAFPoints=function(_e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var tt=[this],rt=(1<<_e)-1,nt=rt===1?null:this.dbl(),it=1;it<rt;it++)tt[it]=tt[it-1].add(nt);return{wnd:_e,points:tt}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(_e){for(var tt=this,rt=0;rt<_e;rt++)tt=tt.dbl();return tt};var inherits_browser=createCommonjsModule(function(et){typeof Object.create=="function"?et.exports=function(tt,rt){rt&&(tt.super_=rt,tt.prototype=Object.create(rt.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(tt,rt){if(rt){tt.super_=rt;var nt=function(){};nt.prototype=rt.prototype,tt.prototype=new nt,tt.prototype.constructor=tt}}}),assert$2=utils_1$1$1.assert;function ShortCurve(et){base$5.call(this,"short",et),this.a=new BN$4(et.a,16).toRed(this.red),this.b=new BN$4(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(et),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$5);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function(_e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var tt,rt;if(_e.beta)tt=new BN$4(_e.beta,16).toRed(this.red);else{var nt=this._getEndoRoots(this.p);tt=nt[0].cmp(nt[1])<0?nt[0]:nt[1],tt=tt.toRed(this.red)}if(_e.lambda)rt=new BN$4(_e.lambda,16);else{var it=this._getEndoRoots(this.n);this.g.mul(it[0]).x.cmp(this.g.x.redMul(tt))===0?rt=it[0]:(rt=it[1],assert$2(this.g.mul(rt).x.cmp(this.g.x.redMul(tt))===0))}var at;return _e.basis?at=_e.basis.map(function(st){return{a:new BN$4(st.a,16),b:new BN$4(st.b,16)}}):at=this._getEndoBasis(rt),{beta:tt,lambda:rt,basis:at}}};ShortCurve.prototype._getEndoRoots=function(_e){var tt=_e===this.p?this.red:BN$4.mont(_e),rt=new BN$4(2).toRed(tt).redInvm(),nt=rt.redNeg(),it=new BN$4(3).toRed(tt).redNeg().redSqrt().redMul(rt),at=nt.redAdd(it).fromRed(),st=nt.redSub(it).fromRed();return[at,st]};ShortCurve.prototype._getEndoBasis=function(_e){for(var tt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),rt=_e,nt=this.n.clone(),it=new BN$4(1),at=new BN$4(0),st=new BN$4(0),ot=new BN$4(1),ct,lt,ut,dt,mt,gt,bt,ht=0,yt,wt;rt.cmpn(0)!==0;){var xt=nt.div(rt);yt=nt.sub(xt.mul(rt)),wt=st.sub(xt.mul(it));var At=ot.sub(xt.mul(at));if(!ut&&yt.cmp(tt)<0)ct=bt.neg(),lt=it,ut=yt.neg(),dt=wt;else if(ut&&++ht===2)break;bt=yt,nt=rt,rt=yt,st=it,it=wt,ot=at,at=At}mt=yt.neg(),gt=wt;var kt=ut.sqr().add(dt.sqr()),Ot=mt.sqr().add(gt.sqr());return Ot.cmp(kt)>=0&&(mt=ct,gt=lt),ut.negative&&(ut=ut.neg(),dt=dt.neg()),mt.negative&&(mt=mt.neg(),gt=gt.neg()),[{a:ut,b:dt},{a:mt,b:gt}]};ShortCurve.prototype._endoSplit=function(_e){var tt=this.endo.basis,rt=tt[0],nt=tt[1],it=nt.b.mul(_e).divRound(this.n),at=rt.b.neg().mul(_e).divRound(this.n),st=it.mul(rt.a),ot=at.mul(nt.a),ct=it.mul(rt.b),lt=at.mul(nt.b),ut=_e.sub(st).sub(ot),dt=ct.add(lt).neg();return{k1:ut,k2:dt}};ShortCurve.prototype.pointFromX=function(_e,tt){_e=new BN$4(_e,16),_e.red||(_e=_e.toRed(this.red));var rt=_e.redSqr().redMul(_e).redIAdd(_e.redMul(this.a)).redIAdd(this.b),nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");var it=nt.fromRed().isOdd();return(tt&&!it||!tt&&it)&&(nt=nt.redNeg()),this.point(_e,nt)};ShortCurve.prototype.validate=function(_e){if(_e.inf)return!0;var tt=_e.x,rt=_e.y,nt=this.a.redMul(tt),it=tt.redSqr().redMul(tt).redIAdd(nt).redIAdd(this.b);return rt.redSqr().redISub(it).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(_e,tt,rt){for(var nt=this._endoWnafT1,it=this._endoWnafT2,at=0;at<_e.length;at++){var st=this._endoSplit(tt[at]),ot=_e[at],ct=ot._getBeta();st.k1.negative&&(st.k1.ineg(),ot=ot.neg(!0)),st.k2.negative&&(st.k2.ineg(),ct=ct.neg(!0)),nt[at*2]=ot,nt[at*2+1]=ct,it[at*2]=st.k1,it[at*2+1]=st.k2}for(var lt=this._wnafMulAdd(1,nt,it,at*2,rt),ut=0;ut<at*2;ut++)nt[ut]=null,it[ut]=null;return lt};function Point(et,_e,tt,rt){base$5.BasePoint.call(this,et,"affine"),_e===null&&tt===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$4(_e,16),this.y=new BN$4(tt,16),rt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$5.BasePoint);ShortCurve.prototype.point=function(_e,tt,rt){return new Point(this,_e,tt,rt)};ShortCurve.prototype.pointFromJSON=function(_e,tt){return Point.fromJSON(this,_e,tt)};Point.prototype._getBeta=function(){if(!!this.curve.endo){var _e=this.precomputed;if(_e&&_e.beta)return _e.beta;var tt=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(_e){var rt=this.curve,nt=function(it){return rt.point(it.x.redMul(rt.endo.beta),it.y)};_e.beta=tt,tt.precomputed={beta:null,naf:_e.naf&&{wnd:_e.naf.wnd,points:_e.naf.points.map(nt)},doubles:_e.doubles&&{step:_e.doubles.step,points:_e.doubles.points.map(nt)}}}return tt}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(_e,tt,rt){typeof tt=="string"&&(tt=JSON.parse(tt));var nt=_e.point(tt[0],tt[1],rt);if(!tt[2])return nt;function it(st){return _e.point(st[0],st[1],rt)}var at=tt[2];return nt.precomputed={beta:null,doubles:at.doubles&&{step:at.doubles.step,points:[nt].concat(at.doubles.points.map(it))},naf:at.naf&&{wnd:at.naf.wnd,points:[nt].concat(at.naf.points.map(it))}},nt};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(_e){if(this.inf)return _e;if(_e.inf)return this;if(this.eq(_e))return this.dbl();if(this.neg().eq(_e))return this.curve.point(null,null);if(this.x.cmp(_e.x)===0)return this.curve.point(null,null);var tt=this.y.redSub(_e.y);tt.cmpn(0)!==0&&(tt=tt.redMul(this.x.redSub(_e.x).redInvm()));var rt=tt.redSqr().redISub(this.x).redISub(_e.x),nt=tt.redMul(this.x.redSub(rt)).redISub(this.y);return this.curve.point(rt,nt)};Point.prototype.dbl=function(){if(this.inf)return this;var _e=this.y.redAdd(this.y);if(_e.cmpn(0)===0)return this.curve.point(null,null);var tt=this.curve.a,rt=this.x.redSqr(),nt=_e.redInvm(),it=rt.redAdd(rt).redIAdd(rt).redIAdd(tt).redMul(nt),at=it.redSqr().redISub(this.x.redAdd(this.x)),st=it.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,st)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(_e){return _e=new BN$4(_e,16),this.isInfinity()?this:this._hasDoubles(_e)?this.curve._fixedNafMul(this,_e):this.curve.endo?this.curve._endoWnafMulAdd([this],[_e]):this.curve._wnafMul(this,_e)};Point.prototype.mulAdd=function(_e,tt,rt){var nt=[this,tt],it=[_e,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,it):this.curve._wnafMulAdd(1,nt,it,2)};Point.prototype.jmulAdd=function(_e,tt,rt){var nt=[this,tt],it=[_e,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,it,!0):this.curve._wnafMulAdd(1,nt,it,2,!0)};Point.prototype.eq=function(_e){return this===_e||this.inf===_e.inf&&(this.inf||this.x.cmp(_e.x)===0&&this.y.cmp(_e.y)===0)};Point.prototype.neg=function(_e){if(this.inf)return this;var tt=this.curve.point(this.x,this.y.redNeg());if(_e&&this.precomputed){var rt=this.precomputed,nt=function(it){return it.neg()};tt.precomputed={naf:rt.naf&&{wnd:rt.naf.wnd,points:rt.naf.points.map(nt)},doubles:rt.doubles&&{step:rt.doubles.step,points:rt.doubles.points.map(nt)}}}return tt};Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var _e=this.curve.jpoint(this.x,this.y,this.curve.one);return _e};function JPoint(et,_e,tt,rt){base$5.BasePoint.call(this,et,"jacobian"),_e===null&&tt===null&&rt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$4(0)):(this.x=new BN$4(_e,16),this.y=new BN$4(tt,16),this.z=new BN$4(rt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$5.BasePoint);ShortCurve.prototype.jpoint=function(_e,tt,rt){return new JPoint(this,_e,tt,rt)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var _e=this.z.redInvm(),tt=_e.redSqr(),rt=this.x.redMul(tt),nt=this.y.redMul(tt).redMul(_e);return this.curve.point(rt,nt)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(_e){if(this.isInfinity())return _e;if(_e.isInfinity())return this;var tt=_e.z.redSqr(),rt=this.z.redSqr(),nt=this.x.redMul(tt),it=_e.x.redMul(rt),at=this.y.redMul(tt.redMul(_e.z)),st=_e.y.redMul(rt.redMul(this.z)),ot=nt.redSub(it),ct=at.redSub(st);if(ot.cmpn(0)===0)return ct.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var lt=ot.redSqr(),ut=lt.redMul(ot),dt=nt.redMul(lt),mt=ct.redSqr().redIAdd(ut).redISub(dt).redISub(dt),gt=ct.redMul(dt.redISub(mt)).redISub(at.redMul(ut)),bt=this.z.redMul(_e.z).redMul(ot);return this.curve.jpoint(mt,gt,bt)};JPoint.prototype.mixedAdd=function(_e){if(this.isInfinity())return _e.toJ();if(_e.isInfinity())return this;var tt=this.z.redSqr(),rt=this.x,nt=_e.x.redMul(tt),it=this.y,at=_e.y.redMul(tt).redMul(this.z),st=rt.redSub(nt),ot=it.redSub(at);if(st.cmpn(0)===0)return ot.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ct=st.redSqr(),lt=ct.redMul(st),ut=rt.redMul(ct),dt=ot.redSqr().redIAdd(lt).redISub(ut).redISub(ut),mt=ot.redMul(ut.redISub(dt)).redISub(it.redMul(lt)),gt=this.z.redMul(st);return this.curve.jpoint(dt,mt,gt)};JPoint.prototype.dblp=function(_e){if(_e===0)return this;if(this.isInfinity())return this;if(!_e)return this.dbl();var tt;if(this.curve.zeroA||this.curve.threeA){var rt=this;for(tt=0;tt<_e;tt++)rt=rt.dbl();return rt}var nt=this.curve.a,it=this.curve.tinv,at=this.x,st=this.y,ot=this.z,ct=ot.redSqr().redSqr(),lt=st.redAdd(st);for(tt=0;tt<_e;tt++){var ut=at.redSqr(),dt=lt.redSqr(),mt=dt.redSqr(),gt=ut.redAdd(ut).redIAdd(ut).redIAdd(nt.redMul(ct)),bt=at.redMul(dt),ht=gt.redSqr().redISub(bt.redAdd(bt)),yt=bt.redISub(ht),wt=gt.redMul(yt);wt=wt.redIAdd(wt).redISub(mt);var xt=lt.redMul(ot);tt+1<_e&&(ct=ct.redMul(mt)),at=ht,ot=xt,lt=wt}return this.curve.jpoint(at,lt.redMul(it),ot)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var _e,tt,rt;if(this.zOne){var nt=this.x.redSqr(),it=this.y.redSqr(),at=it.redSqr(),st=this.x.redAdd(it).redSqr().redISub(nt).redISub(at);st=st.redIAdd(st);var ot=nt.redAdd(nt).redIAdd(nt),ct=ot.redSqr().redISub(st).redISub(st),lt=at.redIAdd(at);lt=lt.redIAdd(lt),lt=lt.redIAdd(lt),_e=ct,tt=ot.redMul(st.redISub(ct)).redISub(lt),rt=this.y.redAdd(this.y)}else{var ut=this.x.redSqr(),dt=this.y.redSqr(),mt=dt.redSqr(),gt=this.x.redAdd(dt).redSqr().redISub(ut).redISub(mt);gt=gt.redIAdd(gt);var bt=ut.redAdd(ut).redIAdd(ut),ht=bt.redSqr(),yt=mt.redIAdd(mt);yt=yt.redIAdd(yt),yt=yt.redIAdd(yt),_e=ht.redISub(gt).redISub(gt),tt=bt.redMul(gt.redISub(_e)).redISub(yt),rt=this.y.redMul(this.z),rt=rt.redIAdd(rt)}return this.curve.jpoint(_e,tt,rt)};JPoint.prototype._threeDbl=function(){var _e,tt,rt;if(this.zOne){var nt=this.x.redSqr(),it=this.y.redSqr(),at=it.redSqr(),st=this.x.redAdd(it).redSqr().redISub(nt).redISub(at);st=st.redIAdd(st);var ot=nt.redAdd(nt).redIAdd(nt).redIAdd(this.curve.a),ct=ot.redSqr().redISub(st).redISub(st);_e=ct;var lt=at.redIAdd(at);lt=lt.redIAdd(lt),lt=lt.redIAdd(lt),tt=ot.redMul(st.redISub(ct)).redISub(lt),rt=this.y.redAdd(this.y)}else{var ut=this.z.redSqr(),dt=this.y.redSqr(),mt=this.x.redMul(dt),gt=this.x.redSub(ut).redMul(this.x.redAdd(ut));gt=gt.redAdd(gt).redIAdd(gt);var bt=mt.redIAdd(mt);bt=bt.redIAdd(bt);var ht=bt.redAdd(bt);_e=gt.redSqr().redISub(ht),rt=this.y.redAdd(this.z).redSqr().redISub(dt).redISub(ut);var yt=dt.redSqr();yt=yt.redIAdd(yt),yt=yt.redIAdd(yt),yt=yt.redIAdd(yt),tt=gt.redMul(bt.redISub(_e)).redISub(yt)}return this.curve.jpoint(_e,tt,rt)};JPoint.prototype._dbl=function(){var _e=this.curve.a,tt=this.x,rt=this.y,nt=this.z,it=nt.redSqr().redSqr(),at=tt.redSqr(),st=rt.redSqr(),ot=at.redAdd(at).redIAdd(at).redIAdd(_e.redMul(it)),ct=tt.redAdd(tt);ct=ct.redIAdd(ct);var lt=ct.redMul(st),ut=ot.redSqr().redISub(lt.redAdd(lt)),dt=lt.redISub(ut),mt=st.redSqr();mt=mt.redIAdd(mt),mt=mt.redIAdd(mt),mt=mt.redIAdd(mt);var gt=ot.redMul(dt).redISub(mt),bt=rt.redAdd(rt).redMul(nt);return this.curve.jpoint(ut,gt,bt)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var _e=this.x.redSqr(),tt=this.y.redSqr(),rt=this.z.redSqr(),nt=tt.redSqr(),it=_e.redAdd(_e).redIAdd(_e),at=it.redSqr(),st=this.x.redAdd(tt).redSqr().redISub(_e).redISub(nt);st=st.redIAdd(st),st=st.redAdd(st).redIAdd(st),st=st.redISub(at);var ot=st.redSqr(),ct=nt.redIAdd(nt);ct=ct.redIAdd(ct),ct=ct.redIAdd(ct),ct=ct.redIAdd(ct);var lt=it.redIAdd(st).redSqr().redISub(at).redISub(ot).redISub(ct),ut=tt.redMul(lt);ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var dt=this.x.redMul(ot).redISub(ut);dt=dt.redIAdd(dt),dt=dt.redIAdd(dt);var mt=this.y.redMul(lt.redMul(ct.redISub(lt)).redISub(st.redMul(ot)));mt=mt.redIAdd(mt),mt=mt.redIAdd(mt),mt=mt.redIAdd(mt);var gt=this.z.redAdd(st).redSqr().redISub(rt).redISub(ot);return this.curve.jpoint(dt,mt,gt)};JPoint.prototype.mul=function(_e,tt){return _e=new BN$4(_e,tt),this.curve._wnafMul(this,_e)};JPoint.prototype.eq=function(_e){if(_e.type==="affine")return this.eq(_e.toJ());if(this===_e)return!0;var tt=this.z.redSqr(),rt=_e.z.redSqr();if(this.x.redMul(rt).redISub(_e.x.redMul(tt)).cmpn(0)!==0)return!1;var nt=tt.redMul(this.z),it=rt.redMul(_e.z);return this.y.redMul(it).redISub(_e.y.redMul(nt)).cmpn(0)===0};JPoint.prototype.eqXToP=function(_e){var tt=this.z.redSqr(),rt=_e.toRed(this.curve.red).redMul(tt);if(this.x.cmp(rt)===0)return!0;for(var nt=_e.clone(),it=this.curve.redN.redMul(tt);;){if(nt.iadd(this.curve.n),nt.cmp(this.curve.p)>=0)return!1;if(rt.redIAdd(it),this.x.cmp(rt)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(et,_e){var tt=_e;tt.base=base$5,tt.short=short_1,tt.mont=null,tt.edwards=null}),curves_1=createCommonjsModule(function(et,_e){var tt=_e,rt=utils_1$1$1.assert;function nt(st){st.type==="short"?this.curve=new curve_1.short(st):st.type==="edwards"?this.curve=new curve_1.edwards(st):this.curve=new curve_1.mont(st),this.g=this.curve.g,this.n=this.curve.n,this.hash=st.hash,rt(this.g.validate(),"Invalid curve"),rt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}tt.PresetCurve=nt;function it(st,ot){Object.defineProperty(tt,st,{configurable:!0,enumerable:!0,get:function(){var ct=new nt(ot);return Object.defineProperty(tt,st,{configurable:!0,enumerable:!0,value:ct}),ct}})}it("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$3.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),it("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$3.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),it("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$3.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),it("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$3.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),it("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$3.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),it("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$3.sha256,gRed:!1,g:["9"]}),it("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$3.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var at;try{at=null.crash()}catch{at=void 0}it("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$3.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",at]})});function HmacDRBG(et){if(!(this instanceof HmacDRBG))return new HmacDRBG(et);this.hash=et.hash,this.predResist=!!et.predResist,this.outLen=this.hash.outSize,this.minEntropy=et.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var _e=utils_1$1.toArray(et.entropy,et.entropyEnc||"hex"),tt=utils_1$1.toArray(et.nonce,et.nonceEnc||"hex"),rt=utils_1$1.toArray(et.pers,et.persEnc||"hex");minimalisticAssert(_e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(_e,tt,rt)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(_e,tt,rt){var nt=_e.concat(tt).concat(rt);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var it=0;it<this.V.length;it++)this.K[it]=0,this.V[it]=1;this._update(nt),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(_e){var tt=this._hmac().update(this.V).update([0]);_e&&(tt=tt.update(_e)),this.K=tt.digest(),this.V=this._hmac().update(this.V).digest(),_e&&(this.K=this._hmac().update(this.V).update([1]).update(_e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(_e,tt,rt,nt){typeof tt!="string"&&(nt=rt,rt=tt,tt=null),_e=utils_1$1.toArray(_e,tt),rt=utils_1$1.toArray(rt,nt),minimalisticAssert(_e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(_e.concat(rt||[])),this._reseed=1};HmacDRBG.prototype.generate=function(_e,tt,rt,nt){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof tt!="string"&&(nt=rt,rt=tt,tt=null),rt&&(rt=utils_1$1.toArray(rt,nt||"hex"),this._update(rt));for(var it=[];it.length<_e;)this.V=this._hmac().update(this.V).digest(),it=it.concat(this.V);var at=it.slice(0,_e);return this._update(rt),this._reseed++,utils_1$1.encode(at,tt)};var assert$3=utils_1$1$1.assert;function KeyPair(et,_e){this.ec=et,this.priv=null,this.pub=null,_e.priv&&this._importPrivate(_e.priv,_e.privEnc),_e.pub&&this._importPublic(_e.pub,_e.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function(_e,tt,rt){return tt instanceof KeyPair?tt:new KeyPair(_e,{pub:tt,pubEnc:rt})};KeyPair.fromPrivate=function(_e,tt,rt){return tt instanceof KeyPair?tt:new KeyPair(_e,{priv:tt,privEnc:rt})};KeyPair.prototype.validate=function(){var _e=this.getPublic();return _e.isInfinity()?{result:!1,reason:"Invalid public key"}:_e.validate()?_e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(_e,tt){return typeof _e=="string"&&(tt=_e,_e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),tt?this.pub.encode(tt,_e):this.pub};KeyPair.prototype.getPrivate=function(_e){return _e==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function(_e,tt){this.priv=new BN$4(_e,tt||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(_e,tt){if(_e.x||_e.y){this.ec.curve.type==="mont"?assert$3(_e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(_e.x&&_e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(_e.x,_e.y);return}this.pub=this.ec.curve.decodePoint(_e,tt)};KeyPair.prototype.derive=function(_e){return _e.validate()||assert$3(_e.validate(),"public point not validated"),_e.mul(this.priv).getX()};KeyPair.prototype.sign=function(_e,tt,rt){return this.ec.sign(_e,this,tt,rt)};KeyPair.prototype.verify=function(_e,tt){return this.ec.verify(_e,tt,this)};KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1$1.assert;function Signature(et,_e){if(et instanceof Signature)return et;this._importDER(et,_e)||(assert$4(et.r&&et.s,"Signature without r or s"),this.r=new BN$4(et.r,16),this.s=new BN$4(et.s,16),et.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=et.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(et,_e){var tt=et[_e.place++];if(!(tt&128))return tt;var rt=tt&15;if(rt===0||rt>4)return!1;for(var nt=0,it=0,at=_e.place;it<rt;it++,at++)nt<<=8,nt|=et[at],nt>>>=0;return nt<=127?!1:(_e.place=at,nt)}function rmPadding(et){for(var _e=0,tt=et.length-1;!et[_e]&&!(et[_e+1]&128)&&_e<tt;)_e++;return _e===0?et:et.slice(_e)}Signature.prototype._importDER=function(_e,tt){_e=utils_1$1$1.toArray(_e,tt);var rt=new Position;if(_e[rt.place++]!==48)return!1;var nt=getLength(_e,rt);if(nt===!1||nt+rt.place!==_e.length||_e[rt.place++]!==2)return!1;var it=getLength(_e,rt);if(it===!1)return!1;var at=_e.slice(rt.place,it+rt.place);if(rt.place+=it,_e[rt.place++]!==2)return!1;var st=getLength(_e,rt);if(st===!1||_e.length!==st+rt.place)return!1;var ot=_e.slice(rt.place,st+rt.place);if(at[0]===0)if(at[1]&128)at=at.slice(1);else return!1;if(ot[0]===0)if(ot[1]&128)ot=ot.slice(1);else return!1;return this.r=new BN$4(at),this.s=new BN$4(ot),this.recoveryParam=null,!0};function constructLength(et,_e){if(_e<128){et.push(_e);return}var tt=1+(Math.log(_e)/Math.LN2>>>3);for(et.push(tt|128);--tt;)et.push(_e>>>(tt<<3)&255);et.push(_e)}Signature.prototype.toDER=function(_e){var tt=this.r.toArray(),rt=this.s.toArray();for(tt[0]&128&&(tt=[0].concat(tt)),rt[0]&128&&(rt=[0].concat(rt)),tt=rmPadding(tt),rt=rmPadding(rt);!rt[0]&&!(rt[1]&128);)rt=rt.slice(1);var nt=[2];constructLength(nt,tt.length),nt=nt.concat(tt),nt.push(2),constructLength(nt,rt.length);var it=nt.concat(rt),at=[48];return constructLength(at,it.length),at=at.concat(it),utils_1$1$1.encode(at,_e)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1$1.assert;function EC(et){if(!(this instanceof EC))return new EC(et);typeof et=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,et),"Unknown curve "+et),et=curves_1[et]),et instanceof curves_1.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}var ec=EC;EC.prototype.keyPair=function(_e){return new key(this,_e)};EC.prototype.keyFromPrivate=function(_e,tt){return key.fromPrivate(this,_e,tt)};EC.prototype.keyFromPublic=function(_e,tt){return key.fromPublic(this,_e,tt)};EC.prototype.genKeyPair=function(_e){_e||(_e={});for(var tt=new hmacDrbg({hash:this.hash,pers:_e.pers,persEnc:_e.persEnc||"utf8",entropy:_e.entropy||rand(this.hash.hmacStrength),entropyEnc:_e.entropy&&_e.entropyEnc||"utf8",nonce:this.n.toArray()}),rt=this.n.byteLength(),nt=this.n.sub(new BN$4(2));;){var it=new BN$4(tt.generate(rt));if(!(it.cmp(nt)>0))return it.iaddn(1),this.keyFromPrivate(it)}};EC.prototype._truncateToN=function(_e,tt){var rt=_e.byteLength()*8-this.n.bitLength();return rt>0&&(_e=_e.ushrn(rt)),!tt&&_e.cmp(this.n)>=0?_e.sub(this.n):_e};EC.prototype.sign=function(_e,tt,rt,nt){typeof rt=="object"&&(nt=rt,rt=null),nt||(nt={}),tt=this.keyFromPrivate(tt,rt),_e=this._truncateToN(new BN$4(_e,16));for(var it=this.n.byteLength(),at=tt.getPrivate().toArray("be",it),st=_e.toArray("be",it),ot=new hmacDrbg({hash:this.hash,entropy:at,nonce:st,pers:nt.pers,persEnc:nt.persEnc||"utf8"}),ct=this.n.sub(new BN$4(1)),lt=0;;lt++){var ut=nt.k?nt.k(lt):new BN$4(ot.generate(this.n.byteLength()));if(ut=this._truncateToN(ut,!0),!(ut.cmpn(1)<=0||ut.cmp(ct)>=0)){var dt=this.g.mul(ut);if(!dt.isInfinity()){var mt=dt.getX(),gt=mt.umod(this.n);if(gt.cmpn(0)!==0){var bt=ut.invm(this.n).mul(gt.mul(tt.getPrivate()).iadd(_e));if(bt=bt.umod(this.n),bt.cmpn(0)!==0){var ht=(dt.getY().isOdd()?1:0)|(mt.cmp(gt)!==0?2:0);return nt.canonical&&bt.cmp(this.nh)>0&&(bt=this.n.sub(bt),ht^=1),new signature({r:gt,s:bt,recoveryParam:ht})}}}}}};EC.prototype.verify=function(_e,tt,rt,nt){_e=this._truncateToN(new BN$4(_e,16)),rt=this.keyFromPublic(rt,nt),tt=new signature(tt,"hex");var it=tt.r,at=tt.s;if(it.cmpn(1)<0||it.cmp(this.n)>=0||at.cmpn(1)<0||at.cmp(this.n)>=0)return!1;var st=at.invm(this.n),ot=st.mul(_e).umod(this.n),ct=st.mul(it).umod(this.n),lt;return this.curve._maxwellTrick?(lt=this.g.jmulAdd(ot,rt.getPublic(),ct),lt.isInfinity()?!1:lt.eqXToP(it)):(lt=this.g.mulAdd(ot,rt.getPublic(),ct),lt.isInfinity()?!1:lt.getX().umod(this.n).cmp(it)===0)};EC.prototype.recoverPubKey=function(et,_e,tt,rt){assert$5((3&tt)===tt,"The recovery param is more than two bits"),_e=new signature(_e,rt);var nt=this.n,it=new BN$4(et),at=_e.r,st=_e.s,ot=tt&1,ct=tt>>1;if(at.cmp(this.curve.p.umod(this.curve.n))>=0&&ct)throw new Error("Unable to find sencond key candinate");ct?at=this.curve.pointFromX(at.add(this.curve.n),ot):at=this.curve.pointFromX(at,ot);var lt=_e.r.invm(nt),ut=nt.sub(it).mul(lt).umod(nt),dt=st.mul(lt).umod(nt);return this.g.mulAdd(ut,at,dt)};EC.prototype.getKeyRecoveryParam=function(et,_e,tt,rt){if(_e=new signature(_e,rt),_e.recoveryParam!==null)return _e.recoveryParam;for(var nt=0;nt<4;nt++){var it;try{it=this.recoverPubKey(et,_e,nt)}catch{continue}if(it.eq(tt))return nt}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(et,_e){var tt=_e;tt.version="6.5.4",tt.utils=utils_1$1$1,tt.rand=function(){throw new Error("unsupported")},tt.curve=curve_1,tt.curves=curves_1,tt.ec=ec,tt.eddsa=null}),EC$1=elliptic_1.ec;const version$i="signing-key/5.7.0",logger$s=new Logger(version$i);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(_e){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(_e)),hexDataLength(this.privateKey)!==32&&logger$s.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const tt=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+tt.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+tt.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(_e){const tt=getCurve().keyFromPublic(arrayify(this.publicKey)),rt=getCurve().keyFromPublic(arrayify(_e));return"0x"+tt.pub.add(rt.pub).encodeCompressed("hex")}signDigest(_e){const tt=getCurve().keyFromPrivate(arrayify(this.privateKey)),rt=arrayify(_e);rt.length!==32&&logger$s.throwArgumentError("bad digest length","digest",_e);const nt=tt.sign(rt,{canonical:!0});return splitSignature({recoveryParam:nt.recoveryParam,r:hexZeroPad("0x"+nt.r.toString(16),32),s:hexZeroPad("0x"+nt.s.toString(16),32)})}computeSharedSecret(_e){const tt=getCurve().keyFromPrivate(arrayify(this.privateKey)),rt=getCurve().keyFromPublic(arrayify(computePublicKey(_e)));return hexZeroPad("0x"+tt.derive(rt.getPublic()).toString(16),32)}static isSigningKey(_e){return!!(_e&&_e._isSigningKey)}}function recoverPublicKey(et,_e){const tt=splitSignature(_e),rt={r:arrayify(tt.r),s:arrayify(tt.s)};return"0x"+getCurve().recoverPubKey(arrayify(et),rt,tt.recoveryParam).encode("hex",!1)}function computePublicKey(et,_e){const tt=arrayify(et);if(tt.length===32){const rt=new SigningKey(tt);return _e?"0x"+getCurve().keyFromPrivate(tt).getPublic(!0,"hex"):rt.publicKey}else{if(tt.length===33)return _e?hexlify(tt):"0x"+getCurve().keyFromPublic(tt).getPublic(!1,"hex");if(tt.length===65)return _e?"0x"+getCurve().keyFromPublic(tt).getPublic(!0,"hex"):hexlify(tt)}return logger$s.throwArgumentError("invalid public or private key","key","[REDACTED]")}const lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,SigningKey,recoverPublicKey,computePublicKey},Symbol.toStringTag,{value:"Module"})),version$h="transactions/5.7.0",logger$r=new Logger(version$h);var TransactionTypes;(function(et){et[et.legacy=0]="legacy",et[et.eip2930=1]="eip2930",et[et.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(et){return et==="0x"?null:getAddress(et)}function handleNumber(et){return et==="0x"?Zero$1:BigNumber.from(et)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(et){const _e=computePublicKey(et);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(_e,1)),12))}function recoverAddress(et,_e){return computeAddress(recoverPublicKey(arrayify(et),_e))}function formatNumber(et,_e){const tt=stripZeros(BigNumber.from(et).toHexString());return tt.length>32&&logger$r.throwArgumentError("invalid length for "+_e,"transaction:"+_e,et),tt}function accessSetify(et,_e){return{address:getAddress(et),storageKeys:(_e||[]).map((tt,rt)=>(hexDataLength(tt)!==32&&logger$r.throwArgumentError("invalid access list storageKey",`accessList[${et}:${rt}]`,tt),tt.toLowerCase()))}}function accessListify(et){if(Array.isArray(et))return et.map((tt,rt)=>Array.isArray(tt)?(tt.length>2&&logger$r.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${rt}]`,tt),accessSetify(tt[0],tt[1])):accessSetify(tt.address,tt.storageKeys));const _e=Object.keys(et).map(tt=>{const rt=et[tt].reduce((nt,it)=>(nt[it]=!0,nt),{});return accessSetify(tt,Object.keys(rt).sort())});return _e.sort((tt,rt)=>tt.address.localeCompare(rt.address)),_e}function formatAccessList(et){return accessListify(et).map(_e=>[_e.address,_e.storageKeys])}function _serializeEip1559(et,_e){if(et.gasPrice!=null){const rt=BigNumber.from(et.gasPrice),nt=BigNumber.from(et.maxFeePerGas||0);rt.eq(nt)||logger$r.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:rt,maxFeePerGas:nt})}const tt=[formatNumber(et.chainId||0,"chainId"),formatNumber(et.nonce||0,"nonce"),formatNumber(et.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(et.maxFeePerGas||0,"maxFeePerGas"),formatNumber(et.gasLimit||0,"gasLimit"),et.to!=null?getAddress(et.to):"0x",formatNumber(et.value||0,"value"),et.data||"0x",formatAccessList(et.accessList||[])];if(_e){const rt=splitSignature(_e);tt.push(formatNumber(rt.recoveryParam,"recoveryParam")),tt.push(stripZeros(rt.r)),tt.push(stripZeros(rt.s))}return hexConcat(["0x02",encode$c(tt)])}function _serializeEip2930(et,_e){const tt=[formatNumber(et.chainId||0,"chainId"),formatNumber(et.nonce||0,"nonce"),formatNumber(et.gasPrice||0,"gasPrice"),formatNumber(et.gasLimit||0,"gasLimit"),et.to!=null?getAddress(et.to):"0x",formatNumber(et.value||0,"value"),et.data||"0x",formatAccessList(et.accessList||[])];if(_e){const rt=splitSignature(_e);tt.push(formatNumber(rt.recoveryParam,"recoveryParam")),tt.push(stripZeros(rt.r)),tt.push(stripZeros(rt.s))}return hexConcat(["0x01",encode$c(tt)])}function _serialize(et,_e){checkProperties(et,allowedTransactionKeys$2);const tt=[];transactionFields.forEach(function(at){let st=et[at.name]||[];const ot={};at.numeric&&(ot.hexPad="left"),st=arrayify(hexlify(st,ot)),at.length&&st.length!==at.length&&st.length>0&&logger$r.throwArgumentError("invalid length for "+at.name,"transaction:"+at.name,st),at.maxLength&&(st=stripZeros(st),st.length>at.maxLength&&logger$r.throwArgumentError("invalid length for "+at.name,"transaction:"+at.name,st)),tt.push(hexlify(st))});let rt=0;if(et.chainId!=null?(rt=et.chainId,typeof rt!="number"&&logger$r.throwArgumentError("invalid transaction.chainId","transaction",et)):_e&&!isBytesLike(_e)&&_e.v>28&&(rt=Math.floor((_e.v-35)/2)),rt!==0&&(tt.push(hexlify(rt)),tt.push("0x"),tt.push("0x")),!_e)return encode$c(tt);const nt=splitSignature(_e);let it=27+nt.recoveryParam;return rt!==0?(tt.pop(),tt.pop(),tt.pop(),it+=rt*2+8,nt.v>28&&nt.v!==it&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",_e)):nt.v!==it&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",_e),tt.push(hexlify(it)),tt.push(stripZeros(arrayify(nt.r))),tt.push(stripZeros(arrayify(nt.s))),encode$c(tt)}function serialize$3(et,_e){if(et.type==null||et.type===0)return et.accessList!=null&&logger$r.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",et),_serialize(et,_e);switch(et.type){case 1:return _serializeEip2930(et,_e);case 2:return _serializeEip1559(et,_e)}return logger$r.throwError(`unsupported transaction type: ${et.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:et.type})}function _parseEipSignature(et,_e,tt){try{const rt=handleNumber(_e[0]).toNumber();if(rt!==0&&rt!==1)throw new Error("bad recid");et.v=rt}catch{logger$r.throwArgumentError("invalid v for transaction type: 1","v",_e[0])}et.r=hexZeroPad(_e[1],32),et.s=hexZeroPad(_e[2],32);try{const rt=keccak256$1(tt(et));et.from=recoverAddress(rt,{r:et.r,s:et.s,recoveryParam:et.v})}catch{}}function _parseEip1559(et){const _e=decode$g(et.slice(1));_e.length!==9&&_e.length!==12&&logger$r.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(et));const tt=handleNumber(_e[2]),rt=handleNumber(_e[3]),nt={type:2,chainId:handleNumber(_e[0]).toNumber(),nonce:handleNumber(_e[1]).toNumber(),maxPriorityFeePerGas:tt,maxFeePerGas:rt,gasPrice:null,gasLimit:handleNumber(_e[4]),to:handleAddress(_e[5]),value:handleNumber(_e[6]),data:_e[7],accessList:accessListify(_e[8])};return _e.length===9||(nt.hash=keccak256$1(et),_parseEipSignature(nt,_e.slice(9),_serializeEip1559)),nt}function _parseEip2930(et){const _e=decode$g(et.slice(1));_e.length!==8&&_e.length!==11&&logger$r.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(et));const tt={type:1,chainId:handleNumber(_e[0]).toNumber(),nonce:handleNumber(_e[1]).toNumber(),gasPrice:handleNumber(_e[2]),gasLimit:handleNumber(_e[3]),to:handleAddress(_e[4]),value:handleNumber(_e[5]),data:_e[6],accessList:accessListify(_e[7])};return _e.length===8||(tt.hash=keccak256$1(et),_parseEipSignature(tt,_e.slice(8),_serializeEip2930)),tt}function _parse(et){const _e=decode$g(et);_e.length!==9&&_e.length!==6&&logger$r.throwArgumentError("invalid raw transaction","rawTransaction",et);const tt={nonce:handleNumber(_e[0]).toNumber(),gasPrice:handleNumber(_e[1]),gasLimit:handleNumber(_e[2]),to:handleAddress(_e[3]),value:handleNumber(_e[4]),data:_e[5],chainId:0};if(_e.length===6)return tt;try{tt.v=BigNumber.from(_e[6]).toNumber()}catch{return tt}if(tt.r=hexZeroPad(_e[7],32),tt.s=hexZeroPad(_e[8],32),BigNumber.from(tt.r).isZero()&&BigNumber.from(tt.s).isZero())tt.chainId=tt.v,tt.v=0;else{tt.chainId=Math.floor((tt.v-35)/2),tt.chainId<0&&(tt.chainId=0);let rt=tt.v-27;const nt=_e.slice(0,6);tt.chainId!==0&&(nt.push(hexlify(tt.chainId)),nt.push("0x"),nt.push("0x"),rt-=tt.chainId*2+8);const it=keccak256$1(encode$c(nt));try{tt.from=recoverAddress(it,{r:hexlify(tt.r),s:hexlify(tt.s),recoveryParam:rt})}catch{}tt.hash=keccak256$1(et)}return tt.type=null,tt}function parse$3(et){const _e=arrayify(et);if(_e[0]>127)return _parse(_e);switch(_e[0]){case 1:return _parseEip2930(_e);case 2:return _parseEip1559(_e)}return logger$r.throwError(`unsupported transaction type: ${_e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:_e[0]})}const lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize:serialize$3,parse:parse$3},Symbol.toStringTag,{value:"Module"})),version$g="contracts/5.7.0";var __awaiter$c=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$q=new Logger(version$g),allowedTransactionKeys$1={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(et,_e){return __awaiter$c(this,void 0,void 0,function*(){const tt=yield _e;typeof tt!="string"&&logger$q.throwArgumentError("invalid address or ENS name","name",tt);try{return getAddress(tt)}catch{}et||logger$q.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const rt=yield et.resolveName(tt);return rt==null&&logger$q.throwArgumentError("resolver or addr is not configured for ENS name","name",tt),rt})}function resolveAddresses(et,_e,tt){return __awaiter$c(this,void 0,void 0,function*(){return Array.isArray(tt)?yield Promise.all(tt.map((rt,nt)=>resolveAddresses(et,Array.isArray(_e)?_e[nt]:_e[rt.name],rt))):tt.type==="address"?yield resolveName(et,_e):tt.type==="tuple"?yield resolveAddresses(et,_e,tt.components):tt.baseType==="array"?Array.isArray(_e)?yield Promise.all(_e.map(rt=>resolveAddresses(et,rt,tt.arrayChildren))):Promise.reject(logger$q.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:_e})):_e})}function populateTransaction(et,_e,tt){return __awaiter$c(this,void 0,void 0,function*(){let rt={};tt.length===_e.inputs.length+1&&typeof tt[tt.length-1]=="object"&&(rt=shallowCopy(tt.pop())),logger$q.checkArgumentCount(tt.length,_e.inputs.length,"passed to contract"),et.signer?rt.from?rt.from=resolveProperties({override:resolveName(et.signer,rt.from),signer:et.signer.getAddress()}).then(ct=>__awaiter$c(this,void 0,void 0,function*(){return getAddress(ct.signer)!==ct.override&&logger$q.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),ct.override})):rt.from=et.signer.getAddress():rt.from&&(rt.from=resolveName(et.provider,rt.from));const nt=yield resolveProperties({args:resolveAddresses(et.signer||et.provider,tt,_e.inputs),address:et.resolvedAddress,overrides:resolveProperties(rt)||{}}),it=et.interface.encodeFunctionData(_e,nt.args),at={data:it,to:nt.address},st=nt.overrides;if(st.nonce!=null&&(at.nonce=BigNumber.from(st.nonce).toNumber()),st.gasLimit!=null&&(at.gasLimit=BigNumber.from(st.gasLimit)),st.gasPrice!=null&&(at.gasPrice=BigNumber.from(st.gasPrice)),st.maxFeePerGas!=null&&(at.maxFeePerGas=BigNumber.from(st.maxFeePerGas)),st.maxPriorityFeePerGas!=null&&(at.maxPriorityFeePerGas=BigNumber.from(st.maxPriorityFeePerGas)),st.from!=null&&(at.from=st.from),st.type!=null&&(at.type=st.type),st.accessList!=null&&(at.accessList=accessListify(st.accessList)),at.gasLimit==null&&_e.gas!=null){let ct=21e3;const lt=arrayify(it);for(let ut=0;ut<lt.length;ut++)ct+=4,lt[ut]&&(ct+=64);at.gasLimit=BigNumber.from(_e.gas).add(ct)}if(st.value){const ct=BigNumber.from(st.value);!ct.isZero()&&!_e.payable&&logger$q.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:rt.value}),at.value=ct}st.customData&&(at.customData=shallowCopy(st.customData)),st.ccipReadEnabled&&(at.ccipReadEnabled=!!st.ccipReadEnabled),delete rt.nonce,delete rt.gasLimit,delete rt.gasPrice,delete rt.from,delete rt.value,delete rt.type,delete rt.accessList,delete rt.maxFeePerGas,delete rt.maxPriorityFeePerGas,delete rt.customData,delete rt.ccipReadEnabled;const ot=Object.keys(rt).filter(ct=>rt[ct]!=null);return ot.length&&logger$q.throwError(`cannot override ${ot.map(ct=>JSON.stringify(ct)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ot}),at})}function buildPopulate(et,_e){return function(...tt){return populateTransaction(et,_e,tt)}}function buildEstimate(et,_e){const tt=et.signer||et.provider;return function(...rt){return __awaiter$c(this,void 0,void 0,function*(){tt||logger$q.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const nt=yield populateTransaction(et,_e,rt);return yield tt.estimateGas(nt)})}}function addContractWait(et,_e){const tt=_e.wait.bind(_e);_e.wait=rt=>tt(rt).then(nt=>(nt.events=nt.logs.map(it=>{let at=deepCopy(it),st=null;try{st=et.interface.parseLog(it)}catch{}return st&&(at.args=st.args,at.decode=(ot,ct)=>et.interface.decodeEventLog(st.eventFragment,ot,ct),at.event=st.name,at.eventSignature=st.signature),at.removeListener=()=>et.provider,at.getBlock=()=>et.provider.getBlock(nt.blockHash),at.getTransaction=()=>et.provider.getTransaction(nt.transactionHash),at.getTransactionReceipt=()=>Promise.resolve(nt),at}),nt))}function buildCall(et,_e,tt){const rt=et.signer||et.provider;return function(...nt){return __awaiter$c(this,void 0,void 0,function*(){let it;if(nt.length===_e.inputs.length+1&&typeof nt[nt.length-1]=="object"){const ot=shallowCopy(nt.pop());ot.blockTag!=null&&(it=yield ot.blockTag),delete ot.blockTag,nt.push(ot)}et.deployTransaction!=null&&(yield et._deployed(it));const at=yield populateTransaction(et,_e,nt),st=yield rt.call(at,it);try{let ot=et.interface.decodeFunctionResult(_e,st);return tt&&_e.outputs.length===1&&(ot=ot[0]),ot}catch(ot){throw ot.code===Logger.errors.CALL_EXCEPTION&&(ot.address=et.address,ot.args=nt,ot.transaction=at),ot}})}}function buildSend(et,_e){return function(...tt){return __awaiter$c(this,void 0,void 0,function*(){et.signer||logger$q.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),et.deployTransaction!=null&&(yield et._deployed());const rt=yield populateTransaction(et,_e,tt),nt=yield et.signer.sendTransaction(rt);return addContractWait(et,nt),nt})}}function buildDefault(et,_e,tt){return _e.constant?buildCall(et,_e,tt):buildSend(et,_e)}function getEventTag$1(et){return et.address&&(et.topics==null||et.topics.length===0)?"*":(et.address||"*")+"@"+(et.topics?et.topics.map(_e=>Array.isArray(_e)?_e.join("|"):_e).join(":"):"")}class RunningEvent{constructor(_e,tt){defineReadOnly(this,"tag",_e),defineReadOnly(this,"filter",tt),this._listeners=[]}addListener(_e,tt){this._listeners.push({listener:_e,once:tt})}removeListener(_e){let tt=!1;this._listeners=this._listeners.filter(rt=>tt||rt.listener!==_e?!0:(tt=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(_e=>_e.listener)}listenerCount(){return this._listeners.length}run(_e){const tt=this.listenerCount();return this._listeners=this._listeners.filter(rt=>{const nt=_e.slice();return setTimeout(()=>{rt.listener.apply(this,nt)},0),!rt.once}),tt}prepareEvent(_e){}getEmit(_e){return[_e]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(_e,tt,rt,nt){const it={address:_e};let at=tt.getEventTopic(rt);nt?(at!==nt[0]&&logger$q.throwArgumentError("topic mismatch","topics",nt),it.topics=nt.slice()):it.topics=[at],super(getEventTag$1(it),it),defineReadOnly(this,"address",_e),defineReadOnly(this,"interface",tt),defineReadOnly(this,"fragment",rt)}prepareEvent(_e){super.prepareEvent(_e),_e.event=this.fragment.name,_e.eventSignature=this.fragment.format(),_e.decode=(tt,rt)=>this.interface.decodeEventLog(this.fragment,tt,rt);try{_e.args=this.interface.decodeEventLog(this.fragment,_e.data,_e.topics)}catch(tt){_e.args=null,_e.decodeError=tt}}getEmit(_e){const tt=checkResultErrors(_e.args);if(tt.length)throw tt[0].error;const rt=(_e.args||[]).slice();return rt.push(_e),rt}}class WildcardRunningEvent extends RunningEvent{constructor(_e,tt){super("*",{address:_e}),defineReadOnly(this,"address",_e),defineReadOnly(this,"interface",tt)}prepareEvent(_e){super.prepareEvent(_e);try{const tt=this.interface.parseLog(_e);_e.event=tt.name,_e.eventSignature=tt.signature,_e.decode=(rt,nt)=>this.interface.decodeEventLog(tt.eventFragment,rt,nt),_e.args=tt.args}catch{}}}class BaseContract{constructor(_e,tt,rt){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(tt)),rt==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(rt)?(defineReadOnly(this,"provider",rt.provider||null),defineReadOnly(this,"signer",rt)):Provider$1.isProvider(rt)?(defineReadOnly(this,"provider",rt),defineReadOnly(this,"signer",null)):logger$q.throwArgumentError("invalid signer or provider","signerOrProvider",rt),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const at={};Object.keys(this.interface.events).forEach(st=>{const ot=this.interface.events[st];defineReadOnly(this.filters,st,(...ct)=>({address:this.address,topics:this.interface.encodeFilterTopics(ot,ct)})),at[ot.name]||(at[ot.name]=[]),at[ot.name].push(st)}),Object.keys(at).forEach(st=>{const ot=at[st];ot.length===1?defineReadOnly(this.filters,st,this.filters[ot[0]]):logger$q.warn(`Duplicate definition of ${st} (${ot.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),_e==null&&logger$q.throwArgumentError("invalid contract address or ENS name","addressOrName",_e),defineReadOnly(this,"address",_e),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,_e));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(_e)))}catch{logger$q.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(at=>{});const nt={},it={};Object.keys(this.interface.functions).forEach(at=>{const st=this.interface.functions[at];if(it[at]){logger$q.warn(`Duplicate ABI entry for ${JSON.stringify(at)}`);return}it[at]=!0;{const ot=st.name;nt[`%${ot}`]||(nt[`%${ot}`]=[]),nt[`%${ot}`].push(at)}this[at]==null&&defineReadOnly(this,at,buildDefault(this,st,!0)),this.functions[at]==null&&defineReadOnly(this.functions,at,buildDefault(this,st,!1)),this.callStatic[at]==null&&defineReadOnly(this.callStatic,at,buildCall(this,st,!0)),this.populateTransaction[at]==null&&defineReadOnly(this.populateTransaction,at,buildPopulate(this,st)),this.estimateGas[at]==null&&defineReadOnly(this.estimateGas,at,buildEstimate(this,st))}),Object.keys(nt).forEach(at=>{const st=nt[at];if(st.length>1)return;at=at.substring(1);const ot=st[0];try{this[at]==null&&defineReadOnly(this,at,this[ot])}catch{}this.functions[at]==null&&defineReadOnly(this.functions,at,this.functions[ot]),this.callStatic[at]==null&&defineReadOnly(this.callStatic,at,this.callStatic[ot]),this.populateTransaction[at]==null&&defineReadOnly(this.populateTransaction,at,this.populateTransaction[ot]),this.estimateGas[at]==null&&defineReadOnly(this.estimateGas,at,this.estimateGas[ot])})}static getContractAddress(_e){return getContractAddress(_e)}static getInterface(_e){return Interface.isInterface(_e)?_e:new Interface(_e)}deployed(){return this._deployed()}_deployed(_e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,_e).then(tt=>(tt==="0x"&&logger$q.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(_e){this.signer||logger$q.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const tt=shallowCopy(_e||{});return["from","to"].forEach(function(rt){tt[rt]!=null&&logger$q.throwError("cannot override "+rt,Logger.errors.UNSUPPORTED_OPERATION,{operation:rt})}),tt.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(tt))}connect(_e){typeof _e=="string"&&(_e=new VoidSigner(_e,this.provider));const tt=new this.constructor(this.address,this.interface,_e);return this.deployTransaction&&defineReadOnly(tt,"deployTransaction",this.deployTransaction),tt}attach(_e){return new this.constructor(_e,this.interface,this.signer||this.provider)}static isIndexed(_e){return Indexed.isIndexed(_e)}_normalizeRunningEvent(_e){return this._runningEvents[_e.tag]?this._runningEvents[_e.tag]:_e}_getRunningEvent(_e){if(typeof _e=="string"){if(_e==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(_e==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(_e==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const tt=this.interface.getEvent(_e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,tt))}if(_e.topics&&_e.topics.length>0){try{const rt=_e.topics[0];if(typeof rt!="string")throw new Error("invalid topic");const nt=this.interface.getEvent(rt);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,nt,_e.topics))}catch{}const tt={address:this.address,topics:_e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(tt),tt))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(_e){if(_e.listenerCount()===0){delete this._runningEvents[_e.tag];const tt=this._wrappedEmits[_e.tag];tt&&_e.filter&&(this.provider.off(_e.filter,tt),delete this._wrappedEmits[_e.tag])}}_wrapEvent(_e,tt,rt){const nt=deepCopy(tt);return nt.removeListener=()=>{!rt||(_e.removeListener(rt),this._checkRunningEvents(_e))},nt.getBlock=()=>this.provider.getBlock(tt.blockHash),nt.getTransaction=()=>this.provider.getTransaction(tt.transactionHash),nt.getTransactionReceipt=()=>this.provider.getTransactionReceipt(tt.transactionHash),_e.prepareEvent(nt),nt}_addEventListener(_e,tt,rt){if(this.provider||logger$q.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),_e.addListener(tt,rt),this._runningEvents[_e.tag]=_e,!this._wrappedEmits[_e.tag]){const nt=it=>{let at=this._wrapEvent(_e,it,tt);if(at.decodeError==null)try{const st=_e.getEmit(at);this.emit(_e.filter,...st)}catch(st){at.decodeError=st.error}_e.filter!=null&&this.emit("event",at),at.decodeError!=null&&this.emit("error",at.decodeError,at)};this._wrappedEmits[_e.tag]=nt,_e.filter!=null&&this.provider.on(_e.filter,nt)}}queryFilter(_e,tt,rt){const nt=this._getRunningEvent(_e),it=shallowCopy(nt.filter);return typeof tt=="string"&&isHexString$4(tt,32)?(rt!=null&&logger$q.throwArgumentError("cannot specify toBlock with blockhash","toBlock",rt),it.blockHash=tt):(it.fromBlock=tt!=null?tt:0,it.toBlock=rt!=null?rt:"latest"),this.provider.getLogs(it).then(at=>at.map(st=>this._wrapEvent(nt,st,null)))}on(_e,tt){return this._addEventListener(this._getRunningEvent(_e),tt,!1),this}once(_e,tt){return this._addEventListener(this._getRunningEvent(_e),tt,!0),this}emit(_e,...tt){if(!this.provider)return!1;const rt=this._getRunningEvent(_e),nt=rt.run(tt)>0;return this._checkRunningEvents(rt),nt}listenerCount(_e){return this.provider?_e==null?Object.keys(this._runningEvents).reduce((tt,rt)=>tt+this._runningEvents[rt].listenerCount(),0):this._getRunningEvent(_e).listenerCount():0}listeners(_e){if(!this.provider)return[];if(_e==null){const tt=[];for(let rt in this._runningEvents)this._runningEvents[rt].listeners().forEach(nt=>{tt.push(nt)});return tt}return this._getRunningEvent(_e).listeners()}removeAllListeners(_e){if(!this.provider)return this;if(_e==null){for(const rt in this._runningEvents){const nt=this._runningEvents[rt];nt.removeAllListeners(),this._checkRunningEvents(nt)}return this}const tt=this._getRunningEvent(_e);return tt.removeAllListeners(),this._checkRunningEvents(tt),this}off(_e,tt){if(!this.provider)return this;const rt=this._getRunningEvent(_e);return rt.removeListener(tt),this._checkRunningEvents(rt),this}removeListener(_e,tt){return this.off(_e,tt)}}class Contract extends BaseContract{}class ContractFactory$1{constructor(_e,tt,rt){let nt=null;typeof tt=="string"?nt=tt:isBytes(tt)?nt=hexlify(tt):tt&&typeof tt.object=="string"?nt=tt.object:nt="!",nt.substring(0,2)!=="0x"&&(nt="0x"+nt),(!isHexString$4(nt)||nt.length%2)&&logger$q.throwArgumentError("invalid bytecode","bytecode",tt),rt&&!Signer.isSigner(rt)&&logger$q.throwArgumentError("invalid signer","signer",rt),defineReadOnly(this,"bytecode",nt),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(_e)),defineReadOnly(this,"signer",rt||null)}getDeployTransaction(..._e){let tt={};if(_e.length===this.interface.deploy.inputs.length+1&&typeof _e[_e.length-1]=="object"){tt=shallowCopy(_e.pop());for(const rt in tt)if(!allowedTransactionKeys$1[rt])throw new Error("unknown transaction override "+rt)}return["data","from","to"].forEach(rt=>{tt[rt]!=null&&logger$q.throwError("cannot override "+rt,Logger.errors.UNSUPPORTED_OPERATION,{operation:rt})}),tt.value&&!BigNumber.from(tt.value).isZero()&&!this.interface.deploy.payable&&logger$q.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:tt.value}),logger$q.checkArgumentCount(_e.length,this.interface.deploy.inputs.length," in Contract constructor"),tt.data=hexlify(concat$c([this.bytecode,this.interface.encodeDeploy(_e)])),tt}deploy(..._e){return __awaiter$c(this,void 0,void 0,function*(){let tt={};_e.length===this.interface.deploy.inputs.length+1&&(tt=_e.pop()),logger$q.checkArgumentCount(_e.length,this.interface.deploy.inputs.length," in Contract constructor");const rt=yield resolveAddresses(this.signer,_e,this.interface.deploy.inputs);rt.push(tt);const nt=this.getDeployTransaction(...rt),it=yield this.signer.sendTransaction(nt),at=getStatic(this.constructor,"getContractAddress")(it),st=getStatic(this.constructor,"getContract")(at,this.interface,this.signer);return addContractWait(st,it),defineReadOnly(st,"deployTransaction",it),st})}attach(_e){return this.constructor.getContract(_e,this.interface,this.signer)}connect(_e){return new this.constructor(this.interface,this.bytecode,_e)}static fromSolidity(_e,tt){_e==null&&logger$q.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof _e=="string"&&(_e=JSON.parse(_e));const rt=_e.abi;let nt=null;return _e.bytecode?nt=_e.bytecode:_e.evm&&_e.evm.bytecode&&(nt=_e.evm.bytecode),new this(rt,nt,tt)}static getInterface(_e){return Contract.getInterface(_e)}static getContractAddress(_e){return getContractAddress(_e)}static getContract(_e,tt,rt){return new Contract(_e,tt,rt)}}class BaseX{constructor(_e){defineReadOnly(this,"alphabet",_e),defineReadOnly(this,"base",_e.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",_e.charAt(0));for(let tt=0;tt<_e.length;tt++)this._alphabetMap[_e.charAt(tt)]=tt}encode(_e){let tt=arrayify(_e);if(tt.length===0)return"";let rt=[0];for(let it=0;it<tt.length;++it){let at=tt[it];for(let st=0;st<rt.length;++st)at+=rt[st]<<8,rt[st]=at%this.base,at=at/this.base|0;for(;at>0;)rt.push(at%this.base),at=at/this.base|0}let nt="";for(let it=0;tt[it]===0&&it<tt.length-1;++it)nt+=this._leader;for(let it=rt.length-1;it>=0;--it)nt+=this.alphabet[rt[it]];return nt}decode(_e){if(typeof _e!="string")throw new TypeError("Expected String");let tt=[];if(_e.length===0)return new Uint8Array(tt);tt.push(0);for(let rt=0;rt<_e.length;rt++){let nt=this._alphabetMap[_e[rt]];if(nt===void 0)throw new Error("Non-base"+this.base+" character");let it=nt;for(let at=0;at<tt.length;++at)it+=tt[at]*this.base,tt[at]=it&255,it>>=8;for(;it>0;)tt.push(it&255),it>>=8}for(let rt=0;_e[rt]===this._leader&&rt<_e.length-1;++rt)tt.push(0);return arrayify(new Uint8Array(tt.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,BaseX,Base32,Base58},Symbol.toStringTag,{value:"Module"}));var SupportedAlgorithm;(function(et){et.sha256="sha256",et.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$f="sha2/5.7.0",logger$p=new Logger(version$f);function ripemd160$1(et){return"0x"+hash$3.ripemd160().update(arrayify(et)).digest("hex")}function sha256$4(et){return"0x"+hash$3.sha256().update(arrayify(et)).digest("hex")}function sha512$3(et){return"0x"+hash$3.sha512().update(arrayify(et)).digest("hex")}function computeHmac(et,_e,tt){return SupportedAlgorithm[et]||logger$p.throwError("unsupported algorithm "+et,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:et}),"0x"+hash$3.hmac(hash$3[et],arrayify(_e)).update(arrayify(tt)).digest("hex")}const lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,computeHmac,ripemd160:ripemd160$1,sha256:sha256$4,sha512:sha512$3,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"}));function pbkdf2$2(et,_e,tt,rt,nt){et=arrayify(et),_e=arrayify(_e);let it,at=1;const st=new Uint8Array(rt),ot=new Uint8Array(_e.length+4);ot.set(_e);let ct,lt;for(let ut=1;ut<=at;ut++){ot[_e.length]=ut>>24&255,ot[_e.length+1]=ut>>16&255,ot[_e.length+2]=ut>>8&255,ot[_e.length+3]=ut&255;let dt=arrayify(computeHmac(nt,et,ot));it||(it=dt.length,lt=new Uint8Array(it),at=Math.ceil(rt/it),ct=rt-(at-1)*it),lt.set(dt);for(let bt=1;bt<tt;bt++){dt=arrayify(computeHmac(nt,et,dt));for(let ht=0;ht<it;ht++)lt[ht]^=dt[ht]}const mt=(ut-1)*it,gt=ut===at?ct:it;st.set(arrayify(lt).slice(0,gt),mt)}return hexlify(st)}const version$e="wordlists/5.7.0",logger$o=new Logger(version$e);class Wordlist{constructor(_e){logger$o.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",_e)}split(_e){return _e.toLowerCase().split(/ +/g)}join(_e){return _e.join(" ")}static check(_e){const tt=[];for(let rt=0;rt<2048;rt++){const nt=_e.getWord(rt);if(rt!==_e.getWordIndex(nt))return"0x";tt.push(nt)}return id(tt.join(`
`)+`
`)}static register(_e,tt){tt||(tt=_e.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(et){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(et)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(_e){return loadWords(this),wordlist[_e]}getWordIndex(_e){return loadWords(this),wordlist.indexOf(_e)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$d="hdnode/5.7.0",logger$n=new Logger(version$d),N$4=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(et){return(1<<et)-1<<8-et}function getLowerMask(et){return(1<<et)-1}function bytes32(et){return hexZeroPad(hexlify(et),32)}function base58check(et){return Base58.encode(concat$c([et,hexDataSlice(sha256$4(sha256$4(et)),0,4)]))}function getWordlist(et){if(et==null)return wordlists.en;if(typeof et=="string"){const _e=wordlists[et];return _e==null&&logger$n.throwArgumentError("unknown locale","wordlist",et),_e}return et}const _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(_e,tt,rt,nt,it,at,st,ot){if(_e!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(tt){const ct=new SigningKey(tt);defineReadOnly(this,"privateKey",ct.privateKey),defineReadOnly(this,"publicKey",ct.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(rt));defineReadOnly(this,"parentFingerprint",nt),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160$1(sha256$4(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",it),defineReadOnly(this,"index",at),defineReadOnly(this,"depth",st),ot==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof ot=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",ot)):(defineReadOnly(this,"mnemonic",ot),defineReadOnly(this,"path",ot.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$c([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat$c(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(_e){if(_e>4294967295)throw new Error("invalid index - "+String(_e));let tt=this.path;tt&&(tt+="/"+(_e&~HardenedBit));const rt=new Uint8Array(37);if(_e&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");rt.set(arrayify(this.privateKey),1),tt&&(tt+="'")}else rt.set(arrayify(this.publicKey));for(let ut=24;ut>=0;ut-=8)rt[33+(ut>>3)]=_e>>24-ut&255;const nt=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,rt)),it=nt.slice(0,32),at=nt.slice(32);let st=null,ot=null;this.privateKey?st=bytes32(BigNumber.from(it).add(this.privateKey).mod(N$4)):ot=new SigningKey(hexlify(it))._addPoint(this.publicKey);let ct=tt;const lt=this.mnemonic;return lt&&(ct=Object.freeze({phrase:lt.phrase,path:tt,locale:lt.locale||"en"})),new HDNode(_constructorGuard$1,st,ot,this.fingerprint,bytes32(at),_e,this.depth+1,ct)}derivePath(_e){const tt=_e.split("/");if(tt.length===0||tt[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+_e);tt[0]==="m"&&tt.shift();let rt=this;for(let nt=0;nt<tt.length;nt++){const it=tt[nt];if(it.match(/^[0-9]+'$/)){const at=parseInt(it.substring(0,it.length-1));if(at>=HardenedBit)throw new Error("invalid path index - "+it);rt=rt._derive(HardenedBit+at)}else if(it.match(/^[0-9]+$/)){const at=parseInt(it);if(at>=HardenedBit)throw new Error("invalid path index - "+it);rt=rt._derive(at)}else throw new Error("invalid path component - "+it)}return rt}static _fromSeed(_e,tt){const rt=arrayify(_e);if(rt.length<16||rt.length>64)throw new Error("invalid seed");const nt=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,rt));return new HDNode(_constructorGuard$1,bytes32(nt.slice(0,32)),null,"0x00000000",bytes32(nt.slice(32)),0,0,tt)}static fromMnemonic(_e,tt,rt){return rt=getWordlist(rt),_e=entropyToMnemonic(mnemonicToEntropy(_e,rt),rt),HDNode._fromSeed(mnemonicToSeed(_e,tt),{phrase:_e,path:"m",locale:rt.locale})}static fromSeed(_e){return HDNode._fromSeed(_e,null)}static fromExtendedKey(_e){const tt=Base58.decode(_e);(tt.length!==82||base58check(tt.slice(0,78))!==_e)&&logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const rt=tt[4],nt=hexlify(tt.slice(5,9)),it=parseInt(hexlify(tt.slice(9,13)).substring(2),16),at=hexlify(tt.slice(13,45)),st=tt.slice(45,78);switch(hexlify(tt.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(st),nt,at,it,rt,null);case"0x0488ade4":case"0x04358394 ":if(st[0]!==0)break;return new HDNode(_constructorGuard$1,hexlify(st.slice(1)),null,nt,at,it,rt,null)}return logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(et,_e){_e||(_e="");const tt=toUtf8Bytes("mnemonic"+_e,UnicodeNormalizationForm.NFKD);return pbkdf2$2(toUtf8Bytes(et,UnicodeNormalizationForm.NFKD),tt,2048,64,"sha512")}function mnemonicToEntropy(et,_e){_e=getWordlist(_e),logger$n.checkNormalize();const tt=_e.split(et);if(tt.length%3!==0)throw new Error("invalid mnemonic");const rt=arrayify(new Uint8Array(Math.ceil(11*tt.length/8)));let nt=0;for(let ct=0;ct<tt.length;ct++){let lt=_e.getWordIndex(tt[ct].normalize("NFKD"));if(lt===-1)throw new Error("invalid mnemonic");for(let ut=0;ut<11;ut++)lt&1<<10-ut&&(rt[nt>>3]|=1<<7-nt%8),nt++}const it=32*tt.length/3,at=tt.length/3,st=getUpperMask(at);if((arrayify(sha256$4(rt.slice(0,it/8)))[0]&st)!==(rt[rt.length-1]&st))throw new Error("invalid checksum");return hexlify(rt.slice(0,it/8))}function entropyToMnemonic(et,_e){if(_e=getWordlist(_e),et=arrayify(et),et.length%4!==0||et.length<16||et.length>32)throw new Error("invalid entropy");const tt=[0];let rt=11;for(let at=0;at<et.length;at++)rt>8?(tt[tt.length-1]<<=8,tt[tt.length-1]|=et[at],rt-=8):(tt[tt.length-1]<<=rt,tt[tt.length-1]|=et[at]>>8-rt,tt.push(et[at]&getLowerMask(8-rt)),rt+=3);const nt=et.length/4,it=arrayify(sha256$4(et))[0]&getUpperMask(nt);return tt[tt.length-1]<<=nt,tt[tt.length-1]|=it>>8-nt,_e.join(tt.map(at=>_e.getWord(at)))}function isValidMnemonic(et,_e){try{return mnemonicToEntropy(et,_e),!0}catch{}return!1}function getAccountPath(et){return(typeof et!="number"||et<0||et>=HardenedBit||et%1)&&logger$n.throwArgumentError("invalid account index","index",et),`m/44'/60'/${et}'/0/0`}const lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,defaultPath,HDNode,mnemonicToSeed,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,getAccountPath},Symbol.toStringTag,{value:"Module"})),version$c="random/5.7.0",logger$m=new Logger(version$c);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate globalThis object")}const anyGlobal=getGlobal();let crypto$5=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$5||!crypto$5.getRandomValues)&&(logger$m.warn("WARNING: Missing strong random number source"),crypto$5={getRandomValues:function(et){return logger$m.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes$1(et){(et<=0||et>1024||et%1||et!=et)&&logger$m.throwArgumentError("invalid length","length",et);const _e=new Uint8Array(et);return crypto$5.getRandomValues(_e),arrayify(_e)}function shuffled(et){et=et.slice();for(let _e=et.length-1;_e>0;_e--){const tt=Math.floor(Math.random()*(_e+1)),rt=et[_e];et[_e]=et[tt],et[tt]=rt}return et}const lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:randomBytes$1,shuffled},Symbol.toStringTag,{value:"Module"}));var aesJs={exports:{}};(function(et,_e){(function(tt){function rt(Rt){return parseInt(Rt)===Rt}function nt(Rt){if(!rt(Rt.length))return!1;for(var _t=0;_t<Rt.length;_t++)if(!rt(Rt[_t])||Rt[_t]<0||Rt[_t]>255)return!1;return!0}function it(Rt,_t){if(Rt.buffer&&ArrayBuffer.isView(Rt)&&Rt.name==="Uint8Array")return _t&&(Rt.slice?Rt=Rt.slice():Rt=Array.prototype.slice.call(Rt)),Rt;if(Array.isArray(Rt)){if(!nt(Rt))throw new Error("Array contains invalid value: "+Rt);return new Uint8Array(Rt)}if(rt(Rt.length)&&nt(Rt))return new Uint8Array(Rt);throw new Error("unsupported array-like object")}function at(Rt){return new Uint8Array(Rt)}function st(Rt,_t,Pt,Vt,Bt){(Vt!=null||Bt!=null)&&(Rt.slice?Rt=Rt.slice(Vt,Bt):Rt=Array.prototype.slice.call(Rt,Vt,Bt)),_t.set(Rt,Pt)}var ot=function(){function Rt(Pt){var Vt=[],Bt=0;for(Pt=encodeURI(Pt);Bt<Pt.length;){var qt=Pt.charCodeAt(Bt++);qt===37?(Vt.push(parseInt(Pt.substr(Bt,2),16)),Bt+=2):Vt.push(qt)}return it(Vt)}function _t(Pt){for(var Vt=[],Bt=0;Bt<Pt.length;){var qt=Pt[Bt];qt<128?(Vt.push(String.fromCharCode(qt)),Bt++):qt>191&&qt<224?(Vt.push(String.fromCharCode((qt&31)<<6|Pt[Bt+1]&63)),Bt+=2):(Vt.push(String.fromCharCode((qt&15)<<12|(Pt[Bt+1]&63)<<6|Pt[Bt+2]&63)),Bt+=3)}return Vt.join("")}return{toBytes:Rt,fromBytes:_t}}(),ct=function(){function Rt(Vt){for(var Bt=[],qt=0;qt<Vt.length;qt+=2)Bt.push(parseInt(Vt.substr(qt,2),16));return Bt}var _t="0123456789abcdef";function Pt(Vt){for(var Bt=[],qt=0;qt<Vt.length;qt++){var Yt=Vt[qt];Bt.push(_t[(Yt&240)>>4]+_t[Yt&15])}return Bt.join("")}return{toBytes:Rt,fromBytes:Pt}}(),lt={16:10,24:12,32:14},ut=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],dt=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],mt=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],gt=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],bt=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],ht=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],yt=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],wt=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],xt=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],At=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],kt=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Ot=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Wt=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Ht=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Zt=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Lt(Rt){for(var _t=[],Pt=0;Pt<Rt.length;Pt+=4)_t.push(Rt[Pt]<<24|Rt[Pt+1]<<16|Rt[Pt+2]<<8|Rt[Pt+3]);return _t}var Et=function(Rt){if(!(this instanceof Et))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:it(Rt,!0)}),this._prepare()};Et.prototype._prepare=function(){var Rt=lt[this.key.length];if(Rt==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var _t=0;_t<=Rt;_t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var Pt=(Rt+1)*4,Vt=this.key.length/4,Bt=Lt(this.key),qt,_t=0;_t<Vt;_t++)qt=_t>>2,this._Ke[qt][_t%4]=Bt[_t],this._Kd[Rt-qt][_t%4]=Bt[_t];for(var Yt=0,Xt=Vt,rr;Xt<Pt;){if(rr=Bt[Vt-1],Bt[0]^=dt[rr>>16&255]<<24^dt[rr>>8&255]<<16^dt[rr&255]<<8^dt[rr>>24&255]^ut[Yt]<<24,Yt+=1,Vt!=8)for(var _t=1;_t<Vt;_t++)Bt[_t]^=Bt[_t-1];else{for(var _t=1;_t<Vt/2;_t++)Bt[_t]^=Bt[_t-1];rr=Bt[Vt/2-1],Bt[Vt/2]^=dt[rr&255]^dt[rr>>8&255]<<8^dt[rr>>16&255]<<16^dt[rr>>24&255]<<24;for(var _t=Vt/2+1;_t<Vt;_t++)Bt[_t]^=Bt[_t-1]}for(var _t=0,lr,Qt;_t<Vt&&Xt<Pt;)lr=Xt>>2,Qt=Xt%4,this._Ke[lr][Qt]=Bt[_t],this._Kd[Rt-lr][Qt]=Bt[_t++],Xt++}for(var lr=1;lr<Rt;lr++)for(var Qt=0;Qt<4;Qt++)rr=this._Kd[lr][Qt],this._Kd[lr][Qt]=Ot[rr>>24&255]^Wt[rr>>16&255]^Ht[rr>>8&255]^Zt[rr&255]},Et.prototype.encrypt=function(Rt){if(Rt.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var _t=this._Ke.length-1,Pt=[0,0,0,0],Vt=Lt(Rt),Bt=0;Bt<4;Bt++)Vt[Bt]^=this._Ke[0][Bt];for(var qt=1;qt<_t;qt++){for(var Bt=0;Bt<4;Bt++)Pt[Bt]=gt[Vt[Bt]>>24&255]^bt[Vt[(Bt+1)%4]>>16&255]^ht[Vt[(Bt+2)%4]>>8&255]^yt[Vt[(Bt+3)%4]&255]^this._Ke[qt][Bt];Vt=Pt.slice()}for(var Yt=at(16),Xt,Bt=0;Bt<4;Bt++)Xt=this._Ke[_t][Bt],Yt[4*Bt]=(dt[Vt[Bt]>>24&255]^Xt>>24)&255,Yt[4*Bt+1]=(dt[Vt[(Bt+1)%4]>>16&255]^Xt>>16)&255,Yt[4*Bt+2]=(dt[Vt[(Bt+2)%4]>>8&255]^Xt>>8)&255,Yt[4*Bt+3]=(dt[Vt[(Bt+3)%4]&255]^Xt)&255;return Yt},Et.prototype.decrypt=function(Rt){if(Rt.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var _t=this._Kd.length-1,Pt=[0,0,0,0],Vt=Lt(Rt),Bt=0;Bt<4;Bt++)Vt[Bt]^=this._Kd[0][Bt];for(var qt=1;qt<_t;qt++){for(var Bt=0;Bt<4;Bt++)Pt[Bt]=wt[Vt[Bt]>>24&255]^xt[Vt[(Bt+3)%4]>>16&255]^At[Vt[(Bt+2)%4]>>8&255]^kt[Vt[(Bt+1)%4]&255]^this._Kd[qt][Bt];Vt=Pt.slice()}for(var Yt=at(16),Xt,Bt=0;Bt<4;Bt++)Xt=this._Kd[_t][Bt],Yt[4*Bt]=(mt[Vt[Bt]>>24&255]^Xt>>24)&255,Yt[4*Bt+1]=(mt[Vt[(Bt+3)%4]>>16&255]^Xt>>16)&255,Yt[4*Bt+2]=(mt[Vt[(Bt+2)%4]>>8&255]^Xt>>8)&255,Yt[4*Bt+3]=(mt[Vt[(Bt+1)%4]&255]^Xt)&255;return Yt};var It=function(Rt){if(!(this instanceof It))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Et(Rt)};It.prototype.encrypt=function(Rt){if(Rt=it(Rt),Rt.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _t=at(Rt.length),Pt=at(16),Vt=0;Vt<Rt.length;Vt+=16)st(Rt,Pt,0,Vt,Vt+16),Pt=this._aes.encrypt(Pt),st(Pt,_t,Vt);return _t},It.prototype.decrypt=function(Rt){if(Rt=it(Rt),Rt.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _t=at(Rt.length),Pt=at(16),Vt=0;Vt<Rt.length;Vt+=16)st(Rt,Pt,0,Vt,Vt+16),Pt=this._aes.decrypt(Pt),st(Pt,_t,Vt);return _t};var Ct=function(Rt,_t){if(!(this instanceof Ct))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!_t)_t=at(16);else if(_t.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=it(_t,!0),this._aes=new Et(Rt)};Ct.prototype.encrypt=function(Rt){if(Rt=it(Rt),Rt.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _t=at(Rt.length),Pt=at(16),Vt=0;Vt<Rt.length;Vt+=16){st(Rt,Pt,0,Vt,Vt+16);for(var Bt=0;Bt<16;Bt++)Pt[Bt]^=this._lastCipherblock[Bt];this._lastCipherblock=this._aes.encrypt(Pt),st(this._lastCipherblock,_t,Vt)}return _t},Ct.prototype.decrypt=function(Rt){if(Rt=it(Rt),Rt.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _t=at(Rt.length),Pt=at(16),Vt=0;Vt<Rt.length;Vt+=16){st(Rt,Pt,0,Vt,Vt+16),Pt=this._aes.decrypt(Pt);for(var Bt=0;Bt<16;Bt++)_t[Vt+Bt]=Pt[Bt]^this._lastCipherblock[Bt];st(Rt,this._lastCipherblock,0,Vt,Vt+16)}return _t};var vt=function(Rt,_t,Pt){if(!(this instanceof vt))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!_t)_t=at(16);else if(_t.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");Pt||(Pt=1),this.segmentSize=Pt,this._shiftRegister=it(_t,!0),this._aes=new Et(Rt)};vt.prototype.encrypt=function(Rt){if(Rt.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var _t=it(Rt,!0),Pt,Vt=0;Vt<_t.length;Vt+=this.segmentSize){Pt=this._aes.encrypt(this._shiftRegister);for(var Bt=0;Bt<this.segmentSize;Bt++)_t[Vt+Bt]^=Pt[Bt];st(this._shiftRegister,this._shiftRegister,0,this.segmentSize),st(_t,this._shiftRegister,16-this.segmentSize,Vt,Vt+this.segmentSize)}return _t},vt.prototype.decrypt=function(Rt){if(Rt.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var _t=it(Rt,!0),Pt,Vt=0;Vt<_t.length;Vt+=this.segmentSize){Pt=this._aes.encrypt(this._shiftRegister);for(var Bt=0;Bt<this.segmentSize;Bt++)_t[Vt+Bt]^=Pt[Bt];st(this._shiftRegister,this._shiftRegister,0,this.segmentSize),st(Rt,this._shiftRegister,16-this.segmentSize,Vt,Vt+this.segmentSize)}return _t};var Tt=function(Rt,_t){if(!(this instanceof Tt))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!_t)_t=at(16);else if(_t.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=it(_t,!0),this._lastPrecipherIndex=16,this._aes=new Et(Rt)};Tt.prototype.encrypt=function(Rt){for(var _t=it(Rt,!0),Pt=0;Pt<_t.length;Pt++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),_t[Pt]^=this._lastPrecipher[this._lastPrecipherIndex++];return _t},Tt.prototype.decrypt=Tt.prototype.encrypt;var Mt=function(Rt){if(!(this instanceof Mt))throw Error("Counter must be instanitated with `new`");Rt!==0&&!Rt&&(Rt=1),typeof Rt=="number"?(this._counter=at(16),this.setValue(Rt)):this.setBytes(Rt)};Mt.prototype.setValue=function(Rt){if(typeof Rt!="number"||parseInt(Rt)!=Rt)throw new Error("invalid counter value (must be an integer)");for(var _t=15;_t>=0;--_t)this._counter[_t]=Rt%256,Rt=Rt>>8},Mt.prototype.setBytes=function(Rt){if(Rt=it(Rt,!0),Rt.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=Rt},Mt.prototype.increment=function(){for(var Rt=15;Rt>=0;Rt--)if(this._counter[Rt]===255)this._counter[Rt]=0;else{this._counter[Rt]++;break}};var Nt=function(Rt,_t){if(!(this instanceof Nt))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",_t instanceof Mt||(_t=new Mt(_t)),this._counter=_t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Et(Rt)};Nt.prototype.encrypt=function(Rt){for(var _t=it(Rt,!0),Pt=0;Pt<_t.length;Pt++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),_t[Pt]^=this._remainingCounter[this._remainingCounterIndex++];return _t},Nt.prototype.decrypt=Nt.prototype.encrypt;function $t(Rt){Rt=it(Rt,!0);var _t=16-Rt.length%16,Pt=at(Rt.length+_t);st(Rt,Pt);for(var Vt=Rt.length;Vt<Pt.length;Vt++)Pt[Vt]=_t;return Pt}function St(Rt){if(Rt=it(Rt,!0),Rt.length<16)throw new Error("PKCS#7 invalid length");var _t=Rt[Rt.length-1];if(_t>16)throw new Error("PKCS#7 padding byte out of range");for(var Pt=Rt.length-_t,Vt=0;Vt<_t;Vt++)if(Rt[Pt+Vt]!==_t)throw new Error("PKCS#7 invalid padding byte");var Bt=at(Pt);return st(Rt,Bt,0,0,Pt),Bt}var Dt={AES:Et,Counter:Mt,ModeOfOperation:{ecb:It,cbc:Ct,cfb:vt,ofb:Tt,ctr:Nt},utils:{hex:ct,utf8:ot},padding:{pkcs7:{pad:$t,strip:St}},_arrayTest:{coerceArray:it,createArray:at,copyArray:st}};et.exports=Dt})()})(aesJs);const aes$1=aesJs.exports,version$b="json-wallets/5.7.0";function looseArrayify(et){return typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),arrayify(et)}function zpad(et,_e){for(et=String(et);et.length<_e;)et="0"+et;return et}function getPassword(et){return typeof et=="string"?toUtf8Bytes(et,UnicodeNormalizationForm.NFKC):arrayify(et)}function searchPath(et,_e){let tt=et;const rt=_e.toLowerCase().split("/");for(let nt=0;nt<rt.length;nt++){let it=null;for(const at in tt)if(at.toLowerCase()===rt[nt]){it=tt[at];break}if(it===null)return null;tt=it}return tt}function uuidV4(et){const _e=arrayify(et);_e[6]=_e[6]&15|64,_e[8]=_e[8]&63|128;const tt=hexlify(_e);return[tt.substring(2,10),tt.substring(10,14),tt.substring(14,18),tt.substring(18,22),tt.substring(22,34)].join("-")}const logger$l=new Logger(version$b);class CrowdsaleAccount extends Description{isCrowdsaleAccount(_e){return!!(_e&&_e._isCrowdsaleAccount)}}function decrypt$3(et,_e){const tt=JSON.parse(et);_e=getPassword(_e);const rt=getAddress(searchPath(tt,"ethaddr")),nt=looseArrayify(searchPath(tt,"encseed"));(!nt||nt.length%16!==0)&&logger$l.throwArgumentError("invalid encseed","json",et);const it=arrayify(pbkdf2$2(_e,_e,2e3,32,"sha256")).slice(0,16),at=nt.slice(0,16),st=nt.slice(16),ot=new aes$1.ModeOfOperation.cbc(it,at),ct=aes$1.padding.pkcs7.strip(arrayify(ot.decrypt(st)));let lt="";for(let mt=0;mt<ct.length;mt++)lt+=String.fromCharCode(ct[mt]);const ut=toUtf8Bytes(lt),dt=keccak256$1(ut);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:rt,privateKey:dt})}function isCrowdsaleWallet(et){let _e=null;try{_e=JSON.parse(et)}catch{return!1}return _e.encseed&&_e.ethaddr}function isKeystoreWallet(et){let _e=null;try{_e=JSON.parse(et)}catch{return!1}return!(!_e.version||parseInt(_e.version)!==_e.version||parseInt(_e.version)!==3)}function getJsonWalletAddress(et){if(isCrowdsaleWallet(et))try{return getAddress(JSON.parse(et).ethaddr)}catch{return null}if(isKeystoreWallet(et))try{return getAddress(JSON.parse(et).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(et,_e){(function(tt){function nt(bt){const ht=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let yt=1779033703,wt=3144134277,xt=1013904242,At=2773480762,kt=1359893119,Ot=2600822924,Wt=528734635,Ht=1541459225;const Zt=new Uint32Array(64);function Lt(Nt){let $t=0,St=Nt.length;for(;St>=64;){let Dt=yt,Rt=wt,_t=xt,Pt=At,Vt=kt,Bt=Ot,qt=Wt,Yt=Ht,Xt,rr,lr,Qt,Kt;for(rr=0;rr<16;rr++)lr=$t+rr*4,Zt[rr]=(Nt[lr]&255)<<24|(Nt[lr+1]&255)<<16|(Nt[lr+2]&255)<<8|Nt[lr+3]&255;for(rr=16;rr<64;rr++)Xt=Zt[rr-2],Qt=(Xt>>>17|Xt<<32-17)^(Xt>>>19|Xt<<32-19)^Xt>>>10,Xt=Zt[rr-15],Kt=(Xt>>>7|Xt<<32-7)^(Xt>>>18|Xt<<32-18)^Xt>>>3,Zt[rr]=(Qt+Zt[rr-7]|0)+(Kt+Zt[rr-16]|0)|0;for(rr=0;rr<64;rr++)Qt=(((Vt>>>6|Vt<<32-6)^(Vt>>>11|Vt<<32-11)^(Vt>>>25|Vt<<32-25))+(Vt&Bt^~Vt&qt)|0)+(Yt+(ht[rr]+Zt[rr]|0)|0)|0,Kt=((Dt>>>2|Dt<<32-2)^(Dt>>>13|Dt<<32-13)^(Dt>>>22|Dt<<32-22))+(Dt&Rt^Dt&_t^Rt&_t)|0,Yt=qt,qt=Bt,Bt=Vt,Vt=Pt+Qt|0,Pt=_t,_t=Rt,Rt=Dt,Dt=Qt+Kt|0;yt=yt+Dt|0,wt=wt+Rt|0,xt=xt+_t|0,At=At+Pt|0,kt=kt+Vt|0,Ot=Ot+Bt|0,Wt=Wt+qt|0,Ht=Ht+Yt|0,$t+=64,St-=64}}Lt(bt);let Et,It=bt.length%64,Ct=bt.length/536870912|0,vt=bt.length<<3,Tt=It<56?56:120,Mt=bt.slice(bt.length-It,bt.length);for(Mt.push(128),Et=It+1;Et<Tt;Et++)Mt.push(0);return Mt.push(Ct>>>24&255),Mt.push(Ct>>>16&255),Mt.push(Ct>>>8&255),Mt.push(Ct>>>0&255),Mt.push(vt>>>24&255),Mt.push(vt>>>16&255),Mt.push(vt>>>8&255),Mt.push(vt>>>0&255),Lt(Mt),[yt>>>24&255,yt>>>16&255,yt>>>8&255,yt>>>0&255,wt>>>24&255,wt>>>16&255,wt>>>8&255,wt>>>0&255,xt>>>24&255,xt>>>16&255,xt>>>8&255,xt>>>0&255,At>>>24&255,At>>>16&255,At>>>8&255,At>>>0&255,kt>>>24&255,kt>>>16&255,kt>>>8&255,kt>>>0&255,Ot>>>24&255,Ot>>>16&255,Ot>>>8&255,Ot>>>0&255,Wt>>>24&255,Wt>>>16&255,Wt>>>8&255,Wt>>>0&255,Ht>>>24&255,Ht>>>16&255,Ht>>>8&255,Ht>>>0&255]}function it(bt,ht,yt){bt=bt.length<=64?bt:nt(bt);const wt=64+ht.length+4,xt=new Array(wt),At=new Array(64);let kt,Ot=[];for(kt=0;kt<64;kt++)xt[kt]=54;for(kt=0;kt<bt.length;kt++)xt[kt]^=bt[kt];for(kt=0;kt<ht.length;kt++)xt[64+kt]=ht[kt];for(kt=wt-4;kt<wt;kt++)xt[kt]=0;for(kt=0;kt<64;kt++)At[kt]=92;for(kt=0;kt<bt.length;kt++)At[kt]^=bt[kt];function Wt(){for(let Ht=wt-1;Ht>=wt-4;Ht--){if(xt[Ht]++,xt[Ht]<=255)return;xt[Ht]=0}}for(;yt>=32;)Wt(),Ot=Ot.concat(nt(At.concat(nt(xt)))),yt-=32;return yt>0&&(Wt(),Ot=Ot.concat(nt(At.concat(nt(xt))).slice(0,yt))),Ot}function at(bt,ht,yt,wt,xt){let At;for(lt(bt,(2*yt-1)*16,xt,0,16),At=0;At<2*yt;At++)ct(bt,At*16,xt,16),ot(xt,wt),lt(xt,0,bt,ht+At*16,16);for(At=0;At<yt;At++)lt(bt,ht+At*2*16,bt,At*16,16);for(At=0;At<yt;At++)lt(bt,ht+(At*2+1)*16,bt,(At+yt)*16,16)}function st(bt,ht){return bt<<ht|bt>>>32-ht}function ot(bt,ht){lt(bt,0,ht,0,16);for(let yt=8;yt>0;yt-=2)ht[4]^=st(ht[0]+ht[12],7),ht[8]^=st(ht[4]+ht[0],9),ht[12]^=st(ht[8]+ht[4],13),ht[0]^=st(ht[12]+ht[8],18),ht[9]^=st(ht[5]+ht[1],7),ht[13]^=st(ht[9]+ht[5],9),ht[1]^=st(ht[13]+ht[9],13),ht[5]^=st(ht[1]+ht[13],18),ht[14]^=st(ht[10]+ht[6],7),ht[2]^=st(ht[14]+ht[10],9),ht[6]^=st(ht[2]+ht[14],13),ht[10]^=st(ht[6]+ht[2],18),ht[3]^=st(ht[15]+ht[11],7),ht[7]^=st(ht[3]+ht[15],9),ht[11]^=st(ht[7]+ht[3],13),ht[15]^=st(ht[11]+ht[7],18),ht[1]^=st(ht[0]+ht[3],7),ht[2]^=st(ht[1]+ht[0],9),ht[3]^=st(ht[2]+ht[1],13),ht[0]^=st(ht[3]+ht[2],18),ht[6]^=st(ht[5]+ht[4],7),ht[7]^=st(ht[6]+ht[5],9),ht[4]^=st(ht[7]+ht[6],13),ht[5]^=st(ht[4]+ht[7],18),ht[11]^=st(ht[10]+ht[9],7),ht[8]^=st(ht[11]+ht[10],9),ht[9]^=st(ht[8]+ht[11],13),ht[10]^=st(ht[9]+ht[8],18),ht[12]^=st(ht[15]+ht[14],7),ht[13]^=st(ht[12]+ht[15],9),ht[14]^=st(ht[13]+ht[12],13),ht[15]^=st(ht[14]+ht[13],18);for(let yt=0;yt<16;++yt)bt[yt]+=ht[yt]}function ct(bt,ht,yt,wt){for(let xt=0;xt<wt;xt++)yt[xt]^=bt[ht+xt]}function lt(bt,ht,yt,wt,xt){for(;xt--;)yt[wt++]=bt[ht++]}function ut(bt){if(!bt||typeof bt.length!="number")return!1;for(let ht=0;ht<bt.length;ht++){const yt=bt[ht];if(typeof yt!="number"||yt%1||yt<0||yt>=256)return!1}return!0}function dt(bt,ht){if(typeof bt!="number"||bt%1)throw new Error("invalid "+ht);return bt}function mt(bt,ht,yt,wt,xt,At,kt){if(yt=dt(yt,"N"),wt=dt(wt,"r"),xt=dt(xt,"p"),At=dt(At,"dkLen"),yt===0||(yt&yt-1)!==0)throw new Error("N must be power of 2");if(yt>2147483647/128/wt)throw new Error("N too large");if(wt>2147483647/128/xt)throw new Error("r too large");if(!ut(bt))throw new Error("password must be an array or buffer");if(bt=Array.prototype.slice.call(bt),!ut(ht))throw new Error("salt must be an array or buffer");ht=Array.prototype.slice.call(ht);let Ot=it(bt,ht,xt*128*wt);const Wt=new Uint32Array(xt*32*wt);for(let Vt=0;Vt<Wt.length;Vt++){const Bt=Vt*4;Wt[Vt]=(Ot[Bt+3]&255)<<24|(Ot[Bt+2]&255)<<16|(Ot[Bt+1]&255)<<8|(Ot[Bt+0]&255)<<0}const Ht=new Uint32Array(64*wt),Zt=new Uint32Array(32*wt*yt),Lt=32*wt,Et=new Uint32Array(16),It=new Uint32Array(16),Ct=xt*yt*2;let vt=0,Tt=null,Mt=!1,Nt=0,$t=0,St,Dt;const Rt=kt?parseInt(1e3/wt):4294967295,_t=typeof setImmediate<"u"?setImmediate:setTimeout,Pt=function(){if(Mt)return kt(new Error("cancelled"),vt/Ct);let Vt;switch(Nt){case 0:Dt=$t*32*wt,lt(Wt,Dt,Ht,0,Lt),Nt=1,St=0;case 1:Vt=yt-St,Vt>Rt&&(Vt=Rt);for(let qt=0;qt<Vt;qt++)lt(Ht,0,Zt,(St+qt)*Lt,Lt),at(Ht,Lt,wt,Et,It);if(St+=Vt,vt+=Vt,kt){const qt=parseInt(1e3*vt/Ct);if(qt!==Tt){if(Mt=kt(null,vt/Ct),Mt)break;Tt=qt}}if(St<yt)break;St=0,Nt=2;case 2:Vt=yt-St,Vt>Rt&&(Vt=Rt);for(let qt=0;qt<Vt;qt++){const Yt=(2*wt-1)*16,Xt=Ht[Yt]&yt-1;ct(Zt,Xt*Lt,Ht,Lt),at(Ht,Lt,wt,Et,It)}if(St+=Vt,vt+=Vt,kt){const qt=parseInt(1e3*vt/Ct);if(qt!==Tt){if(Mt=kt(null,vt/Ct),Mt)break;Tt=qt}}if(St<yt)break;if(lt(Ht,0,Wt,Dt,Lt),$t++,$t<xt){Nt=0;break}Ot=[];for(let qt=0;qt<Wt.length;qt++)Ot.push(Wt[qt]>>0&255),Ot.push(Wt[qt]>>8&255),Ot.push(Wt[qt]>>16&255),Ot.push(Wt[qt]>>24&255);const Bt=it(bt,Ot,At);return kt&&kt(null,1,Bt),Bt}kt&&_t(Pt)};if(!kt)for(;;){const Vt=Pt();if(Vt!=null)return Vt}Pt()}const gt={scrypt:function(bt,ht,yt,wt,xt,At,kt){return new Promise(function(Ot,Wt){let Ht=0;kt&&kt(0),mt(bt,ht,yt,wt,xt,At,function(Zt,Lt,Et){if(Zt)Wt(Zt);else if(Et)kt&&Ht!==1&&kt(1),Ot(new Uint8Array(Et));else if(kt&&Lt!==Ht)return Ht=Lt,kt(Lt)})})},syncScrypt:function(bt,ht,yt,wt,xt,At){return new Uint8Array(mt(bt,ht,yt,wt,xt,At))}};et.exports=gt})()})(scrypt$1);const scrypt=scrypt$1.exports;var __awaiter$b=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$k=new Logger(version$b);function hasMnemonic$1(et){return et!=null&&et.mnemonic&&et.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(_e){return!!(_e&&_e._isKeystoreAccount)}}function _decrypt(et,_e,tt){if(searchPath(et,"crypto/cipher")==="aes-128-ctr"){const nt=looseArrayify(searchPath(et,"crypto/cipherparams/iv")),it=new aes$1.Counter(nt),at=new aes$1.ModeOfOperation.ctr(_e,it);return arrayify(at.decrypt(tt))}return null}function _getAccount(et,_e){const tt=looseArrayify(searchPath(et,"crypto/ciphertext"));if(hexlify(keccak256$1(concat$c([_e.slice(16,32),tt]))).substring(2)!==searchPath(et,"crypto/mac").toLowerCase())throw new Error("invalid password");const nt=_decrypt(et,_e.slice(0,16),tt);nt||logger$k.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const it=_e.slice(32,64),at=computeAddress(nt);if(et.address){let ot=et.address.toLowerCase();if(ot.substring(0,2)!=="0x"&&(ot="0x"+ot),getAddress(ot)!==at)throw new Error("address mismatch")}const st={_isKeystoreAccount:!0,address:at,privateKey:hexlify(nt)};if(searchPath(et,"x-ethers/version")==="0.1"){const ot=looseArrayify(searchPath(et,"x-ethers/mnemonicCiphertext")),ct=looseArrayify(searchPath(et,"x-ethers/mnemonicCounter")),lt=new aes$1.Counter(ct),ut=new aes$1.ModeOfOperation.ctr(it,lt),dt=searchPath(et,"x-ethers/path")||defaultPath,mt=searchPath(et,"x-ethers/locale")||"en",gt=arrayify(ut.decrypt(ot));try{const bt=entropyToMnemonic(gt,mt),ht=HDNode.fromMnemonic(bt,null,mt).derivePath(dt);if(ht.privateKey!=st.privateKey)throw new Error("mnemonic mismatch");st.mnemonic=ht.mnemonic}catch(bt){if(bt.code!==Logger.errors.INVALID_ARGUMENT||bt.argument!=="wordlist")throw bt}}return new KeystoreAccount(st)}function pbkdf2Sync(et,_e,tt,rt,nt){return arrayify(pbkdf2$2(et,_e,tt,rt,nt))}function pbkdf2$1(et,_e,tt,rt,nt){return Promise.resolve(pbkdf2Sync(et,_e,tt,rt,nt))}function _computeKdfKey(et,_e,tt,rt,nt){const it=getPassword(_e),at=searchPath(et,"crypto/kdf");if(at&&typeof at=="string"){const st=function(ot,ct){return logger$k.throwArgumentError("invalid key-derivation function parameters",ot,ct)};if(at.toLowerCase()==="scrypt"){const ot=looseArrayify(searchPath(et,"crypto/kdfparams/salt")),ct=parseInt(searchPath(et,"crypto/kdfparams/n")),lt=parseInt(searchPath(et,"crypto/kdfparams/r")),ut=parseInt(searchPath(et,"crypto/kdfparams/p"));(!ct||!lt||!ut)&&st("kdf",at),(ct&ct-1)!==0&&st("N",ct);const dt=parseInt(searchPath(et,"crypto/kdfparams/dklen"));return dt!==32&&st("dklen",dt),rt(it,ot,ct,lt,ut,64,nt)}else if(at.toLowerCase()==="pbkdf2"){const ot=looseArrayify(searchPath(et,"crypto/kdfparams/salt"));let ct=null;const lt=searchPath(et,"crypto/kdfparams/prf");lt==="hmac-sha256"?ct="sha256":lt==="hmac-sha512"?ct="sha512":st("prf",lt);const ut=parseInt(searchPath(et,"crypto/kdfparams/c")),dt=parseInt(searchPath(et,"crypto/kdfparams/dklen"));return dt!==32&&st("dklen",dt),tt(it,ot,ut,dt,ct)}}return logger$k.throwArgumentError("unsupported key-derivation function","kdf",at)}function decryptSync(et,_e){const tt=JSON.parse(et),rt=_computeKdfKey(tt,_e,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(tt,rt)}function decrypt$2(et,_e,tt){return __awaiter$b(this,void 0,void 0,function*(){const rt=JSON.parse(et),nt=yield _computeKdfKey(rt,_e,pbkdf2$1,scrypt.scrypt,tt);return _getAccount(rt,nt)})}function encrypt$2(et,_e,tt,rt){try{if(getAddress(et.address)!==computeAddress(et.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(et)){const ht=et.mnemonic;if(HDNode.fromMnemonic(ht.phrase,null,ht.locale).derivePath(ht.path||defaultPath).privateKey!=et.privateKey)throw new Error("mnemonic mismatch")}}catch(ht){return Promise.reject(ht)}typeof tt=="function"&&!rt&&(rt=tt,tt={}),tt||(tt={});const nt=arrayify(et.privateKey),it=getPassword(_e);let at=null,st=null,ot=null;if(hasMnemonic$1(et)){const ht=et.mnemonic;at=arrayify(mnemonicToEntropy(ht.phrase,ht.locale||"en")),st=ht.path||defaultPath,ot=ht.locale||"en"}let ct=tt.client;ct||(ct="ethers.js");let lt=null;tt.salt?lt=arrayify(tt.salt):lt=randomBytes$1(32);let ut=null;if(tt.iv){if(ut=arrayify(tt.iv),ut.length!==16)throw new Error("invalid iv")}else ut=randomBytes$1(16);let dt=null;if(tt.uuid){if(dt=arrayify(tt.uuid),dt.length!==16)throw new Error("invalid uuid")}else dt=randomBytes$1(16);let mt=1<<17,gt=8,bt=1;return tt.scrypt&&(tt.scrypt.N&&(mt=tt.scrypt.N),tt.scrypt.r&&(gt=tt.scrypt.r),tt.scrypt.p&&(bt=tt.scrypt.p)),scrypt.scrypt(it,lt,mt,gt,bt,64,rt).then(ht=>{ht=arrayify(ht);const yt=ht.slice(0,16),wt=ht.slice(16,32),xt=ht.slice(32,64),At=new aes$1.Counter(ut),kt=new aes$1.ModeOfOperation.ctr(yt,At),Ot=arrayify(kt.encrypt(nt)),Wt=keccak256$1(concat$c([wt,Ot])),Ht={address:et.address.substring(2).toLowerCase(),id:uuidV4(dt),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(ut).substring(2)},ciphertext:hexlify(Ot).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(lt).substring(2),n:mt,dklen:32,p:bt,r:gt},mac:Wt.substring(2)}};if(at){const Zt=randomBytes$1(16),Lt=new aes$1.Counter(Zt),Et=new aes$1.ModeOfOperation.ctr(xt,Lt),It=arrayify(Et.encrypt(at)),Ct=new Date,vt=Ct.getUTCFullYear()+"-"+zpad(Ct.getUTCMonth()+1,2)+"-"+zpad(Ct.getUTCDate(),2)+"T"+zpad(Ct.getUTCHours(),2)+"-"+zpad(Ct.getUTCMinutes(),2)+"-"+zpad(Ct.getUTCSeconds(),2)+".0Z";Ht["x-ethers"]={client:ct,gethFilename:"UTC--"+vt+"--"+Ht.address,mnemonicCounter:hexlify(Zt).substring(2),mnemonicCiphertext:hexlify(It).substring(2),path:st,locale:ot,version:"0.1"}}return JSON.stringify(Ht)})}function decryptJsonWallet(et,_e,tt){if(isCrowdsaleWallet(et)){tt&&tt(0);const rt=decrypt$3(et,_e);return tt&&tt(1),Promise.resolve(rt)}return isKeystoreWallet(et)?decrypt$2(et,_e,tt):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(et,_e){if(isCrowdsaleWallet(et))return decrypt$3(et,_e);if(isKeystoreWallet(et))return decryptSync(et,_e);throw new Error("invalid JSON wallet")}const lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$3,decryptKeystore:decrypt$2,decryptKeystoreSync:decryptSync,encryptKeystore:encrypt$2,isCrowdsaleWallet,isKeystoreWallet,getJsonWalletAddress,decryptJsonWallet,decryptJsonWalletSync},Symbol.toStringTag,{value:"Module"})),version$a="wallet/5.7.0";var __awaiter$a=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$j=new Logger(version$a);function isAccount(et){return et!=null&&isHexString$4(et.privateKey,32)&&et.address!=null}function hasMnemonic(et){const _e=et.mnemonic;return _e&&_e.phrase}class Wallet extends Signer{constructor(_e,tt){if(super(),isAccount(_e)){const rt=new SigningKey(_e.privateKey);if(defineReadOnly(this,"_signingKey",()=>rt),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(_e.address)&&logger$j.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(_e)){const nt=_e.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:nt.phrase,path:nt.path||defaultPath,locale:nt.locale||"en"}));const it=this.mnemonic,at=HDNode.fromMnemonic(it.phrase,null,it.locale).derivePath(it.path);computeAddress(at.privateKey)!==this.address&&logger$j.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(_e))_e.curve!=="secp256k1"&&logger$j.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>_e);else{typeof _e=="string"&&_e.match(/^[0-9a-f]*$/i)&&_e.length===64&&(_e="0x"+_e);const rt=new SigningKey(_e);defineReadOnly(this,"_signingKey",()=>rt)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}tt&&!Provider$1.isProvider(tt)&&logger$j.throwArgumentError("invalid provider","provider",tt),defineReadOnly(this,"provider",tt||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(_e){return new Wallet(this,_e)}signTransaction(_e){return resolveProperties(_e).then(tt=>{tt.from!=null&&(getAddress(tt.from)!==this.address&&logger$j.throwArgumentError("transaction from address mismatch","transaction.from",_e.from),delete tt.from);const rt=this._signingKey().signDigest(keccak256$1(serialize$3(tt)));return serialize$3(tt,rt)})}signMessage(_e){return __awaiter$a(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(_e)))})}_signTypedData(_e,tt,rt){return __awaiter$a(this,void 0,void 0,function*(){const nt=yield TypedDataEncoder.resolveNames(_e,tt,rt,it=>(this.provider==null&&logger$j.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:it}),this.provider.resolveName(it)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(nt.domain,tt,nt.value)))})}encrypt(_e,tt,rt){if(typeof tt=="function"&&!rt&&(rt=tt,tt={}),rt&&typeof rt!="function")throw new Error("invalid callback");return tt||(tt={}),encrypt$2(this,_e,tt,rt)}static createRandom(_e){let tt=randomBytes$1(16);_e||(_e={}),_e.extraEntropy&&(tt=arrayify(hexDataSlice(keccak256$1(concat$c([tt,_e.extraEntropy])),0,16)));const rt=entropyToMnemonic(tt,_e.locale);return Wallet.fromMnemonic(rt,_e.path,_e.locale)}static fromEncryptedJson(_e,tt,rt){return decryptJsonWallet(_e,tt,rt).then(nt=>new Wallet(nt))}static fromEncryptedJsonSync(_e,tt){return new Wallet(decryptJsonWalletSync(_e,tt))}static fromMnemonic(_e,tt,rt){return tt||(tt=defaultPath),new Wallet(HDNode.fromMnemonic(_e,null,rt).derivePath(tt))}}function verifyMessage(et,_e){return recoverAddress(hashMessage(et),_e)}function verifyTypedData(et,_e,tt,rt){return recoverAddress(TypedDataEncoder.hash(et,_e,tt),rt)}const lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"})),version$9="networks/5.7.1",logger$i=new Logger(version$9);function isRenetworkable(et){return et&&typeof et.renetwork=="function"}function ethDefaultProvider(et){const _e=function(tt,rt){rt==null&&(rt={});const nt=[];if(tt.InfuraProvider&&rt.infura!=="-")try{nt.push(new tt.InfuraProvider(et,rt.infura))}catch{}if(tt.EtherscanProvider&&rt.etherscan!=="-")try{nt.push(new tt.EtherscanProvider(et,rt.etherscan))}catch{}if(tt.AlchemyProvider&&rt.alchemy!=="-")try{nt.push(new tt.AlchemyProvider(et,rt.alchemy))}catch{}if(tt.PocketProvider&&rt.pocket!=="-"){const it=["goerli","ropsten","rinkeby","sepolia"];try{const at=new tt.PocketProvider(et,rt.pocket);at.network&&it.indexOf(at.network.name)===-1&&nt.push(at)}catch{}}if(tt.CloudflareProvider&&rt.cloudflare!=="-")try{nt.push(new tt.CloudflareProvider(et))}catch{}if(tt.AnkrProvider&&rt.ankr!=="-")try{const it=["ropsten"],at=new tt.AnkrProvider(et,rt.ankr);at.network&&it.indexOf(at.network.name)===-1&&nt.push(at)}catch{}if(nt.length===0)return null;if(tt.FallbackProvider){let it=1;return rt.quorum!=null?it=rt.quorum:et==="homestead"&&(it=2),new tt.FallbackProvider(nt,it)}return nt[0]};return _e.renetwork=function(tt){return ethDefaultProvider(tt)},_e}function etcDefaultProvider(et,_e){const tt=function(rt,nt){return rt.JsonRpcProvider?new rt.JsonRpcProvider(et,_e):null};return tt.renetwork=function(rt){return etcDefaultProvider(et,rt)},tt}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(et){if(et==null)return null;if(typeof et=="number"){for(const rt in networks){const nt=networks[rt];if(nt.chainId===et)return{name:nt.name,chainId:nt.chainId,ensAddress:nt.ensAddress||null,_defaultProvider:nt._defaultProvider||null}}return{chainId:et,name:"unknown"}}if(typeof et=="string"){const rt=networks[et];return rt==null?null:{name:rt.name,chainId:rt.chainId,ensAddress:rt.ensAddress,_defaultProvider:rt._defaultProvider||null}}const _e=networks[et.name];if(!_e)return typeof et.chainId!="number"&&logger$i.throwArgumentError("invalid network chainId","network",et),et;et.chainId!==0&&et.chainId!==_e.chainId&&logger$i.throwArgumentError("network chainId mismatch","network",et);let tt=et._defaultProvider||null;return tt==null&&_e._defaultProvider&&(isRenetworkable(_e._defaultProvider)?tt=_e._defaultProvider.renetwork(et):tt=_e._defaultProvider),{name:et.name,chainId:_e.chainId,ensAddress:et.ensAddress||_e.ensAddress||null,_defaultProvider:tt}}const version$8="web/5.7.1";var __awaiter$9=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};function getUrl(et,_e){return __awaiter$9(this,void 0,void 0,function*(){_e==null&&(_e={});const tt={method:_e.method||"GET",headers:_e.headers||{},body:_e.body||void 0};if(_e.skipFetchSetup!==!0&&(tt.mode="cors",tt.cache="no-cache",tt.credentials="same-origin",tt.redirect="follow",tt.referrer="client"),_e.fetchOptions!=null){const at=_e.fetchOptions;at.mode&&(tt.mode=at.mode),at.cache&&(tt.cache=at.cache),at.credentials&&(tt.credentials=at.credentials),at.redirect&&(tt.redirect=at.redirect),at.referrer&&(tt.referrer=at.referrer)}const rt=yield fetch(et,tt),nt=yield rt.arrayBuffer(),it={};return rt.headers.forEach?rt.headers.forEach((at,st)=>{it[st.toLowerCase()]=at}):rt.headers.keys().forEach(at=>{it[at.toLowerCase()]=rt.headers.get(at)}),{headers:it,statusCode:rt.status,statusMessage:rt.statusText,body:arrayify(new Uint8Array(nt))}})}var __awaiter$8=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$h=new Logger(version$8);function staller(et){return new Promise(_e=>{setTimeout(_e,et)})}function bodyify(et,_e){if(et==null)return null;if(typeof et=="string")return et;if(isBytesLike(et)){if(_e&&(_e.split("/")[0]==="text"||_e.split(";")[0].trim()==="application/json"))try{return toUtf8String(et)}catch{}return hexlify(et)}return et}function unpercent(et){return toUtf8Bytes(et.replace(/%([0-9a-f][0-9a-f])/gi,(_e,tt)=>String.fromCharCode(parseInt(tt,16))))}function _fetchData(et,_e,tt){const rt=typeof et=="object"&&et.throttleLimit!=null?et.throttleLimit:12;logger$h.assertArgument(rt>0&&rt%1===0,"invalid connection throttle limit","connection.throttleLimit",rt);const nt=typeof et=="object"?et.throttleCallback:null,it=typeof et=="object"&&typeof et.throttleSlotInterval=="number"?et.throttleSlotInterval:100;logger$h.assertArgument(it>0&&it%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",it);const at=typeof et=="object"?!!et.errorPassThrough:!1,st={};let ot=null;const ct={method:"GET"};let lt=!1,ut=2*60*1e3;if(typeof et=="string")ot=et;else if(typeof et=="object"){if((et==null||et.url==null)&&logger$h.throwArgumentError("missing URL","connection.url",et),ot=et.url,typeof et.timeout=="number"&&et.timeout>0&&(ut=et.timeout),et.headers)for(const yt in et.headers)st[yt.toLowerCase()]={key:yt,value:String(et.headers[yt])},["if-none-match","if-modified-since"].indexOf(yt.toLowerCase())>=0&&(lt=!0);if(ct.allowGzip=!!et.allowGzip,et.user!=null&&et.password!=null){ot.substring(0,6)!=="https:"&&et.allowInsecureAuthentication!==!0&&logger$h.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:ot,user:et.user,password:"[REDACTED]"});const yt=et.user+":"+et.password;st.authorization={key:"Authorization",value:"Basic "+encode$b(toUtf8Bytes(yt))}}et.skipFetchSetup!=null&&(ct.skipFetchSetup=!!et.skipFetchSetup),et.fetchOptions!=null&&(ct.fetchOptions=shallowCopy(et.fetchOptions))}const dt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),mt=ot?ot.match(dt):null;if(mt)try{const yt={statusCode:200,statusMessage:"OK",headers:{"content-type":mt[1]||"text/plain"},body:mt[2]?decode$f(mt[3]):unpercent(mt[3])};let wt=yt.body;return tt&&(wt=tt(yt.body,yt)),Promise.resolve(wt)}catch(yt){logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(mt[1],mt[2]),error:yt,requestBody:null,requestMethod:"GET",url:ot})}_e&&(ct.method="POST",ct.body=_e,st["content-type"]==null&&(st["content-type"]={key:"Content-Type",value:"application/octet-stream"}),st["content-length"]==null&&(st["content-length"]={key:"Content-Length",value:String(_e.length)}));const gt={};Object.keys(st).forEach(yt=>{const wt=st[yt];gt[wt.key]=wt.value}),ct.headers=gt;const bt=function(){let yt=null;return{promise:new Promise(function(At,kt){ut&&(yt=setTimeout(()=>{yt!=null&&(yt=null,kt(logger$h.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(ct.body,gt["content-type"]),requestMethod:ct.method,timeout:ut,url:ot})))},ut))}),cancel:function(){yt!=null&&(clearTimeout(yt),yt=null)}}}(),ht=function(){return __awaiter$8(this,void 0,void 0,function*(){for(let yt=0;yt<rt;yt++){let wt=null;try{if(wt=yield getUrl(ot,ct),yt<rt){if(wt.statusCode===301||wt.statusCode===302){const At=wt.headers.location||"";if(ct.method==="GET"&&At.match(/^https:/)){ot=wt.headers.location;continue}}else if(wt.statusCode===429){let At=!0;if(nt&&(At=yield nt(yt,ot)),At){let kt=0;const Ot=wt.headers["retry-after"];typeof Ot=="string"&&Ot.match(/^[1-9][0-9]*$/)?kt=parseInt(Ot)*1e3:kt=it*parseInt(String(Math.random()*Math.pow(2,yt))),yield staller(kt);continue}}}}catch(At){wt=At.response,wt==null&&(bt.cancel(),logger$h.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(ct.body,gt["content-type"]),requestMethod:ct.method,serverError:At,url:ot}))}let xt=wt.body;if(lt&&wt.statusCode===304?xt=null:!at&&(wt.statusCode<200||wt.statusCode>=300)&&(bt.cancel(),logger$h.throwError("bad response",Logger.errors.SERVER_ERROR,{status:wt.statusCode,headers:wt.headers,body:bodyify(xt,wt.headers?wt.headers["content-type"]:null),requestBody:bodyify(ct.body,gt["content-type"]),requestMethod:ct.method,url:ot})),tt)try{const At=yield tt(xt,wt);return bt.cancel(),At}catch(At){if(At.throttleRetry&&yt<rt){let kt=!0;if(nt&&(kt=yield nt(yt,ot)),kt){const Ot=it*parseInt(String(Math.random()*Math.pow(2,yt)));yield staller(Ot);continue}}bt.cancel(),logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(xt,wt.headers?wt.headers["content-type"]:null),error:At,requestBody:bodyify(ct.body,gt["content-type"]),requestMethod:ct.method,url:ot})}return bt.cancel(),xt}return logger$h.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(ct.body,gt["content-type"]),requestMethod:ct.method,url:ot})})}();return Promise.race([bt.promise,ht])}function fetchJson(et,_e,tt){let rt=(it,at)=>{let st=null;if(it!=null)try{st=JSON.parse(toUtf8String(it))}catch(ot){logger$h.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:it,error:ot})}return tt&&(st=tt(st,at)),st},nt=null;if(_e!=null){nt=toUtf8Bytes(_e);const it=typeof et=="string"?{url:et}:shallowCopy(et);it.headers?Object.keys(it.headers).filter(st=>st.toLowerCase()==="content-type").length!==0||(it.headers=shallowCopy(it.headers),it.headers["content-type"]="application/json"):it.headers={"content-type":"application/json"},et=it}return _fetchData(et,nt,rt)}function poll(et,_e){return _e||(_e={}),_e=shallowCopy(_e),_e.floor==null&&(_e.floor=0),_e.ceiling==null&&(_e.ceiling=1e4),_e.interval==null&&(_e.interval=250),new Promise(function(tt,rt){let nt=null,it=!1;const at=()=>it?!1:(it=!0,nt&&clearTimeout(nt),!0);_e.timeout&&(nt=setTimeout(()=>{at()&&rt(new Error("timeout"))},_e.timeout));const st=_e.retryLimit;let ot=0;function ct(){return et().then(function(lt){if(lt!==void 0)at()&&tt(lt);else if(_e.oncePoll)_e.oncePoll.once("poll",ct);else if(_e.onceBlock)_e.onceBlock.once("block",ct);else if(!it){if(ot++,ot>st){at()&&rt(new Error("retry limit reached"));return}let ut=_e.interval*parseInt(String(Math.random()*Math.pow(2,ot)));ut<_e.floor&&(ut=_e.floor),ut>_e.ceiling&&(ut=_e.ceiling),setTimeout(ct,ut)}return null},function(lt){at()&&rt(lt)})}ct()})}const lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,_fetchData,fetchJson,poll},Symbol.toStringTag,{value:"Module"}));var ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$7=0;z$7<ALPHABET$1.length;z$7++){var x$5=ALPHABET$1.charAt(z$7);if(ALPHABET_MAP[x$5]!==void 0)throw new TypeError(x$5+" is ambiguous");ALPHABET_MAP[x$5]=z$7}function polymodStep(et){var _e=et>>25;return(et&33554431)<<5^-(_e>>0&1)&996825010^-(_e>>1&1)&642813549^-(_e>>2&1)&513874426^-(_e>>3&1)&1027748829^-(_e>>4&1)&705979059}function prefixChk(et){for(var _e=1,tt=0;tt<et.length;++tt){var rt=et.charCodeAt(tt);if(rt<33||rt>126)return"Invalid prefix ("+et+")";_e=polymodStep(_e)^rt>>5}for(_e=polymodStep(_e),tt=0;tt<et.length;++tt){var nt=et.charCodeAt(tt);_e=polymodStep(_e)^nt&31}return _e}function encode$a(et,_e,tt){if(tt=tt||90,et.length+7+_e.length>tt)throw new TypeError("Exceeds length limit");et=et.toLowerCase();var rt=prefixChk(et);if(typeof rt=="string")throw new Error(rt);for(var nt=et+"1",it=0;it<_e.length;++it){var at=_e[it];if(at>>5!==0)throw new Error("Non 5-bit word");rt=polymodStep(rt)^at,nt+=ALPHABET$1.charAt(at)}for(it=0;it<6;++it)rt=polymodStep(rt);for(rt^=1,it=0;it<6;++it){var st=rt>>(5-it)*5&31;nt+=ALPHABET$1.charAt(st)}return nt}function __decode(et,_e){if(_e=_e||90,et.length<8)return et+" too short";if(et.length>_e)return"Exceeds length limit";var tt=et.toLowerCase(),rt=et.toUpperCase();if(et!==tt&&et!==rt)return"Mixed-case string "+et;et=tt;var nt=et.lastIndexOf("1");if(nt===-1)return"No separator character for "+et;if(nt===0)return"Missing prefix for "+et;var it=et.slice(0,nt),at=et.slice(nt+1);if(at.length<6)return"Data too short";var st=prefixChk(it);if(typeof st=="string")return st;for(var ot=[],ct=0;ct<at.length;++ct){var lt=at.charAt(ct),ut=ALPHABET_MAP[lt];if(ut===void 0)return"Unknown character "+lt;st=polymodStep(st)^ut,!(ct+6>=at.length)&&ot.push(ut)}return st!==1?"Invalid checksum for "+et:{prefix:it,words:ot}}function decodeUnsafe(){var et=__decode.apply(null,arguments);if(typeof et=="object")return et}function decode$e(et){var _e=__decode.apply(null,arguments);if(typeof _e=="object")return _e;throw new Error(_e)}function convert$3(et,_e,tt,rt){for(var nt=0,it=0,at=(1<<tt)-1,st=[],ot=0;ot<et.length;++ot)for(nt=nt<<_e|et[ot],it+=_e;it>=tt;)it-=tt,st.push(nt>>it&at);if(rt)it>0&&st.push(nt<<tt-it&at);else{if(it>=_e)return"Excess padding";if(nt<<tt-it&at)return"Non-zero padding"}return st}function toWordsUnsafe(et){var _e=convert$3(et,8,5,!0);if(Array.isArray(_e))return _e}function toWords(et){var _e=convert$3(et,8,5,!0);if(Array.isArray(_e))return _e;throw new Error(_e)}function fromWordsUnsafe(et){var _e=convert$3(et,5,8,!1);if(Array.isArray(_e))return _e}function fromWords(et){var _e=convert$3(et,5,8,!1);if(Array.isArray(_e))return _e;throw new Error(_e)}var bech32={decodeUnsafe,decode:decode$e,encode:encode$a,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$7="providers/5.7.2",logger$g=new Logger(version$7);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const _e={},tt=this.address.bind(this),rt=this.bigNumber.bind(this),nt=this.blockTag.bind(this),it=this.data.bind(this),at=this.hash.bind(this),st=this.hex.bind(this),ot=this.number.bind(this),ct=this.type.bind(this),lt=ut=>this.data(ut,!0);return _e.transaction={hash:at,type:ct,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(at,null),blockNumber:Formatter.allowNull(ot,null),transactionIndex:Formatter.allowNull(ot,null),confirmations:Formatter.allowNull(ot,null),from:tt,gasPrice:Formatter.allowNull(rt),maxPriorityFeePerGas:Formatter.allowNull(rt),maxFeePerGas:Formatter.allowNull(rt),gasLimit:rt,to:Formatter.allowNull(tt,null),value:rt,nonce:ot,data:it,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(ot),creates:Formatter.allowNull(tt,null),raw:Formatter.allowNull(it)},_e.transactionRequest={from:Formatter.allowNull(tt),nonce:Formatter.allowNull(ot),gasLimit:Formatter.allowNull(rt),gasPrice:Formatter.allowNull(rt),maxPriorityFeePerGas:Formatter.allowNull(rt),maxFeePerGas:Formatter.allowNull(rt),to:Formatter.allowNull(tt),value:Formatter.allowNull(rt),data:Formatter.allowNull(lt),type:Formatter.allowNull(ot),accessList:Formatter.allowNull(this.accessList.bind(this),null)},_e.receiptLog={transactionIndex:ot,blockNumber:ot,transactionHash:at,address:tt,topics:Formatter.arrayOf(at),data:it,logIndex:ot,blockHash:at},_e.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(tt,null),transactionIndex:ot,root:Formatter.allowNull(st),gasUsed:rt,logsBloom:Formatter.allowNull(it),blockHash:at,transactionHash:at,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:ot,confirmations:Formatter.allowNull(ot,null),cumulativeGasUsed:rt,effectiveGasPrice:Formatter.allowNull(rt),status:Formatter.allowNull(ot),type:ct},_e.block={hash:Formatter.allowNull(at),parentHash:at,number:ot,timestamp:ot,nonce:Formatter.allowNull(st),difficulty:this.difficulty.bind(this),gasLimit:rt,gasUsed:rt,miner:Formatter.allowNull(tt),extraData:it,transactions:Formatter.allowNull(Formatter.arrayOf(at)),baseFeePerGas:Formatter.allowNull(rt)},_e.blockWithTransactions=shallowCopy(_e.block),_e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),_e.filter={fromBlock:Formatter.allowNull(nt,void 0),toBlock:Formatter.allowNull(nt,void 0),blockHash:Formatter.allowNull(at,void 0),address:Formatter.allowNull(tt,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},_e.filterLog={blockNumber:Formatter.allowNull(ot),blockHash:Formatter.allowNull(at),transactionIndex:ot,removed:Formatter.allowNull(this.boolean.bind(this)),address:tt,data:Formatter.allowFalsish(it,"0x"),topics:Formatter.arrayOf(at),transactionHash:at,logIndex:ot},_e}accessList(_e){return accessListify(_e||[])}number(_e){return _e==="0x"?0:BigNumber.from(_e).toNumber()}type(_e){return _e==="0x"||_e==null?0:BigNumber.from(_e).toNumber()}bigNumber(_e){return BigNumber.from(_e)}boolean(_e){if(typeof _e=="boolean")return _e;if(typeof _e=="string"){if(_e=_e.toLowerCase(),_e==="true")return!0;if(_e==="false")return!1}throw new Error("invalid boolean - "+_e)}hex(_e,tt){return typeof _e=="string"&&(!tt&&_e.substring(0,2)!=="0x"&&(_e="0x"+_e),isHexString$4(_e))?_e.toLowerCase():logger$g.throwArgumentError("invalid hash","value",_e)}data(_e,tt){const rt=this.hex(_e,tt);if(rt.length%2!==0)throw new Error("invalid data; odd-length - "+_e);return rt}address(_e){return getAddress(_e)}callAddress(_e){if(!isHexString$4(_e,32))return null;const tt=getAddress(hexDataSlice(_e,12));return tt===AddressZero?null:tt}contractAddress(_e){return getContractAddress(_e)}blockTag(_e){if(_e==null)return"latest";if(_e==="earliest")return"0x0";switch(_e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return _e}if(typeof _e=="number"||isHexString$4(_e))return hexValue(_e);throw new Error("invalid blockTag")}hash(_e,tt){const rt=this.hex(_e,tt);return hexDataLength(rt)!==32?logger$g.throwArgumentError("invalid hash","value",_e):rt}difficulty(_e){if(_e==null)return null;const tt=BigNumber.from(_e);try{return tt.toNumber()}catch{}return null}uint256(_e){if(!isHexString$4(_e))throw new Error("invalid uint256");return hexZeroPad(_e,32)}_block(_e,tt){_e.author!=null&&_e.miner==null&&(_e.miner=_e.author);const rt=_e._difficulty!=null?_e._difficulty:_e.difficulty,nt=Formatter.check(tt,_e);return nt._difficulty=rt==null?null:BigNumber.from(rt),nt}block(_e){return this._block(_e,this.formats.block)}blockWithTransactions(_e){return this._block(_e,this.formats.blockWithTransactions)}transactionRequest(_e){return Formatter.check(this.formats.transactionRequest,_e)}transactionResponse(_e){_e.gas!=null&&_e.gasLimit==null&&(_e.gasLimit=_e.gas),_e.to&&BigNumber.from(_e.to).isZero()&&(_e.to="0x0000000000000000000000000000000000000000"),_e.input!=null&&_e.data==null&&(_e.data=_e.input),_e.to==null&&_e.creates==null&&(_e.creates=this.contractAddress(_e)),(_e.type===1||_e.type===2)&&_e.accessList==null&&(_e.accessList=[]);const tt=Formatter.check(this.formats.transaction,_e);if(_e.chainId!=null){let rt=_e.chainId;isHexString$4(rt)&&(rt=BigNumber.from(rt).toNumber()),tt.chainId=rt}else{let rt=_e.networkId;rt==null&&tt.v==null&&(rt=_e.chainId),isHexString$4(rt)&&(rt=BigNumber.from(rt).toNumber()),typeof rt!="number"&&tt.v!=null&&(rt=(tt.v-35)/2,rt<0&&(rt=0),rt=parseInt(rt)),typeof rt!="number"&&(rt=0),tt.chainId=rt}return tt.blockHash&&tt.blockHash.replace(/0/g,"")==="x"&&(tt.blockHash=null),tt}transaction(_e){return parse$3(_e)}receiptLog(_e){return Formatter.check(this.formats.receiptLog,_e)}receipt(_e){const tt=Formatter.check(this.formats.receipt,_e);if(tt.root!=null)if(tt.root.length<=4){const rt=BigNumber.from(tt.root).toNumber();rt===0||rt===1?(tt.status!=null&&tt.status!==rt&&logger$g.throwArgumentError("alt-root-status/status mismatch","value",{root:tt.root,status:tt.status}),tt.status=rt,delete tt.root):logger$g.throwArgumentError("invalid alt-root-status","value.root",tt.root)}else tt.root.length!==66&&logger$g.throwArgumentError("invalid root hash","value.root",tt.root);return tt.status!=null&&(tt.byzantium=!0),tt}topics(_e){return Array.isArray(_e)?_e.map(tt=>this.topics(tt)):_e!=null?this.hash(_e,!0):null}filter(_e){return Formatter.check(this.formats.filter,_e)}filterLog(_e){return Formatter.check(this.formats.filterLog,_e)}static check(_e,tt){const rt={};for(const nt in _e)try{const it=_e[nt](tt[nt]);it!==void 0&&(rt[nt]=it)}catch(it){throw it.checkKey=nt,it.checkValue=tt[nt],it}return rt}static allowNull(_e,tt){return function(rt){return rt==null?tt:_e(rt)}}static allowFalsish(_e,tt){return function(rt){return rt?_e(rt):tt}}static arrayOf(_e){return function(tt){if(!Array.isArray(tt))throw new Error("not an array");const rt=[];return tt.forEach(function(nt){rt.push(_e(nt))}),rt}}}function isCommunityResourcable(et){return et&&typeof et.isCommunityResource=="function"}function isCommunityResource(et){return isCommunityResourcable(et)&&et.isCommunityResource()}let throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var __awaiter$7=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$f=new Logger(version$7),MAX_CCIP_REDIRECTS=10;function checkTopic(et){return et==null?"null":(hexDataLength(et)!==32&&logger$f.throwArgumentError("invalid topic","topic",et),et.toLowerCase())}function serializeTopics(et){for(et=et.slice();et.length>0&&et[et.length-1]==null;)et.pop();return et.map(_e=>{if(Array.isArray(_e)){const tt={};_e.forEach(nt=>{tt[checkTopic(nt)]=!0});const rt=Object.keys(tt);return rt.sort(),rt.join("|")}else return checkTopic(_e)}).join("&")}function deserializeTopics(et){return et===""?[]:et.split(/&/g).map(_e=>{if(_e==="")return[];const tt=_e.split("|").map(rt=>rt==="null"?null:rt);return tt.length===1?tt[0]:tt})}function getEventTag(et){if(typeof et=="string"){if(et=et.toLowerCase(),hexDataLength(et)===32)return"tx:"+et;if(et.indexOf(":")===-1)return et}else{if(Array.isArray(et))return"filter:*:"+serializeTopics(et);if(ForkEvent.isForkEvent(et))throw logger$f.warn("not implemented"),new Error("not implemented");if(et&&typeof et=="object")return"filter:"+(et.address||"*")+":"+serializeTopics(et.topics||[])}throw new Error("invalid event - "+et)}function getTime(){return new Date().getTime()}function stall$1(et){return new Promise(_e=>{setTimeout(_e,et)})}const PollableEvents=["block","network","pending","poll"];class Event$1{constructor(_e,tt,rt){defineReadOnly(this,"tag",_e),defineReadOnly(this,"listener",tt),defineReadOnly(this,"once",rt),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const _e=this.tag.split(":");return _e[0]!=="tx"?null:_e[1]}get filter(){const _e=this.tag.split(":");if(_e[0]!=="filter")return null;const tt=_e[1],rt=deserializeTopics(_e[2]),nt={};return rt.length>0&&(nt.topics=rt),tt&&tt!=="*"&&(nt.address=tt),nt}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(et){return hexZeroPad(BigNumber.from(et).toHexString(),32)}function base58Encode(et){return Base58.encode(concat$c([et,hexDataSlice(sha256$4(sha256$4(et)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(et,_e){try{return toUtf8String(_parseBytes(et,_e))}catch{}return null}function _parseBytes(et,_e){if(et==="0x")return null;const tt=BigNumber.from(hexDataSlice(et,_e,_e+32)).toNumber(),rt=BigNumber.from(hexDataSlice(et,tt,tt+32)).toNumber();return hexDataSlice(et,tt+32,tt+32+rt)}function getIpfsLink(et){return et.match(/^ipfs:\/\/ipfs\//i)?et=et.substring(12):et.match(/^ipfs:\/\//i)?et=et.substring(7):logger$f.throwArgumentError("unsupported IPFS format","link",et),`https://gateway.ipfs.io/ipfs/${et}`}function numPad(et){const _e=arrayify(et);if(_e.length>32)throw new Error("internal; should not happen");const tt=new Uint8Array(32);return tt.set(_e,32-_e.length),tt}function bytesPad(et){if(et.length%32===0)return et;const _e=new Uint8Array(Math.ceil(et.length/32)*32);return _e.set(et),_e}function encodeBytes(et){const _e=[];let tt=0;for(let rt=0;rt<et.length;rt++)_e.push(null),tt+=32;for(let rt=0;rt<et.length;rt++){const nt=arrayify(et[rt]);_e[rt]=numPad(tt),_e.push(numPad(nt.length)),_e.push(bytesPad(nt)),tt+=32+Math.ceil(nt.length/32)*32}return hexConcat(_e)}class Resolver{constructor(_e,tt,rt,nt){defineReadOnly(this,"provider",_e),defineReadOnly(this,"name",rt),defineReadOnly(this,"address",_e.formatter.address(tt)),defineReadOnly(this,"_resolvedAddress",nt)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(_e=>BigNumber.from(_e).eq(1)).catch(_e=>{if(_e.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,_e})),this._supportsEip2544}_fetch(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){const rt={to:this.address,ccipReadEnabled:!0,data:hexConcat([_e,namehash(this.name),tt||"0x"])};let nt=!1;(yield this.supportsWildcard())&&(nt=!0,rt.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),rt.data])]));try{let it=yield this.provider.call(rt);return arrayify(it).length%32===4&&logger$f.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:rt,data:it}),nt&&(it=_parseBytes(it,0)),it}catch(it){if(it.code===Logger.errors.CALL_EXCEPTION)return null;throw it}})}_fetchBytes(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){const rt=yield this._fetch(_e,tt);return rt!=null?_parseBytes(rt,0):null})}_getAddress(_e,tt){const rt=coinInfos[String(_e)];if(rt==null&&logger$f.throwError(`unsupported coin type: ${_e}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${_e})`}),rt.ilk==="eth")return this.provider.formatter.address(tt);const nt=arrayify(tt);if(rt.p2pkh!=null){const it=tt.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(it){const at=parseInt(it[1],16);if(it[2].length===at*2&&at>=1&&at<=75)return base58Encode(concat$c([[rt.p2pkh],"0x"+it[2]]))}}if(rt.p2sh!=null){const it=tt.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(it){const at=parseInt(it[1],16);if(it[2].length===at*2&&at>=1&&at<=75)return base58Encode(concat$c([[rt.p2sh],"0x"+it[2]]))}}if(rt.prefix!=null){const it=nt[1];let at=nt[0];if(at===0?it!==20&&it!==32&&(at=-1):at=-1,at>=0&&nt.length===2+it&&it>=1&&it<=75){const st=bech32.toWords(nt.slice(2));return st.unshift(at),bech32.encode(rt.prefix,st)}}return null}getAddress(_e){return __awaiter$7(this,void 0,void 0,function*(){if(_e==null&&(_e=60),_e===60)try{const nt=yield this._fetch("0x3b3b57de");return nt==="0x"||nt===HashZero?null:this.provider.formatter.callAddress(nt)}catch(nt){if(nt.code===Logger.errors.CALL_EXCEPTION)return null;throw nt}const tt=yield this._fetchBytes("0xf1cb7e06",bytes32ify(_e));if(tt==null||tt==="0x")return null;const rt=this._getAddress(_e,tt);return rt==null&&logger$f.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${_e})`,coinType:_e,data:tt}),rt})}getAvatar(){return __awaiter$7(this,void 0,void 0,function*(){const _e=[{type:"name",content:this.name}];try{const tt=yield this.getText("avatar");if(tt==null)return null;for(let rt=0;rt<matchers.length;rt++){const nt=tt.match(matchers[rt]);if(nt==null)continue;const it=nt[1].toLowerCase();switch(it){case"https":return _e.push({type:"url",content:tt}),{linkage:_e,url:tt};case"data":return _e.push({type:"data",content:tt}),{linkage:_e,url:tt};case"ipfs":return _e.push({type:"ipfs",content:tt}),{linkage:_e,url:getIpfsLink(tt)};case"erc721":case"erc1155":{const at=it==="erc721"?"0xc87b56dd":"0x0e89341c";_e.push({type:it,content:tt});const st=this._resolvedAddress||(yield this.getAddress()),ot=(nt[2]||"").split("/");if(ot.length!==2)return null;const ct=yield this.provider.formatter.address(ot[0]),lt=hexZeroPad(BigNumber.from(ot[1]).toHexString(),32);if(it==="erc721"){const bt=this.provider.formatter.callAddress(yield this.provider.call({to:ct,data:hexConcat(["0x6352211e",lt])}));if(st!==bt)return null;_e.push({type:"owner",content:bt})}else if(it==="erc1155"){const bt=BigNumber.from(yield this.provider.call({to:ct,data:hexConcat(["0x00fdd58e",hexZeroPad(st,32),lt])}));if(bt.isZero())return null;_e.push({type:"balance",content:bt.toString()})}const ut={to:this.provider.formatter.address(ot[0]),data:hexConcat([at,lt])};let dt=_parseString(yield this.provider.call(ut),0);if(dt==null)return null;_e.push({type:"metadata-url-base",content:dt}),it==="erc1155"&&(dt=dt.replace("{id}",lt.substring(2)),_e.push({type:"metadata-url-expanded",content:dt})),dt.match(/^ipfs:/i)&&(dt=getIpfsLink(dt)),_e.push({type:"metadata-url",content:dt});const mt=yield fetchJson(dt);if(!mt)return null;_e.push({type:"metadata",content:JSON.stringify(mt)});let gt=mt.image;if(typeof gt!="string")return null;if(!gt.match(/^(https:\/\/|data:)/i)){if(gt.match(matcherIpfs)==null)return null;_e.push({type:"url-ipfs",content:gt}),gt=getIpfsLink(gt)}return _e.push({type:"url",content:gt}),{linkage:_e,url:gt}}}}}catch{}return null})}getContentHash(){return __awaiter$7(this,void 0,void 0,function*(){const _e=yield this._fetchBytes("0xbc1c58d1");if(_e==null||_e==="0x")return null;const tt=_e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(tt){const at=parseInt(tt[3],16);if(tt[4].length===at*2)return"ipfs://"+Base58.encode("0x"+tt[1])}const rt=_e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(rt){const at=parseInt(rt[3],16);if(rt[4].length===at*2)return"ipns://"+Base58.encode("0x"+rt[1])}const nt=_e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(nt&&nt[1].length===32*2)return"bzz://"+nt[1];const it=_e.match(/^0x90b2c605([0-9a-f]*)$/);if(it&&it[1].length===34*2){const at={"=":"","+":"-","/":"_"};return"sia://"+encode$b("0x"+it[1]).replace(/[=+\/]/g,ot=>at[ot])}return logger$f.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:_e})})}getText(_e){return __awaiter$7(this,void 0,void 0,function*(){let tt=toUtf8Bytes(_e);tt=concat$c([bytes32ify(64),bytes32ify(tt.length),tt]),tt.length%32!==0&&(tt=concat$c([tt,hexZeroPad("0x",32-_e.length%32)]));const rt=yield this._fetchBytes("0x59d1d43c",hexlify(tt));return rt==null||rt==="0x"?null:toUtf8String(rt)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider$1{constructor(_e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",_e==="any"),this.anyNetwork&&(_e=this.detectNetwork()),_e instanceof Promise)this._networkPromise=_e,_e.catch(tt=>{}),this._ready().catch(tt=>{});else{const tt=getStatic(new.target,"getNetwork")(_e);tt?(defineReadOnly(this,"_network",tt),this.emit("network",tt,null)):logger$f.throwArgumentError("invalid network","network",_e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$7(this,void 0,void 0,function*(){if(this._network==null){let _e=null;if(this._networkPromise)try{_e=yield this._networkPromise}catch{}_e==null&&(_e=yield this.detectNetwork()),_e||logger$f.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=_e:defineReadOnly(this,"_network",_e),this.emit("network",_e,null))}return this._network})}get ready(){return poll(()=>this._ready().then(_e=>_e,_e=>{if(!(_e.code===Logger.errors.NETWORK_ERROR&&_e.event==="noNetwork"))throw _e}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(_e){return getNetwork(_e==null?"homestead":_e)}ccipReadFetch(_e,tt,rt){return __awaiter$7(this,void 0,void 0,function*(){if(this.disableCcipRead||rt.length===0)return null;const nt=_e.to.toLowerCase(),it=tt.toLowerCase(),at=[];for(let st=0;st<rt.length;st++){const ot=rt[st],ct=ot.replace("{sender}",nt).replace("{data}",it),lt=ot.indexOf("{data}")>=0?null:JSON.stringify({data:it,sender:nt}),ut=yield fetchJson({url:ct,errorPassThrough:!0},lt,(mt,gt)=>(mt.status=gt.statusCode,mt));if(ut.data)return ut.data;const dt=ut.message||"unknown error";if(ut.status>=400&&ut.status<500)return logger$f.throwError(`response not found during CCIP fetch: ${dt}`,Logger.errors.SERVER_ERROR,{url:ot,errorMessage:dt});at.push(dt)}return logger$f.throwError(`error encountered during CCIP fetch: ${at.map(st=>JSON.stringify(st)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:rt,errorMessages:at})})}_getInternalBlockNumber(_e){return __awaiter$7(this,void 0,void 0,function*(){if(yield this._ready(),_e>0)for(;this._internalBlockNumber;){const nt=this._internalBlockNumber;try{const it=yield nt;if(getTime()-it.respTime<=_e)return it.blockNumber;break}catch{if(this._internalBlockNumber===nt)break}}const tt=getTime(),rt=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(nt=>null,nt=>nt)}).then(({blockNumber:nt,networkError:it})=>{if(it)throw this._internalBlockNumber===rt&&(this._internalBlockNumber=null),it;const at=getTime();return nt=BigNumber.from(nt).toNumber(),nt<this._maxInternalBlockNumber&&(nt=this._maxInternalBlockNumber),this._maxInternalBlockNumber=nt,this._setFastBlockNumber(nt),{blockNumber:nt,reqTime:tt,respTime:at}});return this._internalBlockNumber=rt,rt.catch(nt=>{this._internalBlockNumber===rt&&(this._internalBlockNumber=null)}),(yield rt).blockNumber})}poll(){return __awaiter$7(this,void 0,void 0,function*(){const _e=nextPollId++,tt=[];let rt=null;try{rt=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(nt){this.emit("error",nt);return}if(this._setFastBlockNumber(rt),this.emit("poll",_e,rt),rt===this._lastBlockNumber){this.emit("didPoll",_e);return}if(this._emitted.block===-2&&(this._emitted.block=rt-1),Math.abs(this._emitted.block-rt)>1e3)logger$f.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${rt})`),this.emit("error",logger$f.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:rt,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",rt);else for(let nt=this._emitted.block+1;nt<=rt;nt++)this.emit("block",nt);this._emitted.block!==rt&&(this._emitted.block=rt,Object.keys(this._emitted).forEach(nt=>{if(nt==="block")return;const it=this._emitted[nt];it!=="pending"&&rt-it>12&&delete this._emitted[nt]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=rt-1),this._events.forEach(nt=>{switch(nt.type){case"tx":{const it=nt.hash;let at=this.getTransactionReceipt(it).then(st=>(!st||st.blockNumber==null||(this._emitted["t:"+it]=st.blockNumber,this.emit(it,st)),null)).catch(st=>{this.emit("error",st)});tt.push(at);break}case"filter":{if(!nt._inflight){nt._inflight=!0,nt._lastBlockNumber===-2&&(nt._lastBlockNumber=rt-1);const it=nt.filter;it.fromBlock=nt._lastBlockNumber+1,it.toBlock=rt;const at=it.toBlock-this._maxFilterBlockRange;at>it.fromBlock&&(it.fromBlock=at),it.fromBlock<0&&(it.fromBlock=0);const st=this.getLogs(it).then(ot=>{nt._inflight=!1,ot.length!==0&&ot.forEach(ct=>{ct.blockNumber>nt._lastBlockNumber&&(nt._lastBlockNumber=ct.blockNumber),this._emitted["b:"+ct.blockHash]=ct.blockNumber,this._emitted["t:"+ct.transactionHash]=ct.blockNumber,this.emit(it,ct)})}).catch(ot=>{this.emit("error",ot),nt._inflight=!1});tt.push(st)}break}}}),this._lastBlockNumber=rt,Promise.all(tt).then(()=>{this.emit("didPoll",_e)}).catch(nt=>{this.emit("error",nt)})})}resetEventsBlock(_e){this._lastBlockNumber=_e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$7(this,void 0,void 0,function*(){return logger$f.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$7(this,void 0,void 0,function*(){const _e=yield this._ready(),tt=yield this.detectNetwork();if(_e.chainId!==tt.chainId){if(this.anyNetwork)return this._network=tt,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",tt,_e),yield stall$1(0),this._network;const rt=logger$f.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:_e,detectedNetwork:tt});throw this.emit("error",rt),rt}return _e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(_e=>{this._setFastBlockNumber(_e)},_e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(_e){_e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!_e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(_e){if(typeof _e!="number"||_e<=0||parseInt(String(_e))!=_e)throw new Error("invalid polling interval");this._pollingInterval=_e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const _e=getTime();return _e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=_e,this._fastBlockNumberPromise=this.getBlockNumber().then(tt=>((this._fastBlockNumber==null||tt>this._fastBlockNumber)&&(this._fastBlockNumber=tt),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(_e){this._fastBlockNumber!=null&&_e<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||_e>this._fastBlockNumber)&&(this._fastBlockNumber=_e,this._fastBlockNumberPromise=Promise.resolve(_e)))}waitForTransaction(_e,tt,rt){return __awaiter$7(this,void 0,void 0,function*(){return this._waitForTransaction(_e,tt==null?1:tt,rt||0,null)})}_waitForTransaction(_e,tt,rt,nt){return __awaiter$7(this,void 0,void 0,function*(){const it=yield this.getTransactionReceipt(_e);return(it?it.confirmations:0)>=tt?it:new Promise((at,st)=>{const ot=[];let ct=!1;const lt=function(){return ct?!0:(ct=!0,ot.forEach(dt=>{dt()}),!1)},ut=dt=>{dt.confirmations<tt||lt()||at(dt)};if(this.on(_e,ut),ot.push(()=>{this.removeListener(_e,ut)}),nt){let dt=nt.startBlock,mt=null;const gt=bt=>__awaiter$7(this,void 0,void 0,function*(){ct||(yield stall$1(1e3),this.getTransactionCount(nt.from).then(ht=>__awaiter$7(this,void 0,void 0,function*(){if(!ct){if(ht<=nt.nonce)dt=bt;else{{const yt=yield this.getTransaction(_e);if(yt&&yt.blockNumber!=null)return}for(mt==null&&(mt=dt-3,mt<nt.startBlock&&(mt=nt.startBlock));mt<=bt;){if(ct)return;const yt=yield this.getBlockWithTransactions(mt);for(let wt=0;wt<yt.transactions.length;wt++){const xt=yt.transactions[wt];if(xt.hash===_e)return;if(xt.from===nt.from&&xt.nonce===nt.nonce){if(ct)return;const At=yield this.waitForTransaction(xt.hash,tt);if(lt())return;let kt="replaced";xt.data===nt.data&&xt.to===nt.to&&xt.value.eq(nt.value)?kt="repriced":xt.data==="0x"&&xt.from===xt.to&&xt.value.isZero()&&(kt="cancelled"),st(logger$f.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:kt==="replaced"||kt==="cancelled",reason:kt,replacement:this._wrapTransaction(xt),hash:_e,receipt:At}));return}}mt++}}ct||this.once("block",gt)}}),ht=>{ct||this.once("block",gt)}))});if(ct)return;this.once("block",gt),ot.push(()=>{this.removeListener("block",gt)})}if(typeof rt=="number"&&rt>0){const dt=setTimeout(()=>{lt()||st(logger$f.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:rt}))},rt);dt.unref&&dt.unref(),ot.push(()=>{clearTimeout(dt)})}})})}getBlockNumber(){return __awaiter$7(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const _e=yield this.perform("getGasPrice",{});try{return BigNumber.from(_e)}catch(tt){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:_e,error:tt})}})}getBalance(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getBalance",rt);try{return BigNumber.from(nt)}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:rt,result:nt,error:it})}})}getTransactionCount(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getTransactionCount",rt);try{return BigNumber.from(nt).toNumber()}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:rt,result:nt,error:it})}})}getCode(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getCode",rt);try{return hexlify(nt)}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:rt,result:nt,error:it})}})}getStorageAt(_e,tt,rt){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const nt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(rt),position:Promise.resolve(tt).then(at=>hexValue(at))}),it=yield this.perform("getStorageAt",nt);try{return hexlify(it)}catch(at){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:nt,result:it,error:at})}})}_wrapTransaction(_e,tt,rt){if(tt!=null&&hexDataLength(tt)!==32)throw new Error("invalid response - sendTransaction");const nt=_e;return tt!=null&&_e.hash!==tt&&logger$f.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:_e.hash,returnedHash:tt}),nt.wait=(it,at)=>__awaiter$7(this,void 0,void 0,function*(){it==null&&(it=1),at==null&&(at=0);let st;it!==0&&rt!=null&&(st={data:_e.data,from:_e.from,nonce:_e.nonce,to:_e.to,value:_e.value,startBlock:rt});const ot=yield this._waitForTransaction(_e.hash,it,at,st);return ot==null&&it===0?null:(this._emitted["t:"+_e.hash]=ot.blockNumber,ot.status===0&&logger$f.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:_e.hash,transaction:_e,receipt:ot}),ot)}),nt}sendTransaction(_e){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield Promise.resolve(_e).then(it=>hexlify(it)),rt=this.formatter.transaction(_e);rt.confirmations==null&&(rt.confirmations=0);const nt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const it=yield this.perform("sendTransaction",{signedTransaction:tt});return this._wrapTransaction(rt,it,nt)}catch(it){throw it.transaction=rt,it.transactionHash=rt.hash,it}})}_getTransactionRequest(_e){return __awaiter$7(this,void 0,void 0,function*(){const tt=yield _e,rt={};return["from","to"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?this._getAddress(it):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?BigNumber.from(it):null))}),["type"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it!=null?it:null))}),tt.accessList&&(rt.accessList=this.formatter.accessList(tt.accessList)),["data"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?hexlify(it):null))}),this.formatter.transactionRequest(yield resolveProperties(rt))})}_getFilter(_e){return __awaiter$7(this,void 0,void 0,function*(){_e=yield _e;const tt={};return _e.address!=null&&(tt.address=this._getAddress(_e.address)),["blockHash","topics"].forEach(rt=>{_e[rt]!=null&&(tt[rt]=_e[rt])}),["fromBlock","toBlock"].forEach(rt=>{_e[rt]!=null&&(tt[rt]=this._getBlockTag(_e[rt]))}),this.formatter.filter(yield resolveProperties(tt))})}_call(_e,tt,rt){return __awaiter$7(this,void 0,void 0,function*(){rt>=MAX_CCIP_REDIRECTS&&logger$f.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:rt,transaction:_e});const nt=_e.to,it=yield this.perform("call",{transaction:_e,blockTag:tt});if(rt>=0&&tt==="latest"&&nt!=null&&it.substring(0,10)==="0x556f1830"&&hexDataLength(it)%32===4)try{const at=hexDataSlice(it,4),st=hexDataSlice(at,0,32);BigNumber.from(st).eq(nt)||logger$f.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const ot=[],ct=BigNumber.from(hexDataSlice(at,32,64)).toNumber(),lt=BigNumber.from(hexDataSlice(at,ct,ct+32)).toNumber(),ut=hexDataSlice(at,ct+32);for(let yt=0;yt<lt;yt++){const wt=_parseString(ut,yt*32);wt==null&&logger$f.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it}),ot.push(wt)}const dt=_parseBytes(at,64);BigNumber.from(hexDataSlice(at,100,128)).isZero()||logger$f.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const mt=hexDataSlice(at,96,100),gt=_parseBytes(at,128),bt=yield this.ccipReadFetch(_e,dt,ot);bt==null&&logger$f.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const ht={to:nt,data:hexConcat([mt,encodeBytes([bt,gt])])};return this._call(ht,tt,rt+1)}catch(at){if(at.code===Logger.errors.SERVER_ERROR)throw at}try{return hexlify(it)}catch(at){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:_e,blockTag:tt},result:it,error:at})}})}call(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({transaction:this._getTransactionRequest(_e),blockTag:this._getBlockTag(tt),ccipReadEnabled:Promise.resolve(_e.ccipReadEnabled)});return this._call(rt.transaction,rt.blockTag,rt.ccipReadEnabled?0:-1)})}estimateGas(_e){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield resolveProperties({transaction:this._getTransactionRequest(_e)}),rt=yield this.perform("estimateGas",tt);try{return BigNumber.from(rt)}catch(nt){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:tt,result:rt,error:nt})}})}_getAddress(_e){return __awaiter$7(this,void 0,void 0,function*(){_e=yield _e,typeof _e!="string"&&logger$f.throwArgumentError("invalid address or ENS name","name",_e);const tt=yield this.resolveName(_e);return tt==null&&logger$f.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(_e)})`}),tt})}_getBlock(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;let rt=-128;const nt={includeTransactions:!!tt};if(isHexString$4(_e,32))nt.blockHash=_e;else try{nt.blockTag=yield this._getBlockTag(_e),isHexString$4(nt.blockTag)&&(rt=parseInt(nt.blockTag.substring(2),16))}catch{logger$f.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",_e)}return poll(()=>__awaiter$7(this,void 0,void 0,function*(){const it=yield this.perform("getBlock",nt);if(it==null)return nt.blockHash!=null&&this._emitted["b:"+nt.blockHash]==null||nt.blockTag!=null&&rt>this._emitted.block?null:void 0;if(tt){let at=null;for(let ot=0;ot<it.transactions.length;ot++){const ct=it.transactions[ot];if(ct.blockNumber==null)ct.confirmations=0;else if(ct.confirmations==null){at==null&&(at=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let lt=at-ct.blockNumber+1;lt<=0&&(lt=1),ct.confirmations=lt}}const st=this.formatter.blockWithTransactions(it);return st.transactions=st.transactions.map(ot=>this._wrapTransaction(ot)),st}return this.formatter.block(it)}),{oncePoll:this})})}getBlock(_e){return this._getBlock(_e,!1)}getBlockWithTransactions(_e){return this._getBlock(_e,!0)}getTransaction(_e){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;const tt={transactionHash:this.formatter.hash(_e,!0)};return poll(()=>__awaiter$7(this,void 0,void 0,function*(){const rt=yield this.perform("getTransaction",tt);if(rt==null)return this._emitted["t:"+_e]==null?null:void 0;const nt=this.formatter.transactionResponse(rt);if(nt.blockNumber==null)nt.confirmations=0;else if(nt.confirmations==null){let at=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-nt.blockNumber+1;at<=0&&(at=1),nt.confirmations=at}return this._wrapTransaction(nt)}),{oncePoll:this})})}getTransactionReceipt(_e){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;const tt={transactionHash:this.formatter.hash(_e,!0)};return poll(()=>__awaiter$7(this,void 0,void 0,function*(){const rt=yield this.perform("getTransactionReceipt",tt);if(rt==null)return this._emitted["t:"+_e]==null?null:void 0;if(rt.blockHash==null)return;const nt=this.formatter.receipt(rt);if(nt.blockNumber==null)nt.confirmations=0;else if(nt.confirmations==null){let at=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-nt.blockNumber+1;at<=0&&(at=1),nt.confirmations=at}return nt}),{oncePoll:this})})}getLogs(_e){return __awaiter$7(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield resolveProperties({filter:this._getFilter(_e)}),rt=yield this.perform("getLogs",tt);return rt.forEach(nt=>{nt.removed==null&&(nt.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(rt)})}getEtherPrice(){return __awaiter$7(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(_e){return __awaiter$7(this,void 0,void 0,function*(){if(_e=yield _e,typeof _e=="number"&&_e<0){_e%1&&logger$f.throwArgumentError("invalid BlockTag","blockTag",_e);let tt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return tt+=_e,tt<0&&(tt=0),this.formatter.blockTag(tt)}return this.formatter.blockTag(_e)})}getResolver(_e){return __awaiter$7(this,void 0,void 0,function*(){let tt=_e;for(;;){if(tt===""||tt==="."||_e!=="eth"&&tt==="eth")return null;const rt=yield this._getResolver(tt,"getResolver");if(rt!=null){const nt=new Resolver(this,rt,_e);return tt!==_e&&!(yield nt.supportsWildcard())?null:nt}tt=tt.split(".").slice(1).join(".")}})}_getResolver(_e,tt){return __awaiter$7(this,void 0,void 0,function*(){tt==null&&(tt="ENS");const rt=yield this.getNetwork();rt.ensAddress||logger$f.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:tt,network:rt.name});try{const nt=yield this.call({to:rt.ensAddress,data:"0x0178b8bf"+namehash(_e).substring(2)});return this.formatter.callAddress(nt)}catch{}return null})}resolveName(_e){return __awaiter$7(this,void 0,void 0,function*(){_e=yield _e;try{return Promise.resolve(this.formatter.address(_e))}catch(rt){if(isHexString$4(_e))throw rt}typeof _e!="string"&&logger$f.throwArgumentError("invalid ENS name","name",_e);const tt=yield this.getResolver(_e);return tt?yield tt.getAddress():null})}lookupAddress(_e){return __awaiter$7(this,void 0,void 0,function*(){_e=yield _e,_e=this.formatter.address(_e);const tt=_e.substring(2).toLowerCase()+".addr.reverse",rt=yield this._getResolver(tt,"lookupAddress");if(rt==null)return null;const nt=_parseString(yield this.call({to:rt,data:"0x691f3431"+namehash(tt).substring(2)}),0);return(yield this.resolveName(nt))!=_e?null:nt})}getAvatar(_e){return __awaiter$7(this,void 0,void 0,function*(){let tt=null;if(isHexString$4(_e)){const it=this.formatter.address(_e).substring(2).toLowerCase()+".addr.reverse",at=yield this._getResolver(it,"getAvatar");if(!at)return null;tt=new Resolver(this,at,it);try{const st=yield tt.getAvatar();if(st)return st.url}catch(st){if(st.code!==Logger.errors.CALL_EXCEPTION)throw st}try{const st=_parseString(yield this.call({to:at,data:"0x691f3431"+namehash(it).substring(2)}),0);tt=yield this.getResolver(st)}catch(st){if(st.code!==Logger.errors.CALL_EXCEPTION)throw st;return null}}else if(tt=yield this.getResolver(_e),!tt)return null;const rt=yield tt.getAvatar();return rt==null?null:rt.url})}perform(_e,tt){return logger$f.throwError(_e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:_e})}_startEvent(_e){this.polling=this._events.filter(tt=>tt.pollable()).length>0}_stopEvent(_e){this.polling=this._events.filter(tt=>tt.pollable()).length>0}_addEventListener(_e,tt,rt){const nt=new Event$1(getEventTag(_e),tt,rt);return this._events.push(nt),this._startEvent(nt),this}on(_e,tt){return this._addEventListener(_e,tt,!1)}once(_e,tt){return this._addEventListener(_e,tt,!0)}emit(_e,...tt){let rt=!1,nt=[],it=getEventTag(_e);return this._events=this._events.filter(at=>at.tag!==it?!0:(setTimeout(()=>{at.listener.apply(this,tt)},0),rt=!0,at.once?(nt.push(at),!1):!0)),nt.forEach(at=>{this._stopEvent(at)}),rt}listenerCount(_e){if(!_e)return this._events.length;let tt=getEventTag(_e);return this._events.filter(rt=>rt.tag===tt).length}listeners(_e){if(_e==null)return this._events.map(rt=>rt.listener);let tt=getEventTag(_e);return this._events.filter(rt=>rt.tag===tt).map(rt=>rt.listener)}off(_e,tt){if(tt==null)return this.removeAllListeners(_e);const rt=[];let nt=!1,it=getEventTag(_e);return this._events=this._events.filter(at=>at.tag!==it||at.listener!=tt||nt?!0:(nt=!0,rt.push(at),!1)),rt.forEach(at=>{this._stopEvent(at)}),this}removeAllListeners(_e){let tt=[];if(_e==null)tt=this._events,this._events=[];else{const rt=getEventTag(_e);this._events=this._events.filter(nt=>nt.tag!==rt?!0:(tt.push(nt),!1))}return tt.forEach(rt=>{this._stopEvent(rt)}),this}}var __awaiter$6=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$e=new Logger(version$7),errorGas=["call","estimateGas"];function spelunk(et,_e){if(et==null)return null;if(typeof et.message=="string"&&et.message.match("reverted")){const tt=isHexString$4(et.data)?et.data:null;if(!_e||tt)return{message:et.message,data:tt}}if(typeof et=="object"){for(const tt in et){const rt=spelunk(et[tt],_e);if(rt)return rt}return null}if(typeof et=="string")try{return spelunk(JSON.parse(et),_e)}catch{}return null}function checkError$1(et,_e,tt){const rt=tt.transaction||tt.signedTransaction;if(et==="call"){const it=spelunk(_e,!0);if(it)return it.data;logger$e.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:rt,error:_e})}if(et==="estimateGas"){let it=spelunk(_e.body,!1);it==null&&(it=spelunk(_e,!1)),it&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:it.message,method:et,transaction:rt,error:_e})}let nt=_e.message;throw _e.code===Logger.errors.SERVER_ERROR&&_e.error&&typeof _e.error.message=="string"?nt=_e.error.message:typeof _e.body=="string"?nt=_e.body:typeof _e.responseText=="string"&&(nt=_e.responseText),nt=(nt||"").toLowerCase(),nt.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$e.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:_e,method:et,transaction:rt}),nt.match(/nonce (is )?too low/i)&&logger$e.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:_e,method:et,transaction:rt}),nt.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$e.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:_e,method:et,transaction:rt}),nt.match(/only replay-protected/i)&&logger$e.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:_e,method:et,transaction:rt}),errorGas.indexOf(et)>=0&&nt.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,method:et,transaction:rt}),_e}function timer$1(et){return new Promise(function(_e){setTimeout(_e,et)})}function getResult$1(et){if(et.error){const _e=new Error(et.error.message);throw _e.code=et.error.code,_e.data=et.error.data,_e}return et.result}function getLowerCase(et){return et&&et.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(_e,tt,rt){if(super(),_e!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",tt),rt==null&&(rt=0),typeof rt=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(rt)),defineReadOnly(this,"_index",null)):typeof rt=="number"?(defineReadOnly(this,"_index",rt),defineReadOnly(this,"_address",null)):logger$e.throwArgumentError("invalid address or index","addressOrIndex",rt)}connect(_e){return logger$e.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(_e=>(_e.length<=this._index&&logger$e.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(_e[this._index])))}sendUncheckedTransaction(_e){_e=shallowCopy(_e);const tt=this.getAddress().then(rt=>(rt&&(rt=rt.toLowerCase()),rt));if(_e.gasLimit==null){const rt=shallowCopy(_e);rt.from=tt,_e.gasLimit=this.provider.estimateGas(rt)}return _e.to!=null&&(_e.to=Promise.resolve(_e.to).then(rt=>__awaiter$6(this,void 0,void 0,function*(){if(rt==null)return null;const nt=yield this.provider.resolveName(rt);return nt==null&&logger$e.throwArgumentError("provided ENS name resolves to null","tx.to",rt),nt}))),resolveProperties({tx:resolveProperties(_e),sender:tt}).then(({tx:rt,sender:nt})=>{rt.from!=null?rt.from.toLowerCase()!==nt&&logger$e.throwArgumentError("from address mismatch","transaction",_e):rt.from=nt;const it=this.provider.constructor.hexlifyTransaction(rt,{from:!0});return this.provider.send("eth_sendTransaction",[it]).then(at=>at,at=>(typeof at.message=="string"&&at.message.match(/user denied/i)&&logger$e.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:rt}),checkError$1("sendTransaction",at,it)))})}signTransaction(_e){return logger$e.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(_e){return __awaiter$6(this,void 0,void 0,function*(){const tt=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),rt=yield this.sendUncheckedTransaction(_e);try{return yield poll(()=>__awaiter$6(this,void 0,void 0,function*(){const nt=yield this.provider.getTransaction(rt);if(nt!==null)return this.provider._wrapTransaction(nt,rt,tt)}),{oncePoll:this.provider})}catch(nt){throw nt.transactionHash=rt,nt}})}signMessage(_e){return __awaiter$6(this,void 0,void 0,function*(){const tt=typeof _e=="string"?toUtf8Bytes(_e):_e,rt=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(tt),rt.toLowerCase()])}catch(nt){throw typeof nt.message=="string"&&nt.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:rt,messageData:_e}),nt}})}_legacySignMessage(_e){return __awaiter$6(this,void 0,void 0,function*(){const tt=typeof _e=="string"?toUtf8Bytes(_e):_e,rt=yield this.getAddress();try{return yield this.provider.send("eth_sign",[rt.toLowerCase(),hexlify(tt)])}catch(nt){throw typeof nt.message=="string"&&nt.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:rt,messageData:_e}),nt}})}_signTypedData(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){const nt=yield TypedDataEncoder.resolveNames(_e,tt,rt,at=>this.provider.resolveName(at)),it=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[it.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(nt.domain,tt,nt.value))])}catch(at){throw typeof at.message=="string"&&at.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:it,messageData:{domain:nt.domain,types:tt,value:nt.value}}),at}})}unlock(_e){return __awaiter$6(this,void 0,void 0,function*(){const tt=this.provider,rt=yield this.getAddress();return tt.send("personal_unlockAccount",[rt.toLowerCase(),_e,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(_e){return this.sendUncheckedTransaction(_e).then(tt=>({hash:tt,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:rt=>this.provider.waitForTransaction(tt,rt)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider$1 extends BaseProvider{constructor(_e,tt){let rt=tt;rt==null&&(rt=new Promise((nt,it)=>{setTimeout(()=>{this.detectNetwork().then(at=>{nt(at)},at=>{it(at)})},0)})),super(rt),_e||(_e=getStatic(this.constructor,"defaultUrl")()),typeof _e=="string"?defineReadOnly(this,"connection",Object.freeze({url:_e})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(_e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$6(this,void 0,void 0,function*(){yield timer$1(0);let _e=null;try{_e=yield this.send("eth_chainId",[])}catch{try{_e=yield this.send("net_version",[])}catch{}}if(_e!=null){const tt=getStatic(this.constructor,"getNetwork");try{return tt(BigNumber.from(_e).toNumber())}catch(rt){return logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:_e,event:"invalidNetwork",serverError:rt})}}return logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(_e){return new JsonRpcSigner(_constructorGuard,this,_e)}getUncheckedSigner(_e){return this.getSigner(_e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(_e=>_e.map(tt=>this.formatter.address(tt)))}send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(rt),provider:this});const nt=["eth_chainId","eth_blockNumber"].indexOf(_e)>=0;if(nt&&this._cache[_e])return this._cache[_e];const it=fetchJson(this.connection,JSON.stringify(rt),getResult$1).then(at=>(this.emit("debug",{action:"response",request:rt,response:at,provider:this}),at),at=>{throw this.emit("debug",{action:"response",error:at,request:rt,provider:this}),at});return nt&&(this._cache[_e]=it,setTimeout(()=>{this._cache[_e]=null},0)),it}prepareRequest(_e,tt){switch(_e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(tt.address),tt.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(tt.address),tt.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(tt.address),tt.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(tt.address),hexZeroPad(tt.position,32),tt.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[tt.signedTransaction]];case"getBlock":return tt.blockTag?["eth_getBlockByNumber",[tt.blockTag,!!tt.includeTransactions]]:tt.blockHash?["eth_getBlockByHash",[tt.blockHash,!!tt.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[tt.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[tt.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(tt.transaction,{from:!0}),tt.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(tt.transaction,{from:!0})]];case"getLogs":return tt.filter&&tt.filter.address!=null&&(tt.filter.address=getLowerCase(tt.filter.address)),["eth_getLogs",[tt.filter]]}return null}perform(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){if(_e==="call"||_e==="estimateGas"){const nt=tt.transaction;if(nt&&nt.type!=null&&BigNumber.from(nt.type).isZero()&&nt.maxFeePerGas==null&&nt.maxPriorityFeePerGas==null){const it=yield this.getFeeData();it.maxFeePerGas==null&&it.maxPriorityFeePerGas==null&&(tt=shallowCopy(tt),tt.transaction=shallowCopy(nt),delete tt.transaction.type)}}const rt=this.prepareRequest(_e,tt);rt==null&&logger$e.throwError(_e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:_e});try{return yield this.send(rt[0],rt[1])}catch(nt){return checkError$1(_e,nt,tt)}})}_startEvent(_e){_e.tag==="pending"&&this._startPending(),super._startEvent(_e)}_startPending(){if(this._pendingFilter!=null)return;const _e=this,tt=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=tt,tt.then(function(rt){function nt(){_e.send("eth_getFilterChanges",[rt]).then(function(it){if(_e._pendingFilter!=tt)return null;let at=Promise.resolve();return it.forEach(function(st){_e._emitted["t:"+st.toLowerCase()]="pending",at=at.then(function(){return _e.getTransaction(st).then(function(ot){return _e.emit("pending",ot),null})})}),at.then(function(){return timer$1(1e3)})}).then(function(){if(_e._pendingFilter!=tt){_e.send("eth_uninstallFilter",[rt]);return}return setTimeout(function(){nt()},0),null}).catch(it=>{})}return nt(),rt}).catch(rt=>{})}_stopEvent(_e){_e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(_e)}static hexlifyTransaction(_e,tt){const rt=shallowCopy(allowedTransactionKeys);if(tt)for(const it in tt)tt[it]&&(rt[it]=!0);checkProperties(_e,rt);const nt={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(it){if(_e[it]==null)return;const at=hexValue(BigNumber.from(_e[it]));it==="gasLimit"&&(it="gas"),nt[it]=at}),["from","to","data"].forEach(function(it){_e[it]!=null&&(nt[it]=hexlify(_e[it]))}),_e.accessList&&(nt.accessList=accessListify(_e.accessList)),nt}}let WS$1=null;try{if(WS$1=WebSocket,WS$1==null)throw new Error("inject please")}catch{const _e=new Logger(version$7);WS$1=function(){_e.throwError("WebSockets not supported in this environment",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$5=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$d=new Logger(version$7);let NextId=1;class WebSocketProvider extends JsonRpcProvider$1{constructor(_e,tt){tt==="any"&&logger$d.throwError("WebSocketProvider does not support 'any' network yet",Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof _e=="string"?super(_e,tt):super("_websocket",tt),this._pollingInterval=-1,this._wsReady=!1,typeof _e=="string"?defineReadOnly(this,"_websocket",new WS$1(this.connection.url)):defineReadOnly(this,"_websocket",_e),defineReadOnly(this,"_requests",{}),defineReadOnly(this,"_subs",{}),defineReadOnly(this,"_subIds",{}),defineReadOnly(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(nt=>{this.websocket.send(this._requests[nt].payload)})},this.websocket.onmessage=nt=>{const it=nt.data,at=JSON.parse(it);if(at.id!=null){const st=String(at.id),ot=this._requests[st];if(delete this._requests[st],at.result!==void 0)ot.callback(null,at.result),this.emit("debug",{action:"response",request:JSON.parse(ot.payload),response:at.result,provider:this});else{let ct=null;at.error?(ct=new Error(at.error.message||"unknown error"),defineReadOnly(ct,"code",at.error.code||null),defineReadOnly(ct,"response",it)):ct=new Error("unknown error"),ot.callback(ct,void 0),this.emit("debug",{action:"response",error:ct,request:JSON.parse(ot.payload),provider:this})}}else if(at.method==="eth_subscription"){const st=this._subs[at.params.subscription];st&&st.processFunc(at.params.result)}else console.warn("this should not happen")};const rt=setInterval(()=>{this.emit("poll")},1e3);rt.unref&&rt.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(_e){logger$d.throwError("cannot reset events block on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(_e){logger$d.throwError("cannot set polling interval on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$5(this,void 0,void 0,function*(){return null})}set polling(_e){!_e||logger$d.throwError("cannot set polling on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(_e,tt){const rt=NextId++;return new Promise((nt,it)=>{function at(ot,ct){return ot?it(ot):nt(ct)}const st=JSON.stringify({method:_e,params:tt,id:rt,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(st),provider:this}),this._requests[String(rt)]={callback:at,payload:st},this._wsReady&&this.websocket.send(st)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(_e,tt,rt){return __awaiter$5(this,void 0,void 0,function*(){let nt=this._subIds[_e];nt==null&&(nt=Promise.all(tt).then(at=>this.send("eth_subscribe",at)),this._subIds[_e]=nt);const it=yield nt;this._subs[it]={tag:_e,processFunc:rt}})}_startEvent(_e){switch(_e.type){case"block":this._subscribe("block",["newHeads"],tt=>{const rt=BigNumber.from(tt.number).toNumber();this._emitted.block=rt,this.emit("block",rt)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],tt=>{this.emit("pending",tt)});break;case"filter":this._subscribe(_e.tag,["logs",this._getFilter(_e.filter)],tt=>{tt.removed==null&&(tt.removed=!1),this.emit(_e.filter,this.formatter.filterLog(tt))});break;case"tx":{const tt=rt=>{const nt=rt.hash;this.getTransactionReceipt(nt).then(it=>{!it||this.emit(nt,it)})};tt(_e),this._subscribe("tx",["newHeads"],rt=>{this._events.filter(nt=>nt.type==="tx").forEach(tt)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",_e);break}}_stopEvent(_e){let tt=_e.tag;if(_e.type==="tx"){if(this._events.filter(nt=>nt.type==="tx").length)return;tt="tx"}else if(this.listenerCount(_e.event))return;const rt=this._subIds[tt];!rt||(delete this._subIds[tt],rt.then(nt=>{!this._subs[nt]||(delete this._subs[nt],this.send("eth_unsubscribe",[nt]))}))}destroy(){return __awaiter$5(this,void 0,void 0,function*(){this.websocket.readyState===WS$1.CONNECTING&&(yield new Promise(_e=>{this.websocket.onopen=function(){_e(!0)},this.websocket.onerror=function(){_e(!1)}})),this.websocket.close(1e3)})}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$c=new Logger(version$7);class StaticJsonRpcProvider extends JsonRpcProvider$1{detectNetwork(){const _e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$4(this,void 0,void 0,function*(){let tt=this.network;return tt==null&&(tt=yield _e.detectNetwork.call(this),tt||logger$c.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(defineReadOnly(this,"_network",tt),this.emit("network",tt,null))),tt})}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(_e,tt){logger$c.checkAbstract(new.target,UrlJsonRpcProvider),_e=getStatic(new.target,"getNetwork")(_e),tt=getStatic(new.target,"getApiKey")(tt);const rt=getStatic(new.target,"getUrl")(_e,tt);super(rt,_e),typeof tt=="string"?defineReadOnly(this,"apiKey",tt):tt!=null&&Object.keys(tt).forEach(nt=>{defineReadOnly(this,nt,tt[nt])})}_startPending(){logger$c.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(_e){return logger$c.throwError("API provider does not support signing",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(_e){return _e}static getUrl(_e,tt){return logger$c.throwError("not implemented; sub-classes must override getUrl",Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$b=new Logger(version$7),defaultApiKey$2="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(_e,tt){const rt=new AlchemyProvider(_e,tt),nt=rt.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(nt,rt.network),defineReadOnly(this,"apiKey",rt.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$2}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(_e,tt){return new AlchemyWebSocketProvider(_e,tt)}static getApiKey(_e){return _e==null?defaultApiKey$2:(_e&&typeof _e!="string"&&logger$b.throwArgumentError("invalid apiKey","apiKey",_e),_e)}static getUrl(_e,tt){let rt=null;switch(_e.name){case"homestead":rt="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":rt="eth-goerli.g.alchemy.com/v2/";break;case"matic":rt="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":rt="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":rt="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":rt="arb-goerli.g.alchemy.com/v2/";break;case"optimism":rt="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":rt="opt-goerli.g.alchemy.com/v2/";break;default:logger$b.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+rt+tt,throttleCallback:(nt,it)=>(tt===defaultApiKey$2&&showThrottleMessage(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===defaultApiKey$2}}const logger$a=new Logger(version$7),defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(et){switch(et){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$a.throwArgumentError("unsupported network","name",et)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===defaultApiKey$1}static getApiKey(_e){return _e==null?defaultApiKey$1:_e}static getUrl(_e,tt){tt==null&&(tt=defaultApiKey$1);const rt={allowGzip:!0,url:"https://"+getHost(_e.name)+tt,throttleCallback:(nt,it)=>(tt.apiKey===defaultApiKey$1&&showThrottleMessage(),Promise.resolve(!0))};return tt.projectSecret!=null&&(rt.user="",rt.password=tt.projectSecret),rt}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$9=new Logger(version$7);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(_e){return _e!=null&&logger$9.throwArgumentError("apiKey not supported for cloudflare","apiKey",_e),null}static getUrl(_e,tt){let rt=null;switch(_e.name){case"homestead":rt="https://cloudflare-eth.com/";break;default:logger$9.throwArgumentError("unsupported network","network",arguments[0])}return rt}perform(_e,tt){const rt=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$3(this,void 0,void 0,function*(){return _e==="getBlockNumber"?(yield rt.perform.call(this,"getBlock",{blockTag:"latest"})).number:rt.perform.call(this,_e,tt)})}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$8=new Logger(version$7);function getTransactionPostData(et){const _e={};for(let tt in et){if(et[tt]==null)continue;let rt=et[tt];tt==="type"&&rt===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[tt]?rt=hexValue(hexlify(rt)):tt==="accessList"?rt="["+accessListify(rt).map(nt=>`{address:"${nt.address}",storageKeys:["${nt.storageKeys.join('","')}"]}`).join(",")+"]":rt=hexlify(rt),_e[tt]=rt)}return _e}function getResult(et){if(et.status==0&&(et.message==="No records found"||et.message==="No transactions found"))return et.result;if(et.status!=1||typeof et.message!="string"||!et.message.match(/^OK/)){const _e=new Error("invalid response");throw _e.result=JSON.stringify(et),(et.result||"").toLowerCase().indexOf("rate limit")>=0&&(_e.throttleRetry=!0),_e}return et.result}function getJsonResult(et){if(et&&et.status==0&&et.message=="NOTOK"&&(et.result||"").toLowerCase().indexOf("rate limit")>=0){const _e=new Error("throttled response");throw _e.result=JSON.stringify(et),_e.throttleRetry=!0,_e}if(et.jsonrpc!="2.0"){const _e=new Error("invalid response");throw _e.result=JSON.stringify(et),_e}if(et.error){const _e=new Error(et.error.message||"unknown error");throw et.error.code&&(_e.code=et.error.code),et.error.data&&(_e.data=et.error.data),_e}return et.result}function checkLogTag(et){if(et==="pending")throw new Error("pending not supported");return et==="latest"?et:parseInt(et.substring(2),16)}function checkError(et,_e,tt){if(et==="call"&&_e.code===Logger.errors.SERVER_ERROR){const nt=_e.error;if(nt&&(nt.message.match(/reverted/i)||nt.message.match(/VM execution error/i))){let it=nt.data;if(it&&(it="0x"+it.replace(/^.*0x/i,"")),isHexString$4(it))return it;logger$8.throwError("missing revert data in call exception",Logger.errors.CALL_EXCEPTION,{error:_e,data:"0x"})}}let rt=_e.message;throw _e.code===Logger.errors.SERVER_ERROR&&(_e.error&&typeof _e.error.message=="string"?rt=_e.error.message:typeof _e.body=="string"?rt=_e.body:typeof _e.responseText=="string"&&(rt=_e.responseText)),rt=(rt||"").toLowerCase(),rt.match(/insufficient funds/)&&logger$8.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:_e,method:et,transaction:tt}),rt.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&logger$8.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:_e,method:et,transaction:tt}),rt.match(/another transaction with same nonce/)&&logger$8.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:_e,method:et,transaction:tt}),rt.match(/execution failed due to an exception|execution reverted/)&&logger$8.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,method:et,transaction:tt}),_e}class EtherscanProvider extends BaseProvider{constructor(_e,tt){super(_e),defineReadOnly(this,"baseUrl",this.getBaseUrl()),defineReadOnly(this,"apiKey",tt||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$8.throwArgumentError("unsupported network","network",this.network.name)}getUrl(_e,tt){const rt=Object.keys(tt).reduce((it,at)=>{const st=tt[at];return st!=null&&(it+=`&${at}=${st}`),it},""),nt=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${_e}${rt}${nt}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(_e,tt){return tt.module=_e,tt.apikey=this.apiKey,tt}fetch(_e,tt,rt){return __awaiter$2(this,void 0,void 0,function*(){const nt=rt?this.getPostUrl():this.getUrl(_e,tt),it=rt?this.getPostData(_e,tt):null,at=_e==="proxy"?getJsonResult:getResult;this.emit("debug",{action:"request",request:nt,provider:this});const st={url:nt,throttleSlotInterval:1e3,throttleCallback:(lt,ut)=>(this.isCommunityResource()&&showThrottleMessage(),Promise.resolve(!0))};let ot=null;it&&(st.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},ot=Object.keys(it).map(lt=>`${lt}=${it[lt]}`).join("&"));const ct=yield fetchJson(st,ot,at||getJsonResult);return this.emit("debug",{action:"response",request:nt,response:deepCopy(ct),provider:this}),ct})}detectNetwork(){return __awaiter$2(this,void 0,void 0,function*(){return this.network})}perform(_e,tt){const rt=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$2(this,void 0,void 0,function*(){switch(_e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:tt.address,tag:tt.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:tt.address,tag:tt.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:tt.address,tag:tt.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:tt.address,position:tt.position,tag:tt.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:tt.signedTransaction},!0).catch(nt=>checkError("sendTransaction",nt,tt.signedTransaction));case"getBlock":if(tt.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:tt.blockTag,boolean:tt.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:tt.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:tt.transactionHash});case"call":{if(tt.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const nt=getTransactionPostData(tt.transaction);nt.module="proxy",nt.action="eth_call";try{return yield this.fetch("proxy",nt,!0)}catch(it){return checkError("call",it,tt.transaction)}}case"estimateGas":{const nt=getTransactionPostData(tt.transaction);nt.module="proxy",nt.action="eth_estimateGas";try{return yield this.fetch("proxy",nt,!0)}catch(it){return checkError("estimateGas",it,tt.transaction)}}case"getLogs":{const nt={action:"getLogs"};if(tt.filter.fromBlock&&(nt.fromBlock=checkLogTag(tt.filter.fromBlock)),tt.filter.toBlock&&(nt.toBlock=checkLogTag(tt.filter.toBlock)),tt.filter.address&&(nt.address=tt.filter.address),tt.filter.topics&&tt.filter.topics.length>0&&(tt.filter.topics.length>1&&logger$8.throwError("unsupported topic count",Logger.errors.UNSUPPORTED_OPERATION,{topics:tt.filter.topics}),tt.filter.topics.length===1)){const st=tt.filter.topics[0];(typeof st!="string"||st.length!==66)&&logger$8.throwError("unsupported topic format",Logger.errors.UNSUPPORTED_OPERATION,{topic0:st}),nt.topic0=st}const it=yield this.fetch("logs",nt);let at={};for(let st=0;st<it.length;st++){const ot=it[st];if(ot.blockHash==null){if(at[ot.blockNumber]==null){const ct=yield this.getBlock(ot.blockNumber);ct&&(at[ot.blockNumber]=ct.hash)}ot.blockHash=at[ot.blockNumber]}}return it}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return rt.perform.call(this,_e,tt)})}getHistory(_e,tt,rt){return __awaiter$2(this,void 0,void 0,function*(){const nt={action:"txlist",address:yield this.resolveName(_e),startblock:tt==null?0:tt,endblock:rt==null?99999999:rt,sort:"asc"};return(yield this.fetch("account",nt)).map(at=>{["contractAddress","to"].forEach(function(ot){at[ot]==""&&delete at[ot]}),at.creates==null&&at.contractAddress!=null&&(at.creates=at.contractAddress);const st=this.formatter.transactionResponse(at);return at.timeStamp&&(st.timestamp=parseInt(at.timeStamp)),st})})}isCommunityResource(){return this.apiKey==null}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})};const logger$7=new Logger(version$7);function now(){return new Date().getTime()}function checkNetworks(et){let _e=null;for(let tt=0;tt<et.length;tt++){const rt=et[tt];if(rt==null)return null;_e?_e.name===rt.name&&_e.chainId===rt.chainId&&(_e.ensAddress===rt.ensAddress||_e.ensAddress==null&&rt.ensAddress==null)||logger$7.throwArgumentError("provider mismatch","networks",et):_e=rt}return _e}function median(et,_e){et=et.slice().sort();const tt=Math.floor(et.length/2);if(et.length%2)return et[tt];const rt=et[tt-1],nt=et[tt];return _e!=null&&Math.abs(rt-nt)>_e?null:(rt+nt)/2}function serialize$2(et){if(et===null)return"null";if(typeof et=="number"||typeof et=="boolean")return JSON.stringify(et);if(typeof et=="string")return et;if(BigNumber.isBigNumber(et))return et.toString();if(Array.isArray(et))return JSON.stringify(et.map(_e=>serialize$2(_e)));if(typeof et=="object"){const _e=Object.keys(et);return _e.sort(),"{"+_e.map(tt=>{let rt=et[tt];return typeof rt=="function"?rt="[function]":rt=serialize$2(rt),JSON.stringify(tt)+":"+rt}).join(",")+"}"}throw new Error("unknown value type: "+typeof et)}let nextRid=1;function stall(et){let _e=null,tt=null,rt=new Promise(at=>{_e=function(){tt&&(clearTimeout(tt),tt=null),at()},tt=setTimeout(_e,et)});const nt=at=>(rt=rt.then(at),rt);function it(){return rt}return{cancel:_e,getPromise:it,wait:nt}}const ForwardErrors=[Logger.errors.CALL_EXCEPTION,Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED,Logger.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(et,_e){const tt={weight:et.weight};return Object.defineProperty(tt,"provider",{get:()=>et.provider}),et.start&&(tt.start=et.start),_e&&(tt.duration=_e-et.start),et.done&&(et.error?tt.error=et.error:tt.result=et.result||null),tt}function normalizedTally(et,_e){return function(tt){const rt={};tt.forEach(it=>{const at=et(it.result);rt[at]||(rt[at]={count:0,result:it.result}),rt[at].count++});const nt=Object.keys(rt);for(let it=0;it<nt.length;it++){const at=rt[nt[it]];if(at.count>=_e)return at.result}}}function getProcessFunc(et,_e,tt){let rt=serialize$2;switch(_e){case"getBlockNumber":return function(nt){const it=nt.map(st=>st.result);let at=median(nt.map(st=>st.result),2);if(at!=null)return at=Math.ceil(at),it.indexOf(at+1)>=0&&at++,at>=et._highestBlockNumber&&(et._highestBlockNumber=at),et._highestBlockNumber};case"getGasPrice":return function(nt){const it=nt.map(at=>at.result);return it.sort(),it[Math.floor(it.length/2)]};case"getEtherPrice":return function(nt){return median(nt.map(it=>it.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":rt=function(nt){return nt==null?null:(nt=shallowCopy(nt),nt.confirmations=-1,serialize$2(nt))};break;case"getBlock":tt.includeTransactions?rt=function(nt){return nt==null?null:(nt=shallowCopy(nt),nt.transactions=nt.transactions.map(it=>(it=shallowCopy(it),it.confirmations=-1,it)),serialize$2(nt))}:rt=function(nt){return nt==null?null:serialize$2(nt)};break;default:throw new Error("unknown method: "+_e)}return normalizedTally(rt,et.quorum)}function waitForSync(et,_e){return __awaiter$1(this,void 0,void 0,function*(){const tt=et.provider;return tt.blockNumber!=null&&tt.blockNumber>=_e||_e===-1?tt:poll(()=>new Promise((rt,nt)=>{setTimeout(function(){return tt.blockNumber>=_e?rt(tt):et.cancelled?rt(null):rt(void 0)},0)}),{oncePoll:tt})})}function getRunner(et,_e,tt,rt){return __awaiter$1(this,void 0,void 0,function*(){let nt=et.provider;switch(tt){case"getBlockNumber":case"getGasPrice":return nt[tt]();case"getEtherPrice":if(nt.getEtherPrice)return nt.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt[tt](rt.address,rt.blockTag||"latest");case"getStorageAt":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt.getStorageAt(rt.address,rt.position,rt.blockTag||"latest");case"getBlock":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt[rt.includeTransactions?"getBlockWithTransactions":"getBlock"](rt.blockTag||rt.blockHash);case"call":case"estimateGas":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),tt==="call"&&rt.blockTag?nt[tt](rt.transaction,rt.blockTag):nt[tt](rt.transaction);case"getTransaction":case"getTransactionReceipt":return nt[tt](rt.transactionHash);case"getLogs":{let it=rt.filter;return(it.fromBlock&&isHexString$4(it.fromBlock)||it.toBlock&&isHexString$4(it.toBlock))&&(nt=yield waitForSync(et,_e)),nt.getLogs(it)}}return logger$7.throwError("unknown method error",Logger.errors.UNKNOWN_ERROR,{method:tt,params:rt})})}class FallbackProvider extends BaseProvider{constructor(_e,tt){_e.length===0&&logger$7.throwArgumentError("missing providers","providers",_e);const rt=_e.map((at,st)=>{if(Provider$1.isProvider(at)){const lt=isCommunityResource(at)?2e3:750;return Object.freeze({provider:at,weight:1,stallTimeout:lt,priority:1})}const ot=shallowCopy(at);ot.priority==null&&(ot.priority=1),ot.stallTimeout==null&&(ot.stallTimeout=isCommunityResource(at)?2e3:750),ot.weight==null&&(ot.weight=1);const ct=ot.weight;return(ct%1||ct>512||ct<1)&&logger$7.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${st}].weight`,ct),Object.freeze(ot)}),nt=rt.reduce((at,st)=>at+st.weight,0);tt==null?tt=nt/2:tt>nt&&logger$7.throwArgumentError("quorum will always fail; larger than total weight","quorum",tt);let it=checkNetworks(rt.map(at=>at.provider.network));it==null&&(it=new Promise((at,st)=>{setTimeout(()=>{this.detectNetwork().then(at,st)},0)})),super(it),defineReadOnly(this,"providerConfigs",Object.freeze(rt)),defineReadOnly(this,"quorum",tt),this._highestBlockNumber=-1}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){const _e=yield Promise.all(this.providerConfigs.map(tt=>tt.provider.getNetwork()));return checkNetworks(_e)})}perform(_e,tt){return __awaiter$1(this,void 0,void 0,function*(){if(_e==="sendTransaction"){const ot=yield Promise.all(this.providerConfigs.map(ct=>ct.provider.sendTransaction(tt.signedTransaction).then(lt=>lt.hash,lt=>lt)));for(let ct=0;ct<ot.length;ct++){const lt=ot[ct];if(typeof lt=="string")return lt}throw ot[0]}this._highestBlockNumber===-1&&_e!=="getBlockNumber"&&(yield this.getBlockNumber());const rt=getProcessFunc(this,_e,tt),nt=shuffled(this.providerConfigs.map(shallowCopy));nt.sort((ot,ct)=>ot.priority-ct.priority);const it=this._highestBlockNumber;let at=0,st=!0;for(;;){const ot=now();let ct=nt.filter(mt=>mt.runner&&ot-mt.start<mt.stallTimeout).reduce((mt,gt)=>mt+gt.weight,0);for(;ct<this.quorum&&at<nt.length;){const mt=nt[at++],gt=nextRid++;mt.start=now(),mt.staller=stall(mt.stallTimeout),mt.staller.wait(()=>{mt.staller=null}),mt.runner=getRunner(mt,it,_e,tt).then(bt=>{mt.done=!0,mt.result=bt,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:gt,backend:exposeDebugConfig(mt,now()),request:{method:_e,params:deepCopy(tt)},provider:this})},bt=>{mt.done=!0,mt.error=bt,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:gt,backend:exposeDebugConfig(mt,now()),request:{method:_e,params:deepCopy(tt)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:gt,backend:exposeDebugConfig(mt,null),request:{method:_e,params:deepCopy(tt)},provider:this}),ct+=mt.weight}const lt=[];nt.forEach(mt=>{mt.done||!mt.runner||(lt.push(mt.runner),mt.staller&&lt.push(mt.staller.getPromise()))}),lt.length&&(yield Promise.race(lt));const ut=nt.filter(mt=>mt.done&&mt.error==null);if(ut.length>=this.quorum){const mt=rt(ut);if(mt!==void 0)return nt.forEach(gt=>{gt.staller&&gt.staller.cancel(),gt.cancelled=!0}),mt;st||(yield stall(100).getPromise()),st=!1}const dt=nt.reduce((mt,gt)=>{if(!gt.done||gt.error==null)return mt;const bt=gt.error.code;return ForwardErrors.indexOf(bt)>=0&&(mt[bt]||(mt[bt]={error:gt.error,weight:0}),mt[bt].weight+=gt.weight),mt},{});if(Object.keys(dt).forEach(mt=>{const gt=dt[mt];if(gt.weight<this.quorum)return;nt.forEach(yt=>{yt.staller&&yt.staller.cancel(),yt.cancelled=!0});const bt=gt.error,ht={};ForwardProperties.forEach(yt=>{bt[yt]!=null&&(ht[yt]=bt[yt])}),logger$7.throwError(bt.reason||bt.message,mt,ht)}),nt.filter(mt=>!mt.done).length===0)break}return nt.forEach(ot=>{ot.staller&&ot.staller.cancel(),ot.cancelled=!0}),logger$7.throwError("failed to meet quorum",Logger.errors.SERVER_ERROR,{method:_e,params:tt,results:nt.map(ot=>exposeDebugConfig(ot)),provider:this})})}}const IpcProvider=null,logger$6=new Logger(version$7),defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(_e,tt){const rt=new InfuraProvider(_e,tt),nt=rt.connection;nt.password&&logger$6.throwError("INFURA WebSocket project secrets unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const it=nt.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(it,_e),defineReadOnly(this,"apiKey",rt.projectId),defineReadOnly(this,"projectId",rt.projectId),defineReadOnly(this,"projectSecret",rt.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(_e,tt){return new InfuraWebSocketProvider(_e,tt)}static getApiKey(_e){const tt={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return _e==null||(typeof _e=="string"?tt.projectId=_e:_e.projectSecret!=null?(logger$6.assertArgument(typeof _e.projectId=="string","projectSecret requires a projectId","projectId",_e.projectId),logger$6.assertArgument(typeof _e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),tt.projectId=_e.projectId,tt.projectSecret=_e.projectSecret):_e.projectId&&(tt.projectId=_e.projectId),tt.apiKey=tt.projectId),tt}static getUrl(_e,tt){let rt=null;switch(_e?_e.name:"unknown"){case"homestead":rt="mainnet.infura.io";break;case"goerli":rt="goerli.infura.io";break;case"sepolia":rt="sepolia.infura.io";break;case"matic":rt="polygon-mainnet.infura.io";break;case"maticmum":rt="polygon-mumbai.infura.io";break;case"optimism":rt="optimism-mainnet.infura.io";break;case"optimism-goerli":rt="optimism-goerli.infura.io";break;case"arbitrum":rt="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":rt="arbitrum-goerli.infura.io";break;default:logger$6.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:_e})}const nt={allowGzip:!0,url:"https://"+rt+"/v3/"+tt.projectId,throttleCallback:(it,at)=>(tt.projectId===defaultProjectId&&showThrottleMessage(),Promise.resolve(!0))};return tt.projectSecret!=null&&(nt.user="",nt.password=tt.projectSecret),nt}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends JsonRpcProvider$1{send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const nt={request:rt,resolve:null,reject:null},it=new Promise((at,st)=>{nt.resolve=at,nt.reject=st});return this._pendingBatch.push(nt),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const at=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const st=at.map(ot=>ot.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(st),provider:this}),fetchJson(this.connection,JSON.stringify(st)).then(ot=>{this.emit("debug",{action:"response",request:st,response:ot,provider:this}),at.forEach((ct,lt)=>{const ut=ot[lt];if(ut.error){const dt=new Error(ut.error.message);dt.code=ut.error.code,dt.data=ut.error.data,ct.reject(dt)}else ct.resolve(ut.result)})},ot=>{this.emit("debug",{action:"response",error:ot,request:st,provider:this}),at.forEach(ct=>{ct.reject(ot)})})},10)),it}}const logger$5=new Logger(version$7),defaultApiKey="ETHERS_JS_SHARED";class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(_e){return _e&&typeof _e!="string"&&logger$5.throwArgumentError("invalid apiKey","apiKey",_e),_e||defaultApiKey}static getUrl(_e,tt){logger$5.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let rt=null;switch(_e.name){case"homestead":rt="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":rt="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":rt="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":rt="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":rt="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$5.throwArgumentError("unsupported network","network",arguments[0])}return rt+"?apiKey="+tt}}const logger$4=new Logger(version$7),defaultApplicationId="62e1ad51b37b8e00394bda3b";class PocketProvider extends UrlJsonRpcProvider{static getApiKey(_e){const tt={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return _e==null?tt.applicationId=defaultApplicationId:typeof _e=="string"?tt.applicationId=_e:_e.applicationSecretKey!=null?(tt.applicationId=_e.applicationId,tt.applicationSecretKey=_e.applicationSecretKey):_e.applicationId?tt.applicationId=_e.applicationId:logger$4.throwArgumentError("unsupported PocketProvider apiKey","apiKey",_e),tt}static getUrl(_e,tt){let rt=null;switch(_e?_e.name:"unknown"){case"goerli":rt="eth-goerli.gateway.pokt.network";break;case"homestead":rt="eth-mainnet.gateway.pokt.network";break;case"kovan":rt="poa-kovan.gateway.pokt.network";break;case"matic":rt="poly-mainnet.gateway.pokt.network";break;case"maticmum":rt="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":rt="eth-rinkeby.gateway.pokt.network";break;case"ropsten":rt="eth-ropsten.gateway.pokt.network";break;default:logger$4.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:_e})}const nt=`https://${rt}/v1/lb/${tt.applicationId}`,it={headers:{},url:nt};return tt.applicationSecretKey!=null&&(it.user="",it.password=tt.applicationSecretKey),it}isCommunityResource(){return this.applicationId===defaultApplicationId}}const logger$3=new Logger(version$7);let _nextId=1;function buildWeb3LegacyFetcher(et,_e){const tt="Web3LegacyFetcher";return function(rt,nt){const it={method:rt,params:nt,id:_nextId++,jsonrpc:"2.0"};return new Promise((at,st)=>{this.emit("debug",{action:"request",fetcher:tt,request:deepCopy(it),provider:this}),_e(it,(ot,ct)=>{if(ot)return this.emit("debug",{action:"response",fetcher:tt,error:ot,request:it,provider:this}),st(ot);if(this.emit("debug",{action:"response",fetcher:tt,request:it,response:ct,provider:this}),ct.error){const lt=new Error(ct.error.message);return lt.code=ct.error.code,lt.data=ct.error.data,st(lt)}at(ct.result)})})}}function buildEip1193Fetcher(et){return function(_e,tt){tt==null&&(tt=[]);const rt={method:_e,params:tt};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(rt),provider:this}),et.request(rt).then(nt=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:rt,response:nt,provider:this}),nt),nt=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:rt,error:nt,provider:this}),nt})}}class Web3Provider extends JsonRpcProvider$1{constructor(_e,tt){_e==null&&logger$3.throwArgumentError("missing provider","provider",_e);let rt=null,nt=null,it=null;typeof _e=="function"?(rt="unknown:",nt=_e):(rt=_e.host||_e.path||"",!rt&&_e.isMetaMask&&(rt="metamask"),it=_e,_e.request?(rt===""&&(rt="eip-1193:"),nt=buildEip1193Fetcher(_e)):_e.sendAsync?nt=buildWeb3LegacyFetcher(_e,_e.sendAsync.bind(_e)):_e.send?nt=buildWeb3LegacyFetcher(_e,_e.send.bind(_e)):logger$3.throwArgumentError("unsupported provider","provider",_e),rt||(rt="unknown:")),super(rt,tt),defineReadOnly(this,"jsonRpcFetchFunc",nt),defineReadOnly(this,"provider",it)}send(_e,tt){return this.jsonRpcFetchFunc(_e,tt)}}const logger$2=new Logger(version$7);function getDefaultProvider(et,_e){if(et==null&&(et="homestead"),typeof et=="string"){const rt=et.match(/^(ws|http)s?:/i);if(rt)switch(rt[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider$1(et);case"ws":case"wss":return new WebSocketProvider(et);default:logger$2.throwArgumentError("unsupported URL scheme","network",et)}}const tt=getNetwork(et);return(!tt||!tt._defaultProvider)&&logger$2.throwError("unsupported getDefaultProvider network",Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:et}),tt._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider:JsonRpcProvider$1,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},_e)}const version$6="solidity/5.7.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$1=new Logger(version$6);function _pack(et,_e,tt){switch(et){case"address":return tt?zeroPad(_e,32):arrayify(_e);case"string":return toUtf8Bytes(_e);case"bytes":return arrayify(_e);case"bool":return _e=_e?"0x01":"0x00",tt?zeroPad(_e,32):arrayify(_e)}let rt=et.match(regexNumber);if(rt){let nt=parseInt(rt[2]||"256");return(rt[2]&&String(nt)!==rt[2]||nt%8!==0||nt===0||nt>256)&&logger$1.throwArgumentError("invalid number type","type",et),tt&&(nt=256),_e=BigNumber.from(_e).toTwos(nt),zeroPad(_e,nt/8)}if(rt=et.match(regexBytes),rt){const nt=parseInt(rt[1]);return(String(nt)!==rt[1]||nt===0||nt>32)&&logger$1.throwArgumentError("invalid bytes type","type",et),arrayify(_e).byteLength!==nt&&logger$1.throwArgumentError(`invalid value for ${et}`,"value",_e),tt?arrayify((_e+Zeros).substring(0,66)):_e}if(rt=et.match(regexArray),rt&&Array.isArray(_e)){const nt=rt[1];parseInt(rt[2]||String(_e.length))!=_e.length&&logger$1.throwArgumentError(`invalid array length for ${et}`,"value",_e);const at=[];return _e.forEach(function(st){at.push(_pack(nt,st,!0))}),concat$c(at)}return logger$1.throwArgumentError("invalid type","type",et)}function pack(et,_e){et.length!=_e.length&&logger$1.throwArgumentError("wrong number of values; expected ${ types.length }","values",_e);const tt=[];return et.forEach(function(rt,nt){tt.push(_pack(rt,_e[nt]))}),hexlify(concat$c(tt))}function keccak256(et,_e){return keccak256$1(pack(et,_e))}function sha256$3(et,_e){return sha256$4(pack(et,_e))}const lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,pack,keccak256,sha256:sha256$3},Symbol.toStringTag,{value:"Module"})),version$5="units/5.7.0",logger=new Logger(version$5),names$4=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(et){const _e=String(et).split(".");(_e.length>2||!_e[0].match(/^-?[0-9]*$/)||_e[1]&&!_e[1].match(/^[0-9]*$/)||et==="."||et==="-.")&&logger.throwArgumentError("invalid value","value",et);let tt=_e[0],rt="";for(tt.substring(0,1)==="-"&&(rt="-",tt=tt.substring(1));tt.substring(0,1)==="0";)tt=tt.substring(1);tt===""&&(tt="0");let nt="";for(_e.length===2&&(nt="."+(_e[1]||"0"));nt.length>2&&nt[nt.length-1]==="0";)nt=nt.substring(0,nt.length-1);const it=[];for(;tt.length;)if(tt.length<=3){it.unshift(tt);break}else{const at=tt.length-3;it.unshift(tt.substring(at)),tt=tt.substring(0,at)}return rt+it.join(",")+nt}function formatUnits(et,_e){if(typeof _e=="string"){const tt=names$4.indexOf(_e);tt!==-1&&(_e=3*tt)}return formatFixed(et,_e!=null?_e:18)}function parseUnits(et,_e){if(typeof et!="string"&&logger.throwArgumentError("value must be a string","value",et),typeof _e=="string"){const tt=names$4.indexOf(_e);tt!==-1&&(_e=3*tt)}return parseFixed(et,_e!=null?_e:18)}function formatEther(et){return formatUnits(et,18)}function parseEther(et){return parseUnits(et,18)}const lib_esm=Object.freeze(Object.defineProperty({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther},Symbol.toStringTag,{value:"Module"})),version$4="ethers/5.7.2";new Logger(version$4);var util$b;(function(et){et.assertEqual=nt=>nt;function _e(nt){}et.assertIs=_e;function tt(nt){throw new Error}et.assertNever=tt,et.arrayToEnum=nt=>{const it={};for(const at of nt)it[at]=at;return it},et.getValidEnumValues=nt=>{const it=et.objectKeys(nt).filter(st=>typeof nt[nt[st]]!="number"),at={};for(const st of it)at[st]=nt[st];return et.objectValues(at)},et.objectValues=nt=>et.objectKeys(nt).map(function(it){return nt[it]}),et.objectKeys=typeof Object.keys=="function"?nt=>Object.keys(nt):nt=>{const it=[];for(const at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&it.push(at);return it},et.find=(nt,it)=>{for(const at of nt)if(it(at))return at},et.isInteger=typeof Number.isInteger=="function"?nt=>Number.isInteger(nt):nt=>typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt;function rt(nt,it=" | "){return nt.map(at=>typeof at=="string"?`'${at}'`:at).join(it)}et.joinValues=rt,et.jsonStringifyReplacer=(nt,it)=>typeof it=="bigint"?it.toString():it})(util$b||(util$b={}));var objectUtil;(function(et){et.mergeShapes=(_e,tt)=>({..._e,...tt})})(objectUtil||(objectUtil={}));const ZodParsedType=util$b.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=et=>{switch(typeof et){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(et)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(et)?ZodParsedType.array:et===null?ZodParsedType.null:et.then&&typeof et.then=="function"&&et.catch&&typeof et.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&et instanceof Map?ZodParsedType.map:typeof Set<"u"&&et instanceof Set?ZodParsedType.set:typeof Date<"u"&&et instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$b.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=et=>JSON.stringify(et,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(_e){super(),this.issues=[],this.addIssue=rt=>{this.issues=[...this.issues,rt]},this.addIssues=(rt=[])=>{this.issues=[...this.issues,...rt]};const tt=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,tt):this.__proto__=tt,this.name="ZodError",this.issues=_e}get errors(){return this.issues}format(_e){const tt=_e||function(it){return it.message},rt={_errors:[]},nt=it=>{for(const at of it.issues)if(at.code==="invalid_union")at.unionErrors.map(nt);else if(at.code==="invalid_return_type")nt(at.returnTypeError);else if(at.code==="invalid_arguments")nt(at.argumentsError);else if(at.path.length===0)rt._errors.push(tt(at));else{let st=rt,ot=0;for(;ot<at.path.length;){const ct=at.path[ot];ot===at.path.length-1?(st[ct]=st[ct]||{_errors:[]},st[ct]._errors.push(tt(at))):st[ct]=st[ct]||{_errors:[]},st=st[ct],ot++}}};return nt(this),rt}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$b.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(_e=tt=>tt.message){const tt={},rt=[];for(const nt of this.issues)nt.path.length>0?(tt[nt.path[0]]=tt[nt.path[0]]||[],tt[nt.path[0]].push(_e(nt))):rt.push(_e(nt));return{formErrors:rt,fieldErrors:tt}}get formErrors(){return this.flatten()}}ZodError.create=et=>new ZodError(et);const errorMap=(et,_e)=>{let tt;switch(et.code){case ZodIssueCode.invalid_type:et.received===ZodParsedType.undefined?tt="Required":tt=`Expected ${et.expected}, received ${et.received}`;break;case ZodIssueCode.invalid_literal:tt=`Invalid literal value, expected ${JSON.stringify(et.expected,util$b.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:tt=`Unrecognized key(s) in object: ${util$b.joinValues(et.keys,", ")}`;break;case ZodIssueCode.invalid_union:tt="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:tt=`Invalid discriminator value. Expected ${util$b.joinValues(et.options)}`;break;case ZodIssueCode.invalid_enum_value:tt=`Invalid enum value. Expected ${util$b.joinValues(et.options)}, received '${et.received}'`;break;case ZodIssueCode.invalid_arguments:tt="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:tt="Invalid function return type";break;case ZodIssueCode.invalid_date:tt="Invalid date";break;case ZodIssueCode.invalid_string:typeof et.validation=="object"?"includes"in et.validation?(tt=`Invalid input: must include "${et.validation.includes}"`,typeof et.validation.position=="number"&&(tt=`${tt} at one or more positions greater than or equal to ${et.validation.position}`)):"startsWith"in et.validation?tt=`Invalid input: must start with "${et.validation.startsWith}"`:"endsWith"in et.validation?tt=`Invalid input: must end with "${et.validation.endsWith}"`:util$b.assertNever(et.validation):et.validation!=="regex"?tt=`Invalid ${et.validation}`:tt="Invalid";break;case ZodIssueCode.too_small:et.type==="array"?tt=`Array must contain ${et.exact?"exactly":et.inclusive?"at least":"more than"} ${et.minimum} element(s)`:et.type==="string"?tt=`String must contain ${et.exact?"exactly":et.inclusive?"at least":"over"} ${et.minimum} character(s)`:et.type==="number"?tt=`Number must be ${et.exact?"exactly equal to ":et.inclusive?"greater than or equal to ":"greater than "}${et.minimum}`:et.type==="date"?tt=`Date must be ${et.exact?"exactly equal to ":et.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(et.minimum))}`:tt="Invalid input";break;case ZodIssueCode.too_big:et.type==="array"?tt=`Array must contain ${et.exact?"exactly":et.inclusive?"at most":"less than"} ${et.maximum} element(s)`:et.type==="string"?tt=`String must contain ${et.exact?"exactly":et.inclusive?"at most":"under"} ${et.maximum} character(s)`:et.type==="number"?tt=`Number must be ${et.exact?"exactly":et.inclusive?"less than or equal to":"less than"} ${et.maximum}`:et.type==="bigint"?tt=`BigInt must be ${et.exact?"exactly":et.inclusive?"less than or equal to":"less than"} ${et.maximum}`:et.type==="date"?tt=`Date must be ${et.exact?"exactly":et.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(et.maximum))}`:tt="Invalid input";break;case ZodIssueCode.custom:tt="Invalid input";break;case ZodIssueCode.invalid_intersection_types:tt="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:tt=`Number must be a multiple of ${et.multipleOf}`;break;case ZodIssueCode.not_finite:tt="Number must be finite";break;default:tt=_e.defaultError,util$b.assertNever(et)}return{message:tt}};let overrideErrorMap=errorMap;function setErrorMap(et){overrideErrorMap=et}function getErrorMap(){return overrideErrorMap}const makeIssue=et=>{const{data:_e,path:tt,errorMaps:rt,issueData:nt}=et,it=[...tt,...nt.path||[]],at={...nt,path:it};let st="";const ot=rt.filter(ct=>!!ct).slice().reverse();for(const ct of ot)st=ct(at,{data:_e,defaultError:st}).message;return{...nt,path:it,message:nt.message||st}},EMPTY_PATH=[];function addIssueToContext(et,_e){const tt=makeIssue({issueData:_e,data:et.data,path:et.path,errorMaps:[et.common.contextualErrorMap,et.schemaErrorMap,getErrorMap(),errorMap].filter(rt=>!!rt)});et.common.issues.push(tt)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(_e,tt){const rt=[];for(const nt of tt){if(nt.status==="aborted")return INVALID;nt.status==="dirty"&&_e.dirty(),rt.push(nt.value)}return{status:_e.value,value:rt}}static async mergeObjectAsync(_e,tt){const rt=[];for(const nt of tt)rt.push({key:await nt.key,value:await nt.value});return ParseStatus.mergeObjectSync(_e,rt)}static mergeObjectSync(_e,tt){const rt={};for(const nt of tt){const{key:it,value:at}=nt;if(it.status==="aborted"||at.status==="aborted")return INVALID;it.status==="dirty"&&_e.dirty(),at.status==="dirty"&&_e.dirty(),(typeof at.value<"u"||nt.alwaysSet)&&(rt[it.value]=at.value)}return{status:_e.value,value:rt}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=et=>({status:"dirty",value:et}),OK=et=>({status:"valid",value:et}),isAborted=et=>et.status==="aborted",isDirty=et=>et.status==="dirty",isValid=et=>et.status==="valid",isAsync=et=>typeof Promise<"u"&&et instanceof Promise;var errorUtil;(function(et){et.errToObj=_e=>typeof _e=="string"?{message:_e}:_e||{},et.toString=_e=>typeof _e=="string"?_e:_e==null?void 0:_e.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(_e,tt,rt,nt){this._cachedPath=[],this.parent=_e,this.data=tt,this._path=rt,this._key=nt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(et,_e)=>{if(isValid(_e))return{success:!0,data:_e.value};if(!et.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const tt=new ZodError(et.common.issues);return this._error=tt,this._error}}};function processCreateParams(et){if(!et)return{};const{errorMap:_e,invalid_type_error:tt,required_error:rt,description:nt}=et;if(_e&&(tt||rt))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return _e?{errorMap:_e,description:nt}:{errorMap:(at,st)=>at.code!=="invalid_type"?{message:st.defaultError}:typeof st.data>"u"?{message:rt!=null?rt:st.defaultError}:{message:tt!=null?tt:st.defaultError},description:nt}}class ZodType{constructor(_e){this.spa=this.safeParseAsync,this._def=_e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(_e){return getParsedType(_e.data)}_getOrReturnCtx(_e,tt){return tt||{common:_e.parent.common,data:_e.data,parsedType:getParsedType(_e.data),schemaErrorMap:this._def.errorMap,path:_e.path,parent:_e.parent}}_processInputParams(_e){return{status:new ParseStatus,ctx:{common:_e.parent.common,data:_e.data,parsedType:getParsedType(_e.data),schemaErrorMap:this._def.errorMap,path:_e.path,parent:_e.parent}}}_parseSync(_e){const tt=this._parse(_e);if(isAsync(tt))throw new Error("Synchronous parse encountered promise.");return tt}_parseAsync(_e){const tt=this._parse(_e);return Promise.resolve(tt)}parse(_e,tt){const rt=this.safeParse(_e,tt);if(rt.success)return rt.data;throw rt.error}safeParse(_e,tt){var rt;const nt={common:{issues:[],async:(rt=tt==null?void 0:tt.async)!==null&&rt!==void 0?rt:!1,contextualErrorMap:tt==null?void 0:tt.errorMap},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_e,parsedType:getParsedType(_e)},it=this._parseSync({data:_e,path:nt.path,parent:nt});return handleResult(nt,it)}async parseAsync(_e,tt){const rt=await this.safeParseAsync(_e,tt);if(rt.success)return rt.data;throw rt.error}async safeParseAsync(_e,tt){const rt={common:{issues:[],contextualErrorMap:tt==null?void 0:tt.errorMap,async:!0},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_e,parsedType:getParsedType(_e)},nt=this._parse({data:_e,path:rt.path,parent:rt}),it=await(isAsync(nt)?nt:Promise.resolve(nt));return handleResult(rt,it)}refine(_e,tt){const rt=nt=>typeof tt=="string"||typeof tt>"u"?{message:tt}:typeof tt=="function"?tt(nt):tt;return this._refinement((nt,it)=>{const at=_e(nt),st=()=>it.addIssue({code:ZodIssueCode.custom,...rt(nt)});return typeof Promise<"u"&&at instanceof Promise?at.then(ot=>ot?!0:(st(),!1)):at?!0:(st(),!1)})}refinement(_e,tt){return this._refinement((rt,nt)=>_e(rt)?!0:(nt.addIssue(typeof tt=="function"?tt(rt,nt):tt),!1))}_refinement(_e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:_e}})}superRefine(_e){return this._refinement(_e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(_e){return ZodUnion.create([this,_e],this._def)}and(_e){return ZodIntersection.create(this,_e,this._def)}transform(_e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:_e}})}default(_e){const tt=typeof _e=="function"?_e:()=>_e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:tt,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(_e){const tt=typeof _e=="function"?_e:()=>_e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:tt,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(_e){const tt=this.constructor;return new tt({...this._def,description:_e})}pipe(_e){return ZodPipeline.create(this,_e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=et=>et.precision?et.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${et.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${et.precision}}Z$`):et.precision===0?et.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):et.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(et,_e){return!!((_e==="v4"||!_e)&&ipv4Regex.test(et)||(_e==="v6"||!_e)&&ipv6Regex.test(et))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(_e,tt,rt)=>this.refinement(nt=>_e.test(nt),{validation:tt,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(rt)}),this.nonempty=_e=>this.min(1,errorUtil.errToObj(_e)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(_e){if(this._def.coerce&&(_e.data=String(_e.data)),this._getType(_e)!==ZodParsedType.string){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:it.parsedType}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)if(it.kind==="min")_e.data.length<it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="max")_e.data.length>it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="length"){const at=_e.data.length>it.value,st=_e.data.length<it.value;(at||st)&&(nt=this._getOrReturnCtx(_e,nt),at?addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}):st&&addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}),rt.dirty())}else if(it.kind==="email")emailRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"email",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="emoji")emojiRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"emoji",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="uuid")uuidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid")cuidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid2")cuid2Regex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="ulid")ulidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"ulid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="url")try{new URL(_e.data)}catch{nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"url",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()}else it.kind==="regex"?(it.regex.lastIndex=0,it.regex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"regex",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty())):it.kind==="trim"?_e.data=_e.data.trim():it.kind==="includes"?_e.data.includes(it.value,it.position)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{includes:it.value,position:it.position},message:it.message}),rt.dirty()):it.kind==="toLowerCase"?_e.data=_e.data.toLowerCase():it.kind==="toUpperCase"?_e.data=_e.data.toUpperCase():it.kind==="startsWith"?_e.data.startsWith(it.value)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{startsWith:it.value},message:it.message}),rt.dirty()):it.kind==="endsWith"?_e.data.endsWith(it.value)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{endsWith:it.value},message:it.message}),rt.dirty()):it.kind==="datetime"?datetimeRegex(it).test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:"datetime",message:it.message}),rt.dirty()):it.kind==="ip"?isValidIP(_e.data,it.version)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"ip",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()):util$b.assertNever(it);return{status:rt.value,value:_e.data}}_addCheck(_e){return new ZodString({...this._def,checks:[...this._def.checks,_e]})}email(_e){return this._addCheck({kind:"email",...errorUtil.errToObj(_e)})}url(_e){return this._addCheck({kind:"url",...errorUtil.errToObj(_e)})}emoji(_e){return this._addCheck({kind:"emoji",...errorUtil.errToObj(_e)})}uuid(_e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(_e)})}cuid(_e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(_e)})}cuid2(_e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(_e)})}ulid(_e){return this._addCheck({kind:"ulid",...errorUtil.errToObj(_e)})}ip(_e){return this._addCheck({kind:"ip",...errorUtil.errToObj(_e)})}datetime(_e){var tt;return typeof _e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:_e}):this._addCheck({kind:"datetime",precision:typeof(_e==null?void 0:_e.precision)>"u"?null:_e==null?void 0:_e.precision,offset:(tt=_e==null?void 0:_e.offset)!==null&&tt!==void 0?tt:!1,...errorUtil.errToObj(_e==null?void 0:_e.message)})}regex(_e,tt){return this._addCheck({kind:"regex",regex:_e,...errorUtil.errToObj(tt)})}includes(_e,tt){return this._addCheck({kind:"includes",value:_e,position:tt==null?void 0:tt.position,...errorUtil.errToObj(tt==null?void 0:tt.message)})}startsWith(_e,tt){return this._addCheck({kind:"startsWith",value:_e,...errorUtil.errToObj(tt)})}endsWith(_e,tt){return this._addCheck({kind:"endsWith",value:_e,...errorUtil.errToObj(tt)})}min(_e,tt){return this._addCheck({kind:"min",value:_e,...errorUtil.errToObj(tt)})}max(_e,tt){return this._addCheck({kind:"max",value:_e,...errorUtil.errToObj(tt)})}length(_e,tt){return this._addCheck({kind:"length",value:_e,...errorUtil.errToObj(tt)})}get isDatetime(){return!!this._def.checks.find(_e=>_e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(_e=>_e.kind==="email")}get isURL(){return!!this._def.checks.find(_e=>_e.kind==="url")}get isEmoji(){return!!this._def.checks.find(_e=>_e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(_e=>_e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(_e=>_e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(_e=>_e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(_e=>_e.kind==="ulid")}get isIP(){return!!this._def.checks.find(_e=>_e.kind==="ip")}get minLength(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxLength(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}}ZodString.create=et=>{var _e;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(_e=et==null?void 0:et.coerce)!==null&&_e!==void 0?_e:!1,...processCreateParams(et)})};function floatSafeRemainder(et,_e){const tt=(et.toString().split(".")[1]||"").length,rt=(_e.toString().split(".")[1]||"").length,nt=tt>rt?tt:rt,it=parseInt(et.toFixed(nt).replace(".","")),at=parseInt(_e.toFixed(nt).replace(".",""));return it%at/Math.pow(10,nt)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(_e){if(this._def.coerce&&(_e.data=Number(_e.data)),this._getType(_e)!==ZodParsedType.number){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:it.parsedType}),INVALID}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="int"?util$b.isInteger(_e.data)||(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:it.message}),nt.dirty()):it.kind==="min"?(it.inclusive?_e.data<it.value:_e.data<=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?_e.data>it.value:_e.data>=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="multipleOf"?floatSafeRemainder(_e.data,it.value)!==0&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):it.kind==="finite"?Number.isFinite(_e.data)||(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_finite,message:it.message}),nt.dirty()):util$b.assertNever(it);return{status:nt.value,value:_e.data}}gte(_e,tt){return this.setLimit("min",_e,!0,errorUtil.toString(tt))}gt(_e,tt){return this.setLimit("min",_e,!1,errorUtil.toString(tt))}lte(_e,tt){return this.setLimit("max",_e,!0,errorUtil.toString(tt))}lt(_e,tt){return this.setLimit("max",_e,!1,errorUtil.toString(tt))}setLimit(_e,tt,rt,nt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:_e,value:tt,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(_e){return new ZodNumber({...this._def,checks:[...this._def.checks,_e]})}int(_e){return this._addCheck({kind:"int",message:errorUtil.toString(_e)})}positive(_e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(_e)})}negative(_e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(_e)})}nonpositive(_e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(_e)})}nonnegative(_e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(_e)})}multipleOf(_e,tt){return this._addCheck({kind:"multipleOf",value:_e,message:errorUtil.toString(tt)})}finite(_e){return this._addCheck({kind:"finite",message:errorUtil.toString(_e)})}safe(_e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(_e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(_e)})}get minValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}get isInt(){return!!this._def.checks.find(_e=>_e.kind==="int"||_e.kind==="multipleOf"&&util$b.isInteger(_e.value))}get isFinite(){let _e=null,tt=null;for(const rt of this._def.checks){if(rt.kind==="finite"||rt.kind==="int"||rt.kind==="multipleOf")return!0;rt.kind==="min"?(tt===null||rt.value>tt)&&(tt=rt.value):rt.kind==="max"&&(_e===null||rt.value<_e)&&(_e=rt.value)}return Number.isFinite(tt)&&Number.isFinite(_e)}}ZodNumber.create=et=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(et==null?void 0:et.coerce)||!1,...processCreateParams(et)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(_e){if(this._def.coerce&&(_e.data=BigInt(_e.data)),this._getType(_e)!==ZodParsedType.bigint){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:it.parsedType}),INVALID}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="min"?(it.inclusive?_e.data<it.value:_e.data<=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,type:"bigint",minimum:it.value,inclusive:it.inclusive,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?_e.data>it.value:_e.data>=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,type:"bigint",maximum:it.value,inclusive:it.inclusive,message:it.message}),nt.dirty()):it.kind==="multipleOf"?_e.data%it.value!==BigInt(0)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):util$b.assertNever(it);return{status:nt.value,value:_e.data}}gte(_e,tt){return this.setLimit("min",_e,!0,errorUtil.toString(tt))}gt(_e,tt){return this.setLimit("min",_e,!1,errorUtil.toString(tt))}lte(_e,tt){return this.setLimit("max",_e,!0,errorUtil.toString(tt))}lt(_e,tt){return this.setLimit("max",_e,!1,errorUtil.toString(tt))}setLimit(_e,tt,rt,nt){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:_e,value:tt,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(_e){return new ZodBigInt({...this._def,checks:[...this._def.checks,_e]})}positive(_e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(_e)})}negative(_e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(_e)})}nonpositive(_e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(_e)})}nonnegative(_e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(_e)})}multipleOf(_e,tt){return this._addCheck({kind:"multipleOf",value:_e,message:errorUtil.toString(tt)})}get minValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}}ZodBigInt.create=et=>{var _e;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(_e=et==null?void 0:et.coerce)!==null&&_e!==void 0?_e:!1,...processCreateParams(et)})};class ZodBoolean extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=Boolean(_e.data)),this._getType(_e)!==ZodParsedType.boolean){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodBoolean.create=et=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(et==null?void 0:et.coerce)||!1,...processCreateParams(et)});class ZodDate extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=new Date(_e.data)),this._getType(_e)!==ZodParsedType.date){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:it.parsedType}),INVALID}if(isNaN(_e.data.getTime())){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_date}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)it.kind==="min"?_e.data.getTime()<it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,message:it.message,inclusive:!0,exact:!1,minimum:it.value,type:"date"}),rt.dirty()):it.kind==="max"?_e.data.getTime()>it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,message:it.message,inclusive:!0,exact:!1,maximum:it.value,type:"date"}),rt.dirty()):util$b.assertNever(it);return{status:rt.value,value:new Date(_e.data.getTime())}}_addCheck(_e){return new ZodDate({...this._def,checks:[...this._def.checks,_e]})}min(_e,tt){return this._addCheck({kind:"min",value:_e.getTime(),message:errorUtil.toString(tt)})}max(_e,tt){return this._addCheck({kind:"max",value:_e.getTime(),message:errorUtil.toString(tt)})}get minDate(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e!=null?new Date(_e):null}get maxDate(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e!=null?new Date(_e):null}}ZodDate.create=et=>new ZodDate({checks:[],coerce:(et==null?void 0:et.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(et)});class ZodSymbol extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.symbol){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodSymbol.create=et=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(et)});class ZodUndefined extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodUndefined.create=et=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(et)});class ZodNull extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.null){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodNull.create=et=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(et)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(_e){return OK(_e.data)}}ZodAny.create=et=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(et)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(_e){return OK(_e.data)}}ZodUnknown.create=et=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(et)});class ZodNever extends ZodType{_parse(_e){const tt=this._getOrReturnCtx(_e);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:tt.parsedType}),INVALID}}ZodNever.create=et=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(et)});class ZodVoid extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodVoid.create=et=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(et)});class ZodArray extends ZodType{_parse(_e){const{ctx:tt,status:rt}=this._processInputParams(_e),nt=this._def;if(tt.parsedType!==ZodParsedType.array)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:tt.parsedType}),INVALID;if(nt.exactLength!==null){const at=tt.data.length>nt.exactLength.value,st=tt.data.length<nt.exactLength.value;(at||st)&&(addIssueToContext(tt,{code:at?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:st?nt.exactLength.value:void 0,maximum:at?nt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:nt.exactLength.message}),rt.dirty())}if(nt.minLength!==null&&tt.data.length<nt.minLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_small,minimum:nt.minLength.value,type:"array",inclusive:!0,exact:!1,message:nt.minLength.message}),rt.dirty()),nt.maxLength!==null&&tt.data.length>nt.maxLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_big,maximum:nt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:nt.maxLength.message}),rt.dirty()),tt.common.async)return Promise.all([...tt.data].map((at,st)=>nt.type._parseAsync(new ParseInputLazyPath(tt,at,tt.path,st)))).then(at=>ParseStatus.mergeArray(rt,at));const it=[...tt.data].map((at,st)=>nt.type._parseSync(new ParseInputLazyPath(tt,at,tt.path,st)));return ParseStatus.mergeArray(rt,it)}get element(){return this._def.type}min(_e,tt){return new ZodArray({...this._def,minLength:{value:_e,message:errorUtil.toString(tt)}})}max(_e,tt){return new ZodArray({...this._def,maxLength:{value:_e,message:errorUtil.toString(tt)}})}length(_e,tt){return new ZodArray({...this._def,exactLength:{value:_e,message:errorUtil.toString(tt)}})}nonempty(_e){return this.min(1,_e)}}ZodArray.create=(et,_e)=>new ZodArray({type:et,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(_e)});function deepPartialify(et){if(et instanceof ZodObject){const _e={};for(const tt in et.shape){const rt=et.shape[tt];_e[tt]=ZodOptional.create(deepPartialify(rt))}return new ZodObject({...et._def,shape:()=>_e})}else return et instanceof ZodArray?new ZodArray({...et._def,type:deepPartialify(et.element)}):et instanceof ZodOptional?ZodOptional.create(deepPartialify(et.unwrap())):et instanceof ZodNullable?ZodNullable.create(deepPartialify(et.unwrap())):et instanceof ZodTuple?ZodTuple.create(et.items.map(_e=>deepPartialify(_e))):et}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const _e=this._def.shape(),tt=util$b.objectKeys(_e);return this._cached={shape:_e,keys:tt}}_parse(_e){if(this._getType(_e)!==ZodParsedType.object){const ct=this._getOrReturnCtx(_e);return addIssueToContext(ct,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ct.parsedType}),INVALID}const{status:rt,ctx:nt}=this._processInputParams(_e),{shape:it,keys:at}=this._getCached(),st=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ct in nt.data)at.includes(ct)||st.push(ct);const ot=[];for(const ct of at){const lt=it[ct],ut=nt.data[ct];ot.push({key:{status:"valid",value:ct},value:lt._parse(new ParseInputLazyPath(nt,ut,nt.path,ct)),alwaysSet:ct in nt.data})}if(this._def.catchall instanceof ZodNever){const ct=this._def.unknownKeys;if(ct==="passthrough")for(const lt of st)ot.push({key:{status:"valid",value:lt},value:{status:"valid",value:nt.data[lt]}});else if(ct==="strict")st.length>0&&(addIssueToContext(nt,{code:ZodIssueCode.unrecognized_keys,keys:st}),rt.dirty());else if(ct!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ct=this._def.catchall;for(const lt of st){const ut=nt.data[lt];ot.push({key:{status:"valid",value:lt},value:ct._parse(new ParseInputLazyPath(nt,ut,nt.path,lt)),alwaysSet:lt in nt.data})}}return nt.common.async?Promise.resolve().then(async()=>{const ct=[];for(const lt of ot){const ut=await lt.key;ct.push({key:ut,value:await lt.value,alwaysSet:lt.alwaysSet})}return ct}).then(ct=>ParseStatus.mergeObjectSync(rt,ct)):ParseStatus.mergeObjectSync(rt,ot)}get shape(){return this._def.shape()}strict(_e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",..._e!==void 0?{errorMap:(tt,rt)=>{var nt,it,at,st;const ot=(at=(it=(nt=this._def).errorMap)===null||it===void 0?void 0:it.call(nt,tt,rt).message)!==null&&at!==void 0?at:rt.defaultError;return tt.code==="unrecognized_keys"?{message:(st=errorUtil.errToObj(_e).message)!==null&&st!==void 0?st:ot}:{message:ot}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(_e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),..._e})})}merge(_e){return new ZodObject({unknownKeys:_e._def.unknownKeys,catchall:_e._def.catchall,shape:()=>({...this._def.shape(),..._e._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(_e,tt){return this.augment({[_e]:tt})}catchall(_e){return new ZodObject({...this._def,catchall:_e})}pick(_e){const tt={};return util$b.objectKeys(_e).forEach(rt=>{_e[rt]&&this.shape[rt]&&(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}omit(_e){const tt={};return util$b.objectKeys(this.shape).forEach(rt=>{_e[rt]||(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}deepPartial(){return deepPartialify(this)}partial(_e){const tt={};return util$b.objectKeys(this.shape).forEach(rt=>{const nt=this.shape[rt];_e&&!_e[rt]?tt[rt]=nt:tt[rt]=nt.optional()}),new ZodObject({...this._def,shape:()=>tt})}required(_e){const tt={};return util$b.objectKeys(this.shape).forEach(rt=>{if(_e&&!_e[rt])tt[rt]=this.shape[rt];else{let it=this.shape[rt];for(;it instanceof ZodOptional;)it=it._def.innerType;tt[rt]=it}}),new ZodObject({...this._def,shape:()=>tt})}keyof(){return createZodEnum(util$b.objectKeys(this.shape))}}ZodObject.create=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.strictCreate=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.lazycreate=(et,_e)=>new ZodObject({shape:et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});class ZodUnion extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=this._def.options;function nt(it){for(const st of it)if(st.result.status==="valid")return st.result;for(const st of it)if(st.result.status==="dirty")return tt.common.issues.push(...st.ctx.common.issues),st.result;const at=it.map(st=>new ZodError(st.ctx.common.issues));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:at}),INVALID}if(tt.common.async)return Promise.all(rt.map(async it=>{const at={...tt,common:{...tt.common,issues:[]},parent:null};return{result:await it._parseAsync({data:tt.data,path:tt.path,parent:at}),ctx:at}})).then(nt);{let it;const at=[];for(const ot of rt){const ct={...tt,common:{...tt.common,issues:[]},parent:null},lt=ot._parseSync({data:tt.data,path:tt.path,parent:ct});if(lt.status==="valid")return lt;lt.status==="dirty"&&!it&&(it={result:lt,ctx:ct}),ct.common.issues.length&&at.push(ct.common.issues)}if(it)return tt.common.issues.push(...it.ctx.common.issues),it.result;const st=at.map(ot=>new ZodError(ot));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:st}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(et,_e)=>new ZodUnion({options:et,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(_e)});const getDiscriminator=et=>et instanceof ZodLazy?getDiscriminator(et.schema):et instanceof ZodEffects?getDiscriminator(et.innerType()):et instanceof ZodLiteral?[et.value]:et instanceof ZodEnum?et.options:et instanceof ZodNativeEnum?Object.keys(et.enum):et instanceof ZodDefault?getDiscriminator(et._def.innerType):et instanceof ZodUndefined?[void 0]:et instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.object)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:tt.parsedType}),INVALID;const rt=this.discriminator,nt=tt.data[rt],it=this.optionsMap.get(nt);return it?tt.common.async?it._parseAsync({data:tt.data,path:tt.path,parent:tt}):it._parseSync({data:tt.data,path:tt.path,parent:tt}):(addIssueToContext(tt,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[rt]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(_e,tt,rt){const nt=new Map;for(const it of tt){const at=getDiscriminator(it.shape[_e]);if(!at)throw new Error(`A discriminator value for key \`${_e}\` could not be extracted from all schema options`);for(const st of at){if(nt.has(st))throw new Error(`Discriminator property ${String(_e)} has duplicate value ${String(st)}`);nt.set(st,it)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:_e,options:tt,optionsMap:nt,...processCreateParams(rt)})}}function mergeValues(et,_e){const tt=getParsedType(et),rt=getParsedType(_e);if(et===_e)return{valid:!0,data:et};if(tt===ZodParsedType.object&&rt===ZodParsedType.object){const nt=util$b.objectKeys(_e),it=util$b.objectKeys(et).filter(st=>nt.indexOf(st)!==-1),at={...et,..._e};for(const st of it){const ot=mergeValues(et[st],_e[st]);if(!ot.valid)return{valid:!1};at[st]=ot.data}return{valid:!0,data:at}}else if(tt===ZodParsedType.array&&rt===ZodParsedType.array){if(et.length!==_e.length)return{valid:!1};const nt=[];for(let it=0;it<et.length;it++){const at=et[it],st=_e[it],ot=mergeValues(at,st);if(!ot.valid)return{valid:!1};nt.push(ot.data)}return{valid:!0,data:nt}}else return tt===ZodParsedType.date&&rt===ZodParsedType.date&&+et==+_e?{valid:!0,data:et}:{valid:!1}}class ZodIntersection extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e),nt=(it,at)=>{if(isAborted(it)||isAborted(at))return INVALID;const st=mergeValues(it.value,at.value);return st.valid?((isDirty(it)||isDirty(at))&&tt.dirty(),{status:tt.value,value:st.data}):(addIssueToContext(rt,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return rt.common.async?Promise.all([this._def.left._parseAsync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseAsync({data:rt.data,path:rt.path,parent:rt})]).then(([it,at])=>nt(it,at)):nt(this._def.left._parseSync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseSync({data:rt.data,path:rt.path,parent:rt}))}}ZodIntersection.create=(et,_e,tt)=>new ZodIntersection({left:et,right:_e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(tt)});class ZodTuple extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.array)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:rt.parsedType}),INVALID;if(rt.data.length<this._def.items.length)return addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&rt.data.length>this._def.items.length&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt.dirty());const it=[...rt.data].map((at,st)=>{const ot=this._def.items[st]||this._def.rest;return ot?ot._parse(new ParseInputLazyPath(rt,at,rt.path,st)):null}).filter(at=>!!at);return rt.common.async?Promise.all(it).then(at=>ParseStatus.mergeArray(tt,at)):ParseStatus.mergeArray(tt,it)}get items(){return this._def.items}rest(_e){return new ZodTuple({...this._def,rest:_e})}}ZodTuple.create=(et,_e)=>{if(!Array.isArray(et))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:et,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(_e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.object)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rt.parsedType}),INVALID;const nt=[],it=this._def.keyType,at=this._def.valueType;for(const st in rt.data)nt.push({key:it._parse(new ParseInputLazyPath(rt,st,rt.path,st)),value:at._parse(new ParseInputLazyPath(rt,rt.data[st],rt.path,st))});return rt.common.async?ParseStatus.mergeObjectAsync(tt,nt):ParseStatus.mergeObjectSync(tt,nt)}get element(){return this._def.valueType}static create(_e,tt,rt){return tt instanceof ZodType?new ZodRecord({keyType:_e,valueType:tt,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(rt)}):new ZodRecord({keyType:ZodString.create(),valueType:_e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(tt)})}}class ZodMap extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.map)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:rt.parsedType}),INVALID;const nt=this._def.keyType,it=this._def.valueType,at=[...rt.data.entries()].map(([st,ot],ct)=>({key:nt._parse(new ParseInputLazyPath(rt,st,rt.path,[ct,"key"])),value:it._parse(new ParseInputLazyPath(rt,ot,rt.path,[ct,"value"]))}));if(rt.common.async){const st=new Map;return Promise.resolve().then(async()=>{for(const ot of at){const ct=await ot.key,lt=await ot.value;if(ct.status==="aborted"||lt.status==="aborted")return INVALID;(ct.status==="dirty"||lt.status==="dirty")&&tt.dirty(),st.set(ct.value,lt.value)}return{status:tt.value,value:st}})}else{const st=new Map;for(const ot of at){const ct=ot.key,lt=ot.value;if(ct.status==="aborted"||lt.status==="aborted")return INVALID;(ct.status==="dirty"||lt.status==="dirty")&&tt.dirty(),st.set(ct.value,lt.value)}return{status:tt.value,value:st}}}}ZodMap.create=(et,_e,tt)=>new ZodMap({valueType:_e,keyType:et,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(tt)});class ZodSet extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.set)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:rt.parsedType}),INVALID;const nt=this._def;nt.minSize!==null&&rt.data.size<nt.minSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:nt.minSize.value,type:"set",inclusive:!0,exact:!1,message:nt.minSize.message}),tt.dirty()),nt.maxSize!==null&&rt.data.size>nt.maxSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:nt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:nt.maxSize.message}),tt.dirty());const it=this._def.valueType;function at(ot){const ct=new Set;for(const lt of ot){if(lt.status==="aborted")return INVALID;lt.status==="dirty"&&tt.dirty(),ct.add(lt.value)}return{status:tt.value,value:ct}}const st=[...rt.data.values()].map((ot,ct)=>it._parse(new ParseInputLazyPath(rt,ot,rt.path,ct)));return rt.common.async?Promise.all(st).then(ot=>at(ot)):at(st)}min(_e,tt){return new ZodSet({...this._def,minSize:{value:_e,message:errorUtil.toString(tt)}})}max(_e,tt){return new ZodSet({...this._def,maxSize:{value:_e,message:errorUtil.toString(tt)}})}size(_e,tt){return this.min(_e,tt).max(_e,tt)}nonempty(_e){return this.min(1,_e)}}ZodSet.create=(et,_e)=>new ZodSet({valueType:et,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(_e)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.function)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:tt.parsedType}),INVALID;function rt(st,ot){return makeIssue({data:st,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(ct=>!!ct),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ot}})}function nt(st,ot){return makeIssue({data:st,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(ct=>!!ct),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ot}})}const it={errorMap:tt.common.contextualErrorMap},at=tt.data;return this._def.returns instanceof ZodPromise?OK(async(...st)=>{const ot=new ZodError([]),ct=await this._def.args.parseAsync(st,it).catch(dt=>{throw ot.addIssue(rt(st,dt)),ot}),lt=await at(...ct);return await this._def.returns._def.type.parseAsync(lt,it).catch(dt=>{throw ot.addIssue(nt(lt,dt)),ot})}):OK((...st)=>{const ot=this._def.args.safeParse(st,it);if(!ot.success)throw new ZodError([rt(st,ot.error)]);const ct=at(...ot.data),lt=this._def.returns.safeParse(ct,it);if(!lt.success)throw new ZodError([nt(ct,lt.error)]);return lt.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(..._e){return new ZodFunction({...this._def,args:ZodTuple.create(_e).rest(ZodUnknown.create())})}returns(_e){return new ZodFunction({...this._def,returns:_e})}implement(_e){return this.parse(_e)}strictImplement(_e){return this.parse(_e)}static create(_e,tt,rt){return new ZodFunction({args:_e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:tt||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(rt)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(_e){const{ctx:tt}=this._processInputParams(_e);return this._def.getter()._parse({data:tt.data,path:tt.path,parent:tt})}}ZodLazy.create=(et,_e)=>new ZodLazy({getter:et,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(_e)});class ZodLiteral extends ZodType{_parse(_e){if(_e.data!==this._def.value){const tt=this._getOrReturnCtx(_e);return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:_e.data}}get value(){return this._def.value}}ZodLiteral.create=(et,_e)=>new ZodLiteral({value:et,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(_e)});function createZodEnum(et,_e){return new ZodEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(_e)})}class ZodEnum extends ZodType{_parse(_e){if(typeof _e.data!="string"){const tt=this._getOrReturnCtx(_e),rt=this._def.values;return addIssueToContext(tt,{expected:util$b.joinValues(rt),received:tt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(_e.data)===-1){const tt=this._getOrReturnCtx(_e),rt=this._def.values;return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_enum_value,options:rt}),INVALID}return OK(_e.data)}get options(){return this._def.values}get enum(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}get Values(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}get Enum(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}extract(_e){return ZodEnum.create(_e)}exclude(_e){return ZodEnum.create(this.options.filter(tt=>!_e.includes(tt)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(_e){const tt=util$b.getValidEnumValues(this._def.values),rt=this._getOrReturnCtx(_e);if(rt.parsedType!==ZodParsedType.string&&rt.parsedType!==ZodParsedType.number){const nt=util$b.objectValues(tt);return addIssueToContext(rt,{expected:util$b.joinValues(nt),received:rt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(tt.indexOf(_e.data)===-1){const nt=util$b.objectValues(tt);return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_enum_value,options:nt}),INVALID}return OK(_e.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(et,_e)=>new ZodNativeEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(_e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.promise&&tt.common.async===!1)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:tt.parsedType}),INVALID;const rt=tt.parsedType===ZodParsedType.promise?tt.data:Promise.resolve(tt.data);return OK(rt.then(nt=>this._def.type.parseAsync(nt,{path:tt.path,errorMap:tt.common.contextualErrorMap})))}}ZodPromise.create=(et,_e)=>new ZodPromise({type:et,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(_e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e),nt=this._def.effect||null;if(nt.type==="preprocess"){const at=nt.transform(rt.data);return rt.common.async?Promise.resolve(at).then(st=>this._def.schema._parseAsync({data:st,path:rt.path,parent:rt})):this._def.schema._parseSync({data:at,path:rt.path,parent:rt})}const it={addIssue:at=>{addIssueToContext(rt,at),at.fatal?tt.abort():tt.dirty()},get path(){return rt.path}};if(it.addIssue=it.addIssue.bind(it),nt.type==="refinement"){const at=st=>{const ot=nt.refinement(st,it);if(rt.common.async)return Promise.resolve(ot);if(ot instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return st};if(rt.common.async===!1){const st=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});return st.status==="aborted"?INVALID:(st.status==="dirty"&&tt.dirty(),at(st.value),{status:tt.value,value:st.value})}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(st=>st.status==="aborted"?INVALID:(st.status==="dirty"&&tt.dirty(),at(st.value).then(()=>({status:tt.value,value:st.value}))))}if(nt.type==="transform")if(rt.common.async===!1){const at=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});if(!isValid(at))return at;const st=nt.transform(at.value,it);if(st instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:tt.value,value:st}}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(at=>isValid(at)?Promise.resolve(nt.transform(at.value,it)).then(st=>({status:tt.value,value:st})):at);util$b.assertNever(nt)}}ZodEffects.create=(et,_e,tt)=>new ZodEffects({schema:et,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:_e,...processCreateParams(tt)});ZodEffects.createWithPreprocess=(et,_e,tt)=>new ZodEffects({schema:_e,effect:{type:"preprocess",transform:et},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(tt)});class ZodOptional extends ZodType{_parse(_e){return this._getType(_e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(_e)}unwrap(){return this._def.innerType}}ZodOptional.create=(et,_e)=>new ZodOptional({innerType:et,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_e)});class ZodNullable extends ZodType{_parse(_e){return this._getType(_e)===ZodParsedType.null?OK(null):this._def.innerType._parse(_e)}unwrap(){return this._def.innerType}}ZodNullable.create=(et,_e)=>new ZodNullable({innerType:et,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(_e)});class ZodDefault extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e);let rt=tt.data;return tt.parsedType===ZodParsedType.undefined&&(rt=this._def.defaultValue()),this._def.innerType._parse({data:rt,path:tt.path,parent:tt})}removeDefault(){return this._def.innerType}}ZodDefault.create=(et,_e)=>new ZodDefault({innerType:et,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof _e.default=="function"?_e.default:()=>_e.default,...processCreateParams(_e)});class ZodCatch extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt={...tt,common:{...tt.common,issues:[]}},nt=this._def.innerType._parse({data:rt.data,path:rt.path,parent:{...rt}});return isAsync(nt)?nt.then(it=>({status:"valid",value:it.status==="valid"?it.value:this._def.catchValue({get error(){return new ZodError(rt.common.issues)},input:rt.data})})):{status:"valid",value:nt.status==="valid"?nt.value:this._def.catchValue({get error(){return new ZodError(rt.common.issues)},input:rt.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(et,_e)=>new ZodCatch({innerType:et,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof _e.catch=="function"?_e.catch:()=>_e.catch,...processCreateParams(_e)});class ZodNaN extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.nan){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:rt.parsedType}),INVALID}return{status:"valid",value:_e.data}}}ZodNaN.create=et=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(et)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=tt.data;return this._def.type._parse({data:rt,path:tt.path,parent:tt})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.common.async)return(async()=>{const it=await this._def.in._parseAsync({data:rt.data,path:rt.path,parent:rt});return it.status==="aborted"?INVALID:it.status==="dirty"?(tt.dirty(),DIRTY(it.value)):this._def.out._parseAsync({data:it.value,path:rt.path,parent:rt})})();{const nt=this._def.in._parseSync({data:rt.data,path:rt.path,parent:rt});return nt.status==="aborted"?INVALID:nt.status==="dirty"?(tt.dirty(),{status:"dirty",value:nt.value}):this._def.out._parseSync({data:nt.value,path:rt.path,parent:rt})}}static create(_e,tt){return new ZodPipeline({in:_e,out:tt,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom=(et,_e={},tt)=>et?ZodAny.create().superRefine((rt,nt)=>{var it,at;if(!et(rt)){const st=typeof _e=="function"?_e(rt):typeof _e=="string"?{message:_e}:_e,ot=(at=(it=st.fatal)!==null&&it!==void 0?it:tt)!==null&&at!==void 0?at:!0,ct=typeof st=="string"?{message:st}:st;nt.addIssue({code:"custom",...ct,fatal:ot})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(et){et.ZodString="ZodString",et.ZodNumber="ZodNumber",et.ZodNaN="ZodNaN",et.ZodBigInt="ZodBigInt",et.ZodBoolean="ZodBoolean",et.ZodDate="ZodDate",et.ZodSymbol="ZodSymbol",et.ZodUndefined="ZodUndefined",et.ZodNull="ZodNull",et.ZodAny="ZodAny",et.ZodUnknown="ZodUnknown",et.ZodNever="ZodNever",et.ZodVoid="ZodVoid",et.ZodArray="ZodArray",et.ZodObject="ZodObject",et.ZodUnion="ZodUnion",et.ZodDiscriminatedUnion="ZodDiscriminatedUnion",et.ZodIntersection="ZodIntersection",et.ZodTuple="ZodTuple",et.ZodRecord="ZodRecord",et.ZodMap="ZodMap",et.ZodSet="ZodSet",et.ZodFunction="ZodFunction",et.ZodLazy="ZodLazy",et.ZodLiteral="ZodLiteral",et.ZodEnum="ZodEnum",et.ZodEffects="ZodEffects",et.ZodNativeEnum="ZodNativeEnum",et.ZodOptional="ZodOptional",et.ZodNullable="ZodNullable",et.ZodDefault="ZodDefault",et.ZodCatch="ZodCatch",et.ZodPromise="ZodPromise",et.ZodBranded="ZodBranded",et.ZodPipeline="ZodPipeline"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(et,_e={message:`Input not instance of ${et.name}`})=>custom(tt=>tt instanceof et,_e),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$1={string:et=>ZodString.create({...et,coerce:!0}),number:et=>ZodNumber.create({...et,coerce:!0}),boolean:et=>ZodBoolean.create({...et,coerce:!0}),bigint:et=>ZodBigInt.create({...et,coerce:!0}),date:et=>ZodDate.create({...et,coerce:!0})},NEVER$1=INVALID;var z$6=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$b},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$1,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER$1,ZodIssueCode,quotelessJson,ZodError});const DEFAULT_API_KEY$3="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1",isBrowser$5=()=>typeof window<"u",FileOrBufferUnionSchema=isBrowser$5()?z$6.instanceof(File):z$6.instanceof(Buffer),FileOrBufferSchema=z$6.union([FileOrBufferUnionSchema,z$6.object({data:z$6.union([FileOrBufferUnionSchema,z$6.string()]),name:z$6.string()})]),FileOrBufferOrStringSchema=z$6.union([FileOrBufferSchema,z$6.string()]),MAX_BPS=1e4,BytesLikeSchema=z$6.union([z$6.array(z$6.number()),z$6.string()]),BigNumberSchema$1=z$6.union([z$6.string(),z$6.number(),z$6.bigint(),z$6.custom(et=>BigNumber.isBigNumber(et)),z$6.custom(et=>BN$4.isBN(et))]).transform(et=>{let _e=BN$4.isBN(et)?new BN$4(et).toString():BigNumber.from(et).toString();return BigNumber.from(_e)});BigNumberSchema$1.transform(et=>et.toString());const BigNumberTransformSchema$1=z$6.union([z$6.bigint(),z$6.custom(et=>BigNumber.isBigNumber(et)),z$6.custom(et=>BN$4.isBN(et))]).transform(et=>BN$4.isBN(et)?new BN$4(et).toString():BigNumber.from(et).toString()),BasisPointsSchema=z$6.number().max(MAX_BPS,"Cannot exceed 100%").min(0,"Cannot be below 0%"),PercentSchema=z$6.number().max(100,"Cannot exceed 100%").min(0,"Cannot be below 0%"),HexColor=z$6.union([z$6.string().regex(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color"),z$6.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color").transform(et=>et.replace("#","")),z$6.string().length(0)]),AmountSchema=z$6.union([z$6.string().regex(/^([0-9]+\.?[0-9]*|\.[0-9]+)$/,"Invalid amount"),z$6.number().min(0,"Amount cannot be negative")]).transform(et=>typeof et=="number"?et.toString():et),QuantitySchema=z$6.union([AmountSchema,z$6.literal("unlimited")]).default("unlimited"),RawDateSchema$2=z$6.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3)));RawDateSchema$2.default(new Date(0));RawDateSchema$2.default(new Date(Date.now()+1e3*60*60*24*365*10));function _toPrimitive$2(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey$2(et){var _e=_toPrimitive$2(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$3(et,_e,tt){return _e=_toPropertyKey$2(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}const PropertiesInput$1=z$6.object({}).catchall(z$6.union([BigNumberTransformSchema$1,z$6.unknown()])),OptionalPropertiesInput=z$6.union([z$6.array(PropertiesInput$1),PropertiesInput$1]).optional().nullable(),CommonNFTInput=z$6.object({name:z$6.union([z$6.string(),z$6.number()]).optional().nullable(),description:z$6.string().nullable().optional().nullable(),image:FileOrBufferOrStringSchema.nullable().optional(),external_url:FileOrBufferOrStringSchema.nullable().optional(),animation_url:FileOrBufferOrStringSchema.optional().nullable(),background_color:HexColor.optional().nullable(),properties:OptionalPropertiesInput,attributes:OptionalPropertiesInput}).catchall(z$6.union([BigNumberTransformSchema$1,z$6.unknown()])),NFTInputOrUriSchema=z$6.union([CommonNFTInput,z$6.string()]),CommonNFTOutput=CommonNFTInput.extend({id:z$6.string(),uri:z$6.string(),image:z$6.string().nullable().optional(),external_url:z$6.string().nullable().optional(),animation_url:z$6.string().nullable().optional()}),DEFAULT_QUERY_ALL_COUNT=100;z$6.object({start:z$6.number().default(0),count:z$6.number().default(DEFAULT_QUERY_ALL_COUNT)}).default({start:0,count:DEFAULT_QUERY_ALL_COUNT});const ERC165Abi=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Erc721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"_value",type:"string"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"}],ERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IThirdwebContractABI=[{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IBurnableERC20Abi=[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],IDrop=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC20_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhaseV1=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IERC20PermitAbi=[{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"}],IMintableERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],MulticallAbi=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC20.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IBurnableERC721Abi=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC721=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],DelayedRevealAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],DropERC721_V3Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"NFTRevealed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc721EnumerableAbi=[{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Erc721SupplyAbi=[{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ILazyMintAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IMintableERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"mintTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],SignatureMintERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC721.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],SignatureMintERC721_V1Abi=[{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"uint256",name:"tokenIdMinted",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],TieredDropAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"tier",type:"string"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[],name:"getBaseURICount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getBatchIdAtIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMetadataForAllTiers",outputs:[{components:[{internalType:"string",name:"tier",type:"string"},{components:[{internalType:"uint256",name:"startIdInclusive",type:"uint256"},{internalType:"uint256",name:"endIdNonInclusive",type:"uint256"}],internalType:"struct LazyMintWithTier.TokenRange[]",name:"ranges",type:"tuple[]"},{internalType:"string[]",name:"baseURIs",type:"string[]"}],internalType:"struct LazyMintWithTier.TierMetadata[]",name:"metadataForAllTiers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_baseURIForTokens",type:"string"},{internalType:"string",name:"_tier",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IBurnableERC1155Abi=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],IDropMultiPhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC1155_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"saleRecipient",type:"address"}],name:"SaleRecipientForTokenUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IDropSinglePhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase1155_V1=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase1155_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155EnumerableAbi=[{inputs:[],name:"nextTokenIdToMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],IMintableERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC1155.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IERC2771ContextAbi=[{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IAppURI=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"AppURIUpdated",type:"event"},{inputs:[],name:"appURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setAppURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IContractMetadataAbi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IDirectListingsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"BuyerApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"}],name:"CancelledListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"uint256",name:"pricePerToken",type:"uint256"}],name:"CurrencyApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"NewListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"NewSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"UpdatedListing",type:"event"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyer",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveBuyerForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_pricePerTokenInCurrency",type:"uint256"}],name:"approveCurrencyForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyFor",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_expectedTotalPrice",type:"uint256"}],name:"buyFromListing",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"createListing",outputs:[{internalType:"uint256",name:"listingId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"getListing",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"}],IEnglishAuctionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!0,internalType:"address",name:"closer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!1,internalType:"address",name:"winningBidder",type:"address"}],name:"AuctionClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"CancelledAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"bidder",type:"address"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"bidAmount",type:"uint256"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewBid",type:"event"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"bidInAuction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"cancelAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionPayout",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"}],internalType:"struct IEnglishAuctions.AuctionParameters",name:"_params",type:"tuple"}],name:"createAuction",outputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getAuction",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getWinningBid",outputs:[{internalType:"address",name:"bidder",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"bidAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"isAuctionExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"isNewWinningBid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOffersAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"AcceptedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"}],name:"CancelledOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],name:"NewOffer",type:"event"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"acceptOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"cancelOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"getOffer",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"}],internalType:"struct IOffers.OfferParams",name:"_params",type:"tuple"}],name:"makeOffer",outputs:[{internalType:"uint256",name:"offerId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPackVRFAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"totalPacksCreated",type:"uint256"}],name:"PackCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountToOpen",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackOpenRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!1,internalType:"uint256",name:"numOfPacksOpened",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],indexed:!1,internalType:"struct ITokenBundle.Token[]",name:"rewardUnitsDistributed",type:"tuple[]"}],name:"PackOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackRandomnessFulfilled",type:"event"},{inputs:[{internalType:"address",name:"_opener",type:"address"}],name:"canClaimRewards",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"rewardUnits",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"contents",type:"tuple[]"},{internalType:"uint256[]",name:"numOfRewardUnits",type:"uint256[]"},{internalType:"string",name:"packUri",type:"string"},{internalType:"uint128",name:"openStartTimestamp",type:"uint128"},{internalType:"uint128",name:"amountDistributedPerOpen",type:"uint128"},{internalType:"address",name:"recipient",type:"address"}],name:"createPack",outputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"packTotalSupply",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"amountToOpen",type:"uint256"}],name:"openPack",outputs:[{internalType:"uint256",name:"requestId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_packId",type:"uint256"},{internalType:"uint256",name:"_amountToOpen",type:"uint256"},{internalType:"uint32",name:"_callBackGasLimit",type:"uint32"}],name:"openPackAndClaimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPermissionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IPermissionsEnumerableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPlatformFeeAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"platformFeeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"platformFeeBps",type:"uint256"}],name:"PlatformFeeInfoUpdated",type:"event"},{inputs:[],name:"getPlatformFeeInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_platformFeeRecipient",type:"address"},{internalType:"uint256",name:"_platformFeeBps",type:"uint256"}],name:"setPlatformFeeInfo",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPrimarySaleAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"}],name:"PrimarySaleRecipientUpdated",type:"event"},{inputs:[],name:"primarySaleRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_saleRecipient",type:"address"}],name:"setPrimarySaleRecipient",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebRoyaltyAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRoyaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"newRoyaltyBps",type:"uint256"}],name:"DefaultRoyalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"royaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyBps",type:"uint256"}],name:"RoyaltyForToken",type:"event"},{inputs:[],name:"getDefaultRoyaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRoyaltyInfoForToken",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint256",name:"_royaltyBps",type:"uint256"}],name:"setDefaultRoyaltyInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"bps",type:"uint256"}],name:"setRoyaltyInfoForToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOwnableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prevOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerUpdated",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"}];function base$4(et){if(et.length>=255)throw new TypeError("Alphabet too long");for(var _e=new Uint8Array(256),tt=0;tt<_e.length;tt++)_e[tt]=255;for(var rt=0;rt<et.length;rt++){var nt=et.charAt(rt),it=nt.charCodeAt(0);if(_e[it]!==255)throw new TypeError(nt+" is ambiguous");_e[it]=rt}var at=et.length,st=et.charAt(0),ot=Math.log(at)/Math.log(256),ct=Math.log(256)/Math.log(at);function lt(mt){if(mt instanceof Uint8Array||(ArrayBuffer.isView(mt)?mt=new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength):Array.isArray(mt)&&(mt=Uint8Array.from(mt))),!(mt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(mt.length===0)return"";for(var gt=0,bt=0,ht=0,yt=mt.length;ht!==yt&&mt[ht]===0;)ht++,gt++;for(var wt=(yt-ht)*ct+1>>>0,xt=new Uint8Array(wt);ht!==yt;){for(var At=mt[ht],kt=0,Ot=wt-1;(At!==0||kt<bt)&&Ot!==-1;Ot--,kt++)At+=256*xt[Ot]>>>0,xt[Ot]=At%at>>>0,At=At/at>>>0;if(At!==0)throw new Error("Non-zero carry");bt=kt,ht++}for(var Wt=wt-bt;Wt!==wt&&xt[Wt]===0;)Wt++;for(var Ht=st.repeat(gt);Wt<wt;++Wt)Ht+=et.charAt(xt[Wt]);return Ht}function ut(mt){if(typeof mt!="string")throw new TypeError("Expected String");if(mt.length===0)return new Uint8Array;for(var gt=0,bt=0,ht=0;mt[gt]===st;)bt++,gt++;for(var yt=(mt.length-gt)*ot+1>>>0,wt=new Uint8Array(yt);mt[gt];){var xt=_e[mt.charCodeAt(gt)];if(xt===255)return;for(var At=0,kt=yt-1;(xt!==0||At<ht)&&kt!==-1;kt--,At++)xt+=at*wt[kt]>>>0,wt[kt]=xt%256>>>0,xt=xt/256>>>0;if(xt!==0)throw new Error("Non-zero carry");ht=At,gt++}for(var Ot=yt-ht;Ot!==yt&&wt[Ot]===0;)Ot++;for(var Wt=new Uint8Array(bt+(yt-Ot)),Ht=bt;Ot!==yt;)Wt[Ht++]=wt[Ot++];return Wt}function dt(mt){var gt=ut(mt);if(gt)return gt;throw new Error("Non-base"+at+" character")}return{encode:lt,decodeUnsafe:ut,decode:dt}}var src$e=base$4;const basex=src$e,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),browserPonyfill={exports:{}};(function(et,_e){var tt=function(){function nt(){this.fetch=!1,this.DOMException=globalThis.DOMException}return nt.prototype=globalThis,new nt}();(function(nt){(function(it){var at={searchParams:"URLSearchParams"in nt,iterable:"Symbol"in nt&&"iterator"in Symbol,blob:"FileReader"in nt&&"Blob"in nt&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in nt,arrayBuffer:"ArrayBuffer"in nt};function st(Ct){return Ct&&DataView.prototype.isPrototypeOf(Ct)}if(at.arrayBuffer)var ot=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ct=ArrayBuffer.isView||function(Ct){return Ct&&ot.indexOf(Object.prototype.toString.call(Ct))>-1};function lt(Ct){if(typeof Ct!="string"&&(Ct=String(Ct)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Ct))throw new TypeError("Invalid character in header field name");return Ct.toLowerCase()}function ut(Ct){return typeof Ct!="string"&&(Ct=String(Ct)),Ct}function dt(Ct){var vt={next:function(){var Tt=Ct.shift();return{done:Tt===void 0,value:Tt}}};return at.iterable&&(vt[Symbol.iterator]=function(){return vt}),vt}function mt(Ct){this.map={},Ct instanceof mt?Ct.forEach(function(vt,Tt){this.append(Tt,vt)},this):Array.isArray(Ct)?Ct.forEach(function(vt){this.append(vt[0],vt[1])},this):Ct&&Object.getOwnPropertyNames(Ct).forEach(function(vt){this.append(vt,Ct[vt])},this)}mt.prototype.append=function(Ct,vt){Ct=lt(Ct),vt=ut(vt);var Tt=this.map[Ct];this.map[Ct]=Tt?Tt+", "+vt:vt},mt.prototype.delete=function(Ct){delete this.map[lt(Ct)]},mt.prototype.get=function(Ct){return Ct=lt(Ct),this.has(Ct)?this.map[Ct]:null},mt.prototype.has=function(Ct){return this.map.hasOwnProperty(lt(Ct))},mt.prototype.set=function(Ct,vt){this.map[lt(Ct)]=ut(vt)},mt.prototype.forEach=function(Ct,vt){for(var Tt in this.map)this.map.hasOwnProperty(Tt)&&Ct.call(vt,this.map[Tt],Tt,this)},mt.prototype.keys=function(){var Ct=[];return this.forEach(function(vt,Tt){Ct.push(Tt)}),dt(Ct)},mt.prototype.values=function(){var Ct=[];return this.forEach(function(vt){Ct.push(vt)}),dt(Ct)},mt.prototype.entries=function(){var Ct=[];return this.forEach(function(vt,Tt){Ct.push([Tt,vt])}),dt(Ct)},at.iterable&&(mt.prototype[Symbol.iterator]=mt.prototype.entries);function gt(Ct){if(Ct.bodyUsed)return Promise.reject(new TypeError("Already read"));Ct.bodyUsed=!0}function bt(Ct){return new Promise(function(vt,Tt){Ct.onload=function(){vt(Ct.result)},Ct.onerror=function(){Tt(Ct.error)}})}function ht(Ct){var vt=new FileReader,Tt=bt(vt);return vt.readAsArrayBuffer(Ct),Tt}function yt(Ct){var vt=new FileReader,Tt=bt(vt);return vt.readAsText(Ct),Tt}function wt(Ct){for(var vt=new Uint8Array(Ct),Tt=new Array(vt.length),Mt=0;Mt<vt.length;Mt++)Tt[Mt]=String.fromCharCode(vt[Mt]);return Tt.join("")}function xt(Ct){if(Ct.slice)return Ct.slice(0);var vt=new Uint8Array(Ct.byteLength);return vt.set(new Uint8Array(Ct)),vt.buffer}function At(){return this.bodyUsed=!1,this._initBody=function(Ct){this._bodyInit=Ct,Ct?typeof Ct=="string"?this._bodyText=Ct:at.blob&&Blob.prototype.isPrototypeOf(Ct)?this._bodyBlob=Ct:at.formData&&FormData.prototype.isPrototypeOf(Ct)?this._bodyFormData=Ct:at.searchParams&&URLSearchParams.prototype.isPrototypeOf(Ct)?this._bodyText=Ct.toString():at.arrayBuffer&&at.blob&&st(Ct)?(this._bodyArrayBuffer=xt(Ct.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):at.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Ct)||ct(Ct))?this._bodyArrayBuffer=xt(Ct):this._bodyText=Ct=Object.prototype.toString.call(Ct):this._bodyText="",this.headers.get("content-type")||(typeof Ct=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):at.searchParams&&URLSearchParams.prototype.isPrototypeOf(Ct)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},at.blob&&(this.blob=function(){var Ct=gt(this);if(Ct)return Ct;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?gt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ht)}),this.text=function(){var Ct=gt(this);if(Ct)return Ct;if(this._bodyBlob)return yt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(wt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},at.formData&&(this.formData=function(){return this.text().then(Ht)}),this.json=function(){return this.text().then(JSON.parse)},this}var kt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ot(Ct){var vt=Ct.toUpperCase();return kt.indexOf(vt)>-1?vt:Ct}function Wt(Ct,vt){vt=vt||{};var Tt=vt.body;if(Ct instanceof Wt){if(Ct.bodyUsed)throw new TypeError("Already read");this.url=Ct.url,this.credentials=Ct.credentials,vt.headers||(this.headers=new mt(Ct.headers)),this.method=Ct.method,this.mode=Ct.mode,this.signal=Ct.signal,!Tt&&Ct._bodyInit!=null&&(Tt=Ct._bodyInit,Ct.bodyUsed=!0)}else this.url=String(Ct);if(this.credentials=vt.credentials||this.credentials||"same-origin",(vt.headers||!this.headers)&&(this.headers=new mt(vt.headers)),this.method=Ot(vt.method||this.method||"GET"),this.mode=vt.mode||this.mode||null,this.signal=vt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Tt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Tt)}Wt.prototype.clone=function(){return new Wt(this,{body:this._bodyInit})};function Ht(Ct){var vt=new FormData;return Ct.trim().split("&").forEach(function(Tt){if(Tt){var Mt=Tt.split("="),Nt=Mt.shift().replace(/\+/g," "),$t=Mt.join("=").replace(/\+/g," ");vt.append(decodeURIComponent(Nt),decodeURIComponent($t))}}),vt}function Zt(Ct){var vt=new mt,Tt=Ct.replace(/\r?\n[\t ]+/g," ");return Tt.split(/\r?\n/).forEach(function(Mt){var Nt=Mt.split(":"),$t=Nt.shift().trim();if($t){var St=Nt.join(":").trim();vt.append($t,St)}}),vt}At.call(Wt.prototype);function Lt(Ct,vt){vt||(vt={}),this.type="default",this.status=vt.status===void 0?200:vt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in vt?vt.statusText:"OK",this.headers=new mt(vt.headers),this.url=vt.url||"",this._initBody(Ct)}At.call(Lt.prototype),Lt.prototype.clone=function(){return new Lt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new mt(this.headers),url:this.url})},Lt.error=function(){var Ct=new Lt(null,{status:0,statusText:""});return Ct.type="error",Ct};var Et=[301,302,303,307,308];Lt.redirect=function(Ct,vt){if(Et.indexOf(vt)===-1)throw new RangeError("Invalid status code");return new Lt(null,{status:vt,headers:{location:Ct}})},it.DOMException=nt.DOMException;try{new it.DOMException}catch{it.DOMException=function(vt,Tt){this.message=vt,this.name=Tt;var Mt=Error(vt);this.stack=Mt.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function It(Ct,vt){return new Promise(function(Tt,Mt){var Nt=new Wt(Ct,vt);if(Nt.signal&&Nt.signal.aborted)return Mt(new it.DOMException("Aborted","AbortError"));var $t=new XMLHttpRequest;function St(){$t.abort()}$t.onload=function(){var Dt={status:$t.status,statusText:$t.statusText,headers:Zt($t.getAllResponseHeaders()||"")};Dt.url="responseURL"in $t?$t.responseURL:Dt.headers.get("X-Request-URL");var Rt="response"in $t?$t.response:$t.responseText;Tt(new Lt(Rt,Dt))},$t.onerror=function(){Mt(new TypeError("Network request failed"))},$t.ontimeout=function(){Mt(new TypeError("Network request failed"))},$t.onabort=function(){Mt(new it.DOMException("Aborted","AbortError"))},$t.open(Nt.method,Nt.url,!0),Nt.credentials==="include"?$t.withCredentials=!0:Nt.credentials==="omit"&&($t.withCredentials=!1),"responseType"in $t&&at.blob&&($t.responseType="blob"),Nt.headers.forEach(function(Dt,Rt){$t.setRequestHeader(Rt,Dt)}),Nt.signal&&(Nt.signal.addEventListener("abort",St),$t.onreadystatechange=function(){$t.readyState===4&&Nt.signal.removeEventListener("abort",St)}),$t.send(typeof Nt._bodyInit>"u"?null:Nt._bodyInit)})}return It.polyfill=!0,nt.fetch||(nt.fetch=It,nt.Headers=mt,nt.Request=Wt,nt.Response=Lt),it.Headers=mt,it.Request=Wt,it.Response=Lt,it.fetch=It,Object.defineProperty(it,"__esModule",{value:!0}),it})({})})(tt),tt.fetch.ponyfill=!0,delete tt.fetch.polyfill;var rt=tt;_e=rt.fetch,_e.default=rt.fetch,_e.fetch=rt.fetch,_e.Headers=rt.Headers,_e.Request=rt.Request,_e.Response=rt.Response,et.exports=_e})(browserPonyfill,browserPonyfill.exports);const fetch$1=getDefaultExportFromCjs(browserPonyfill.exports);var eventemitter3$3={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ot,ct,lt){this.fn=ot,this.context=ct,this.once=lt||!1}function it(ot,ct,lt,ut,dt){if(typeof lt!="function")throw new TypeError("The listener must be a function");var mt=new nt(lt,ut||ot,dt),gt=tt?tt+ct:ct;return ot._events[gt]?ot._events[gt].fn?ot._events[gt]=[ot._events[gt],mt]:ot._events[gt].push(mt):(ot._events[gt]=mt,ot._eventsCount++),ot}function at(ot,ct){--ot._eventsCount===0?ot._events=new rt:delete ot._events[ct]}function st(){this._events=new rt,this._eventsCount=0}st.prototype.eventNames=function(){var ct=[],lt,ut;if(this._eventsCount===0)return ct;for(ut in lt=this._events)_e.call(lt,ut)&&ct.push(tt?ut.slice(1):ut);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(lt)):ct},st.prototype.listeners=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];if(!ut)return[];if(ut.fn)return[ut.fn];for(var dt=0,mt=ut.length,gt=new Array(mt);dt<mt;dt++)gt[dt]=ut[dt].fn;return gt},st.prototype.listenerCount=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];return ut?ut.fn?1:ut.length:0},st.prototype.emit=function(ct,lt,ut,dt,mt,gt){var bt=tt?tt+ct:ct;if(!this._events[bt])return!1;var ht=this._events[bt],yt=arguments.length,wt,xt;if(ht.fn){switch(ht.once&&this.removeListener(ct,ht.fn,void 0,!0),yt){case 1:return ht.fn.call(ht.context),!0;case 2:return ht.fn.call(ht.context,lt),!0;case 3:return ht.fn.call(ht.context,lt,ut),!0;case 4:return ht.fn.call(ht.context,lt,ut,dt),!0;case 5:return ht.fn.call(ht.context,lt,ut,dt,mt),!0;case 6:return ht.fn.call(ht.context,lt,ut,dt,mt,gt),!0}for(xt=1,wt=new Array(yt-1);xt<yt;xt++)wt[xt-1]=arguments[xt];ht.fn.apply(ht.context,wt)}else{var At=ht.length,kt;for(xt=0;xt<At;xt++)switch(ht[xt].once&&this.removeListener(ct,ht[xt].fn,void 0,!0),yt){case 1:ht[xt].fn.call(ht[xt].context);break;case 2:ht[xt].fn.call(ht[xt].context,lt);break;case 3:ht[xt].fn.call(ht[xt].context,lt,ut);break;case 4:ht[xt].fn.call(ht[xt].context,lt,ut,dt);break;default:if(!wt)for(kt=1,wt=new Array(yt-1);kt<yt;kt++)wt[kt-1]=arguments[kt];ht[xt].fn.apply(ht[xt].context,wt)}}return!0},st.prototype.on=function(ct,lt,ut){return it(this,ct,lt,ut,!1)},st.prototype.once=function(ct,lt,ut){return it(this,ct,lt,ut,!0)},st.prototype.removeListener=function(ct,lt,ut,dt){var mt=tt?tt+ct:ct;if(!this._events[mt])return this;if(!lt)return at(this,mt),this;var gt=this._events[mt];if(gt.fn)gt.fn===lt&&(!dt||gt.once)&&(!ut||gt.context===ut)&&at(this,mt);else{for(var bt=0,ht=[],yt=gt.length;bt<yt;bt++)(gt[bt].fn!==lt||dt&&!gt[bt].once||ut&&gt[bt].context!==ut)&&ht.push(gt[bt]);ht.length?this._events[mt]=ht.length===1?ht[0]:ht:at(this,mt)}return this},st.prototype.removeAllListeners=function(ct){var lt;return ct?(lt=tt?tt+ct:ct,this._events[lt]&&at(this,lt)):(this._events=new rt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=tt,st.EventEmitter=st,et.exports=st})(eventemitter3$3);const EventEmitter$1$1=eventemitter3$3.exports,ForwarderABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];async function*batch$1(et,_e=1){let tt=[];_e<1&&(_e=1);for await(const rt of et)for(tt.push(rt);tt.length>=_e;)yield tt.slice(0,_e),tt=tt.slice(_e);for(;tt.length;)yield tt.slice(0,_e),tt=tt.slice(_e)}var itBatch=batch$1;const batch=itBatch;async function*parallelBatch$1(et,_e=1){for await(const tt of batch(et,_e)){const rt=tt.map(nt=>nt().then(it=>({ok:!0,value:it}),it=>({ok:!1,err:it})));for(let nt=0;nt<rt.length;nt++){const it=await rt[nt];if(it.ok)yield it.value;else throw it.err}}}var itParallelBatch=parallelBatch$1,isPlainObj=et=>{if(Object.prototype.toString.call(et)!=="[object Object]")return!1;const _e=Object.getPrototypeOf(et);return _e===null||_e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$3}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(et,_e,tt)=>Object.defineProperty(et,_e,{value:tt,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=et=>{const _e=[];for(const tt in et)hasOwnProperty$3.call(et,tt)&&_e.push(tt);if(Object.getOwnPropertySymbols){const tt=Object.getOwnPropertySymbols(et);for(const rt of tt)propertyIsEnumerable.call(et,rt)&&_e.push(rt)}return _e};function clone(et){return Array.isArray(et)?cloneArray(et):isOptionObject(et)?cloneOptionObject(et):et}function cloneArray(et){const _e=et.slice(0,0);return getEnumerableOwnPropertyKeys(et).forEach(tt=>{defineProperty(_e,tt,clone(et[tt]))}),_e}function cloneOptionObject(et){const _e=Object.getPrototypeOf(et)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(et).forEach(tt=>{defineProperty(_e,tt,clone(et[tt]))}),_e}const mergeKeys=(et,_e,tt,rt)=>(tt.forEach(nt=>{typeof _e[nt]>"u"&&rt.ignoreUndefined||(nt in et&&et[nt]!==Object.getPrototypeOf(et)?defineProperty(et,nt,merge$3(et[nt],_e[nt],rt)):defineProperty(et,nt,clone(_e[nt])))}),et),concatArrays$1=(et,_e,tt)=>{let rt=et.slice(0,0),nt=0;return[et,_e].forEach(it=>{const at=[];for(let st=0;st<it.length;st++)!hasOwnProperty$3.call(it,st)||(at.push(String(st)),it===et?defineProperty(rt,nt++,it[st]):defineProperty(rt,nt++,clone(it[st])));rt=mergeKeys(rt,it,getEnumerableOwnPropertyKeys(it).filter(st=>!at.includes(st)),tt)}),rt};function merge$3(et,_e,tt){return tt.concatArrays&&Array.isArray(et)&&Array.isArray(_e)?concatArrays$1(et,_e,tt):!isOptionObject(_e)||!isOptionObject(et)?clone(_e):mergeKeys(et,_e,getEnumerableOwnPropertyKeys(_e),tt)}var mergeOptions$1=function(...et){const _e=merge$3(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let tt={_:{}};for(const rt of et)if(rt!==void 0){if(!isOptionObject(rt))throw new TypeError("`"+rt+"` is not an Option Object");tt=merge$3(tt,{_:rt},_e)}return tt._};function assign$2(et,_e){for(const tt in _e)Object.defineProperty(et,tt,{value:_e[tt],enumerable:!0,configurable:!0});return et}function createError(et,_e,tt){if(!et||typeof et=="string")throw new TypeError("Please pass an Error to err-code");tt||(tt={}),typeof _e=="object"&&(tt=_e,_e=""),_e&&(tt.code=_e);try{return assign$2(et,tt)}catch{tt.message=et.message,tt.stack=et.stack;const nt=function(){};return nt.prototype=Object.create(Object.getPrototypeOf(et)),assign$2(new nt,tt)}}var errCode=createError,src$d={exports:{}};function base$3(et){if(et.length>=255)throw new TypeError("Alphabet too long");for(var _e=new Uint8Array(256),tt=0;tt<_e.length;tt++)_e[tt]=255;for(var rt=0;rt<et.length;rt++){var nt=et.charAt(rt),it=nt.charCodeAt(0);if(_e[it]!==255)throw new TypeError(nt+" is ambiguous");_e[it]=rt}var at=et.length,st=et.charAt(0),ot=Math.log(at)/Math.log(256),ct=Math.log(256)/Math.log(at);function lt(mt){if(mt instanceof Uint8Array||(ArrayBuffer.isView(mt)?mt=new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength):Array.isArray(mt)&&(mt=Uint8Array.from(mt))),!(mt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(mt.length===0)return"";for(var gt=0,bt=0,ht=0,yt=mt.length;ht!==yt&&mt[ht]===0;)ht++,gt++;for(var wt=(yt-ht)*ct+1>>>0,xt=new Uint8Array(wt);ht!==yt;){for(var At=mt[ht],kt=0,Ot=wt-1;(At!==0||kt<bt)&&Ot!==-1;Ot--,kt++)At+=256*xt[Ot]>>>0,xt[Ot]=At%at>>>0,At=At/at>>>0;if(At!==0)throw new Error("Non-zero carry");bt=kt,ht++}for(var Wt=wt-bt;Wt!==wt&&xt[Wt]===0;)Wt++;for(var Ht=st.repeat(gt);Wt<wt;++Wt)Ht+=et.charAt(xt[Wt]);return Ht}function ut(mt){if(typeof mt!="string")throw new TypeError("Expected String");if(mt.length===0)return new Uint8Array;var gt=0;if(mt[gt]!==" "){for(var bt=0,ht=0;mt[gt]===st;)bt++,gt++;for(var yt=(mt.length-gt)*ot+1>>>0,wt=new Uint8Array(yt);mt[gt];){var xt=_e[mt.charCodeAt(gt)];if(xt===255)return;for(var At=0,kt=yt-1;(xt!==0||At<ht)&&kt!==-1;kt--,At++)xt+=at*wt[kt]>>>0,wt[kt]=xt%256>>>0,xt=xt/256>>>0;if(xt!==0)throw new Error("Non-zero carry");ht=At,gt++}if(mt[gt]!==" "){for(var Ot=yt-ht;Ot!==yt&&wt[Ot]===0;)Ot++;for(var Wt=new Uint8Array(bt+(yt-Ot)),Ht=bt;Ot!==yt;)Wt[Ht++]=wt[Ot++];return Wt}}}function dt(mt){var gt=ut(mt);if(gt)return gt;throw new Error("Non-base"+at+" character")}return{encode:lt,decodeUnsafe:ut,decode:dt}}var src$c=base$3;const textDecoder$1=new TextDecoder,decodeText$1=et=>textDecoder$1.decode(et),textEncoder$1=new TextEncoder,encodeText$2=et=>textEncoder$1.encode(et);function concat$b(et,_e){const tt=new Uint8Array(_e);let rt=0;for(const nt of et)tt.set(nt,rt),rt+=nt.length;return tt}var util$a={decodeText:decodeText$1,encodeText:encodeText$2,concat:concat$b};const{encodeText:encodeText$1}=util$a;class Base$3{constructor(_e,tt,rt,nt){this.name=_e,this.code=tt,this.codeBuf=encodeText$1(this.code),this.alphabet=nt,this.codec=rt(nt)}encode(_e){return this.codec.encode(_e)}decode(_e){for(const tt of _e)if(this.alphabet&&this.alphabet.indexOf(tt)<0)throw new Error(`invalid character '${tt}' in '${_e}'`);return this.codec.decode(_e)}}var base$2=Base$3;const decode$d=(et,_e,tt)=>{const rt={};for(let ct=0;ct<_e.length;++ct)rt[_e[ct]]=ct;let nt=et.length;for(;et[nt-1]==="=";)--nt;const it=new Uint8Array(nt*tt/8|0);let at=0,st=0,ot=0;for(let ct=0;ct<nt;++ct){const lt=rt[et[ct]];if(lt===void 0)throw new SyntaxError("Invalid character "+et[ct]);st=st<<tt|lt,at+=tt,at>=8&&(at-=8,it[ot++]=255&st>>at)}if(at>=tt||255&st<<8-at)throw new SyntaxError("Unexpected end of data");return it},encode$9=(et,_e,tt)=>{const rt=_e[_e.length-1]==="=",nt=(1<<tt)-1;let it="",at=0,st=0;for(let ot=0;ot<et.length;++ot)for(st=st<<8|et[ot],at+=8;at>tt;)at-=tt,it+=_e[nt&st>>at];if(at&&(it+=_e[nt&st<<tt-at]),rt)for(;it.length*tt&7;)it+="=";return it},rfc4648$2=et=>_e=>({encode(tt){return encode$9(tt,_e,et)},decode(tt){return decode$d(tt,_e,et)}});var rfc4648_1={rfc4648:rfc4648$2};const baseX$1=src$c,Base$2=base$2,{rfc4648:rfc4648$1}=rfc4648_1,{decodeText,encodeText}=util$a,identity$5=()=>({encode:decodeText,decode:encodeText}),constants$2=[["identity","\0",identity$5,""],["base2","0",rfc4648$1(1),"01"],["base8","7",rfc4648$1(3),"01234567"],["base10","9",baseX$1,"0123456789"],["base16","f",rfc4648$1(4),"0123456789abcdef"],["base16upper","F",rfc4648$1(4),"0123456789ABCDEF"],["base32hex","v",rfc4648$1(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",rfc4648$1(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",rfc4648$1(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",rfc4648$1(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",rfc4648$1(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",rfc4648$1(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",rfc4648$1(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",rfc4648$1(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",rfc4648$1(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",baseX$1,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",baseX$1,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",baseX$1,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",baseX$1,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",rfc4648$1(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],names$3=constants$2.reduce((et,_e)=>(et[_e[0]]=new Base$2(_e[0],_e[1],_e[2],_e[3]),et),{}),codes$2=constants$2.reduce((et,_e)=>(et[_e[1]]=names$3[_e[0]],et),{});var constants_1={names:names$3,codes:codes$2};(function(et,_e){const tt=constants_1,{encodeText:rt,decodeText:nt,concat:it}=util$a;function at(bt,ht){if(!ht)throw new Error("requires an encoded Uint8Array");const{name:yt,codeBuf:wt}=ut(bt);return lt(yt,ht),it([wt,ht],wt.length+ht.length)}function st(bt,ht){const yt=ut(bt),wt=rt(yt.encode(ht));return it([yt.codeBuf,wt],yt.codeBuf.length+wt.length)}function ot(bt){bt instanceof Uint8Array&&(bt=nt(bt));const ht=bt[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(ht)&&(bt=bt.toLowerCase()),ut(bt[0]).decode(bt.substring(1))}function ct(bt){if(bt instanceof Uint8Array&&(bt=nt(bt)),Object.prototype.toString.call(bt)!=="[object String]")return!1;try{return ut(bt[0]).name}catch{return!1}}function lt(bt,ht){ut(bt).decode(nt(ht))}function ut(bt){if(Object.prototype.hasOwnProperty.call(tt.names,bt))return tt.names[bt];if(Object.prototype.hasOwnProperty.call(tt.codes,bt))return tt.codes[bt];throw new Error(`Unsupported encoding: ${bt}`)}function dt(bt){return bt instanceof Uint8Array&&(bt=nt(bt)),ut(bt[0])}_e=et.exports=at,_e.encode=st,_e.decode=ot,_e.isEncoded=ct,_e.encoding=ut,_e.encodingFromData=dt;const mt=Object.freeze(tt.names),gt=Object.freeze(tt.codes);_e.names=mt,_e.codes=gt})(src$d,src$d.exports);var encode_1$2=encode$8,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$8(et,_e,tt){_e=_e||[],tt=tt||0;for(var rt=tt;et>=INT$1;)_e[tt++]=et&255|MSB$3,et/=128;for(;et&MSBALL$1;)_e[tt++]=et&255|MSB$3,et>>>=7;return _e[tt]=et|0,encode$8.bytes=tt-rt+1,_e}var decode$c=read$2,MSB$2=128,REST$2=127;function read$2(et,rt){var tt=0,rt=rt||0,nt=0,it=rt,at,st=et.length;do{if(it>=st)throw read$2.bytes=0,new RangeError("Could not decode varint");at=et[it++],tt+=nt<28?(at&REST$2)<<nt:(at&REST$2)*Math.pow(2,nt),nt+=7}while(at>=MSB$2);return read$2.bytes=it-rt,tt}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$3=function(et){return et<N1$1?1:et<N2$1?2:et<N3$1?3:et<N4$1?4:et<N5$1?5:et<N6$1?6:et<N7$1?7:et<N8$1?8:et<N9$1?9:10},varint$4={encode:encode_1$2,decode:decode$c,encodingLength:length$3};const names$2=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var constants$1={names:names$2};function base$1(et,_e){if(et.length>=255)throw new TypeError("Alphabet too long");for(var tt=new Uint8Array(256),rt=0;rt<tt.length;rt++)tt[rt]=255;for(var nt=0;nt<et.length;nt++){var it=et.charAt(nt),at=it.charCodeAt(0);if(tt[at]!==255)throw new TypeError(it+" is ambiguous");tt[at]=nt}var st=et.length,ot=et.charAt(0),ct=Math.log(st)/Math.log(256),lt=Math.log(256)/Math.log(st);function ut(gt){if(gt instanceof Uint8Array||(ArrayBuffer.isView(gt)?gt=new Uint8Array(gt.buffer,gt.byteOffset,gt.byteLength):Array.isArray(gt)&&(gt=Uint8Array.from(gt))),!(gt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(gt.length===0)return"";for(var bt=0,ht=0,yt=0,wt=gt.length;yt!==wt&&gt[yt]===0;)yt++,bt++;for(var xt=(wt-yt)*lt+1>>>0,At=new Uint8Array(xt);yt!==wt;){for(var kt=gt[yt],Ot=0,Wt=xt-1;(kt!==0||Ot<ht)&&Wt!==-1;Wt--,Ot++)kt+=256*At[Wt]>>>0,At[Wt]=kt%st>>>0,kt=kt/st>>>0;if(kt!==0)throw new Error("Non-zero carry");ht=Ot,yt++}for(var Ht=xt-ht;Ht!==xt&&At[Ht]===0;)Ht++;for(var Zt=ot.repeat(bt);Ht<xt;++Ht)Zt+=et.charAt(At[Ht]);return Zt}function dt(gt){if(typeof gt!="string")throw new TypeError("Expected String");if(gt.length===0)return new Uint8Array;var bt=0;if(gt[bt]!==" "){for(var ht=0,yt=0;gt[bt]===ot;)ht++,bt++;for(var wt=(gt.length-bt)*ct+1>>>0,xt=new Uint8Array(wt);gt[bt];){var At=tt[gt.charCodeAt(bt)];if(At===255)return;for(var kt=0,Ot=wt-1;(At!==0||kt<yt)&&Ot!==-1;Ot--,kt++)At+=st*xt[Ot]>>>0,xt[Ot]=At%256>>>0,At=At/256>>>0;if(At!==0)throw new Error("Non-zero carry");yt=kt,bt++}if(gt[bt]!==" "){for(var Wt=wt-yt;Wt!==wt&&xt[Wt]===0;)Wt++;for(var Ht=new Uint8Array(ht+(wt-Wt)),Zt=ht;Wt!==wt;)Ht[Zt++]=xt[Wt++];return Ht}}}function mt(gt){var bt=dt(gt);if(bt)return bt;throw new Error(`Non-${_e} character`)}return{encode:ut,decodeUnsafe:dt,decode:mt}}var src$b=base$1,_brrp__multiformats_scope_baseX=src$b;const empty$2=new Uint8Array(0),toHex=et=>et.reduce((_e,tt)=>_e+tt.toString(16).padStart(2,"0"),""),fromHex=et=>{const _e=et.match(/../g);return _e?new Uint8Array(_e.map(tt=>parseInt(tt,16))):empty$2},equals$6=(et,_e)=>{if(et===_e)return!0;if(et.byteLength!==_e.byteLength)return!1;for(let tt=0;tt<et.byteLength;tt++)if(et[tt]!==_e[tt])return!1;return!0},coerce=et=>{if(et instanceof Uint8Array&&et.constructor.name==="Uint8Array")return et;if(et instanceof ArrayBuffer)return new Uint8Array(et);if(ArrayBuffer.isView(et))return new Uint8Array(et.buffer,et.byteOffset,et.byteLength);throw new Error("Unknown type, must be binary type")},isBinary=et=>et instanceof ArrayBuffer||ArrayBuffer.isView(et),fromString$9=et=>new TextEncoder().encode(et),toString$8=et=>new TextDecoder().decode(et),bytes=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$6,coerce,isBinary,fromHex,toHex,fromString:fromString$9,toString:toString$8,empty:empty$2},Symbol.toStringTag,{value:"Module"}));class Encoder{constructor(_e,tt,rt){this.name=_e,this.prefix=tt,this.baseEncode=rt}encode(_e){if(_e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(_e)}`;throw Error("Unknown type, must be binary type")}}class Decoder$1{constructor(_e,tt,rt){if(this.name=_e,this.prefix=tt,tt.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=tt.codePointAt(0),this.baseDecode=rt}decode(_e){if(typeof _e=="string"){if(_e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(_e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(_e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(_e){return or(this,_e)}}class ComposedDecoder{constructor(_e){this.decoders=_e}or(_e){return or(this,_e)}decode(_e){const tt=_e[0],rt=this.decoders[tt];if(rt)return rt.decode(_e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(_e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(et,_e)=>new ComposedDecoder({...et.decoders||{[et.prefix]:et},..._e.decoders||{[_e.prefix]:_e}});class Codec{constructor(_e,tt,rt,nt){this.name=_e,this.prefix=tt,this.baseEncode=rt,this.baseDecode=nt,this.encoder=new Encoder(_e,tt,rt),this.decoder=new Decoder$1(_e,tt,nt)}encode(_e){return this.encoder.encode(_e)}decode(_e){return this.decoder.decode(_e)}}const from$4=({name:et,prefix:_e,encode:tt,decode:rt})=>new Codec(et,_e,tt,rt),baseX=({prefix:et,name:_e,alphabet:tt})=>{const{encode:rt,decode:nt}=_brrp__multiformats_scope_baseX(tt,_e);return from$4({prefix:et,name:_e,encode:rt,decode:it=>coerce(nt(it))})},decode$b=(et,_e,tt,rt)=>{const nt={};for(let lt=0;lt<_e.length;++lt)nt[_e[lt]]=lt;let it=et.length;for(;et[it-1]==="=";)--it;const at=new Uint8Array(it*tt/8|0);let st=0,ot=0,ct=0;for(let lt=0;lt<it;++lt){const ut=nt[et[lt]];if(ut===void 0)throw new SyntaxError(`Non-${rt} character`);ot=ot<<tt|ut,st+=tt,st>=8&&(st-=8,at[ct++]=255&ot>>st)}if(st>=tt||255&ot<<8-st)throw new SyntaxError("Unexpected end of data");return at},encode$7=(et,_e,tt)=>{const rt=_e[_e.length-1]==="=",nt=(1<<tt)-1;let it="",at=0,st=0;for(let ot=0;ot<et.length;++ot)for(st=st<<8|et[ot],at+=8;at>tt;)at-=tt,it+=_e[nt&st>>at];if(at&&(it+=_e[nt&st<<tt-at]),rt)for(;it.length*tt&7;)it+="=";return it},rfc4648=({name:et,prefix:_e,bitsPerChar:tt,alphabet:rt})=>from$4({prefix:_e,name:et,encode(nt){return encode$7(nt,rt,tt)},decode(nt){return decode$b(nt,rt,tt,et)}}),identity$4=from$4({prefix:"\0",name:"identity",encode:et=>toString$8(et),decode:et=>fromString$9(et)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$4},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),alphabetBytesToChars=alphabet.reduce((et,_e,tt)=>(et[tt]=_e,et),[]),alphabetCharsToBytes=alphabet.reduce((et,_e,tt)=>(et[_e.codePointAt(0)]=tt,et),[]);function encode$6(et){return et.reduce((_e,tt)=>(_e+=alphabetBytesToChars[tt],_e),"")}function decode$a(et){const _e=[];for(const tt of et){const rt=alphabetCharsToBytes[tt.codePointAt(0)];if(rt===void 0)throw new Error(`Non-base256emoji character: ${tt}`);_e.push(rt)}return new Uint8Array(_e)}const base256emoji=from$4({prefix:"\u{1F680}",name:"base256emoji",encode:encode$6,decode:decode$a}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));var encode_1$1=encode$5,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$5(et,_e,tt){_e=_e||[],tt=tt||0;for(var rt=tt;et>=INT;)_e[tt++]=et&255|MSB,et/=128;for(;et&MSBALL;)_e[tt++]=et&255|MSB,et>>>=7;return _e[tt]=et|0,encode$5.bytes=tt-rt+1,_e}var decode$9=read$1,MSB$1=128,REST$1=127;function read$1(et,rt){var tt=0,rt=rt||0,nt=0,it=rt,at,st=et.length;do{if(it>=st)throw read$1.bytes=0,new RangeError("Could not decode varint");at=et[it++],tt+=nt<28?(at&REST$1)<<nt:(at&REST$1)*Math.pow(2,nt),nt+=7}while(at>=MSB$1);return read$1.bytes=it-rt,tt}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length$2=function(et){return et<N1?1:et<N2?2:et<N3?3:et<N4?4:et<N5?5:et<N6?6:et<N7?7:et<N8?8:et<N9?9:10},varint$3={encode:encode_1$1,decode:decode$9,encodingLength:length$2},_brrp_varint=varint$3;const decode$8=(et,_e=0)=>[_brrp_varint.decode(et,_e),_brrp_varint.decode.bytes],encodeTo=(et,_e,tt=0)=>(_brrp_varint.encode(et,_e,tt),_e),encodingLength=et=>_brrp_varint.encodingLength(et),varint$2=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$8,encodeTo,encodingLength},Symbol.toStringTag,{value:"Module"})),create=(et,_e)=>{const tt=_e.byteLength,rt=encodingLength(et),nt=rt+encodingLength(tt),it=new Uint8Array(nt+tt);return encodeTo(et,it,0),encodeTo(tt,it,rt),it.set(_e,nt),new Digest(et,tt,_e,it)},decode$7=et=>{const _e=coerce(et),[tt,rt]=decode$8(_e),[nt,it]=decode$8(_e.subarray(rt)),at=_e.subarray(rt+it);if(at.byteLength!==nt)throw new Error("Incorrect length");return new Digest(tt,nt,at,_e)},equals$5=(et,_e)=>et===_e?!0:et.code===_e.code&&et.size===_e.size&&equals$6(et.bytes,_e.bytes);class Digest{constructor(_e,tt,rt,nt){this.code=_e,this.size=tt,this.digest=rt,this.bytes=nt}}const digest$2=Object.freeze(Object.defineProperty({__proto__:null,create,decode:decode$7,equals:equals$5,Digest},Symbol.toStringTag,{value:"Module"})),from$3=({name:et,code:_e,encode:tt})=>new Hasher(et,_e,tt);class Hasher{constructor(_e,tt,rt){this.name=_e,this.code=tt,this.encode=rt}digest(_e){if(_e instanceof Uint8Array){const tt=this.encode(_e);return tt instanceof Uint8Array?create(this.code,tt):tt.then(rt=>create(this.code,rt))}else throw Error("Unknown type, must be binary type")}}const hasher=Object.freeze(Object.defineProperty({__proto__:null,from:from$3,Hasher},Symbol.toStringTag,{value:"Module"})),sha$2=et=>async _e=>new Uint8Array(await crypto.subtle.digest(et,_e)),sha256$2=from$3({name:"sha2-256",code:18,encode:sha$2("SHA-256")}),sha512$2=from$3({name:"sha2-512",code:19,encode:sha$2("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$2,sha512:sha512$2},Symbol.toStringTag,{value:"Module"})),code$3=0,name$4="identity",encode$4=coerce,digest$1=et=>create(code$3,encode$4(et)),identity$2={code:code$3,name:name$4,encode:encode$4,digest:digest$1},identity$3=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),name$3="raw",code$2=85,encode$3=et=>coerce(et),decode$6=et=>coerce(et),raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$3,code:code$2,encode:encode$3,decode:decode$6},Symbol.toStringTag,{value:"Module"})),textEncoder=new TextEncoder,textDecoder=new TextDecoder,name$2="json",code$1=512,encode$2=et=>textEncoder.encode(JSON.stringify(et)),decode$5=et=>JSON.parse(textDecoder.decode(et)),json=Object.freeze(Object.defineProperty({__proto__:null,name:name$2,code:code$1,encode:encode$2,decode:decode$5},Symbol.toStringTag,{value:"Module"}));class CID{constructor(_e,tt,rt,nt){this.code=tt,this.version=_e,this.multihash=rt,this.bytes=nt,this.byteOffset=nt.byteOffset,this.byteLength=nt.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:_e,multihash:tt}=this;if(_e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(tt.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(tt)}}}toV1(){switch(this.version){case 0:{const{code:_e,digest:tt}=this.multihash,rt=create(_e,tt);return CID.createV1(this.code,rt)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(_e){return _e&&this.code===_e.code&&this.version===_e.version&&equals$5(this.multihash,_e.multihash)}toString(_e){const{bytes:tt,version:rt,_baseCache:nt}=this;switch(rt){case 0:return toStringV0(tt,nt,_e||base58btc.encoder);default:return toStringV1(tt,nt,_e||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(_e){return deprecate$1(/^0\.0/,IS_CID_DEPRECATION),!!(_e&&(_e[cidSymbol]||_e.asCID===_e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(_e){if(_e instanceof CID)return _e;if(_e!=null&&_e.asCID===_e){const{version:tt,code:rt,multihash:nt,bytes:it}=_e;return new CID(tt,rt,nt,it||encodeCID(tt,rt,nt.bytes))}else if(_e!=null&&_e[cidSymbol]===!0){const{version:tt,multihash:rt,code:nt}=_e,it=decode$7(rt);return CID.create(tt,nt,it)}else return null}static create(_e,tt,rt){if(typeof tt!="number")throw new Error("String codecs are no longer supported");switch(_e){case 0:{if(tt!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(_e,tt,rt,rt.bytes)}case 1:{const nt=encodeCID(_e,tt,rt.bytes);return new CID(_e,tt,rt,nt)}default:throw new Error("Invalid version")}}static createV0(_e){return CID.create(0,DAG_PB_CODE,_e)}static createV1(_e,tt){return CID.create(1,_e,tt)}static decode(_e){const[tt,rt]=CID.decodeFirst(_e);if(rt.length)throw new Error("Incorrect length");return tt}static decodeFirst(_e){const tt=CID.inspectBytes(_e),rt=tt.size-tt.multihashSize,nt=coerce(_e.subarray(rt,rt+tt.multihashSize));if(nt.byteLength!==tt.multihashSize)throw new Error("Incorrect length");const it=nt.subarray(tt.multihashSize-tt.digestSize),at=new Digest(tt.multihashCode,tt.digestSize,it,nt);return[tt.version===0?CID.createV0(at):CID.createV1(tt.codec,at),_e.subarray(tt.size)]}static inspectBytes(_e){let tt=0;const rt=()=>{const[ut,dt]=decode$8(_e.subarray(tt));return tt+=dt,ut};let nt=rt(),it=DAG_PB_CODE;if(nt===18?(nt=0,tt=0):nt===1&&(it=rt()),nt!==0&&nt!==1)throw new RangeError(`Invalid CID version ${nt}`);const at=tt,st=rt(),ot=rt(),ct=tt+ot,lt=ct-at;return{version:nt,codec:it,multihashCode:st,digestSize:ot,multihashSize:lt,size:ct}}static parse(_e,tt){const[rt,nt]=parseCIDtoBytes(_e,tt),it=CID.decode(nt);return it._baseCache.set(rt,_e),it}}const parseCIDtoBytes=(et,_e)=>{switch(et[0]){case"Q":{const tt=_e||base58btc;return[base58btc.prefix,tt.decode(`${base58btc.prefix}${et}`)]}case base58btc.prefix:{const tt=_e||base58btc;return[base58btc.prefix,tt.decode(et)]}case base32.prefix:{const tt=_e||base32;return[base32.prefix,tt.decode(et)]}default:{if(_e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[et[0],_e.decode(et)]}}},toStringV0=(et,_e,tt)=>{const{prefix:rt}=tt;if(rt!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${tt.name} encoding`);const nt=_e.get(rt);if(nt==null){const it=tt.encode(et).slice(1);return _e.set(rt,it),it}else return nt},toStringV1=(et,_e,tt)=>{const{prefix:rt}=tt,nt=_e.get(rt);if(nt==null){const it=tt.encode(et);return _e.set(rt,it),it}else return nt},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(et,_e,tt)=>{const rt=encodingLength(et),nt=rt+encodingLength(_e),it=new Uint8Array(nt+tt.byteLength);return encodeTo(et,it,0),encodeTo(_e,it,rt),it.set(tt,nt),it},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version$3="0.0.0-dev",deprecate$1=(et,_e)=>{if(et.test(version$3))console.warn(_e);else throw new Error(_e)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$2,...base256emoji$1},hashes={...sha2,...identity$3},codecs={raw,json},basics=Object.freeze(Object.defineProperty({__proto__:null,CID,hasher,digest:digest$2,varint:varint$2,bytes,hashes,bases,codecs},Symbol.toStringTag,{value:"Module"}));function asUint8Array$4(et){return globalThis.Buffer!=null?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et}function allocUnsafe$5(et=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array$4(globalThis.Buffer.allocUnsafe(et)):new Uint8Array(et)}function createCodec$4(et,_e,tt,rt){return{name:et,prefix:_e,encoder:{name:et,prefix:_e,encode:tt},decoder:{decode:rt}}}const string$4=createCodec$4("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>new TextEncoder().encode(et.substring(1))),ascii$4=createCodec$4("ascii","a",et=>{let _e="a";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return _e},et=>{et=et.substring(1);const _e=allocUnsafe$5(et.length);for(let tt=0;tt<et.length;tt++)_e[tt]=et.charCodeAt(tt);return _e}),BASES$4={utf8:string$4,"utf-8":string$4,hex:bases.base16,latin1:ascii$4,ascii:ascii$4,binary:ascii$4,...bases};function toString$6(et,_e="utf8"){const tt=BASES$4[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(et.buffer,et.byteOffset,et.byteLength).toString("utf8"):tt.encoder.encode(et).substring(1)}const toString$7=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$6},Symbol.toStringTag,{value:"Module"})),require$$3$4=getAugmentedNamespace(toString$7);function fromString$7(et,_e="utf8"){const tt=BASES$4[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$4(globalThis.Buffer.from(et,"utf-8")):tt.decoder.decode(`${tt.prefix}${et}`)}const fromString$8=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$7},Symbol.toStringTag,{value:"Module"})),require$$4$3=getAugmentedNamespace(fromString$8);function concat$9(et,_e){_e||(_e=et.reduce((nt,it)=>nt+it.length,0));const tt=allocUnsafe$5(_e);let rt=0;for(const nt of et)tt.set(nt,rt),rt+=nt.length;return asUint8Array$4(tt)}const concat$a=Object.freeze(Object.defineProperty({__proto__:null,concat:concat$9},Symbol.toStringTag,{value:"Module"})),require$$5$2=getAugmentedNamespace(concat$a),multibase=src$d.exports,varint$1=varint$4,{names:names$1}=constants$1,{toString:uint8ArrayToString}=require$$3$4,{fromString:uint8ArrayFromString$1}=require$$4$3,{concat:uint8ArrayConcat}=require$$5$2,codes$1={};for(const et in names$1){const _e=et;codes$1[names$1[_e]]=_e}Object.freeze(codes$1);function toHexString(et){if(!(et instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return uint8ArrayToString(et,"base16")}function fromHexString(et){return uint8ArrayFromString$1(et,"base16")}function toB58String(et){if(!(et instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return uint8ArrayToString(multibase.encode("base58btc",et)).slice(1)}function fromB58String(et){const _e=et instanceof Uint8Array?uint8ArrayToString(et):et;return multibase.decode("z"+_e)}function decode$4(et){if(!(et instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(et.length<2)throw new Error("multihash too short. must be > 2 bytes.");const _e=varint$1.decode(et);if(!isValidCode(_e))throw new Error(`multihash unknown function code: 0x${_e.toString(16)}`);et=et.slice(varint$1.decode.bytes);const tt=varint$1.decode(et);if(tt<0)throw new Error(`multihash invalid length: ${tt}`);if(et=et.slice(varint$1.decode.bytes),et.length!==tt)throw new Error(`multihash length inconsistent: 0x${uint8ArrayToString(et,"base16")}`);return{code:_e,name:codes$1[_e],length:tt,digest:et}}function encode$1(et,_e,tt){if(!et||_e===void 0)throw new Error("multihash encode requires at least two args: digest, code");const rt=coerceCode(_e);if(!(et instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(tt==null&&(tt=et.length),tt&&et.length!==tt)throw new Error("digest length should be equal to specified length.");const nt=varint$1.encode(rt),it=varint$1.encode(tt);return uint8ArrayConcat([nt,it,et],nt.length+it.length+et.length)}function coerceCode(et){let _e=et;if(typeof et=="string"){if(names$1[et]===void 0)throw new Error(`Unrecognized hash function named: ${et}`);_e=names$1[et]}if(typeof _e!="number")throw new Error(`Hash function code should be a number. Got: ${_e}`);if(codes$1[_e]===void 0&&!isAppCode(_e))throw new Error(`Unrecognized function code: ${_e}`);return _e}function isAppCode(et){return et>0&&et<16}function isValidCode(et){return!!(isAppCode(et)||codes$1[et])}function validate(et){decode$4(et)}function prefix$1(et){return validate(et),et.subarray(0,2)}var src$a={names:names$1,codes:codes$1,toHexString,fromHexString,toB58String,fromB58String,decode:decode$4,encode:encode$1,coerceCode,isAppCode,validate,prefix:prefix$1,isValidCode},murmurhash3jsRevisited={exports:{}},murmurHash3js={exports:{}};(function(et,_e){(function(tt,rt){var nt={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function it(bt){if(!Array.isArray(bt)&&!ArrayBuffer.isView(bt))return!1;for(var ht=0;ht<bt.length;ht++)if(!Number.isInteger(bt[ht])||bt[ht]<0||bt[ht]>255)return!1;return!0}function at(bt,ht){return(bt&65535)*ht+(((bt>>>16)*ht&65535)<<16)}function st(bt,ht){return bt<<ht|bt>>>32-ht}function ot(bt){return bt^=bt>>>16,bt=at(bt,2246822507),bt^=bt>>>13,bt=at(bt,3266489909),bt^=bt>>>16,bt}function ct(bt,ht){bt=[bt[0]>>>16,bt[0]&65535,bt[1]>>>16,bt[1]&65535],ht=[ht[0]>>>16,ht[0]&65535,ht[1]>>>16,ht[1]&65535];var yt=[0,0,0,0];return yt[3]+=bt[3]+ht[3],yt[2]+=yt[3]>>>16,yt[3]&=65535,yt[2]+=bt[2]+ht[2],yt[1]+=yt[2]>>>16,yt[2]&=65535,yt[1]+=bt[1]+ht[1],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[0]+=bt[0]+ht[0],yt[0]&=65535,[yt[0]<<16|yt[1],yt[2]<<16|yt[3]]}function lt(bt,ht){bt=[bt[0]>>>16,bt[0]&65535,bt[1]>>>16,bt[1]&65535],ht=[ht[0]>>>16,ht[0]&65535,ht[1]>>>16,ht[1]&65535];var yt=[0,0,0,0];return yt[3]+=bt[3]*ht[3],yt[2]+=yt[3]>>>16,yt[3]&=65535,yt[2]+=bt[2]*ht[3],yt[1]+=yt[2]>>>16,yt[2]&=65535,yt[2]+=bt[3]*ht[2],yt[1]+=yt[2]>>>16,yt[2]&=65535,yt[1]+=bt[1]*ht[3],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[1]+=bt[2]*ht[2],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[1]+=bt[3]*ht[1],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[0]+=bt[0]*ht[3]+bt[1]*ht[2]+bt[2]*ht[1]+bt[3]*ht[0],yt[0]&=65535,[yt[0]<<16|yt[1],yt[2]<<16|yt[3]]}function ut(bt,ht){return ht%=64,ht===32?[bt[1],bt[0]]:ht<32?[bt[0]<<ht|bt[1]>>>32-ht,bt[1]<<ht|bt[0]>>>32-ht]:(ht-=32,[bt[1]<<ht|bt[0]>>>32-ht,bt[0]<<ht|bt[1]>>>32-ht])}function dt(bt,ht){return ht%=64,ht===0?bt:ht<32?[bt[0]<<ht|bt[1]>>>32-ht,bt[1]<<ht]:[bt[1]<<ht-32,0]}function mt(bt,ht){return[bt[0]^ht[0],bt[1]^ht[1]]}function gt(bt){return bt=mt(bt,[0,bt[0]>>>1]),bt=lt(bt,[4283543511,3981806797]),bt=mt(bt,[0,bt[0]>>>1]),bt=lt(bt,[3301882366,444984403]),bt=mt(bt,[0,bt[0]>>>1]),bt}nt.x86.hash32=function(bt,ht){if(nt.inputValidation&&!it(bt))return rt;ht=ht||0;for(var yt=bt.length%4,wt=bt.length-yt,xt=ht,At=0,kt=3432918353,Ot=461845907,Wt=0;Wt<wt;Wt=Wt+4)At=bt[Wt]|bt[Wt+1]<<8|bt[Wt+2]<<16|bt[Wt+3]<<24,At=at(At,kt),At=st(At,15),At=at(At,Ot),xt^=At,xt=st(xt,13),xt=at(xt,5)+3864292196;switch(At=0,yt){case 3:At^=bt[Wt+2]<<16;case 2:At^=bt[Wt+1]<<8;case 1:At^=bt[Wt],At=at(At,kt),At=st(At,15),At=at(At,Ot),xt^=At}return xt^=bt.length,xt=ot(xt),xt>>>0},nt.x86.hash128=function(bt,ht){if(nt.inputValidation&&!it(bt))return rt;ht=ht||0;for(var yt=bt.length%16,wt=bt.length-yt,xt=ht,At=ht,kt=ht,Ot=ht,Wt=0,Ht=0,Zt=0,Lt=0,Et=597399067,It=2869860233,Ct=951274213,vt=2716044179,Tt=0;Tt<wt;Tt=Tt+16)Wt=bt[Tt]|bt[Tt+1]<<8|bt[Tt+2]<<16|bt[Tt+3]<<24,Ht=bt[Tt+4]|bt[Tt+5]<<8|bt[Tt+6]<<16|bt[Tt+7]<<24,Zt=bt[Tt+8]|bt[Tt+9]<<8|bt[Tt+10]<<16|bt[Tt+11]<<24,Lt=bt[Tt+12]|bt[Tt+13]<<8|bt[Tt+14]<<16|bt[Tt+15]<<24,Wt=at(Wt,Et),Wt=st(Wt,15),Wt=at(Wt,It),xt^=Wt,xt=st(xt,19),xt+=At,xt=at(xt,5)+1444728091,Ht=at(Ht,It),Ht=st(Ht,16),Ht=at(Ht,Ct),At^=Ht,At=st(At,17),At+=kt,At=at(At,5)+197830471,Zt=at(Zt,Ct),Zt=st(Zt,17),Zt=at(Zt,vt),kt^=Zt,kt=st(kt,15),kt+=Ot,kt=at(kt,5)+2530024501,Lt=at(Lt,vt),Lt=st(Lt,18),Lt=at(Lt,Et),Ot^=Lt,Ot=st(Ot,13),Ot+=xt,Ot=at(Ot,5)+850148119;switch(Wt=0,Ht=0,Zt=0,Lt=0,yt){case 15:Lt^=bt[Tt+14]<<16;case 14:Lt^=bt[Tt+13]<<8;case 13:Lt^=bt[Tt+12],Lt=at(Lt,vt),Lt=st(Lt,18),Lt=at(Lt,Et),Ot^=Lt;case 12:Zt^=bt[Tt+11]<<24;case 11:Zt^=bt[Tt+10]<<16;case 10:Zt^=bt[Tt+9]<<8;case 9:Zt^=bt[Tt+8],Zt=at(Zt,Ct),Zt=st(Zt,17),Zt=at(Zt,vt),kt^=Zt;case 8:Ht^=bt[Tt+7]<<24;case 7:Ht^=bt[Tt+6]<<16;case 6:Ht^=bt[Tt+5]<<8;case 5:Ht^=bt[Tt+4],Ht=at(Ht,It),Ht=st(Ht,16),Ht=at(Ht,Ct),At^=Ht;case 4:Wt^=bt[Tt+3]<<24;case 3:Wt^=bt[Tt+2]<<16;case 2:Wt^=bt[Tt+1]<<8;case 1:Wt^=bt[Tt],Wt=at(Wt,Et),Wt=st(Wt,15),Wt=at(Wt,It),xt^=Wt}return xt^=bt.length,At^=bt.length,kt^=bt.length,Ot^=bt.length,xt+=At,xt+=kt,xt+=Ot,At+=xt,kt+=xt,Ot+=xt,xt=ot(xt),At=ot(At),kt=ot(kt),Ot=ot(Ot),xt+=At,xt+=kt,xt+=Ot,At+=xt,kt+=xt,Ot+=xt,("00000000"+(xt>>>0).toString(16)).slice(-8)+("00000000"+(At>>>0).toString(16)).slice(-8)+("00000000"+(kt>>>0).toString(16)).slice(-8)+("00000000"+(Ot>>>0).toString(16)).slice(-8)},nt.x64.hash128=function(bt,ht){if(nt.inputValidation&&!it(bt))return rt;ht=ht||0;for(var yt=bt.length%16,wt=bt.length-yt,xt=[0,ht],At=[0,ht],kt=[0,0],Ot=[0,0],Wt=[2277735313,289559509],Ht=[1291169091,658871167],Zt=0;Zt<wt;Zt=Zt+16)kt=[bt[Zt+4]|bt[Zt+5]<<8|bt[Zt+6]<<16|bt[Zt+7]<<24,bt[Zt]|bt[Zt+1]<<8|bt[Zt+2]<<16|bt[Zt+3]<<24],Ot=[bt[Zt+12]|bt[Zt+13]<<8|bt[Zt+14]<<16|bt[Zt+15]<<24,bt[Zt+8]|bt[Zt+9]<<8|bt[Zt+10]<<16|bt[Zt+11]<<24],kt=lt(kt,Wt),kt=ut(kt,31),kt=lt(kt,Ht),xt=mt(xt,kt),xt=ut(xt,27),xt=ct(xt,At),xt=ct(lt(xt,[0,5]),[0,1390208809]),Ot=lt(Ot,Ht),Ot=ut(Ot,33),Ot=lt(Ot,Wt),At=mt(At,Ot),At=ut(At,31),At=ct(At,xt),At=ct(lt(At,[0,5]),[0,944331445]);switch(kt=[0,0],Ot=[0,0],yt){case 15:Ot=mt(Ot,dt([0,bt[Zt+14]],48));case 14:Ot=mt(Ot,dt([0,bt[Zt+13]],40));case 13:Ot=mt(Ot,dt([0,bt[Zt+12]],32));case 12:Ot=mt(Ot,dt([0,bt[Zt+11]],24));case 11:Ot=mt(Ot,dt([0,bt[Zt+10]],16));case 10:Ot=mt(Ot,dt([0,bt[Zt+9]],8));case 9:Ot=mt(Ot,[0,bt[Zt+8]]),Ot=lt(Ot,Ht),Ot=ut(Ot,33),Ot=lt(Ot,Wt),At=mt(At,Ot);case 8:kt=mt(kt,dt([0,bt[Zt+7]],56));case 7:kt=mt(kt,dt([0,bt[Zt+6]],48));case 6:kt=mt(kt,dt([0,bt[Zt+5]],40));case 5:kt=mt(kt,dt([0,bt[Zt+4]],32));case 4:kt=mt(kt,dt([0,bt[Zt+3]],24));case 3:kt=mt(kt,dt([0,bt[Zt+2]],16));case 2:kt=mt(kt,dt([0,bt[Zt+1]],8));case 1:kt=mt(kt,[0,bt[Zt]]),kt=lt(kt,Wt),kt=ut(kt,31),kt=lt(kt,Ht),xt=mt(xt,kt)}return xt=mt(xt,[0,bt.length]),At=mt(At,[0,bt.length]),xt=ct(xt,At),At=ct(At,xt),xt=gt(xt),At=gt(At),xt=ct(xt,At),At=ct(At,xt),("00000000"+(xt[0]>>>0).toString(16)).slice(-8)+("00000000"+(xt[1]>>>0).toString(16)).slice(-8)+("00000000"+(At[0]>>>0).toString(16)).slice(-8)+("00000000"+(At[1]>>>0).toString(16)).slice(-8)},et.exports&&(_e=et.exports=nt),_e.murmurHash3=nt})()})(murmurHash3js,murmurHash3js.exports);(function(et){et.exports=murmurHash3js.exports})(murmurhash3jsRevisited);const multihash$1=src$a,crypto$4=self.crypto||self.msCrypto,digest=async(et,_e)=>{if(typeof self>"u"||!crypto$4)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(_e){case"sha1":return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-1"},et));case"sha2-256":return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-256"},et));case"sha2-512":return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-512"},et));case"dbl-sha2-256":{const tt=await crypto$4.subtle.digest({name:"SHA-256"},et);return new Uint8Array(await crypto$4.subtle.digest({name:"SHA-256"},tt))}default:throw new Error(`${_e} is not a supported algorithm`)}};var sha_browser={factory:et=>async _e=>digest(_e,et),digest,multihashing:async(et,_e,tt)=>{const rt=await digest(et,_e);return multihash$1.encode(rt,_e,tt)}};const fromNumberTo32BitBuf$1=et=>{const _e=new Uint8Array(4);for(let tt=0;tt<4;tt++)_e[tt]=et&255,et=et>>8;return _e};var utils$7={fromNumberTo32BitBuf:fromNumberTo32BitBuf$1};function asUint8Array$3(et){return globalThis.Buffer!=null?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et}function allocUnsafe$4(et=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array$3(globalThis.Buffer.allocUnsafe(et)):new Uint8Array(et)}function createCodec$3(et,_e,tt,rt){return{name:et,prefix:_e,encoder:{name:et,prefix:_e,encode:tt},decoder:{decode:rt}}}const string$3=createCodec$3("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>new TextEncoder().encode(et.substring(1))),ascii$3=createCodec$3("ascii","a",et=>{let _e="a";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return _e},et=>{et=et.substring(1);const _e=allocUnsafe$4(et.length);for(let tt=0;tt<et.length;tt++)_e[tt]=et.charCodeAt(tt);return _e}),BASES$3={utf8:string$3,"utf-8":string$3,hex:bases.base16,latin1:ascii$3,ascii:ascii$3,binary:ascii$3,...bases};function fromString$5(et,_e="utf8"){const tt=BASES$3[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$3(globalThis.Buffer.from(et,"utf-8")):tt.decoder.decode(`${tt.prefix}${et}`)}const fromString$6=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$5},Symbol.toStringTag,{value:"Module"})),require$$4$2=getAugmentedNamespace(fromString$6);var util$9,hasRequiredUtil$3;function requireUtil$3(){if(hasRequiredUtil$3)return util$9;hasRequiredUtil$3=1;const et="Input must be an string, Buffer or Uint8Array";function _e(at){let st;if(at instanceof Uint8Array)st=at;else if(typeof at=="string")st=new TextEncoder().encode(at);else throw new Error(et);return st}function tt(at){return Array.prototype.map.call(at,function(st){return(st<16?"0":"")+st.toString(16)}).join("")}function rt(at){return(4294967296+at).toString(16).substring(1)}function nt(at,st,ot){let ct=`
`+at+" = ";for(let lt=0;lt<st.length;lt+=2){if(ot===32)ct+=rt(st[lt]).toUpperCase(),ct+=" ",ct+=rt(st[lt+1]).toUpperCase();else if(ot===64)ct+=rt(st[lt+1]).toUpperCase(),ct+=rt(st[lt]).toUpperCase();else throw new Error("Invalid size "+ot);lt%6===4?ct+=`
`+new Array(at.length+4).join(" "):lt<st.length-2&&(ct+=" ")}console.log(ct)}function it(at,st,ot){let ct=new Date().getTime();const lt=new Uint8Array(st);for(let dt=0;dt<st;dt++)lt[dt]=dt%256;const ut=new Date().getTime();console.log("Generated random input in "+(ut-ct)+"ms"),ct=ut;for(let dt=0;dt<ot;dt++){const mt=at(lt),gt=new Date().getTime(),bt=gt-ct;ct=gt,console.log("Hashed in "+bt+"ms: "+mt.substring(0,20)+"..."),console.log(Math.round(st/(1<<20)/(bt/1e3)*100)/100+" MB PER SECOND")}}return util$9={normalizeInput:_e,toHex:tt,debugPrint:nt,testSpeed:it},util$9}var blake2b_1,hasRequiredBlake2b;function requireBlake2b(){if(hasRequiredBlake2b)return blake2b_1;hasRequiredBlake2b=1;const et=requireUtil$3();function _e(yt,wt,xt){const At=yt[wt]+yt[xt];let kt=yt[wt+1]+yt[xt+1];At>=4294967296&&kt++,yt[wt]=At,yt[wt+1]=kt}function tt(yt,wt,xt,At){let kt=yt[wt]+xt;xt<0&&(kt+=4294967296);let Ot=yt[wt+1]+At;kt>=4294967296&&Ot++,yt[wt]=kt,yt[wt+1]=Ot}function rt(yt,wt){return yt[wt]^yt[wt+1]<<8^yt[wt+2]<<16^yt[wt+3]<<24}function nt(yt,wt,xt,At,kt,Ot){const Wt=ct[kt],Ht=ct[kt+1],Zt=ct[Ot],Lt=ct[Ot+1];_e(ot,yt,wt),tt(ot,yt,Wt,Ht);let Et=ot[At]^ot[yt],It=ot[At+1]^ot[yt+1];ot[At]=It,ot[At+1]=Et,_e(ot,xt,At),Et=ot[wt]^ot[xt],It=ot[wt+1]^ot[xt+1],ot[wt]=Et>>>24^It<<8,ot[wt+1]=It>>>24^Et<<8,_e(ot,yt,wt),tt(ot,yt,Zt,Lt),Et=ot[At]^ot[yt],It=ot[At+1]^ot[yt+1],ot[At]=Et>>>16^It<<16,ot[At+1]=It>>>16^Et<<16,_e(ot,xt,At),Et=ot[wt]^ot[xt],It=ot[wt+1]^ot[xt+1],ot[wt]=It>>>31^Et<<1,ot[wt+1]=Et>>>31^It<<1}const it=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),at=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],st=new Uint8Array(at.map(function(yt){return yt*2})),ot=new Uint32Array(32),ct=new Uint32Array(32);function lt(yt,wt){let xt=0;for(xt=0;xt<16;xt++)ot[xt]=yt.h[xt],ot[xt+16]=it[xt];for(ot[24]=ot[24]^yt.t,ot[25]=ot[25]^yt.t/4294967296,wt&&(ot[28]=~ot[28],ot[29]=~ot[29]),xt=0;xt<32;xt++)ct[xt]=rt(yt.b,4*xt);for(xt=0;xt<12;xt++)nt(0,8,16,24,st[xt*16+0],st[xt*16+1]),nt(2,10,18,26,st[xt*16+2],st[xt*16+3]),nt(4,12,20,28,st[xt*16+4],st[xt*16+5]),nt(6,14,22,30,st[xt*16+6],st[xt*16+7]),nt(0,10,20,30,st[xt*16+8],st[xt*16+9]),nt(2,12,22,24,st[xt*16+10],st[xt*16+11]),nt(4,14,16,26,st[xt*16+12],st[xt*16+13]),nt(6,8,18,28,st[xt*16+14],st[xt*16+15]);for(xt=0;xt<16;xt++)yt.h[xt]=yt.h[xt]^ot[xt]^ot[xt+16]}const ut=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function dt(yt,wt,xt,At){if(yt===0||yt>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(wt&&wt.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(xt&&xt.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(At&&At.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const kt={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:yt};ut.fill(0),ut[0]=yt,wt&&(ut[1]=wt.length),ut[2]=1,ut[3]=1,xt&&ut.set(xt,32),At&&ut.set(At,48);for(let Ot=0;Ot<16;Ot++)kt.h[Ot]=it[Ot]^rt(ut,Ot*4);return wt&&(mt(kt,wt),kt.c=128),kt}function mt(yt,wt){for(let xt=0;xt<wt.length;xt++)yt.c===128&&(yt.t+=yt.c,lt(yt,!1),yt.c=0),yt.b[yt.c++]=wt[xt]}function gt(yt){for(yt.t+=yt.c;yt.c<128;)yt.b[yt.c++]=0;lt(yt,!0);const wt=new Uint8Array(yt.outlen);for(let xt=0;xt<yt.outlen;xt++)wt[xt]=yt.h[xt>>2]>>8*(xt&3);return wt}function bt(yt,wt,xt,At,kt){xt=xt||64,yt=et.normalizeInput(yt),At&&(At=et.normalizeInput(At)),kt&&(kt=et.normalizeInput(kt));const Ot=dt(xt,wt,At,kt);return mt(Ot,yt),gt(Ot)}function ht(yt,wt,xt,At,kt){const Ot=bt(yt,wt,xt,At,kt);return et.toHex(Ot)}return blake2b_1={blake2b:bt,blake2bHex:ht,blake2bInit:dt,blake2bUpdate:mt,blake2bFinal:gt},blake2b_1}var blake2s_1,hasRequiredBlake2s;function requireBlake2s(){if(hasRequiredBlake2s)return blake2s_1;hasRequiredBlake2s=1;const et=requireUtil$3();function _e(gt,bt){return gt[bt]^gt[bt+1]<<8^gt[bt+2]<<16^gt[bt+3]<<24}function tt(gt,bt,ht,yt,wt,xt){at[gt]=at[gt]+at[bt]+wt,at[yt]=rt(at[yt]^at[gt],16),at[ht]=at[ht]+at[yt],at[bt]=rt(at[bt]^at[ht],12),at[gt]=at[gt]+at[bt]+xt,at[yt]=rt(at[yt]^at[gt],8),at[ht]=at[ht]+at[yt],at[bt]=rt(at[bt]^at[ht],7)}function rt(gt,bt){return gt>>>bt^gt<<32-bt}const nt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),it=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),at=new Uint32Array(16),st=new Uint32Array(16);function ot(gt,bt){let ht=0;for(ht=0;ht<8;ht++)at[ht]=gt.h[ht],at[ht+8]=nt[ht];for(at[12]^=gt.t,at[13]^=gt.t/4294967296,bt&&(at[14]=~at[14]),ht=0;ht<16;ht++)st[ht]=_e(gt.b,4*ht);for(ht=0;ht<10;ht++)tt(0,4,8,12,st[it[ht*16+0]],st[it[ht*16+1]]),tt(1,5,9,13,st[it[ht*16+2]],st[it[ht*16+3]]),tt(2,6,10,14,st[it[ht*16+4]],st[it[ht*16+5]]),tt(3,7,11,15,st[it[ht*16+6]],st[it[ht*16+7]]),tt(0,5,10,15,st[it[ht*16+8]],st[it[ht*16+9]]),tt(1,6,11,12,st[it[ht*16+10]],st[it[ht*16+11]]),tt(2,7,8,13,st[it[ht*16+12]],st[it[ht*16+13]]),tt(3,4,9,14,st[it[ht*16+14]],st[it[ht*16+15]]);for(ht=0;ht<8;ht++)gt.h[ht]^=at[ht]^at[ht+8]}function ct(gt,bt){if(!(gt>0&&gt<=32))throw new Error("Incorrect output length, should be in [1, 32]");const ht=bt?bt.length:0;if(bt&&!(ht>0&&ht<=32))throw new Error("Incorrect key length, should be in [1, 32]");const yt={h:new Uint32Array(nt),b:new Uint8Array(64),c:0,t:0,outlen:gt};return yt.h[0]^=16842752^ht<<8^gt,ht>0&&(lt(yt,bt),yt.c=64),yt}function lt(gt,bt){for(let ht=0;ht<bt.length;ht++)gt.c===64&&(gt.t+=gt.c,ot(gt,!1),gt.c=0),gt.b[gt.c++]=bt[ht]}function ut(gt){for(gt.t+=gt.c;gt.c<64;)gt.b[gt.c++]=0;ot(gt,!0);const bt=new Uint8Array(gt.outlen);for(let ht=0;ht<gt.outlen;ht++)bt[ht]=gt.h[ht>>2]>>8*(ht&3)&255;return bt}function dt(gt,bt,ht){ht=ht||32,gt=et.normalizeInput(gt);const yt=ct(ht,bt);return lt(yt,gt),ut(yt)}function mt(gt,bt,ht){const yt=dt(gt,bt,ht);return et.toHex(yt)}return blake2s_1={blake2s:dt,blake2sHex:mt,blake2sInit:ct,blake2sUpdate:lt,blake2sFinal:ut},blake2s_1}var blakejs,hasRequiredBlakejs;function requireBlakejs(){if(hasRequiredBlakejs)return blakejs;hasRequiredBlakejs=1;const et=requireBlake2b(),_e=requireBlake2s();return blakejs={blake2b:et.blake2b,blake2bHex:et.blake2bHex,blake2bInit:et.blake2bInit,blake2bUpdate:et.blake2bUpdate,blake2bFinal:et.blake2bFinal,blake2s:_e.blake2s,blake2sHex:_e.blake2sHex,blake2sInit:_e.blake2sInit,blake2sUpdate:_e.blake2sUpdate,blake2sFinal:_e.blake2sFinal},blakejs}var blake_1,hasRequiredBlake;function requireBlake(){if(hasRequiredBlake)return blake_1;hasRequiredBlake=1;const et=requireBlakejs(),_e=45569,tt=45633,rt={init:et.blake2bInit,update:et.blake2bUpdate,digest:et.blake2bFinal},nt={init:et.blake2sInit,update:et.blake2sUpdate,digest:et.blake2sFinal},it=(at,st)=>async ot=>{const ct=st.init(at,null);return st.update(ct,ot),st.digest(ct)};return blake_1=at=>{for(let st=0;st<64;st++)at[_e+st]=it(st+1,rt);for(let st=0;st<32;st++)at[tt+st]=it(st+1,nt)},blake_1}const sha3$1=sha3$3.exports,mur=murmurhash3jsRevisited.exports,{factory:sha$1}=sha_browser,{fromNumberTo32BitBuf}=utils$7,{fromString:uint8ArrayFromString}=require$$4$2,hash$2=et=>async _e=>{switch(et){case"sha3-224":return new Uint8Array(sha3$1.sha3_224.arrayBuffer(_e));case"sha3-256":return new Uint8Array(sha3$1.sha3_256.arrayBuffer(_e));case"sha3-384":return new Uint8Array(sha3$1.sha3_384.arrayBuffer(_e));case"sha3-512":return new Uint8Array(sha3$1.sha3_512.arrayBuffer(_e));case"shake-128":return new Uint8Array(sha3$1.shake128.create(128).update(_e).arrayBuffer());case"shake-256":return new Uint8Array(sha3$1.shake256.create(256).update(_e).arrayBuffer());case"keccak-224":return new Uint8Array(sha3$1.keccak224.arrayBuffer(_e));case"keccak-256":return new Uint8Array(sha3$1.keccak256.arrayBuffer(_e));case"keccak-384":return new Uint8Array(sha3$1.keccak384.arrayBuffer(_e));case"keccak-512":return new Uint8Array(sha3$1.keccak512.arrayBuffer(_e));case"murmur3-128":return uint8ArrayFromString(mur.x64.hash128(_e),"base16");case"murmur3-32":return fromNumberTo32BitBuf(mur.x86.hash32(_e));default:throw new TypeError(`${et} is not a supported algorithm`)}},identity$1=et=>et;var crypto$3={identity:identity$1,sha1:sha$1("sha1"),sha2256:sha$1("sha2-256"),sha2512:sha$1("sha2-512"),dblSha2256:sha$1("dbl-sha2-256"),sha3224:hash$2("sha3-224"),sha3256:hash$2("sha3-256"),sha3384:hash$2("sha3-384"),sha3512:hash$2("sha3-512"),shake128:hash$2("shake-128"),shake256:hash$2("shake-256"),keccak224:hash$2("keccak-224"),keccak256:hash$2("keccak-256"),keccak384:hash$2("keccak-384"),keccak512:hash$2("keccak-512"),murmur3128:hash$2("murmur3-128"),murmur332:hash$2("murmur3-32"),addBlake:requireBlake()};function equals$3(et,_e){if(et===_e)return!0;if(et.byteLength!==_e.byteLength)return!1;for(let tt=0;tt<et.byteLength;tt++)if(et[tt]!==_e[tt])return!1;return!0}const equals$4=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$3},Symbol.toStringTag,{value:"Module"})),require$$3$3=getAugmentedNamespace(equals$4),errcode=errCode,multihash=src$a,crypto$2=crypto$3,{equals:equals$2}=require$$3$3;async function Multihashing(et,_e,tt){const rt=await Multihashing.digest(et,_e,tt);return multihash.encode(rt,_e,tt)}Multihashing.multihash=multihash;Multihashing.digest=async(et,_e,tt)=>{const nt=await Multihashing.createHash(_e)(et);return tt?nt.slice(0,tt):nt};Multihashing.createHash=function(et){if(!et)throw errcode(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");const _e=multihash.coerceCode(et);if(!Multihashing.functions[_e])throw errcode(new Error(`multihash function '${et}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Multihashing.functions[_e]};Multihashing.functions={0:crypto$2.identity,17:crypto$2.sha1,18:crypto$2.sha2256,19:crypto$2.sha2512,20:crypto$2.sha3512,21:crypto$2.sha3384,22:crypto$2.sha3256,23:crypto$2.sha3224,24:crypto$2.shake128,25:crypto$2.shake256,26:crypto$2.keccak224,27:crypto$2.keccak256,28:crypto$2.keccak384,29:crypto$2.keccak512,34:crypto$2.murmur3128,35:crypto$2.murmur332,86:crypto$2.dblSha2256};crypto$2.addBlake(Multihashing.functions);Multihashing.validate=async(et,_e)=>{const tt=await Multihashing(et,multihash.decode(_e).name);return equals$2(_e,tt)};var src$9=Multihashing;const mergeOptions=mergeOptions$1.bind({ignoreUndefined:!0}),multihashing=src$9;async function hamtHashFn(et){const tt=(await multihashing(et,"murmur3-128")).slice(2,10),rt=tt.length,nt=new Uint8Array(rt);for(let it=0;it<rt;it++)nt[rt-it-1]=tt[it];return nt}const defaultOptions$3={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,pin:!1,recursive:!1,hidden:!1,preload:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8};var options=function(et={}){return mergeOptions(defaultOptions$3,et)},minimal$1={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=et;function et(_e,tt){for(var rt=new Array(arguments.length-1),nt=0,it=2,at=!0;it<arguments.length;)rt[nt++]=arguments[it++];return new Promise(function(ot,ct){rt[nt]=function(ut){if(at)if(at=!1,ut)ct(ut);else{for(var dt=new Array(arguments.length-1),mt=0;mt<dt.length;)dt[mt++]=arguments[mt];ot.apply(null,dt)}};try{_e.apply(tt||null,rt)}catch(lt){at&&(at=!1,ct(lt))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(et){var _e=et;_e.length=function(st){var ot=st.length;if(!ot)return 0;for(var ct=0;--ot%4>1&&st.charAt(ot)==="=";)++ct;return Math.ceil(st.length*3)/4-ct};for(var tt=new Array(64),rt=new Array(123),nt=0;nt<64;)rt[tt[nt]=nt<26?nt+65:nt<52?nt+71:nt<62?nt-4:nt-59|43]=nt++;_e.encode=function(st,ot,ct){for(var lt=null,ut=[],dt=0,mt=0,gt;ot<ct;){var bt=st[ot++];switch(mt){case 0:ut[dt++]=tt[bt>>2],gt=(bt&3)<<4,mt=1;break;case 1:ut[dt++]=tt[gt|bt>>4],gt=(bt&15)<<2,mt=2;break;case 2:ut[dt++]=tt[gt|bt>>6],ut[dt++]=tt[bt&63],mt=0;break}dt>8191&&((lt||(lt=[])).push(String.fromCharCode.apply(String,ut)),dt=0)}return mt&&(ut[dt++]=tt[gt],ut[dt++]=61,mt===1&&(ut[dt++]=61)),lt?(dt&&lt.push(String.fromCharCode.apply(String,ut.slice(0,dt))),lt.join("")):String.fromCharCode.apply(String,ut.slice(0,dt))};var it="invalid encoding";_e.decode=function(st,ot,ct){for(var lt=ct,ut=0,dt,mt=0;mt<st.length;){var gt=st.charCodeAt(mt++);if(gt===61&&ut>1)break;if((gt=rt[gt])===void 0)throw Error(it);switch(ut){case 0:dt=gt,ut=1;break;case 1:ot[ct++]=dt<<2|(gt&48)>>4,dt=gt,ut=2;break;case 2:ot[ct++]=(dt&15)<<4|(gt&60)>>2,dt=gt,ut=3;break;case 3:ot[ct++]=(dt&3)<<6|gt,ut=0;break}}if(ut===1)throw Error(it);return ct-lt},_e.test=function(st){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(st)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=et;function et(){this._listeners={}}return et.prototype.on=function(tt,rt,nt){return(this._listeners[tt]||(this._listeners[tt]=[])).push({fn:rt,ctx:nt||this}),this},et.prototype.off=function(tt,rt){if(tt===void 0)this._listeners={};else if(rt===void 0)this._listeners[tt]=[];else for(var nt=this._listeners[tt],it=0;it<nt.length;)nt[it].fn===rt?nt.splice(it,1):++it;return this},et.prototype.emit=function(tt){var rt=this._listeners[tt];if(rt){for(var nt=[],it=1;it<arguments.length;)nt.push(arguments[it++]);for(it=0;it<rt.length;)rt[it].fn.apply(rt[it++].ctx,nt)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=et(et);function et(it){return typeof Float32Array<"u"?function(){var at=new Float32Array([-0]),st=new Uint8Array(at.buffer),ot=st[3]===128;function ct(mt,gt,bt){at[0]=mt,gt[bt]=st[0],gt[bt+1]=st[1],gt[bt+2]=st[2],gt[bt+3]=st[3]}function lt(mt,gt,bt){at[0]=mt,gt[bt]=st[3],gt[bt+1]=st[2],gt[bt+2]=st[1],gt[bt+3]=st[0]}it.writeFloatLE=ot?ct:lt,it.writeFloatBE=ot?lt:ct;function ut(mt,gt){return st[0]=mt[gt],st[1]=mt[gt+1],st[2]=mt[gt+2],st[3]=mt[gt+3],at[0]}function dt(mt,gt){return st[3]=mt[gt],st[2]=mt[gt+1],st[1]=mt[gt+2],st[0]=mt[gt+3],at[0]}it.readFloatLE=ot?ut:dt,it.readFloatBE=ot?dt:ut}():function(){function at(ot,ct,lt,ut){var dt=ct<0?1:0;if(dt&&(ct=-ct),ct===0)ot(1/ct>0?0:2147483648,lt,ut);else if(isNaN(ct))ot(2143289344,lt,ut);else if(ct>34028234663852886e22)ot((dt<<31|2139095040)>>>0,lt,ut);else if(ct<11754943508222875e-54)ot((dt<<31|Math.round(ct/1401298464324817e-60))>>>0,lt,ut);else{var mt=Math.floor(Math.log(ct)/Math.LN2),gt=Math.round(ct*Math.pow(2,-mt)*8388608)&8388607;ot((dt<<31|mt+127<<23|gt)>>>0,lt,ut)}}it.writeFloatLE=at.bind(null,_e),it.writeFloatBE=at.bind(null,tt);function st(ot,ct,lt){var ut=ot(ct,lt),dt=(ut>>31)*2+1,mt=ut>>>23&255,gt=ut&8388607;return mt===255?gt?NaN:dt*(1/0):mt===0?dt*1401298464324817e-60*gt:dt*Math.pow(2,mt-150)*(gt+8388608)}it.readFloatLE=st.bind(null,rt),it.readFloatBE=st.bind(null,nt)}(),typeof Float64Array<"u"?function(){var at=new Float64Array([-0]),st=new Uint8Array(at.buffer),ot=st[7]===128;function ct(mt,gt,bt){at[0]=mt,gt[bt]=st[0],gt[bt+1]=st[1],gt[bt+2]=st[2],gt[bt+3]=st[3],gt[bt+4]=st[4],gt[bt+5]=st[5],gt[bt+6]=st[6],gt[bt+7]=st[7]}function lt(mt,gt,bt){at[0]=mt,gt[bt]=st[7],gt[bt+1]=st[6],gt[bt+2]=st[5],gt[bt+3]=st[4],gt[bt+4]=st[3],gt[bt+5]=st[2],gt[bt+6]=st[1],gt[bt+7]=st[0]}it.writeDoubleLE=ot?ct:lt,it.writeDoubleBE=ot?lt:ct;function ut(mt,gt){return st[0]=mt[gt],st[1]=mt[gt+1],st[2]=mt[gt+2],st[3]=mt[gt+3],st[4]=mt[gt+4],st[5]=mt[gt+5],st[6]=mt[gt+6],st[7]=mt[gt+7],at[0]}function dt(mt,gt){return st[7]=mt[gt],st[6]=mt[gt+1],st[5]=mt[gt+2],st[4]=mt[gt+3],st[3]=mt[gt+4],st[2]=mt[gt+5],st[1]=mt[gt+6],st[0]=mt[gt+7],at[0]}it.readDoubleLE=ot?ut:dt,it.readDoubleBE=ot?dt:ut}():function(){function at(ot,ct,lt,ut,dt,mt){var gt=ut<0?1:0;if(gt&&(ut=-ut),ut===0)ot(0,dt,mt+ct),ot(1/ut>0?0:2147483648,dt,mt+lt);else if(isNaN(ut))ot(0,dt,mt+ct),ot(2146959360,dt,mt+lt);else if(ut>17976931348623157e292)ot(0,dt,mt+ct),ot((gt<<31|2146435072)>>>0,dt,mt+lt);else{var bt;if(ut<22250738585072014e-324)bt=ut/5e-324,ot(bt>>>0,dt,mt+ct),ot((gt<<31|bt/4294967296)>>>0,dt,mt+lt);else{var ht=Math.floor(Math.log(ut)/Math.LN2);ht===1024&&(ht=1023),bt=ut*Math.pow(2,-ht),ot(bt*4503599627370496>>>0,dt,mt+ct),ot((gt<<31|ht+1023<<20|bt*1048576&1048575)>>>0,dt,mt+lt)}}}it.writeDoubleLE=at.bind(null,_e,0,4),it.writeDoubleBE=at.bind(null,tt,4,0);function st(ot,ct,lt,ut,dt){var mt=ot(ut,dt+ct),gt=ot(ut,dt+lt),bt=(gt>>31)*2+1,ht=gt>>>20&2047,yt=4294967296*(gt&1048575)+mt;return ht===2047?yt?NaN:bt*(1/0):ht===0?bt*5e-324*yt:bt*Math.pow(2,ht-1075)*(yt+4503599627370496)}it.readDoubleLE=st.bind(null,rt,0,4),it.readDoubleBE=st.bind(null,nt,4,0)}(),it}function _e(it,at,st){at[st]=it&255,at[st+1]=it>>>8&255,at[st+2]=it>>>16&255,at[st+3]=it>>>24}function tt(it,at,st){at[st]=it>>>24,at[st+1]=it>>>16&255,at[st+2]=it>>>8&255,at[st+3]=it&255}function rt(it,at){return(it[at]|it[at+1]<<8|it[at+2]<<16|it[at+3]<<24)>>>0}function nt(it,at){return(it[at]<<24|it[at+1]<<16|it[at+2]<<8|it[at+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(et){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(et){var _e=et;_e.length=function(rt){for(var nt=0,it=0,at=0;at<rt.length;++at)it=rt.charCodeAt(at),it<128?nt+=1:it<2048?nt+=2:(it&64512)===55296&&(rt.charCodeAt(at+1)&64512)===56320?(++at,nt+=4):nt+=3;return nt},_e.read=function(rt,nt,it){var at=it-nt;if(at<1)return"";for(var st=null,ot=[],ct=0,lt;nt<it;)lt=rt[nt++],lt<128?ot[ct++]=lt:lt>191&&lt<224?ot[ct++]=(lt&31)<<6|rt[nt++]&63:lt>239&&lt<365?(lt=((lt&7)<<18|(rt[nt++]&63)<<12|(rt[nt++]&63)<<6|rt[nt++]&63)-65536,ot[ct++]=55296+(lt>>10),ot[ct++]=56320+(lt&1023)):ot[ct++]=(lt&15)<<12|(rt[nt++]&63)<<6|rt[nt++]&63,ct>8191&&((st||(st=[])).push(String.fromCharCode.apply(String,ot)),ct=0);return st?(ct&&st.push(String.fromCharCode.apply(String,ot.slice(0,ct))),st.join("")):String.fromCharCode.apply(String,ot.slice(0,ct))},_e.write=function(rt,nt,it){for(var at=it,st,ot,ct=0;ct<rt.length;++ct)st=rt.charCodeAt(ct),st<128?nt[it++]=st:st<2048?(nt[it++]=st>>6|192,nt[it++]=st&63|128):(st&64512)===55296&&((ot=rt.charCodeAt(ct+1))&64512)===56320?(st=65536+((st&1023)<<10)+(ot&1023),++ct,nt[it++]=st>>18|240,nt[it++]=st>>12&63|128,nt[it++]=st>>6&63|128,nt[it++]=st&63|128):(nt[it++]=st>>12|224,nt[it++]=st>>6&63|128,nt[it++]=st&63|128);return it-at}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=et;function et(_e,tt,rt){var nt=rt||8192,it=nt>>>1,at=null,st=nt;return function(ct){if(ct<1||ct>it)return _e(ct);st+ct>nt&&(at=_e(nt),st=0);var lt=tt.call(at,st,st+=ct);return st&7&&(st=(st|7)+1),lt}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=_e;var et=requireMinimal$1();function _e(it,at){this.lo=it>>>0,this.hi=at>>>0}var tt=_e.zero=new _e(0,0);tt.toNumber=function(){return 0},tt.zzEncode=tt.zzDecode=function(){return this},tt.length=function(){return 1};var rt=_e.zeroHash="\0\0\0\0\0\0\0\0";_e.fromNumber=function(at){if(at===0)return tt;var st=at<0;st&&(at=-at);var ot=at>>>0,ct=(at-ot)/4294967296>>>0;return st&&(ct=~ct>>>0,ot=~ot>>>0,++ot>4294967295&&(ot=0,++ct>4294967295&&(ct=0))),new _e(ot,ct)},_e.from=function(at){if(typeof at=="number")return _e.fromNumber(at);if(et.isString(at))if(et.Long)at=et.Long.fromString(at);else return _e.fromNumber(parseInt(at,10));return at.low||at.high?new _e(at.low>>>0,at.high>>>0):tt},_e.prototype.toNumber=function(at){if(!at&&this.hi>>>31){var st=~this.lo+1>>>0,ot=~this.hi>>>0;return st||(ot=ot+1>>>0),-(st+ot*4294967296)}return this.lo+this.hi*4294967296},_e.prototype.toLong=function(at){return et.Long?new et.Long(this.lo|0,this.hi|0,Boolean(at)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(at)}};var nt=String.prototype.charCodeAt;return _e.fromHash=function(at){return at===rt?tt:new _e((nt.call(at,0)|nt.call(at,1)<<8|nt.call(at,2)<<16|nt.call(at,3)<<24)>>>0,(nt.call(at,4)|nt.call(at,5)<<8|nt.call(at,6)<<16|nt.call(at,7)<<24)>>>0)},_e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},_e.prototype.zzEncode=function(){var at=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^at)>>>0,this.lo=(this.lo<<1^at)>>>0,this},_e.prototype.zzDecode=function(){var at=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^at)>>>0,this.hi=(this.hi>>>1^at)>>>0,this},_e.prototype.length=function(){var at=this.lo,st=(this.lo>>>28|this.hi<<4)>>>0,ot=this.hi>>>24;return ot===0?st===0?at<16384?at<128?1:2:at<2097152?3:4:st<16384?st<128?5:6:st<2097152?7:8:ot<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(et){var _e=et;_e.asPromise=requireAspromise(),_e.base64=requireBase64(),_e.EventEmitter=requireEventemitter(),_e.float=requireFloat(),_e.inquire=requireInquire(),_e.utf8=requireUtf8(),_e.pool=requirePool(),_e.LongBits=requireLongbits(),_e.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),_e.global=_e.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,_e.emptyArray=Object.freeze?Object.freeze([]):[],_e.emptyObject=Object.freeze?Object.freeze({}):{},_e.isInteger=Number.isInteger||function(it){return typeof it=="number"&&isFinite(it)&&Math.floor(it)===it},_e.isString=function(it){return typeof it=="string"||it instanceof String},_e.isObject=function(it){return it&&typeof it=="object"},_e.isset=_e.isSet=function(it,at){var st=it[at];return st!=null&&it.hasOwnProperty(at)?typeof st!="object"||(Array.isArray(st)?st.length:Object.keys(st).length)>0:!1},_e.Buffer=function(){try{var nt=_e.inquire("buffer").Buffer;return nt.prototype.utf8Write?nt:null}catch{return null}}(),_e._Buffer_from=null,_e._Buffer_allocUnsafe=null,_e.newBuffer=function(it){return typeof it=="number"?_e.Buffer?_e._Buffer_allocUnsafe(it):new _e.Array(it):_e.Buffer?_e._Buffer_from(it):typeof Uint8Array>"u"?it:new Uint8Array(it)},_e.Array=typeof Uint8Array<"u"?Uint8Array:Array,_e.Long=_e.global.dcodeIO&&_e.global.dcodeIO.Long||_e.global.Long||_e.inquire("long"),_e.key2Re=/^true|false|0|1$/,_e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,_e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,_e.longToHash=function(it){return it?_e.LongBits.from(it).toHash():_e.LongBits.zeroHash},_e.longFromHash=function(it,at){var st=_e.LongBits.fromHash(it);return _e.Long?_e.Long.fromBits(st.lo,st.hi,at):st.toNumber(Boolean(at))};function tt(nt,it,at){for(var st=Object.keys(it),ot=0;ot<st.length;++ot)(nt[st[ot]]===void 0||!at)&&(nt[st[ot]]=it[st[ot]]);return nt}_e.merge=tt,_e.lcFirst=function(it){return it.charAt(0).toLowerCase()+it.substring(1)};function rt(nt){function it(at,st){if(!(this instanceof it))return new it(at,st);Object.defineProperty(this,"message",{get:function(){return at}}),Error.captureStackTrace?Error.captureStackTrace(this,it):Object.defineProperty(this,"stack",{value:new Error().stack||""}),st&&tt(this,st)}return(it.prototype=Object.create(Error.prototype)).constructor=it,Object.defineProperty(it.prototype,"name",{get:function(){return nt}}),it.prototype.toString=function(){return this.name+": "+this.message},it}_e.newError=rt,_e.ProtocolError=rt("ProtocolError"),_e.oneOfGetter=function(it){for(var at={},st=0;st<it.length;++st)at[it[st]]=1;return function(){for(var ot=Object.keys(this),ct=ot.length-1;ct>-1;--ct)if(at[ot[ct]]===1&&this[ot[ct]]!==void 0&&this[ot[ct]]!==null)return ot[ct]}},_e.oneOfSetter=function(it){return function(at){for(var st=0;st<it.length;++st)it[st]!==at&&delete this[it[st]]}},_e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},_e._configure=function(){var nt=_e.Buffer;if(!nt){_e._Buffer_from=_e._Buffer_allocUnsafe=null;return}_e._Buffer_from=nt.from!==Uint8Array.from&&nt.from||function(at,st){return new nt(at,st)},_e._Buffer_allocUnsafe=nt.allocUnsafe||function(at){return new nt(at)}}}(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=ot;var et=requireMinimal$1(),_e,tt=et.LongBits,rt=et.base64,nt=et.utf8;function it(ht,yt,wt){this.fn=ht,this.len=yt,this.next=void 0,this.val=wt}function at(){}function st(ht){this.head=ht.head,this.tail=ht.tail,this.len=ht.len,this.next=ht.states}function ot(){this.len=0,this.head=new it(at,0,0),this.tail=this.head,this.states=null}var ct=function(){return et.Buffer?function(){return(ot.create=function(){return new _e})()}:function(){return new ot}};ot.create=ct(),ot.alloc=function(yt){return new et.Array(yt)},et.Array!==Array&&(ot.alloc=et.pool(ot.alloc,et.Array.prototype.subarray)),ot.prototype._push=function(yt,wt,xt){return this.tail=this.tail.next=new it(yt,wt,xt),this.len+=wt,this};function lt(ht,yt,wt){yt[wt]=ht&255}function ut(ht,yt,wt){for(;ht>127;)yt[wt++]=ht&127|128,ht>>>=7;yt[wt]=ht}function dt(ht,yt){this.len=ht,this.next=void 0,this.val=yt}dt.prototype=Object.create(it.prototype),dt.prototype.fn=ut,ot.prototype.uint32=function(yt){return this.len+=(this.tail=this.tail.next=new dt((yt=yt>>>0)<128?1:yt<16384?2:yt<2097152?3:yt<268435456?4:5,yt)).len,this},ot.prototype.int32=function(yt){return yt<0?this._push(mt,10,tt.fromNumber(yt)):this.uint32(yt)},ot.prototype.sint32=function(yt){return this.uint32((yt<<1^yt>>31)>>>0)};function mt(ht,yt,wt){for(;ht.hi;)yt[wt++]=ht.lo&127|128,ht.lo=(ht.lo>>>7|ht.hi<<25)>>>0,ht.hi>>>=7;for(;ht.lo>127;)yt[wt++]=ht.lo&127|128,ht.lo=ht.lo>>>7;yt[wt++]=ht.lo}ot.prototype.uint64=function(yt){var wt=tt.from(yt);return this._push(mt,wt.length(),wt)},ot.prototype.int64=ot.prototype.uint64,ot.prototype.sint64=function(yt){var wt=tt.from(yt).zzEncode();return this._push(mt,wt.length(),wt)},ot.prototype.bool=function(yt){return this._push(lt,1,yt?1:0)};function gt(ht,yt,wt){yt[wt]=ht&255,yt[wt+1]=ht>>>8&255,yt[wt+2]=ht>>>16&255,yt[wt+3]=ht>>>24}ot.prototype.fixed32=function(yt){return this._push(gt,4,yt>>>0)},ot.prototype.sfixed32=ot.prototype.fixed32,ot.prototype.fixed64=function(yt){var wt=tt.from(yt);return this._push(gt,4,wt.lo)._push(gt,4,wt.hi)},ot.prototype.sfixed64=ot.prototype.fixed64,ot.prototype.float=function(yt){return this._push(et.float.writeFloatLE,4,yt)},ot.prototype.double=function(yt){return this._push(et.float.writeDoubleLE,8,yt)};var bt=et.Array.prototype.set?function(yt,wt,xt){wt.set(yt,xt)}:function(yt,wt,xt){for(var At=0;At<yt.length;++At)wt[xt+At]=yt[At]};return ot.prototype.bytes=function(yt){var wt=yt.length>>>0;if(!wt)return this._push(lt,1,0);if(et.isString(yt)){var xt=ot.alloc(wt=rt.length(yt));rt.decode(yt,xt,0),yt=xt}return this.uint32(wt)._push(bt,wt,yt)},ot.prototype.string=function(yt){var wt=nt.length(yt);return wt?this.uint32(wt)._push(nt.write,wt,yt):this._push(lt,1,0)},ot.prototype.fork=function(){return this.states=new st(this),this.head=this.tail=new it(at,0,0),this.len=0,this},ot.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new it(at,0,0),this.len=0),this},ot.prototype.ldelim=function(){var yt=this.head,wt=this.tail,xt=this.len;return this.reset().uint32(xt),xt&&(this.tail.next=yt.next,this.tail=wt,this.len+=xt),this},ot.prototype.finish=function(){for(var yt=this.head.next,wt=this.constructor.alloc(this.len),xt=0;yt;)yt.fn(yt.val,wt,xt),xt+=yt.len,yt=yt.next;return wt},ot._configure=function(ht){_e=ht,ot.create=ct(),_e._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=tt;var et=requireWriter();(tt.prototype=Object.create(et.prototype)).constructor=tt;var _e=requireMinimal$1();function tt(){et.call(this)}tt._configure=function(){tt.alloc=_e._Buffer_allocUnsafe,tt.writeBytesBuffer=_e.Buffer&&_e.Buffer.prototype instanceof Uint8Array&&_e.Buffer.prototype.set.name==="set"?function(it,at,st){at.set(it,st)}:function(it,at,st){if(it.copy)it.copy(at,st,0,it.length);else for(var ot=0;ot<it.length;)at[st++]=it[ot++]}},tt.prototype.bytes=function(it){_e.isString(it)&&(it=_e._Buffer_from(it,"base64"));var at=it.length>>>0;return this.uint32(at),at&&this._push(tt.writeBytesBuffer,at,it),this};function rt(nt,it,at){nt.length<40?_e.utf8.write(nt,it,at):it.utf8Write?it.utf8Write(nt,at):it.write(nt,at)}return tt.prototype.string=function(it){var at=_e.Buffer.byteLength(it);return this.uint32(at),at&&this._push(rt,at,it),this},tt._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=it;var et=requireMinimal$1(),_e,tt=et.LongBits,rt=et.utf8;function nt(ut,dt){return RangeError("index out of range: "+ut.pos+" + "+(dt||1)+" > "+ut.len)}function it(ut){this.buf=ut,this.pos=0,this.len=ut.length}var at=typeof Uint8Array<"u"?function(dt){if(dt instanceof Uint8Array||Array.isArray(dt))return new it(dt);throw Error("illegal buffer")}:function(dt){if(Array.isArray(dt))return new it(dt);throw Error("illegal buffer")},st=function(){return et.Buffer?function(mt){return(it.create=function(bt){return et.Buffer.isBuffer(bt)?new _e(bt):at(bt)})(mt)}:at};it.create=st(),it.prototype._slice=et.Array.prototype.subarray||et.Array.prototype.slice,it.prototype.uint32=function(){var dt=4294967295;return function(){if(dt=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(dt=(dt|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(dt=(dt|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(dt=(dt|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(dt=(dt|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return dt;if((this.pos+=5)>this.len)throw this.pos=this.len,nt(this,10);return dt}}(),it.prototype.int32=function(){return this.uint32()|0},it.prototype.sint32=function(){var dt=this.uint32();return dt>>>1^-(dt&1)|0};function ot(){var ut=new tt(0,0),dt=0;if(this.len-this.pos>4){for(;dt<4;++dt)if(ut.lo=(ut.lo|(this.buf[this.pos]&127)<<dt*7)>>>0,this.buf[this.pos++]<128)return ut;if(ut.lo=(ut.lo|(this.buf[this.pos]&127)<<28)>>>0,ut.hi=(ut.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ut;dt=0}else{for(;dt<3;++dt){if(this.pos>=this.len)throw nt(this);if(ut.lo=(ut.lo|(this.buf[this.pos]&127)<<dt*7)>>>0,this.buf[this.pos++]<128)return ut}return ut.lo=(ut.lo|(this.buf[this.pos++]&127)<<dt*7)>>>0,ut}if(this.len-this.pos>4){for(;dt<5;++dt)if(ut.hi=(ut.hi|(this.buf[this.pos]&127)<<dt*7+3)>>>0,this.buf[this.pos++]<128)return ut}else for(;dt<5;++dt){if(this.pos>=this.len)throw nt(this);if(ut.hi=(ut.hi|(this.buf[this.pos]&127)<<dt*7+3)>>>0,this.buf[this.pos++]<128)return ut}throw Error("invalid varint encoding")}it.prototype.bool=function(){return this.uint32()!==0};function ct(ut,dt){return(ut[dt-4]|ut[dt-3]<<8|ut[dt-2]<<16|ut[dt-1]<<24)>>>0}it.prototype.fixed32=function(){if(this.pos+4>this.len)throw nt(this,4);return ct(this.buf,this.pos+=4)},it.prototype.sfixed32=function(){if(this.pos+4>this.len)throw nt(this,4);return ct(this.buf,this.pos+=4)|0};function lt(){if(this.pos+8>this.len)throw nt(this,8);return new tt(ct(this.buf,this.pos+=4),ct(this.buf,this.pos+=4))}return it.prototype.float=function(){if(this.pos+4>this.len)throw nt(this,4);var dt=et.float.readFloatLE(this.buf,this.pos);return this.pos+=4,dt},it.prototype.double=function(){if(this.pos+8>this.len)throw nt(this,4);var dt=et.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,dt},it.prototype.bytes=function(){var dt=this.uint32(),mt=this.pos,gt=this.pos+dt;if(gt>this.len)throw nt(this,dt);return this.pos+=dt,Array.isArray(this.buf)?this.buf.slice(mt,gt):mt===gt?new this.buf.constructor(0):this._slice.call(this.buf,mt,gt)},it.prototype.string=function(){var dt=this.bytes();return rt.read(dt,0,dt.length)},it.prototype.skip=function(dt){if(typeof dt=="number"){if(this.pos+dt>this.len)throw nt(this,dt);this.pos+=dt}else do if(this.pos>=this.len)throw nt(this);while(this.buf[this.pos++]&128);return this},it.prototype.skipType=function(ut){switch(ut){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ut=this.uint32()&7)!==4;)this.skipType(ut);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ut+" at offset "+this.pos)}return this},it._configure=function(ut){_e=ut,it.create=st(),_e._configure();var dt=et.Long?"toLong":"toNumber";et.merge(it.prototype,{int64:function(){return ot.call(this)[dt](!1)},uint64:function(){return ot.call(this)[dt](!0)},sint64:function(){return ot.call(this).zzDecode()[dt](!1)},fixed64:function(){return lt.call(this)[dt](!0)},sfixed64:function(){return lt.call(this)[dt](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=tt;var et=requireReader();(tt.prototype=Object.create(et.prototype)).constructor=tt;var _e=requireMinimal$1();function tt(rt){et.call(this,rt)}return tt._configure=function(){_e.Buffer&&(tt.prototype._slice=_e.Buffer.prototype.slice)},tt.prototype.string=function(){var nt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+nt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+nt,this.len))},tt._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=_e;var et=requireMinimal$1();(_e.prototype=Object.create(et.EventEmitter.prototype)).constructor=_e;function _e(tt,rt,nt){if(typeof tt!="function")throw TypeError("rpcImpl must be a function");et.EventEmitter.call(this),this.rpcImpl=tt,this.requestDelimited=Boolean(rt),this.responseDelimited=Boolean(nt)}return _e.prototype.rpcCall=function tt(rt,nt,it,at,st){if(!at)throw TypeError("request must be specified");var ot=this;if(!st)return et.asPromise(tt,ot,rt,nt,it,at);if(!ot.rpcImpl){setTimeout(function(){st(Error("already ended"))},0);return}try{return ot.rpcImpl(rt,nt[ot.requestDelimited?"encodeDelimited":"encode"](at).finish(),function(lt,ut){if(lt)return ot.emit("error",lt,rt),st(lt);if(ut===null){ot.end(!0);return}if(!(ut instanceof it))try{ut=it[ot.responseDelimited?"decodeDelimited":"decode"](ut)}catch(dt){return ot.emit("error",dt,rt),st(dt)}return ot.emit("data",ut,rt),st(null,ut)})}catch(ct){ot.emit("error",ct,rt),setTimeout(function(){st(ct)},0);return}},_e.prototype.end=function(rt){return this.rpcImpl&&(rt||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(et){var _e=et;_e.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(et){var _e=et;_e.build="minimal",_e.Writer=requireWriter(),_e.BufferWriter=requireWriter_buffer(),_e.Reader=requireReader(),_e.BufferReader=requireReader_buffer(),_e.util=requireMinimal$1(),_e.rpc=requireRpc(),_e.roots=requireRoots(),_e.configure=tt;function tt(){_e.util._configure(),_e.Writer._configure(_e.BufferWriter),_e.Reader._configure(_e.BufferReader)}tt()}(indexMinimal)),indexMinimal}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(et){et.exports=requireIndexMinimal()}(minimal$1)),minimal$1.exports}var unixfs,hasRequiredUnixfs;function requireUnixfs(){if(hasRequiredUnixfs)return unixfs;hasRequiredUnixfs=1;var et=requireMinimal(),_e=et.Reader,tt=et.Writer,rt=et.util,nt=et.roots["ipfs-unixfs"]||(et.roots["ipfs-unixfs"]={});return nt.Data=function(){function it(at){if(this.blocksizes=[],at)for(var st=Object.keys(at),ot=0;ot<st.length;++ot)at[st[ot]]!=null&&(this[st[ot]]=at[st[ot]])}return it.prototype.Type=0,it.prototype.Data=rt.newBuffer([]),it.prototype.filesize=rt.Long?rt.Long.fromBits(0,0,!0):0,it.prototype.blocksizes=rt.emptyArray,it.prototype.hashType=rt.Long?rt.Long.fromBits(0,0,!0):0,it.prototype.fanout=rt.Long?rt.Long.fromBits(0,0,!0):0,it.prototype.mode=0,it.prototype.mtime=null,it.encode=function(st,ot){if(ot||(ot=tt.create()),ot.uint32(8).int32(st.Type),st.Data!=null&&Object.hasOwnProperty.call(st,"Data")&&ot.uint32(18).bytes(st.Data),st.filesize!=null&&Object.hasOwnProperty.call(st,"filesize")&&ot.uint32(24).uint64(st.filesize),st.blocksizes!=null&&st.blocksizes.length)for(var ct=0;ct<st.blocksizes.length;++ct)ot.uint32(32).uint64(st.blocksizes[ct]);return st.hashType!=null&&Object.hasOwnProperty.call(st,"hashType")&&ot.uint32(40).uint64(st.hashType),st.fanout!=null&&Object.hasOwnProperty.call(st,"fanout")&&ot.uint32(48).uint64(st.fanout),st.mode!=null&&Object.hasOwnProperty.call(st,"mode")&&ot.uint32(56).uint32(st.mode),st.mtime!=null&&Object.hasOwnProperty.call(st,"mtime")&&nt.UnixTime.encode(st.mtime,ot.uint32(66).fork()).ldelim(),ot},it.decode=function(st,ot){st instanceof _e||(st=_e.create(st));for(var ct=ot===void 0?st.len:st.pos+ot,lt=new nt.Data;st.pos<ct;){var ut=st.uint32();switch(ut>>>3){case 1:lt.Type=st.int32();break;case 2:lt.Data=st.bytes();break;case 3:lt.filesize=st.uint64();break;case 4:if(lt.blocksizes&&lt.blocksizes.length||(lt.blocksizes=[]),(ut&7)===2)for(var dt=st.uint32()+st.pos;st.pos<dt;)lt.blocksizes.push(st.uint64());else lt.blocksizes.push(st.uint64());break;case 5:lt.hashType=st.uint64();break;case 6:lt.fanout=st.uint64();break;case 7:lt.mode=st.uint32();break;case 8:lt.mtime=nt.UnixTime.decode(st,st.uint32());break;default:st.skipType(ut&7);break}}if(!lt.hasOwnProperty("Type"))throw rt.ProtocolError("missing required 'Type'",{instance:lt});return lt},it.fromObject=function(st){if(st instanceof nt.Data)return st;var ot=new nt.Data;switch(st.Type){case"Raw":case 0:ot.Type=0;break;case"Directory":case 1:ot.Type=1;break;case"File":case 2:ot.Type=2;break;case"Metadata":case 3:ot.Type=3;break;case"Symlink":case 4:ot.Type=4;break;case"HAMTShard":case 5:ot.Type=5;break}if(st.Data!=null&&(typeof st.Data=="string"?rt.base64.decode(st.Data,ot.Data=rt.newBuffer(rt.base64.length(st.Data)),0):st.Data.length&&(ot.Data=st.Data)),st.filesize!=null&&(rt.Long?(ot.filesize=rt.Long.fromValue(st.filesize)).unsigned=!0:typeof st.filesize=="string"?ot.filesize=parseInt(st.filesize,10):typeof st.filesize=="number"?ot.filesize=st.filesize:typeof st.filesize=="object"&&(ot.filesize=new rt.LongBits(st.filesize.low>>>0,st.filesize.high>>>0).toNumber(!0))),st.blocksizes){if(!Array.isArray(st.blocksizes))throw TypeError(".Data.blocksizes: array expected");ot.blocksizes=[];for(var ct=0;ct<st.blocksizes.length;++ct)rt.Long?(ot.blocksizes[ct]=rt.Long.fromValue(st.blocksizes[ct])).unsigned=!0:typeof st.blocksizes[ct]=="string"?ot.blocksizes[ct]=parseInt(st.blocksizes[ct],10):typeof st.blocksizes[ct]=="number"?ot.blocksizes[ct]=st.blocksizes[ct]:typeof st.blocksizes[ct]=="object"&&(ot.blocksizes[ct]=new rt.LongBits(st.blocksizes[ct].low>>>0,st.blocksizes[ct].high>>>0).toNumber(!0))}if(st.hashType!=null&&(rt.Long?(ot.hashType=rt.Long.fromValue(st.hashType)).unsigned=!0:typeof st.hashType=="string"?ot.hashType=parseInt(st.hashType,10):typeof st.hashType=="number"?ot.hashType=st.hashType:typeof st.hashType=="object"&&(ot.hashType=new rt.LongBits(st.hashType.low>>>0,st.hashType.high>>>0).toNumber(!0))),st.fanout!=null&&(rt.Long?(ot.fanout=rt.Long.fromValue(st.fanout)).unsigned=!0:typeof st.fanout=="string"?ot.fanout=parseInt(st.fanout,10):typeof st.fanout=="number"?ot.fanout=st.fanout:typeof st.fanout=="object"&&(ot.fanout=new rt.LongBits(st.fanout.low>>>0,st.fanout.high>>>0).toNumber(!0))),st.mode!=null&&(ot.mode=st.mode>>>0),st.mtime!=null){if(typeof st.mtime!="object")throw TypeError(".Data.mtime: object expected");ot.mtime=nt.UnixTime.fromObject(st.mtime)}return ot},it.toObject=function(st,ot){ot||(ot={});var ct={};if((ot.arrays||ot.defaults)&&(ct.blocksizes=[]),ot.defaults){if(ct.Type=ot.enums===String?"Raw":0,ot.bytes===String?ct.Data="":(ct.Data=[],ot.bytes!==Array&&(ct.Data=rt.newBuffer(ct.Data))),rt.Long){var lt=new rt.Long(0,0,!0);ct.filesize=ot.longs===String?lt.toString():ot.longs===Number?lt.toNumber():lt}else ct.filesize=ot.longs===String?"0":0;if(rt.Long){var lt=new rt.Long(0,0,!0);ct.hashType=ot.longs===String?lt.toString():ot.longs===Number?lt.toNumber():lt}else ct.hashType=ot.longs===String?"0":0;if(rt.Long){var lt=new rt.Long(0,0,!0);ct.fanout=ot.longs===String?lt.toString():ot.longs===Number?lt.toNumber():lt}else ct.fanout=ot.longs===String?"0":0;ct.mode=0,ct.mtime=null}if(st.Type!=null&&st.hasOwnProperty("Type")&&(ct.Type=ot.enums===String?nt.Data.DataType[st.Type]:st.Type),st.Data!=null&&st.hasOwnProperty("Data")&&(ct.Data=ot.bytes===String?rt.base64.encode(st.Data,0,st.Data.length):ot.bytes===Array?Array.prototype.slice.call(st.Data):st.Data),st.filesize!=null&&st.hasOwnProperty("filesize")&&(typeof st.filesize=="number"?ct.filesize=ot.longs===String?String(st.filesize):st.filesize:ct.filesize=ot.longs===String?rt.Long.prototype.toString.call(st.filesize):ot.longs===Number?new rt.LongBits(st.filesize.low>>>0,st.filesize.high>>>0).toNumber(!0):st.filesize),st.blocksizes&&st.blocksizes.length){ct.blocksizes=[];for(var ut=0;ut<st.blocksizes.length;++ut)typeof st.blocksizes[ut]=="number"?ct.blocksizes[ut]=ot.longs===String?String(st.blocksizes[ut]):st.blocksizes[ut]:ct.blocksizes[ut]=ot.longs===String?rt.Long.prototype.toString.call(st.blocksizes[ut]):ot.longs===Number?new rt.LongBits(st.blocksizes[ut].low>>>0,st.blocksizes[ut].high>>>0).toNumber(!0):st.blocksizes[ut]}return st.hashType!=null&&st.hasOwnProperty("hashType")&&(typeof st.hashType=="number"?ct.hashType=ot.longs===String?String(st.hashType):st.hashType:ct.hashType=ot.longs===String?rt.Long.prototype.toString.call(st.hashType):ot.longs===Number?new rt.LongBits(st.hashType.low>>>0,st.hashType.high>>>0).toNumber(!0):st.hashType),st.fanout!=null&&st.hasOwnProperty("fanout")&&(typeof st.fanout=="number"?ct.fanout=ot.longs===String?String(st.fanout):st.fanout:ct.fanout=ot.longs===String?rt.Long.prototype.toString.call(st.fanout):ot.longs===Number?new rt.LongBits(st.fanout.low>>>0,st.fanout.high>>>0).toNumber(!0):st.fanout),st.mode!=null&&st.hasOwnProperty("mode")&&(ct.mode=st.mode),st.mtime!=null&&st.hasOwnProperty("mtime")&&(ct.mtime=nt.UnixTime.toObject(st.mtime,ot)),ct},it.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},it.DataType=function(){var at={},st=Object.create(at);return st[at[0]="Raw"]=0,st[at[1]="Directory"]=1,st[at[2]="File"]=2,st[at[3]="Metadata"]=3,st[at[4]="Symlink"]=4,st[at[5]="HAMTShard"]=5,st}(),it}(),nt.UnixTime=function(){function it(at){if(at)for(var st=Object.keys(at),ot=0;ot<st.length;++ot)at[st[ot]]!=null&&(this[st[ot]]=at[st[ot]])}return it.prototype.Seconds=rt.Long?rt.Long.fromBits(0,0,!1):0,it.prototype.FractionalNanoseconds=0,it.encode=function(st,ot){return ot||(ot=tt.create()),ot.uint32(8).int64(st.Seconds),st.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(st,"FractionalNanoseconds")&&ot.uint32(21).fixed32(st.FractionalNanoseconds),ot},it.decode=function(st,ot){st instanceof _e||(st=_e.create(st));for(var ct=ot===void 0?st.len:st.pos+ot,lt=new nt.UnixTime;st.pos<ct;){var ut=st.uint32();switch(ut>>>3){case 1:lt.Seconds=st.int64();break;case 2:lt.FractionalNanoseconds=st.fixed32();break;default:st.skipType(ut&7);break}}if(!lt.hasOwnProperty("Seconds"))throw rt.ProtocolError("missing required 'Seconds'",{instance:lt});return lt},it.fromObject=function(st){if(st instanceof nt.UnixTime)return st;var ot=new nt.UnixTime;return st.Seconds!=null&&(rt.Long?(ot.Seconds=rt.Long.fromValue(st.Seconds)).unsigned=!1:typeof st.Seconds=="string"?ot.Seconds=parseInt(st.Seconds,10):typeof st.Seconds=="number"?ot.Seconds=st.Seconds:typeof st.Seconds=="object"&&(ot.Seconds=new rt.LongBits(st.Seconds.low>>>0,st.Seconds.high>>>0).toNumber())),st.FractionalNanoseconds!=null&&(ot.FractionalNanoseconds=st.FractionalNanoseconds>>>0),ot},it.toObject=function(st,ot){ot||(ot={});var ct={};if(ot.defaults){if(rt.Long){var lt=new rt.Long(0,0,!1);ct.Seconds=ot.longs===String?lt.toString():ot.longs===Number?lt.toNumber():lt}else ct.Seconds=ot.longs===String?"0":0;ct.FractionalNanoseconds=0}return st.Seconds!=null&&st.hasOwnProperty("Seconds")&&(typeof st.Seconds=="number"?ct.Seconds=ot.longs===String?String(st.Seconds):st.Seconds:ct.Seconds=ot.longs===String?rt.Long.prototype.toString.call(st.Seconds):ot.longs===Number?new rt.LongBits(st.Seconds.low>>>0,st.Seconds.high>>>0).toNumber():st.Seconds),st.FractionalNanoseconds!=null&&st.hasOwnProperty("FractionalNanoseconds")&&(ct.FractionalNanoseconds=st.FractionalNanoseconds),ct},it.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},it}(),nt.Metadata=function(){function it(at){if(at)for(var st=Object.keys(at),ot=0;ot<st.length;++ot)at[st[ot]]!=null&&(this[st[ot]]=at[st[ot]])}return it.prototype.MimeType="",it.encode=function(st,ot){return ot||(ot=tt.create()),st.MimeType!=null&&Object.hasOwnProperty.call(st,"MimeType")&&ot.uint32(10).string(st.MimeType),ot},it.decode=function(st,ot){st instanceof _e||(st=_e.create(st));for(var ct=ot===void 0?st.len:st.pos+ot,lt=new nt.Metadata;st.pos<ct;){var ut=st.uint32();switch(ut>>>3){case 1:lt.MimeType=st.string();break;default:st.skipType(ut&7);break}}return lt},it.fromObject=function(st){if(st instanceof nt.Metadata)return st;var ot=new nt.Metadata;return st.MimeType!=null&&(ot.MimeType=String(st.MimeType)),ot},it.toObject=function(st,ot){ot||(ot={});var ct={};return ot.defaults&&(ct.MimeType=""),st.MimeType!=null&&st.hasOwnProperty("MimeType")&&(ct.MimeType=st.MimeType),ct},it.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},it}(),unixfs=nt,unixfs}var src$8,hasRequiredSrc$5;function requireSrc$5(){if(hasRequiredSrc$5)return src$8;hasRequiredSrc$5=1;const{Data:et}=requireUnixfs(),_e=errCode,tt=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],rt=["directory","hamt-sharded-directory"],nt=parseInt("0644",8),it=parseInt("0755",8);function at(ct){if(ct!=null)return typeof ct=="number"?ct&4095:(ct=ct.toString(),ct.substring(0,1)==="0"?parseInt(ct,8)&4095:parseInt(ct,10)&4095)}function st(ct){if(ct==null)return;let lt;if(ct.secs!=null&&(lt={secs:ct.secs,nsecs:ct.nsecs}),ct.Seconds!=null&&(lt={secs:ct.Seconds,nsecs:ct.FractionalNanoseconds}),Array.isArray(ct)&&(lt={secs:ct[0],nsecs:ct[1]}),ct instanceof Date){const ut=ct.getTime(),dt=Math.floor(ut/1e3);lt={secs:dt,nsecs:(ut-dt*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(lt,"secs")){if(lt!=null&&lt.nsecs!=null&&(lt.nsecs<0||lt.nsecs>999999999))throw _e(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return lt}}class ot{static unmarshal(lt){const ut=et.decode(lt),dt=et.toObject(ut,{defaults:!1,arrays:!0,longs:Number,objects:!1}),mt=new ot({type:tt[dt.Type],data:dt.Data,blockSizes:dt.blocksizes,mode:dt.mode,mtime:dt.mtime?{secs:dt.mtime.Seconds,nsecs:dt.mtime.FractionalNanoseconds}:void 0});return mt._originalMode=dt.mode||0,mt}constructor(lt={type:"file"}){const{type:ut,data:dt,blockSizes:mt,hashType:gt,fanout:bt,mtime:ht,mode:yt}=lt;if(ut&&!tt.includes(ut))throw _e(new Error("Type: "+ut+" is not valid"),"ERR_INVALID_TYPE");this.type=ut||"file",this.data=dt,this.hashType=gt,this.fanout=bt,this.blockSizes=mt||[],this._originalMode=0,this.mode=at(yt),ht&&(this.mtime=st(ht),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(lt){this._mode=this.isDirectory()?it:nt;const ut=at(lt);ut!==void 0&&(this._mode=ut)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&rt.includes(this.type))}addBlockSize(lt){this.blockSizes.push(lt)}removeBlockSize(lt){this.blockSizes.splice(lt,1)}fileSize(){if(this.isDirectory())return 0;let lt=0;return this.blockSizes.forEach(ut=>{lt+=ut}),this.data&&(lt+=this.data.length),lt}marshal(){let lt;switch(this.type){case"raw":lt=et.DataType.Raw;break;case"directory":lt=et.DataType.Directory;break;case"file":lt=et.DataType.File;break;case"metadata":lt=et.DataType.Metadata;break;case"symlink":lt=et.DataType.Symlink;break;case"hamt-sharded-directory":lt=et.DataType.HAMTShard;break;default:throw _e(new Error("Type: "+lt+" is not valid"),"ERR_INVALID_TYPE")}let ut=this.data;(!this.data||!this.data.length)&&(ut=void 0);let dt;this.mode!=null&&(dt=this._originalMode&4294963200|(at(this.mode)||0),dt===nt&&!this.isDirectory()&&(dt=void 0),dt===it&&this.isDirectory()&&(dt=void 0));let mt;if(this.mtime!=null){const bt=st(this.mtime);bt&&(mt={Seconds:bt.secs,FractionalNanoseconds:bt.nsecs},mt.FractionalNanoseconds===0&&delete mt.FractionalNanoseconds)}const gt={Type:lt,Data:ut,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:dt,mtime:mt};return et.encode(gt).finish()}}return src$8={UnixFS:ot,parseMode:at,parseMtime:st},src$8}var encode_1,hasRequiredEncode;function requireEncode(){if(hasRequiredEncode)return encode_1;hasRequiredEncode=1,encode_1=nt;var et=128,_e=127,tt=~_e,rt=Math.pow(2,31);function nt(it,at,st){if(Number.MAX_SAFE_INTEGER&&it>Number.MAX_SAFE_INTEGER)throw nt.bytes=0,new RangeError("Could not encode varint");at=at||[],st=st||0;for(var ot=st;it>=rt;)at[st++]=it&255|et,it/=128;for(;it&tt;)at[st++]=it&255|et,it>>>=7;return at[st]=it|0,nt.bytes=st-ot+1,at}return encode_1}var decode$3,hasRequiredDecode;function requireDecode(){if(hasRequiredDecode)return decode$3;hasRequiredDecode=1,decode$3=tt;var et=128,_e=127;function tt(rt,at){var it=0,at=at||0,st=0,ot=at,ct,lt=rt.length;do{if(ot>=lt||st>49)throw tt.bytes=0,new RangeError("Could not decode varint");ct=rt[ot++],it+=st<28?(ct&_e)<<st:(ct&_e)*Math.pow(2,st),st+=7}while(ct>=et);return tt.bytes=ot-at,it}return decode$3}var length$1,hasRequiredLength;function requireLength(){if(hasRequiredLength)return length$1;hasRequiredLength=1;var et=Math.pow(2,7),_e=Math.pow(2,14),tt=Math.pow(2,21),rt=Math.pow(2,28),nt=Math.pow(2,35),it=Math.pow(2,42),at=Math.pow(2,49),st=Math.pow(2,56),ot=Math.pow(2,63);return length$1=function(ct){return ct<et?1:ct<_e?2:ct<tt?3:ct<rt?4:ct<nt?5:ct<it?6:ct<at?7:ct<st?8:ct<ot?9:10},length$1}var varint,hasRequiredVarint;function requireVarint(){return hasRequiredVarint||(hasRequiredVarint=1,varint={encode:requireEncode(),decode:requireDecode(),encodingLength:requireLength()}),varint}function asUint8Array$2(et){return globalThis.Buffer!=null?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et}function allocUnsafe$3(et=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array$2(globalThis.Buffer.allocUnsafe(et)):new Uint8Array(et)}function concat$7(et,_e){_e||(_e=et.reduce((nt,it)=>nt+it.length,0));const tt=allocUnsafe$3(_e);let rt=0;for(const nt of et)tt.set(nt,rt),rt+=nt.length;return asUint8Array$2(tt)}const concat$8=Object.freeze(Object.defineProperty({__proto__:null,concat:concat$7},Symbol.toStringTag,{value:"Module"})),require$$1$5=getAugmentedNamespace(concat$8);function createCodec$2(et,_e,tt,rt){return{name:et,prefix:_e,encoder:{name:et,prefix:_e,encode:tt},decoder:{decode:rt}}}const string$2=createCodec$2("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>new TextEncoder().encode(et.substring(1))),ascii$2=createCodec$2("ascii","a",et=>{let _e="a";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return _e},et=>{et=et.substring(1);const _e=allocUnsafe$3(et.length);for(let tt=0;tt<et.length;tt++)_e[tt]=et.charCodeAt(tt);return _e}),BASES$2={utf8:string$2,"utf-8":string$2,hex:bases.base16,latin1:ascii$2,ascii:ascii$2,binary:ascii$2,...bases};function toString$4(et,_e="utf8"){const tt=BASES$2[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(et.buffer,et.byteOffset,et.byteLength).toString("utf8"):tt.encoder.encode(et).substring(1)}const toString$5=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$4},Symbol.toStringTag,{value:"Module"})),require$$1$4=getAugmentedNamespace(toString$5);function fromString$3(et,_e="utf8"){const tt=BASES$2[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$2(globalThis.Buffer.from(et,"utf-8")):tt.decoder.decode(`${tt.prefix}${et}`)}const fromString$4=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$3},Symbol.toStringTag,{value:"Module"})),require$$2$3=getAugmentedNamespace(fromString$4);var util$8,hasRequiredUtil$2;function requireUtil$2(){if(hasRequiredUtil$2)return util$8;hasRequiredUtil$2=1;const et=requireVarint(),{toString:_e}=require$$1$4,{fromString:tt}=require$$2$3;util$8={numberToUint8Array:nt,uint8ArrayToNumber:rt,varintUint8ArrayEncode:it,varintEncode:at};function rt(st){return parseInt(_e(st,"base16"),16)}function nt(st){let ot=st.toString(16);return ot.length%2===1&&(ot="0"+ot),tt(ot,"base16")}function it(st){return Uint8Array.from(et.encode(rt(st)))}function at(st){return Uint8Array.from(et.encode(st))}return util$8}var generatedTable,hasRequiredGeneratedTable;function requireGeneratedTable(){return hasRequiredGeneratedTable||(hasRequiredGeneratedTable=1,generatedTable={baseTable:Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592})}),generatedTable}var maps,hasRequiredMaps;function requireMaps(){if(hasRequiredMaps)return maps;hasRequiredMaps=1;const{baseTable:et}=requireGeneratedTable(),_e=requireUtil$2().varintEncode,tt={},rt={},nt={};for(const at in et){const st=at,ot=et[st];tt[st]=_e(ot);const ct=st.toUpperCase().replace(/-/g,"_");rt[ct]=ot,nt[ot]||(nt[ot]=st)}Object.freeze(tt),Object.freeze(rt),Object.freeze(nt);const it=Object.freeze(et);return maps={nameToVarint:tt,constantToCode:rt,nameToCode:it,codeToName:nt},maps}var src$7,hasRequiredSrc$4;function requireSrc$4(){if(hasRequiredSrc$4)return src$7;hasRequiredSrc$4=1;const et=requireVarint(),{concat:_e}=require$$1$5,tt=requireUtil$2(),{nameToVarint:rt,constantToCode:nt,nameToCode:it,codeToName:at}=requireMaps();function st(kt,Ot){let Wt;if(kt instanceof Uint8Array)Wt=tt.varintUint8ArrayEncode(kt);else if(rt[kt])Wt=rt[kt];else throw new Error("multicodec not recognized");return _e([Wt,Ot],Wt.length+Ot.length)}function ot(kt){return et.decode(kt),kt.slice(et.decode.bytes)}function ct(kt){const Ot=et.decode(kt),Wt=at[Ot];if(Wt===void 0)throw new Error(`Code "${Ot}" not found`);return Wt}function lt(kt){return at[kt]}function ut(kt){const Ot=it[kt];if(Ot===void 0)throw new Error(`Codec "${kt}" not found`);return Ot}function dt(kt){return et.decode(kt)}function mt(kt){const Ot=rt[kt];if(Ot===void 0)throw new Error(`Codec "${kt}" not found`);return Ot}function gt(kt){return tt.varintEncode(kt)}function bt(kt){return ct(kt)}function ht(kt){return lt(kt)}function yt(kt){return ut(kt)}function wt(kt){return dt(kt)}function xt(kt){return mt(kt)}function At(kt){return Array.from(gt(kt))}return src$7={addPrefix:st,rmPrefix:ot,getNameFromData:ct,getNameFromCode:lt,getCodeFromName:ut,getCodeFromData:dt,getVarintFromName:mt,getVarintFromCode:gt,getCodec:bt,getName:ht,getNumber:yt,getCode:wt,getCodeVarint:xt,getVarint:At,...nt,nameToVarint:rt,nameToCode:it,codeToName:at},src$7}var cidUtil,hasRequiredCidUtil;function requireCidUtil(){if(hasRequiredCidUtil)return cidUtil;hasRequiredCidUtil=1;const et=src$a;return cidUtil={checkCIDComponents:function(tt){if(tt==null)return"null values are not valid CIDs";if(!(tt.version===0||tt.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof tt.codec!="string")return"codec must be string";if(tt.version===0){if(tt.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(tt.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(tt.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{et.validate(tt.multihash)}catch(rt){let nt=rt.message;return nt||(nt="Multihash validation failed"),nt}}},cidUtil}function asUint8Array$1(et){return globalThis.Buffer!=null?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et}function allocUnsafe$2(et=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array$1(globalThis.Buffer.allocUnsafe(et)):new Uint8Array(et)}function concat$5(et,_e){_e||(_e=et.reduce((nt,it)=>nt+it.length,0));const tt=allocUnsafe$2(_e);let rt=0;for(const nt of et)tt.set(nt,rt),rt+=nt.length;return asUint8Array$1(tt)}const concat$6=Object.freeze(Object.defineProperty({__proto__:null,concat:concat$5},Symbol.toStringTag,{value:"Module"})),require$$4$1=getAugmentedNamespace(concat$6);function createCodec$1(et,_e,tt,rt){return{name:et,prefix:_e,encoder:{name:et,prefix:_e,encode:tt},decoder:{decode:rt}}}const string$1=createCodec$1("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>new TextEncoder().encode(et.substring(1))),ascii$1=createCodec$1("ascii","a",et=>{let _e="a";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return _e},et=>{et=et.substring(1);const _e=allocUnsafe$2(et.length);for(let tt=0;tt<et.length;tt++)_e[tt]=et.charCodeAt(tt);return _e}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases};function toString$2(et,_e="utf8"){const tt=BASES$1[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(et.buffer,et.byteOffset,et.byteLength).toString("utf8"):tt.encoder.encode(et).substring(1)}const toString$3=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$2},Symbol.toStringTag,{value:"Module"})),require$$5$1=getAugmentedNamespace(toString$3);function equals(et,_e){if(et===_e)return!0;if(et.byteLength!==_e.byteLength)return!1;for(let tt=0;tt<et.byteLength;tt++)if(et[tt]!==_e[tt])return!1;return!0}const equals$1=Object.freeze(Object.defineProperty({__proto__:null,equals},Symbol.toStringTag,{value:"Module"})),require$$6$1=getAugmentedNamespace(equals$1);var src$6,hasRequiredSrc$3;function requireSrc$3(){if(hasRequiredSrc$3)return src$6;hasRequiredSrc$3=1;const et=src$a,_e=src$d.exports,tt=requireSrc$4(),rt=requireCidUtil(),{concat:nt}=require$$4$1,{toString:it}=require$$5$1,{equals:at}=require$$6$1,st=tt.nameToCode,ot=Object.keys(st).reduce((ut,dt)=>(ut[st[dt]]=dt,ut),{}),ct=Symbol.for("@ipld/js-cid/CID");class lt{constructor(dt,mt,gt,bt){if(this.version,this.codec,this.multihash,Object.defineProperty(this,ct,{value:!0}),lt.isCID(dt)){const ht=dt;this.version=ht.version,this.codec=ht.codec,this.multihash=ht.multihash,this.multibaseName=ht.multibaseName||(ht.version===0?"base58btc":"base32");return}if(typeof dt=="string"){const ht=_e.isEncoded(dt);if(ht){const yt=_e.decode(dt);this.version=parseInt(yt[0].toString(),16),this.codec=tt.getCodec(yt.slice(1)),this.multihash=tt.rmPrefix(yt.slice(1)),this.multibaseName=ht}else this.version=0,this.codec="dag-pb",this.multihash=et.fromB58String(dt),this.multibaseName="base58btc";lt.validateCID(this),Object.defineProperty(this,"string",{value:dt});return}if(dt instanceof Uint8Array){const ht=parseInt(dt[0].toString(),16);if(ht===1){const yt=dt;this.version=ht,this.codec=tt.getCodec(yt.slice(1)),this.multihash=tt.rmPrefix(yt.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=dt,this.multibaseName="base58btc";lt.validateCID(this);return}this.version=dt,typeof mt=="number"&&(mt=ot[mt]),this.codec=mt,this.multihash=gt,this.multibaseName=bt||(dt===0?"base58btc":"base32"),lt.validateCID(this)}get bytes(){let dt=this._bytes;if(!dt){if(this.version===0)dt=this.multihash;else if(this.version===1){const mt=tt.getCodeVarint(this.codec);dt=nt([[1],mt,this.multihash],1+mt.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:dt})}return dt}get prefix(){const dt=tt.getCodeVarint(this.codec),mt=et.prefix(this.multihash);return nt([[this.version],dt,mt],1+dt.byteLength+mt.byteLength)}get code(){return st[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:dt,length:mt}=et.decode(this.multihash);if(dt!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(mt!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new lt(0,this.codec,this.multihash)}toV1(){return new lt(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(dt=this.multibaseName){if(this.string&&this.string.length!==0&&dt===this.multibaseName)return this.string;let mt;if(this.version===0){if(dt!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");mt=et.toB58String(this.multihash)}else if(this.version===1)mt=it(_e.encode(dt,this.bytes));else throw new Error("unsupported version");return dt===this.multibaseName&&Object.defineProperty(this,"string",{value:mt}),mt}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(dt){return this.toBaseEncodedString(dt)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(dt){return this.codec===dt.codec&&this.version===dt.version&&at(this.multihash,dt.multihash)}static validateCID(dt){const mt=rt.checkCIDComponents(dt);if(mt)throw new Error(mt)}static isCID(dt){return dt instanceof lt||Boolean(dt&&dt[ct])}}return lt.codecs=st,src$6=lt,src$6}var persist_1,hasRequiredPersist;function requirePersist(){if(hasRequiredPersist)return persist_1;hasRequiredPersist=1;const et=src$9,_e=requireSrc$3();return persist_1=async(rt,nt,it)=>{it.codec||(it.codec="dag-pb"),it.cidVersion||(it.cidVersion=0),it.hashAlg||(it.hashAlg="sha2-256"),it.hashAlg!=="sha2-256"&&(it.cidVersion=1);const at=await et(rt,it.hashAlg),st=new _e(it.cidVersion,it.codec,at);return it.onlyHash||await nt.put(rt,{pin:it.pin,preload:it.preload,timeout:it.timeout,cid:st}),st},persist_1}var resolver={},dag,hasRequiredDag;function requireDag(){if(hasRequiredDag)return dag;hasRequiredDag=1;var et=requireMinimal(),_e=et.Reader,tt=et.Writer,rt=et.util,nt=et.roots.default||(et.roots.default={});return nt.PBLink=function(){function it(at){if(at)for(var st=Object.keys(at),ot=0;ot<st.length;++ot)at[st[ot]]!=null&&(this[st[ot]]=at[st[ot]])}return it.prototype.Hash=rt.newBuffer([]),it.prototype.Name="",it.prototype.Tsize=rt.Long?rt.Long.fromBits(0,0,!0):0,it.encode=function(st,ot){return ot||(ot=tt.create()),st.Hash!=null&&Object.hasOwnProperty.call(st,"Hash")&&ot.uint32(10).bytes(st.Hash),st.Name!=null&&Object.hasOwnProperty.call(st,"Name")&&ot.uint32(18).string(st.Name),st.Tsize!=null&&Object.hasOwnProperty.call(st,"Tsize")&&ot.uint32(24).uint64(st.Tsize),ot},it.decode=function(st,ot){st instanceof _e||(st=_e.create(st));for(var ct=ot===void 0?st.len:st.pos+ot,lt=new nt.PBLink;st.pos<ct;){var ut=st.uint32();switch(ut>>>3){case 1:lt.Hash=st.bytes();break;case 2:lt.Name=st.string();break;case 3:lt.Tsize=st.uint64();break;default:st.skipType(ut&7);break}}return lt},it.fromObject=function(st){if(st instanceof nt.PBLink)return st;var ot=new nt.PBLink;return st.Hash!=null&&(typeof st.Hash=="string"?rt.base64.decode(st.Hash,ot.Hash=rt.newBuffer(rt.base64.length(st.Hash)),0):st.Hash.length&&(ot.Hash=st.Hash)),st.Name!=null&&(ot.Name=String(st.Name)),st.Tsize!=null&&(rt.Long?(ot.Tsize=rt.Long.fromValue(st.Tsize)).unsigned=!0:typeof st.Tsize=="string"?ot.Tsize=parseInt(st.Tsize,10):typeof st.Tsize=="number"?ot.Tsize=st.Tsize:typeof st.Tsize=="object"&&(ot.Tsize=new rt.LongBits(st.Tsize.low>>>0,st.Tsize.high>>>0).toNumber(!0))),ot},it.toObject=function(st,ot){ot||(ot={});var ct={};if(ot.defaults)if(ot.bytes===String?ct.Hash="":(ct.Hash=[],ot.bytes!==Array&&(ct.Hash=rt.newBuffer(ct.Hash))),ct.Name="",rt.Long){var lt=new rt.Long(0,0,!0);ct.Tsize=ot.longs===String?lt.toString():ot.longs===Number?lt.toNumber():lt}else ct.Tsize=ot.longs===String?"0":0;return st.Hash!=null&&st.hasOwnProperty("Hash")&&(ct.Hash=ot.bytes===String?rt.base64.encode(st.Hash,0,st.Hash.length):ot.bytes===Array?Array.prototype.slice.call(st.Hash):st.Hash),st.Name!=null&&st.hasOwnProperty("Name")&&(ct.Name=st.Name),st.Tsize!=null&&st.hasOwnProperty("Tsize")&&(typeof st.Tsize=="number"?ct.Tsize=ot.longs===String?String(st.Tsize):st.Tsize:ct.Tsize=ot.longs===String?rt.Long.prototype.toString.call(st.Tsize):ot.longs===Number?new rt.LongBits(st.Tsize.low>>>0,st.Tsize.high>>>0).toNumber(!0):st.Tsize),ct},it.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},it}(),nt.PBNode=function(){function it(at){if(this.Links=[],at)for(var st=Object.keys(at),ot=0;ot<st.length;++ot)at[st[ot]]!=null&&(this[st[ot]]=at[st[ot]])}return it.prototype.Links=rt.emptyArray,it.prototype.Data=rt.newBuffer([]),it.encode=function(st,ot){if(ot||(ot=tt.create()),st.Data!=null&&Object.hasOwnProperty.call(st,"Data")&&ot.uint32(10).bytes(st.Data),st.Links!=null&&st.Links.length)for(var ct=0;ct<st.Links.length;++ct)nt.PBLink.encode(st.Links[ct],ot.uint32(18).fork()).ldelim();return ot},it.decode=function(st,ot){st instanceof _e||(st=_e.create(st));for(var ct=ot===void 0?st.len:st.pos+ot,lt=new nt.PBNode;st.pos<ct;){var ut=st.uint32();switch(ut>>>3){case 2:lt.Links&&lt.Links.length||(lt.Links=[]),lt.Links.push(nt.PBLink.decode(st,st.uint32()));break;case 1:lt.Data=st.bytes();break;default:st.skipType(ut&7);break}}return lt},it.fromObject=function(st){if(st instanceof nt.PBNode)return st;var ot=new nt.PBNode;if(st.Links){if(!Array.isArray(st.Links))throw TypeError(".PBNode.Links: array expected");ot.Links=[];for(var ct=0;ct<st.Links.length;++ct){if(typeof st.Links[ct]!="object")throw TypeError(".PBNode.Links: object expected");ot.Links[ct]=nt.PBLink.fromObject(st.Links[ct])}}return st.Data!=null&&(typeof st.Data=="string"?rt.base64.decode(st.Data,ot.Data=rt.newBuffer(rt.base64.length(st.Data)),0):st.Data.length&&(ot.Data=st.Data)),ot},it.toObject=function(st,ot){ot||(ot={});var ct={};if((ot.arrays||ot.defaults)&&(ct.Links=[]),ot.defaults&&(ot.bytes===String?ct.Data="":(ct.Data=[],ot.bytes!==Array&&(ct.Data=rt.newBuffer(ct.Data)))),st.Data!=null&&st.hasOwnProperty("Data")&&(ct.Data=ot.bytes===String?rt.base64.encode(st.Data,0,st.Data.length):ot.bytes===Array?Array.prototype.slice.call(st.Data):st.Data),st.Links&&st.Links.length){ct.Links=[];for(var lt=0;lt<st.Links.length;++lt)ct.Links[lt]=nt.PBLink.toObject(st.Links[lt],ot)}return ct},it.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},it}(),dag=nt,dag}const require$$0$4=getAugmentedNamespace(basics);var bases_1,hasRequiredBases;function requireBases(){if(hasRequiredBases)return bases_1;hasRequiredBases=1;const{bases:et}=require$$0$4;function _e(it,at,st,ot){return{name:it,prefix:at,encoder:{name:it,prefix:at,encode:st},decoder:{decode:ot}}}const tt=_e("utf8","u",it=>"u"+new TextDecoder("utf8").decode(it),it=>new TextEncoder().encode(it.substring(1))),rt=_e("ascii","a",it=>{let at="a";for(let st=0;st<it.length;st++)at+=String.fromCharCode(it[st]);return at},it=>{it=it.substring(1);const at=new Uint8Array(it.length);for(let st=0;st<it.length;st++)at[st]=it.charCodeAt(st);return at});return bases_1={utf8:tt,"utf-8":tt,hex:et.base16,latin1:rt,ascii:rt,binary:rt,...et},bases_1}var fromString_1,hasRequiredFromString;function requireFromString(){if(hasRequiredFromString)return fromString_1;hasRequiredFromString=1;const et=requireBases();function _e(tt,rt="utf8"){const nt=et[rt];if(!nt)throw new Error(`Unsupported encoding "${rt}"`);return nt.decoder.decode(`${nt.prefix}${tt}`)}return fromString_1=_e,fromString_1}var dagLink,hasRequiredDagLink;function requireDagLink(){if(hasRequiredDagLink)return dagLink;hasRequiredDagLink=1;const et=requireSrc$3(),_e=requireFromString();class tt{constructor(nt,it,at){if(!at)throw new Error("A link requires a cid to point to");this.Name=nt||"",this.Tsize=it,this.Hash=new et(at),Object.defineProperties(this,{_nameBuf:{value:null,writable:!0,enumerable:!1}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get nameAsBuffer(){return this._nameBuf!=null?this._nameBuf:(this._nameBuf=_e(this.Name),this._nameBuf)}}return dagLink=tt,dagLink}var stable={exports:{}},hasRequiredStable;function requireStable(){return hasRequiredStable||(hasRequiredStable=1,function(et,_e){//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//!  2018 Angry Bytes and contributors. MIT licensed.
(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){var tt=function(it,at){return rt(it.slice(),at)};tt.inplace=function(it,at){var st=rt(it,at);return st!==it&&nt(st,null,it.length,it),it};function rt(it,at){typeof at!="function"&&(at=function(ut,dt){return String(ut).localeCompare(dt)});var st=it.length;if(st<=1)return it;for(var ot=new Array(st),ct=1;ct<st;ct*=2){nt(it,at,ct,ot);var lt=it;it=ot,ot=lt}return it}var nt=function(it,at,st,ot){var ct=it.length,lt=0,ut=st*2,dt,mt,gt,bt,ht;for(dt=0;dt<ct;dt+=ut)for(mt=dt+st,gt=mt+st,mt>ct&&(mt=ct),gt>ct&&(gt=ct),bt=dt,ht=mt;;)if(bt<mt&&ht<gt)at(it[bt],it[ht])<=0?ot[lt++]=it[bt++]:ot[lt++]=it[ht++];else if(bt<mt)ot[lt++]=it[bt++];else if(ht<gt)ot[lt++]=it[ht++];else break};return tt})}(stable)),stable.exports}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;function et(_e,tt){for(let rt=0;rt<_e.byteLength;rt++){if(_e[rt]<tt[rt])return-1;if(_e[rt]>tt[rt])return 1}return _e.byteLength>tt.byteLength?1:_e.byteLength<tt.byteLength?-1:0}return compare_1=et,compare_1}var sortLinks_1,hasRequiredSortLinks;function requireSortLinks(){if(hasRequiredSortLinks)return sortLinks_1;hasRequiredSortLinks=1;const et=requireStable(),_e=requireCompare(),tt=(nt,it)=>{const at=nt.nameAsBuffer,st=it.nameAsBuffer;return _e(at,st)};return sortLinks_1=nt=>{et.inplace(nt,tt)},sortLinks_1}var util$7,hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$7;hasRequiredUtil$1=1;const et=requireDagLink();function _e(tt){return new et(tt.Name||tt.name||"",tt.Tsize||tt.Size||tt.size||0,tt.Hash||tt.hash||tt.multihash||tt.cid)}return util$7={createDagLinkFromB58EncodedHash:_e},util$7}var serialize$1,hasRequiredSerialize;function requireSerialize(){if(hasRequiredSerialize)return serialize$1;hasRequiredSerialize=1;const et=requireMinimal(),{PBLink:_e}=requireDag(),{createDagLinkFromB58EncodedHash:tt}=requireUtil$1(),rt=st=>{const ot={};return st.Data&&st.Data.byteLength>0?ot.Data=st.Data:ot.Data=null,st.Links&&st.Links.length>0?ot.Links=st.Links.map(ct=>({Hash:ct.Hash.bytes,Name:ct.Name,Tsize:ct.Tsize})):ot.Links=null,ot};serialize$1={serializeDAGNode:st=>at(rt(st)),serializeDAGNodeLike:(st,ot=[])=>{const ct={Data:st,Links:ot.map(lt=>tt(lt))};return at(rt(ct))}};function at(st){const ot=et.Writer.create();if(st.Links!=null)for(let ct=0;ct<st.Links.length;ct++)_e.encode(st.Links[ct],ot.uint32(18).fork()).ldelim();return st.Data!=null&&ot.uint32(10).bytes(st.Data),ot.finish()}return serialize$1}var genCid,hasRequiredGenCid;function requireGenCid(){if(hasRequiredGenCid)return genCid;hasRequiredGenCid=1;const et=requireSrc$3(),_e=requireSrc$4(),tt=src$9,{multihash:rt}=tt,nt=_e.DAG_PB,it=rt.names["sha2-256"];return genCid={codec:nt,defaultHashAlg:it,cid:async(st,ot={})=>{const ct={cidVersion:ot.cidVersion==null?1:ot.cidVersion,hashAlg:ot.hashAlg==null?it:ot.hashAlg},lt=rt.codes[ct.hashAlg],ut=await tt(st,lt),dt=_e.getNameFromCode(nt);return new et(ct.cidVersion,dt,ut)}},genCid}var toDagLink,hasRequiredToDagLink;function requireToDagLink(){if(hasRequiredToDagLink)return toDagLink;hasRequiredToDagLink=1;const et=requireDagLink(),_e=requireGenCid();return toDagLink=async(rt,nt={})=>{const it=rt.serialize(),at=await _e.cid(it,nt);return new et(nt.name||"",rt.size,at)},toDagLink}var addLink_1,hasRequiredAddLink;function requireAddLink(){if(hasRequiredAddLink)return addLink_1;hasRequiredAddLink=1;const et=requireSortLinks(),_e=requireDagLink(),tt=nt=>{if(nt instanceof _e)return nt;if(!("cid"in nt||"hash"in nt||"Hash"in nt||"multihash"in nt))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new _e(nt.Name||nt.name,nt.Tsize||nt.size,nt.Hash||nt.multihash||nt.hash||nt.cid)};return addLink_1=(nt,it)=>{const at=tt(it);nt.Links.push(at),et(nt.Links)},addLink_1}var equals_1,hasRequiredEquals;function requireEquals(){if(hasRequiredEquals)return equals_1;hasRequiredEquals=1;function et(_e,tt){if(_e===tt)return!0;if(_e.byteLength!==tt.byteLength)return!1;for(let rt=0;rt<_e.byteLength;rt++)if(_e[rt]!==tt[rt])return!1;return!0}return equals_1=et,equals_1}var rmLink_1,hasRequiredRmLink;function requireRmLink(){if(hasRequiredRmLink)return rmLink_1;hasRequiredRmLink=1;const et=requireSrc$3(),_e=requireEquals();return rmLink_1=(rt,nt)=>{let it=null;if(typeof nt=="string"?it=at=>at.Name===nt:nt instanceof Uint8Array?it=at=>_e(at.Hash.bytes,nt):et.isCID(nt)&&(it=at=>_e(at.Hash.bytes,nt.bytes)),it){const at=rt.Links;let st=0;for(;st<at.length;){const ot=at[st];it(ot)?at.splice(st,1):st++}}else throw new Error("second arg needs to be a name or CID")},rmLink_1}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;const et=requireBases();function _e(tt,rt="utf8"){const nt=et[rt];if(!nt)throw new Error(`Unsupported encoding "${rt}"`);return nt.encoder.encode(tt).substring(1)}return toString_1=_e,toString_1}var dagNode,hasRequiredDagNode;function requireDagNode(){if(hasRequiredDagNode)return dagNode;hasRequiredDagNode=1;const et=requireSortLinks(),_e=requireDagLink(),{createDagLinkFromB58EncodedHash:tt}=requireUtil$1(),{serializeDAGNode:rt}=requireSerialize(),nt=requireToDagLink(),it=requireAddLink(),at=requireRmLink(),st=requireFromString(),ot=requireToString();class ct{constructor(ut,dt=[],mt=null){if(ut||(ut=new Uint8Array(0)),typeof ut=="string"&&(ut=st(ut)),!(ut instanceof Uint8Array))throw new Error("Passed 'data' is not a Uint8Array or a String!");if(mt!==null&&typeof mt!="number")throw new Error("Passed 'serializedSize' must be a number!");const gt=dt.map(bt=>bt instanceof _e?bt:tt(bt));et(gt),this.Data=ut,this.Links=gt,Object.defineProperties(this,{_serializedSize:{value:mt,writable:!0,enumerable:!1},_size:{value:null,writable:!0,enumerable:!1}})}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this.Links.map(ut=>ut.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${ot(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(ut){return this._invalidateCached(),it(this,ut)}rmLink(ut){return this._invalidateCached(),at(this,ut)}toDAGLink(ut){return nt(this,ut)}serialize(){const ut=rt(this);return this._serializedSize=ut.length,ut}get size(){if(this._size==null){let ut;ut==null&&(this._serializedSize=this.serialize().length,ut=this._serializedSize),this._size=this.Links.reduce((dt,mt)=>dt+mt.Tsize,ut)}return this._size}set size(ut){throw new Error("Can't set property: 'size' is immutable")}}return dagNode=ct,dagNode}var util$6,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$6;hasRequiredUtil=1;const{PBNode:et}=requireDag(),_e=requireDagLink(),tt=requireDagNode(),{serializeDAGNode:rt,serializeDAGNodeLike:nt}=requireSerialize(),it=requireGenCid(),at=(ct,lt)=>it.cid(ct,lt),st=ct=>ct instanceof tt?rt(ct):nt(ct.Data,ct.Links),ot=ct=>{const lt=et.decode(ct),ut=et.toObject(lt,{defaults:!1,arrays:!0,longs:Number,objects:!1}),dt=ut.Links.map(gt=>new _e(gt.Name,gt.Tsize,gt.Hash)),mt=ut.Data==null?new Uint8Array(0):ut.Data;return new tt(mt,dt,ct.byteLength)};return util$6={codec:it.codec,defaultHashAlg:it.defaultHashAlg,serialize:st,deserialize:ot,cid:at},util$6}var hasRequiredResolver;function requireResolver(){if(hasRequiredResolver)return resolver;hasRequiredResolver=1;const et=requireSrc$3(),_e=requireUtil();return resolver.resolve=(tt,rt="/")=>{let nt=_e.deserialize(tt);const it=rt.split("/").filter(Boolean);for(;it.length;){const at=it.shift();if(nt[at]===void 0){for(const st of nt.Links)if(st.Name===at)return{value:st.Hash,remainderPath:it.join("/")};throw new Error(`Object has no property '${at}'`)}if(nt=nt[at],et.isCID(nt))return{value:nt,remainderPath:it.join("/")}}return{value:nt,remainderPath:""}},resolver.tree=function*(tt){const rt=_e.deserialize(tt);yield"Data",yield"Links";for(let nt=0;nt<rt.Links.length;nt++)yield`Links/${nt}`,yield`Links/${nt}/Name`,yield`Links/${nt}/Tsize`,yield`Links/${nt}/Hash`},resolver}var src$5,hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src$5;hasRequiredSrc$2=1;const et=requireResolver(),_e=requireUtil(),tt=requireDagNode(),rt=requireDagLink();return src$5={DAGNode:tt,DAGLink:rt,resolver:et,util:_e,codec:_e.codec,defaultHashAlg:_e.defaultHashAlg},src$5}var dir$1,hasRequiredDir$1;function requireDir$1(){if(hasRequiredDir$1)return dir$1;hasRequiredDir$1=1;const{UnixFS:et}=requireSrc$5(),_e=requirePersist(),{DAGNode:tt}=requireSrc$2();return dir$1=async(nt,it,at)=>{const st=new et({type:"directory",mtime:nt.mtime,mode:nt.mode}),ot=new tt(st.marshal()).serialize(),ct=await _e(ot,it,at),lt=nt.path;return{cid:ct,path:lt,unixfs:st,size:ot.length}},dir$1}var itAll,hasRequiredItAll;function requireItAll(){return hasRequiredItAll||(hasRequiredItAll=1,itAll=async _e=>{const tt=[];for await(const rt of _e)tt.push(rt);return tt}),itAll}var flat,hasRequiredFlat;function requireFlat(){if(hasRequiredFlat)return flat;hasRequiredFlat=1;const et=requireItAll();return flat=async function(_e,tt){return tt(await et(_e))},flat}var balanced_1,hasRequiredBalanced;function requireBalanced(){if(hasRequiredBalanced)return balanced_1;hasRequiredBalanced=1;const et=itBatch;function _e(rt,nt,it){return tt(rt,nt,it)}async function tt(rt,nt,it){const at=[];for await(const st of et(rt,it.maxChildrenPerNode))at.push(await nt(st));return at.length>1?tt(at,nt,it):at[0]}return balanced_1=_e,balanced_1}var trickle,hasRequiredTrickle;function requireTrickle(){if(hasRequiredTrickle)return trickle;hasRequiredTrickle=1;const et=itBatch;trickle=async function(nt,it,at){const st=new tt(at.layerRepeat);let ot=0,ct=1,lt=st;for await(const ut of et(nt,at.maxChildrenPerNode))lt.isFull()&&(lt!==st&&st.addChild(await lt.reduce(it)),ot&&ot%at.layerRepeat===0&&ct++,lt=new _e(ct,at.layerRepeat,ot),ot++),lt.append(ut);return lt&&lt!==st&&st.addChild(await lt.reduce(it)),st.reduce(it)};class _e{constructor(nt,it,at=0){this.maxDepth=nt,this.layerRepeat=it,this.currentDepth=1,this.iteration=at,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:nt,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const nt=this._findParent(this.node,this.currentDepth);return nt?(this._addNextNodeToParent(nt),!1):!0}_addNextNodeToParent(nt){this.parent=nt;const it={children:[],depth:nt.depth+1,parent:nt,maxDepth:this.maxDepth,maxChildren:Math.floor(nt.children.length/this.layerRepeat)*this.layerRepeat};nt.children.push(it),this.currentDepth=it.depth,this.node=it}append(nt){this.node.data=nt}reduce(nt){return this._reduce(this.root,nt)}async _reduce(nt,it){let at=[];return nt.children.length&&(at=await Promise.all(nt.children.filter(st=>st.data).map(st=>this._reduce(st,it)))),it((nt.data||[]).concat(at))}_findParent(nt,it){const at=nt.parent;if(!(!at||at.depth===0))return at.children.length===at.maxChildren||!at.maxChildren?this._findParent(at,it):at}}class tt extends _e{constructor(nt){super(0,nt),this.root.depth=0,this.currentDepth=1}addChild(nt){this.root.children.push(nt)}reduce(nt){return nt((this.root.data||[]).concat(this.root.children))}}return trickle}var bufferImporter_1,hasRequiredBufferImporter;function requireBufferImporter(){if(hasRequiredBufferImporter)return bufferImporter_1;hasRequiredBufferImporter=1;const{UnixFS:et}=requireSrc$5(),_e=requirePersist(),{DAGNode:tt}=requireSrc$2();async function*rt(nt,it,at){for await(let st of nt.content)yield async()=>{at.progress(st.length,nt.path);let ot;const ct={codec:"dag-pb",cidVersion:at.cidVersion,hashAlg:at.hashAlg,onlyHash:at.onlyHash};return at.rawLeaves?(ct.codec="raw",ct.cidVersion=1):(ot=new et({type:at.leafType,data:st,mtime:nt.mtime,mode:nt.mode}),st=new tt(ot.marshal()).serialize()),{cid:await _e(st,it,ct),unixfs:ot,size:st.length}}}return bufferImporter_1=rt,bufferImporter_1}var file,hasRequiredFile;function requireFile(){if(hasRequiredFile)return file;hasRequiredFile=1;const et=errCode,{UnixFS:_e}=requireSrc$5(),tt=requirePersist(),{DAGNode:rt,DAGLink:nt}=requireSrc$2(),it=itParallelBatch,at=src$9.multihash,st={flat:requireFlat(),balanced:requireBalanced(),trickle:requireTrickle()};async function*ot(ut,dt,mt){let gt=-1,bt,ht;typeof mt.bufferImporter=="function"?ht=mt.bufferImporter:ht=requireBufferImporter();for await(const yt of it(ht(ut,dt,mt),mt.blockWriteConcurrency)){if(gt++,gt===0){bt=yt;continue}else gt===1&&bt&&(yield bt,bt=null);yield yt}bt&&(bt.single=!0,yield bt)}const ct=(ut,dt,mt)=>{async function gt(bt){if(bt.length===1&&bt[0].single&&mt.reduceSingleLeafToSelf){const kt=bt[0];if(kt.cid.codec==="raw"&&(ut.mtime!==void 0||ut.mode!==void 0)){let{data:Ot}=await dt.get(kt.cid,mt);kt.unixfs=new _e({type:"file",mtime:ut.mtime,mode:ut.mode,data:Ot});const Wt=at.decode(kt.cid.multihash);Ot=new rt(kt.unixfs.marshal()).serialize(),kt.cid=await tt(Ot,dt,{...mt,codec:"dag-pb",hashAlg:Wt.name,cidVersion:mt.cidVersion}),kt.size=Ot.length}return{cid:kt.cid,path:ut.path,unixfs:kt.unixfs,size:kt.size}}const ht=new _e({type:"file",mtime:ut.mtime,mode:ut.mode}),yt=bt.filter(kt=>kt.cid.codec==="raw"&&kt.size||kt.unixfs&&!kt.unixfs.data&&kt.unixfs.fileSize()?!0:Boolean(kt.unixfs&&kt.unixfs.data&&kt.unixfs.data.length)).map(kt=>kt.cid.codec==="raw"?(ht.addBlockSize(kt.size),new nt("",kt.size,kt.cid)):(!kt.unixfs||!kt.unixfs.data?ht.addBlockSize(kt.unixfs&&kt.unixfs.fileSize()||0):ht.addBlockSize(kt.unixfs.data.length),new nt("",kt.size,kt.cid))),wt=new rt(ht.marshal(),yt),xt=wt.serialize();return{cid:await tt(xt,dt,mt),path:ut.path,unixfs:ht,size:xt.length+wt.Links.reduce((kt,Ot)=>kt+Ot.Tsize,0)}}return gt};function lt(ut,dt,mt){const gt=st[mt.strategy];if(!gt)throw et(new Error(`Unknown importer build strategy name: ${mt.strategy}`),"ERR_BAD_STRATEGY");return gt(ot(ut,dt,mt),ct(ut,dt,mt),mt)}return file=lt,file}var buffer$2={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$5=0,len=code.length;i$5<len;++i$5)lookup[i$5]=code[i$5],revLookup[code.charCodeAt(i$5)]=i$5;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(et){var _e=et.length;if(_e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var tt=et.indexOf("=");tt===-1&&(tt=_e);var rt=tt===_e?0:4-tt%4;return[tt,rt]}function byteLength$1(et){var _e=getLens(et),tt=_e[0],rt=_e[1];return(tt+rt)*3/4-rt}function _byteLength(et,_e,tt){return(_e+tt)*3/4-tt}function toByteArray(et){var _e,tt=getLens(et),rt=tt[0],nt=tt[1],it=new Arr(_byteLength(et,rt,nt)),at=0,st=nt>0?rt-4:rt,ot;for(ot=0;ot<st;ot+=4)_e=revLookup[et.charCodeAt(ot)]<<18|revLookup[et.charCodeAt(ot+1)]<<12|revLookup[et.charCodeAt(ot+2)]<<6|revLookup[et.charCodeAt(ot+3)],it[at++]=_e>>16&255,it[at++]=_e>>8&255,it[at++]=_e&255;return nt===2&&(_e=revLookup[et.charCodeAt(ot)]<<2|revLookup[et.charCodeAt(ot+1)]>>4,it[at++]=_e&255),nt===1&&(_e=revLookup[et.charCodeAt(ot)]<<10|revLookup[et.charCodeAt(ot+1)]<<4|revLookup[et.charCodeAt(ot+2)]>>2,it[at++]=_e>>8&255,it[at++]=_e&255),it}function tripletToBase64(et){return lookup[et>>18&63]+lookup[et>>12&63]+lookup[et>>6&63]+lookup[et&63]}function encodeChunk(et,_e,tt){for(var rt,nt=[],it=_e;it<tt;it+=3)rt=(et[it]<<16&16711680)+(et[it+1]<<8&65280)+(et[it+2]&255),nt.push(tripletToBase64(rt));return nt.join("")}function fromByteArray(et){for(var _e,tt=et.length,rt=tt%3,nt=[],it=16383,at=0,st=tt-rt;at<st;at+=it)nt.push(encodeChunk(et,at,at+it>st?st:at+it));return rt===1?(_e=et[tt-1],nt.push(lookup[_e>>2]+lookup[_e<<4&63]+"==")):rt===2&&(_e=(et[tt-2]<<8)+et[tt-1],nt.push(lookup[_e>>10]+lookup[_e>>4&63]+lookup[_e<<2&63]+"=")),nt.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(et,_e,tt,rt,nt){var it,at,st=nt*8-rt-1,ot=(1<<st)-1,ct=ot>>1,lt=-7,ut=tt?nt-1:0,dt=tt?-1:1,mt=et[_e+ut];for(ut+=dt,it=mt&(1<<-lt)-1,mt>>=-lt,lt+=st;lt>0;it=it*256+et[_e+ut],ut+=dt,lt-=8);for(at=it&(1<<-lt)-1,it>>=-lt,lt+=rt;lt>0;at=at*256+et[_e+ut],ut+=dt,lt-=8);if(it===0)it=1-ct;else{if(it===ot)return at?NaN:(mt?-1:1)*(1/0);at=at+Math.pow(2,rt),it=it-ct}return(mt?-1:1)*at*Math.pow(2,it-rt)};ieee754.write=function(et,_e,tt,rt,nt,it){var at,st,ot,ct=it*8-nt-1,lt=(1<<ct)-1,ut=lt>>1,dt=nt===23?Math.pow(2,-24)-Math.pow(2,-77):0,mt=rt?0:it-1,gt=rt?1:-1,bt=_e<0||_e===0&&1/_e<0?1:0;for(_e=Math.abs(_e),isNaN(_e)||_e===1/0?(st=isNaN(_e)?1:0,at=lt):(at=Math.floor(Math.log(_e)/Math.LN2),_e*(ot=Math.pow(2,-at))<1&&(at--,ot*=2),at+ut>=1?_e+=dt/ot:_e+=dt*Math.pow(2,1-ut),_e*ot>=2&&(at++,ot/=2),at+ut>=lt?(st=0,at=lt):at+ut>=1?(st=(_e*ot-1)*Math.pow(2,nt),at=at+ut):(st=_e*Math.pow(2,ut-1)*Math.pow(2,nt),at=0));nt>=8;et[tt+mt]=st&255,mt+=gt,st/=256,nt-=8);for(at=at<<nt|st,ct+=nt;ct>0;et[tt+mt]=at&255,mt+=gt,at/=256,ct-=8);et[tt+mt-gt]|=bt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(et){const _e=base64Js,tt=ieee754,rt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;et.Buffer=st,et.SlowBuffer=wt,et.INSPECT_MAX_BYTES=50;const nt=2147483647;et.kMaxLength=nt,st.TYPED_ARRAY_SUPPORT=it(),!st.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{const Gt=new Uint8Array(1),Ft={foo:function(){return 42}};return Object.setPrototypeOf(Ft,Uint8Array.prototype),Object.setPrototypeOf(Gt,Ft),Gt.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.buffer}}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.byteOffset}});function at(Gt){if(Gt>nt)throw new RangeError('The value "'+Gt+'" is invalid for option "size"');const Ft=new Uint8Array(Gt);return Object.setPrototypeOf(Ft,st.prototype),Ft}function st(Gt,Ft,jt){if(typeof Gt=="number"){if(typeof Ft=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ut(Gt)}return ot(Gt,Ft,jt)}st.poolSize=8192;function ot(Gt,Ft,jt){if(typeof Gt=="string")return dt(Gt,Ft);if(ArrayBuffer.isView(Gt))return gt(Gt);if(Gt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Gt);if(pr(Gt,ArrayBuffer)||Gt&&pr(Gt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pr(Gt,SharedArrayBuffer)||Gt&&pr(Gt.buffer,SharedArrayBuffer)))return bt(Gt,Ft,jt);if(typeof Gt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const tr=Gt.valueOf&&Gt.valueOf();if(tr!=null&&tr!==Gt)return st.from(tr,Ft,jt);const ar=ht(Gt);if(ar)return ar;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Gt[Symbol.toPrimitive]=="function")return st.from(Gt[Symbol.toPrimitive]("string"),Ft,jt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Gt)}st.from=function(Gt,Ft,jt){return ot(Gt,Ft,jt)},Object.setPrototypeOf(st.prototype,Uint8Array.prototype),Object.setPrototypeOf(st,Uint8Array);function ct(Gt){if(typeof Gt!="number")throw new TypeError('"size" argument must be of type number');if(Gt<0)throw new RangeError('The value "'+Gt+'" is invalid for option "size"')}function lt(Gt,Ft,jt){return ct(Gt),Gt<=0?at(Gt):Ft!==void 0?typeof jt=="string"?at(Gt).fill(Ft,jt):at(Gt).fill(Ft):at(Gt)}st.alloc=function(Gt,Ft,jt){return lt(Gt,Ft,jt)};function ut(Gt){return ct(Gt),at(Gt<0?0:yt(Gt)|0)}st.allocUnsafe=function(Gt){return ut(Gt)},st.allocUnsafeSlow=function(Gt){return ut(Gt)};function dt(Gt,Ft){if((typeof Ft!="string"||Ft==="")&&(Ft="utf8"),!st.isEncoding(Ft))throw new TypeError("Unknown encoding: "+Ft);const jt=xt(Gt,Ft)|0;let tr=at(jt);const ar=tr.write(Gt,Ft);return ar!==jt&&(tr=tr.slice(0,ar)),tr}function mt(Gt){const Ft=Gt.length<0?0:yt(Gt.length)|0,jt=at(Ft);for(let tr=0;tr<Ft;tr+=1)jt[tr]=Gt[tr]&255;return jt}function gt(Gt){if(pr(Gt,Uint8Array)){const Ft=new Uint8Array(Gt);return bt(Ft.buffer,Ft.byteOffset,Ft.byteLength)}return mt(Gt)}function bt(Gt,Ft,jt){if(Ft<0||Gt.byteLength<Ft)throw new RangeError('"offset" is outside of buffer bounds');if(Gt.byteLength<Ft+(jt||0))throw new RangeError('"length" is outside of buffer bounds');let tr;return Ft===void 0&&jt===void 0?tr=new Uint8Array(Gt):jt===void 0?tr=new Uint8Array(Gt,Ft):tr=new Uint8Array(Gt,Ft,jt),Object.setPrototypeOf(tr,st.prototype),tr}function ht(Gt){if(st.isBuffer(Gt)){const Ft=yt(Gt.length)|0,jt=at(Ft);return jt.length===0||Gt.copy(jt,0,0,Ft),jt}if(Gt.length!==void 0)return typeof Gt.length!="number"||mr(Gt.length)?at(0):mt(Gt);if(Gt.type==="Buffer"&&Array.isArray(Gt.data))return mt(Gt.data)}function yt(Gt){if(Gt>=nt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt.toString(16)+" bytes");return Gt|0}function wt(Gt){return+Gt!=Gt&&(Gt=0),st.alloc(+Gt)}st.isBuffer=function(Ft){return Ft!=null&&Ft._isBuffer===!0&&Ft!==st.prototype},st.compare=function(Ft,jt){if(pr(Ft,Uint8Array)&&(Ft=st.from(Ft,Ft.offset,Ft.byteLength)),pr(jt,Uint8Array)&&(jt=st.from(jt,jt.offset,jt.byteLength)),!st.isBuffer(Ft)||!st.isBuffer(jt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ft===jt)return 0;let tr=Ft.length,ar=jt.length;for(let cr=0,dr=Math.min(tr,ar);cr<dr;++cr)if(Ft[cr]!==jt[cr]){tr=Ft[cr],ar=jt[cr];break}return tr<ar?-1:ar<tr?1:0},st.isEncoding=function(Ft){switch(String(Ft).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(Ft,jt){if(!Array.isArray(Ft))throw new TypeError('"list" argument must be an Array of Buffers');if(Ft.length===0)return st.alloc(0);let tr;if(jt===void 0)for(jt=0,tr=0;tr<Ft.length;++tr)jt+=Ft[tr].length;const ar=st.allocUnsafe(jt);let cr=0;for(tr=0;tr<Ft.length;++tr){let dr=Ft[tr];if(pr(dr,Uint8Array))cr+dr.length>ar.length?(st.isBuffer(dr)||(dr=st.from(dr)),dr.copy(ar,cr)):Uint8Array.prototype.set.call(ar,dr,cr);else if(st.isBuffer(dr))dr.copy(ar,cr);else throw new TypeError('"list" argument must be an Array of Buffers');cr+=dr.length}return ar};function xt(Gt,Ft){if(st.isBuffer(Gt))return Gt.length;if(ArrayBuffer.isView(Gt)||pr(Gt,ArrayBuffer))return Gt.byteLength;if(typeof Gt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Gt);const jt=Gt.length,tr=arguments.length>2&&arguments[2]===!0;if(!tr&&jt===0)return 0;let ar=!1;for(;;)switch(Ft){case"ascii":case"latin1":case"binary":return jt;case"utf8":case"utf-8":return Ut(Gt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt*2;case"hex":return jt>>>1;case"base64":return nr(Gt).length;default:if(ar)return tr?-1:Ut(Gt).length;Ft=(""+Ft).toLowerCase(),ar=!0}}st.byteLength=xt;function At(Gt,Ft,jt){let tr=!1;if((Ft===void 0||Ft<0)&&(Ft=0),Ft>this.length||((jt===void 0||jt>this.length)&&(jt=this.length),jt<=0)||(jt>>>=0,Ft>>>=0,jt<=Ft))return"";for(Gt||(Gt="utf8");;)switch(Gt){case"hex":return St(this,Ft,jt);case"utf8":case"utf-8":return vt(this,Ft,jt);case"ascii":return Nt(this,Ft,jt);case"latin1":case"binary":return $t(this,Ft,jt);case"base64":return Ct(this,Ft,jt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,Ft,jt);default:if(tr)throw new TypeError("Unknown encoding: "+Gt);Gt=(Gt+"").toLowerCase(),tr=!0}}st.prototype._isBuffer=!0;function kt(Gt,Ft,jt){const tr=Gt[Ft];Gt[Ft]=Gt[jt],Gt[jt]=tr}st.prototype.swap16=function(){const Ft=this.length;if(Ft%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let jt=0;jt<Ft;jt+=2)kt(this,jt,jt+1);return this},st.prototype.swap32=function(){const Ft=this.length;if(Ft%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let jt=0;jt<Ft;jt+=4)kt(this,jt,jt+3),kt(this,jt+1,jt+2);return this},st.prototype.swap64=function(){const Ft=this.length;if(Ft%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let jt=0;jt<Ft;jt+=8)kt(this,jt,jt+7),kt(this,jt+1,jt+6),kt(this,jt+2,jt+5),kt(this,jt+3,jt+4);return this},st.prototype.toString=function(){const Ft=this.length;return Ft===0?"":arguments.length===0?vt(this,0,Ft):At.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(Ft){if(!st.isBuffer(Ft))throw new TypeError("Argument must be a Buffer");return this===Ft?!0:st.compare(this,Ft)===0},st.prototype.inspect=function(){let Ft="";const jt=et.INSPECT_MAX_BYTES;return Ft=this.toString("hex",0,jt).replace(/(.{2})/g,"$1 ").trim(),this.length>jt&&(Ft+=" ... "),"<Buffer "+Ft+">"},rt&&(st.prototype[rt]=st.prototype.inspect),st.prototype.compare=function(Ft,jt,tr,ar,cr){if(pr(Ft,Uint8Array)&&(Ft=st.from(Ft,Ft.offset,Ft.byteLength)),!st.isBuffer(Ft))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ft);if(jt===void 0&&(jt=0),tr===void 0&&(tr=Ft?Ft.length:0),ar===void 0&&(ar=0),cr===void 0&&(cr=this.length),jt<0||tr>Ft.length||ar<0||cr>this.length)throw new RangeError("out of range index");if(ar>=cr&&jt>=tr)return 0;if(ar>=cr)return-1;if(jt>=tr)return 1;if(jt>>>=0,tr>>>=0,ar>>>=0,cr>>>=0,this===Ft)return 0;let dr=cr-ar,_r=tr-jt;const xr=Math.min(dr,_r),vr=this.slice(ar,cr),Fr=Ft.slice(jt,tr);for(let br=0;br<xr;++br)if(vr[br]!==Fr[br]){dr=vr[br],_r=Fr[br];break}return dr<_r?-1:_r<dr?1:0};function Ot(Gt,Ft,jt,tr,ar){if(Gt.length===0)return-1;if(typeof jt=="string"?(tr=jt,jt=0):jt>2147483647?jt=2147483647:jt<-2147483648&&(jt=-2147483648),jt=+jt,mr(jt)&&(jt=ar?0:Gt.length-1),jt<0&&(jt=Gt.length+jt),jt>=Gt.length){if(ar)return-1;jt=Gt.length-1}else if(jt<0)if(ar)jt=0;else return-1;if(typeof Ft=="string"&&(Ft=st.from(Ft,tr)),st.isBuffer(Ft))return Ft.length===0?-1:Wt(Gt,Ft,jt,tr,ar);if(typeof Ft=="number")return Ft=Ft&255,typeof Uint8Array.prototype.indexOf=="function"?ar?Uint8Array.prototype.indexOf.call(Gt,Ft,jt):Uint8Array.prototype.lastIndexOf.call(Gt,Ft,jt):Wt(Gt,[Ft],jt,tr,ar);throw new TypeError("val must be string, number or Buffer")}function Wt(Gt,Ft,jt,tr,ar){let cr=1,dr=Gt.length,_r=Ft.length;if(tr!==void 0&&(tr=String(tr).toLowerCase(),tr==="ucs2"||tr==="ucs-2"||tr==="utf16le"||tr==="utf-16le")){if(Gt.length<2||Ft.length<2)return-1;cr=2,dr/=2,_r/=2,jt/=2}function xr(Fr,br){return cr===1?Fr[br]:Fr.readUInt16BE(br*cr)}let vr;if(ar){let Fr=-1;for(vr=jt;vr<dr;vr++)if(xr(Gt,vr)===xr(Ft,Fr===-1?0:vr-Fr)){if(Fr===-1&&(Fr=vr),vr-Fr+1===_r)return Fr*cr}else Fr!==-1&&(vr-=vr-Fr),Fr=-1}else for(jt+_r>dr&&(jt=dr-_r),vr=jt;vr>=0;vr--){let Fr=!0;for(let br=0;br<_r;br++)if(xr(Gt,vr+br)!==xr(Ft,br)){Fr=!1;break}if(Fr)return vr}return-1}st.prototype.includes=function(Ft,jt,tr){return this.indexOf(Ft,jt,tr)!==-1},st.prototype.indexOf=function(Ft,jt,tr){return Ot(this,Ft,jt,tr,!0)},st.prototype.lastIndexOf=function(Ft,jt,tr){return Ot(this,Ft,jt,tr,!1)};function Ht(Gt,Ft,jt,tr){jt=Number(jt)||0;const ar=Gt.length-jt;tr?(tr=Number(tr),tr>ar&&(tr=ar)):tr=ar;const cr=Ft.length;tr>cr/2&&(tr=cr/2);let dr;for(dr=0;dr<tr;++dr){const _r=parseInt(Ft.substr(dr*2,2),16);if(mr(_r))return dr;Gt[jt+dr]=_r}return dr}function Zt(Gt,Ft,jt,tr){return ur(Ut(Ft,Gt.length-jt),Gt,jt,tr)}function Lt(Gt,Ft,jt,tr){return ur(zt(Ft),Gt,jt,tr)}function Et(Gt,Ft,jt,tr){return ur(nr(Ft),Gt,jt,tr)}function It(Gt,Ft,jt,tr){return ur(Jt(Ft,Gt.length-jt),Gt,jt,tr)}st.prototype.write=function(Ft,jt,tr,ar){if(jt===void 0)ar="utf8",tr=this.length,jt=0;else if(tr===void 0&&typeof jt=="string")ar=jt,tr=this.length,jt=0;else if(isFinite(jt))jt=jt>>>0,isFinite(tr)?(tr=tr>>>0,ar===void 0&&(ar="utf8")):(ar=tr,tr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const cr=this.length-jt;if((tr===void 0||tr>cr)&&(tr=cr),Ft.length>0&&(tr<0||jt<0)||jt>this.length)throw new RangeError("Attempt to write outside buffer bounds");ar||(ar="utf8");let dr=!1;for(;;)switch(ar){case"hex":return Ht(this,Ft,jt,tr);case"utf8":case"utf-8":return Zt(this,Ft,jt,tr);case"ascii":case"latin1":case"binary":return Lt(this,Ft,jt,tr);case"base64":return Et(this,Ft,jt,tr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return It(this,Ft,jt,tr);default:if(dr)throw new TypeError("Unknown encoding: "+ar);ar=(""+ar).toLowerCase(),dr=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ct(Gt,Ft,jt){return Ft===0&&jt===Gt.length?_e.fromByteArray(Gt):_e.fromByteArray(Gt.slice(Ft,jt))}function vt(Gt,Ft,jt){jt=Math.min(Gt.length,jt);const tr=[];let ar=Ft;for(;ar<jt;){const cr=Gt[ar];let dr=null,_r=cr>239?4:cr>223?3:cr>191?2:1;if(ar+_r<=jt){let xr,vr,Fr,br;switch(_r){case 1:cr<128&&(dr=cr);break;case 2:xr=Gt[ar+1],(xr&192)===128&&(br=(cr&31)<<6|xr&63,br>127&&(dr=br));break;case 3:xr=Gt[ar+1],vr=Gt[ar+2],(xr&192)===128&&(vr&192)===128&&(br=(cr&15)<<12|(xr&63)<<6|vr&63,br>2047&&(br<55296||br>57343)&&(dr=br));break;case 4:xr=Gt[ar+1],vr=Gt[ar+2],Fr=Gt[ar+3],(xr&192)===128&&(vr&192)===128&&(Fr&192)===128&&(br=(cr&15)<<18|(xr&63)<<12|(vr&63)<<6|Fr&63,br>65535&&br<1114112&&(dr=br))}}dr===null?(dr=65533,_r=1):dr>65535&&(dr-=65536,tr.push(dr>>>10&1023|55296),dr=56320|dr&1023),tr.push(dr),ar+=_r}return Mt(tr)}const Tt=4096;function Mt(Gt){const Ft=Gt.length;if(Ft<=Tt)return String.fromCharCode.apply(String,Gt);let jt="",tr=0;for(;tr<Ft;)jt+=String.fromCharCode.apply(String,Gt.slice(tr,tr+=Tt));return jt}function Nt(Gt,Ft,jt){let tr="";jt=Math.min(Gt.length,jt);for(let ar=Ft;ar<jt;++ar)tr+=String.fromCharCode(Gt[ar]&127);return tr}function $t(Gt,Ft,jt){let tr="";jt=Math.min(Gt.length,jt);for(let ar=Ft;ar<jt;++ar)tr+=String.fromCharCode(Gt[ar]);return tr}function St(Gt,Ft,jt){const tr=Gt.length;(!Ft||Ft<0)&&(Ft=0),(!jt||jt<0||jt>tr)&&(jt=tr);let ar="";for(let cr=Ft;cr<jt;++cr)ar+=yr[Gt[cr]];return ar}function Dt(Gt,Ft,jt){const tr=Gt.slice(Ft,jt);let ar="";for(let cr=0;cr<tr.length-1;cr+=2)ar+=String.fromCharCode(tr[cr]+tr[cr+1]*256);return ar}st.prototype.slice=function(Ft,jt){const tr=this.length;Ft=~~Ft,jt=jt===void 0?tr:~~jt,Ft<0?(Ft+=tr,Ft<0&&(Ft=0)):Ft>tr&&(Ft=tr),jt<0?(jt+=tr,jt<0&&(jt=0)):jt>tr&&(jt=tr),jt<Ft&&(jt=Ft);const ar=this.subarray(Ft,jt);return Object.setPrototypeOf(ar,st.prototype),ar};function Rt(Gt,Ft,jt){if(Gt%1!==0||Gt<0)throw new RangeError("offset is not uint");if(Gt+Ft>jt)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(Ft,jt,tr){Ft=Ft>>>0,jt=jt>>>0,tr||Rt(Ft,jt,this.length);let ar=this[Ft],cr=1,dr=0;for(;++dr<jt&&(cr*=256);)ar+=this[Ft+dr]*cr;return ar},st.prototype.readUintBE=st.prototype.readUIntBE=function(Ft,jt,tr){Ft=Ft>>>0,jt=jt>>>0,tr||Rt(Ft,jt,this.length);let ar=this[Ft+--jt],cr=1;for(;jt>0&&(cr*=256);)ar+=this[Ft+--jt]*cr;return ar},st.prototype.readUint8=st.prototype.readUInt8=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,1,this.length),this[Ft]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,2,this.length),this[Ft]|this[Ft+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,2,this.length),this[Ft]<<8|this[Ft+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,4,this.length),(this[Ft]|this[Ft+1]<<8|this[Ft+2]<<16)+this[Ft+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,4,this.length),this[Ft]*16777216+(this[Ft+1]<<16|this[Ft+2]<<8|this[Ft+3])},st.prototype.readBigUInt64LE=Er(function(Ft){Ft=Ft>>>0,sr(Ft,"offset");const jt=this[Ft],tr=this[Ft+7];(jt===void 0||tr===void 0)&&ir(Ft,this.length-8);const ar=jt+this[++Ft]*2**8+this[++Ft]*2**16+this[++Ft]*2**24,cr=this[++Ft]+this[++Ft]*2**8+this[++Ft]*2**16+tr*2**24;return BigInt(ar)+(BigInt(cr)<<BigInt(32))}),st.prototype.readBigUInt64BE=Er(function(Ft){Ft=Ft>>>0,sr(Ft,"offset");const jt=this[Ft],tr=this[Ft+7];(jt===void 0||tr===void 0)&&ir(Ft,this.length-8);const ar=jt*2**24+this[++Ft]*2**16+this[++Ft]*2**8+this[++Ft],cr=this[++Ft]*2**24+this[++Ft]*2**16+this[++Ft]*2**8+tr;return(BigInt(ar)<<BigInt(32))+BigInt(cr)}),st.prototype.readIntLE=function(Ft,jt,tr){Ft=Ft>>>0,jt=jt>>>0,tr||Rt(Ft,jt,this.length);let ar=this[Ft],cr=1,dr=0;for(;++dr<jt&&(cr*=256);)ar+=this[Ft+dr]*cr;return cr*=128,ar>=cr&&(ar-=Math.pow(2,8*jt)),ar},st.prototype.readIntBE=function(Ft,jt,tr){Ft=Ft>>>0,jt=jt>>>0,tr||Rt(Ft,jt,this.length);let ar=jt,cr=1,dr=this[Ft+--ar];for(;ar>0&&(cr*=256);)dr+=this[Ft+--ar]*cr;return cr*=128,dr>=cr&&(dr-=Math.pow(2,8*jt)),dr},st.prototype.readInt8=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,1,this.length),this[Ft]&128?(255-this[Ft]+1)*-1:this[Ft]},st.prototype.readInt16LE=function(Ft,jt){Ft=Ft>>>0,jt||Rt(Ft,2,this.length);const tr=this[Ft]|this[Ft+1]<<8;return tr&32768?tr|4294901760:tr},st.prototype.readInt16BE=function(Ft,jt){Ft=Ft>>>0,jt||Rt(Ft,2,this.length);const tr=this[Ft+1]|this[Ft]<<8;return tr&32768?tr|4294901760:tr},st.prototype.readInt32LE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,4,this.length),this[Ft]|this[Ft+1]<<8|this[Ft+2]<<16|this[Ft+3]<<24},st.prototype.readInt32BE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,4,this.length),this[Ft]<<24|this[Ft+1]<<16|this[Ft+2]<<8|this[Ft+3]},st.prototype.readBigInt64LE=Er(function(Ft){Ft=Ft>>>0,sr(Ft,"offset");const jt=this[Ft],tr=this[Ft+7];(jt===void 0||tr===void 0)&&ir(Ft,this.length-8);const ar=this[Ft+4]+this[Ft+5]*2**8+this[Ft+6]*2**16+(tr<<24);return(BigInt(ar)<<BigInt(32))+BigInt(jt+this[++Ft]*2**8+this[++Ft]*2**16+this[++Ft]*2**24)}),st.prototype.readBigInt64BE=Er(function(Ft){Ft=Ft>>>0,sr(Ft,"offset");const jt=this[Ft],tr=this[Ft+7];(jt===void 0||tr===void 0)&&ir(Ft,this.length-8);const ar=(jt<<24)+this[++Ft]*2**16+this[++Ft]*2**8+this[++Ft];return(BigInt(ar)<<BigInt(32))+BigInt(this[++Ft]*2**24+this[++Ft]*2**16+this[++Ft]*2**8+tr)}),st.prototype.readFloatLE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,4,this.length),tt.read(this,Ft,!0,23,4)},st.prototype.readFloatBE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,4,this.length),tt.read(this,Ft,!1,23,4)},st.prototype.readDoubleLE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,8,this.length),tt.read(this,Ft,!0,52,8)},st.prototype.readDoubleBE=function(Ft,jt){return Ft=Ft>>>0,jt||Rt(Ft,8,this.length),tt.read(this,Ft,!1,52,8)};function _t(Gt,Ft,jt,tr,ar,cr){if(!st.isBuffer(Gt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ft>ar||Ft<cr)throw new RangeError('"value" argument is out of bounds');if(jt+tr>Gt.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(Ft,jt,tr,ar){if(Ft=+Ft,jt=jt>>>0,tr=tr>>>0,!ar){const _r=Math.pow(2,8*tr)-1;_t(this,Ft,jt,tr,_r,0)}let cr=1,dr=0;for(this[jt]=Ft&255;++dr<tr&&(cr*=256);)this[jt+dr]=Ft/cr&255;return jt+tr},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(Ft,jt,tr,ar){if(Ft=+Ft,jt=jt>>>0,tr=tr>>>0,!ar){const _r=Math.pow(2,8*tr)-1;_t(this,Ft,jt,tr,_r,0)}let cr=tr-1,dr=1;for(this[jt+cr]=Ft&255;--cr>=0&&(dr*=256);)this[jt+cr]=Ft/dr&255;return jt+tr},st.prototype.writeUint8=st.prototype.writeUInt8=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,1,255,0),this[jt]=Ft&255,jt+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,2,65535,0),this[jt]=Ft&255,this[jt+1]=Ft>>>8,jt+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,2,65535,0),this[jt]=Ft>>>8,this[jt+1]=Ft&255,jt+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,4,4294967295,0),this[jt+3]=Ft>>>24,this[jt+2]=Ft>>>16,this[jt+1]=Ft>>>8,this[jt]=Ft&255,jt+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,4,4294967295,0),this[jt]=Ft>>>24,this[jt+1]=Ft>>>16,this[jt+2]=Ft>>>8,this[jt+3]=Ft&255,jt+4};function Pt(Gt,Ft,jt,tr,ar){Kt(Ft,tr,ar,Gt,jt,7);let cr=Number(Ft&BigInt(4294967295));Gt[jt++]=cr,cr=cr>>8,Gt[jt++]=cr,cr=cr>>8,Gt[jt++]=cr,cr=cr>>8,Gt[jt++]=cr;let dr=Number(Ft>>BigInt(32)&BigInt(4294967295));return Gt[jt++]=dr,dr=dr>>8,Gt[jt++]=dr,dr=dr>>8,Gt[jt++]=dr,dr=dr>>8,Gt[jt++]=dr,jt}function Vt(Gt,Ft,jt,tr,ar){Kt(Ft,tr,ar,Gt,jt,7);let cr=Number(Ft&BigInt(4294967295));Gt[jt+7]=cr,cr=cr>>8,Gt[jt+6]=cr,cr=cr>>8,Gt[jt+5]=cr,cr=cr>>8,Gt[jt+4]=cr;let dr=Number(Ft>>BigInt(32)&BigInt(4294967295));return Gt[jt+3]=dr,dr=dr>>8,Gt[jt+2]=dr,dr=dr>>8,Gt[jt+1]=dr,dr=dr>>8,Gt[jt]=dr,jt+8}st.prototype.writeBigUInt64LE=Er(function(Ft,jt=0){return Pt(this,Ft,jt,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeBigUInt64BE=Er(function(Ft,jt=0){return Vt(this,Ft,jt,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeIntLE=function(Ft,jt,tr,ar){if(Ft=+Ft,jt=jt>>>0,!ar){const xr=Math.pow(2,8*tr-1);_t(this,Ft,jt,tr,xr-1,-xr)}let cr=0,dr=1,_r=0;for(this[jt]=Ft&255;++cr<tr&&(dr*=256);)Ft<0&&_r===0&&this[jt+cr-1]!==0&&(_r=1),this[jt+cr]=(Ft/dr>>0)-_r&255;return jt+tr},st.prototype.writeIntBE=function(Ft,jt,tr,ar){if(Ft=+Ft,jt=jt>>>0,!ar){const xr=Math.pow(2,8*tr-1);_t(this,Ft,jt,tr,xr-1,-xr)}let cr=tr-1,dr=1,_r=0;for(this[jt+cr]=Ft&255;--cr>=0&&(dr*=256);)Ft<0&&_r===0&&this[jt+cr+1]!==0&&(_r=1),this[jt+cr]=(Ft/dr>>0)-_r&255;return jt+tr},st.prototype.writeInt8=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,1,127,-128),Ft<0&&(Ft=255+Ft+1),this[jt]=Ft&255,jt+1},st.prototype.writeInt16LE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,2,32767,-32768),this[jt]=Ft&255,this[jt+1]=Ft>>>8,jt+2},st.prototype.writeInt16BE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,2,32767,-32768),this[jt]=Ft>>>8,this[jt+1]=Ft&255,jt+2},st.prototype.writeInt32LE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,4,2147483647,-2147483648),this[jt]=Ft&255,this[jt+1]=Ft>>>8,this[jt+2]=Ft>>>16,this[jt+3]=Ft>>>24,jt+4},st.prototype.writeInt32BE=function(Ft,jt,tr){return Ft=+Ft,jt=jt>>>0,tr||_t(this,Ft,jt,4,2147483647,-2147483648),Ft<0&&(Ft=4294967295+Ft+1),this[jt]=Ft>>>24,this[jt+1]=Ft>>>16,this[jt+2]=Ft>>>8,this[jt+3]=Ft&255,jt+4},st.prototype.writeBigInt64LE=Er(function(Ft,jt=0){return Pt(this,Ft,jt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),st.prototype.writeBigInt64BE=Er(function(Ft,jt=0){return Vt(this,Ft,jt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Bt(Gt,Ft,jt,tr,ar,cr){if(jt+tr>Gt.length)throw new RangeError("Index out of range");if(jt<0)throw new RangeError("Index out of range")}function qt(Gt,Ft,jt,tr,ar){return Ft=+Ft,jt=jt>>>0,ar||Bt(Gt,Ft,jt,4),tt.write(Gt,Ft,jt,tr,23,4),jt+4}st.prototype.writeFloatLE=function(Ft,jt,tr){return qt(this,Ft,jt,!0,tr)},st.prototype.writeFloatBE=function(Ft,jt,tr){return qt(this,Ft,jt,!1,tr)};function Yt(Gt,Ft,jt,tr,ar){return Ft=+Ft,jt=jt>>>0,ar||Bt(Gt,Ft,jt,8),tt.write(Gt,Ft,jt,tr,52,8),jt+8}st.prototype.writeDoubleLE=function(Ft,jt,tr){return Yt(this,Ft,jt,!0,tr)},st.prototype.writeDoubleBE=function(Ft,jt,tr){return Yt(this,Ft,jt,!1,tr)},st.prototype.copy=function(Ft,jt,tr,ar){if(!st.isBuffer(Ft))throw new TypeError("argument should be a Buffer");if(tr||(tr=0),!ar&&ar!==0&&(ar=this.length),jt>=Ft.length&&(jt=Ft.length),jt||(jt=0),ar>0&&ar<tr&&(ar=tr),ar===tr||Ft.length===0||this.length===0)return 0;if(jt<0)throw new RangeError("targetStart out of bounds");if(tr<0||tr>=this.length)throw new RangeError("Index out of range");if(ar<0)throw new RangeError("sourceEnd out of bounds");ar>this.length&&(ar=this.length),Ft.length-jt<ar-tr&&(ar=Ft.length-jt+tr);const cr=ar-tr;return this===Ft&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(jt,tr,ar):Uint8Array.prototype.set.call(Ft,this.subarray(tr,ar),jt),cr},st.prototype.fill=function(Ft,jt,tr,ar){if(typeof Ft=="string"){if(typeof jt=="string"?(ar=jt,jt=0,tr=this.length):typeof tr=="string"&&(ar=tr,tr=this.length),ar!==void 0&&typeof ar!="string")throw new TypeError("encoding must be a string");if(typeof ar=="string"&&!st.isEncoding(ar))throw new TypeError("Unknown encoding: "+ar);if(Ft.length===1){const dr=Ft.charCodeAt(0);(ar==="utf8"&&dr<128||ar==="latin1")&&(Ft=dr)}}else typeof Ft=="number"?Ft=Ft&255:typeof Ft=="boolean"&&(Ft=Number(Ft));if(jt<0||this.length<jt||this.length<tr)throw new RangeError("Out of range index");if(tr<=jt)return this;jt=jt>>>0,tr=tr===void 0?this.length:tr>>>0,Ft||(Ft=0);let cr;if(typeof Ft=="number")for(cr=jt;cr<tr;++cr)this[cr]=Ft;else{const dr=st.isBuffer(Ft)?Ft:st.from(Ft,ar),_r=dr.length;if(_r===0)throw new TypeError('The value "'+Ft+'" is invalid for argument "value"');for(cr=0;cr<tr-jt;++cr)this[cr+jt]=dr[cr%_r]}return this};const Xt={};function rr(Gt,Ft,jt){Xt[Gt]=class extends jt{constructor(){super(),Object.defineProperty(this,"message",{value:Ft.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Gt}]`,this.stack,delete this.name}get code(){return Gt}set code(ar){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ar,writable:!0})}toString(){return`${this.name} [${Gt}]: ${this.message}`}}}rr("ERR_BUFFER_OUT_OF_BOUNDS",function(Gt){return Gt?`${Gt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rr("ERR_INVALID_ARG_TYPE",function(Gt,Ft){return`The "${Gt}" argument must be of type number. Received type ${typeof Ft}`},TypeError),rr("ERR_OUT_OF_RANGE",function(Gt,Ft,jt){let tr=`The value of "${Gt}" is out of range.`,ar=jt;return Number.isInteger(jt)&&Math.abs(jt)>2**32?ar=lr(String(jt)):typeof jt=="bigint"&&(ar=String(jt),(jt>BigInt(2)**BigInt(32)||jt<-(BigInt(2)**BigInt(32)))&&(ar=lr(ar)),ar+="n"),tr+=` It must be ${Ft}. Received ${ar}`,tr},RangeError);function lr(Gt){let Ft="",jt=Gt.length;const tr=Gt[0]==="-"?1:0;for(;jt>=tr+4;jt-=3)Ft=`_${Gt.slice(jt-3,jt)}${Ft}`;return`${Gt.slice(0,jt)}${Ft}`}function Qt(Gt,Ft,jt){sr(Ft,"offset"),(Gt[Ft]===void 0||Gt[Ft+jt]===void 0)&&ir(Ft,Gt.length-(jt+1))}function Kt(Gt,Ft,jt,tr,ar,cr){if(Gt>jt||Gt<Ft){const dr=typeof Ft=="bigint"?"n":"";let _r;throw cr>3?Ft===0||Ft===BigInt(0)?_r=`>= 0${dr} and < 2${dr} ** ${(cr+1)*8}${dr}`:_r=`>= -(2${dr} ** ${(cr+1)*8-1}${dr}) and < 2 ** ${(cr+1)*8-1}${dr}`:_r=`>= ${Ft}${dr} and <= ${jt}${dr}`,new Xt.ERR_OUT_OF_RANGE("value",_r,Gt)}Qt(tr,ar,cr)}function sr(Gt,Ft){if(typeof Gt!="number")throw new Xt.ERR_INVALID_ARG_TYPE(Ft,"number",Gt)}function ir(Gt,Ft,jt){throw Math.floor(Gt)!==Gt?(sr(Gt,jt),new Xt.ERR_OUT_OF_RANGE(jt||"offset","an integer",Gt)):Ft<0?new Xt.ERR_BUFFER_OUT_OF_BOUNDS:new Xt.ERR_OUT_OF_RANGE(jt||"offset",`>= ${jt?1:0} and <= ${Ft}`,Gt)}const hr=/[^+/0-9A-Za-z-_]/g;function er(Gt){if(Gt=Gt.split("=")[0],Gt=Gt.trim().replace(hr,""),Gt.length<2)return"";for(;Gt.length%4!==0;)Gt=Gt+"=";return Gt}function Ut(Gt,Ft){Ft=Ft||1/0;let jt;const tr=Gt.length;let ar=null;const cr=[];for(let dr=0;dr<tr;++dr){if(jt=Gt.charCodeAt(dr),jt>55295&&jt<57344){if(!ar){if(jt>56319){(Ft-=3)>-1&&cr.push(239,191,189);continue}else if(dr+1===tr){(Ft-=3)>-1&&cr.push(239,191,189);continue}ar=jt;continue}if(jt<56320){(Ft-=3)>-1&&cr.push(239,191,189),ar=jt;continue}jt=(ar-55296<<10|jt-56320)+65536}else ar&&(Ft-=3)>-1&&cr.push(239,191,189);if(ar=null,jt<128){if((Ft-=1)<0)break;cr.push(jt)}else if(jt<2048){if((Ft-=2)<0)break;cr.push(jt>>6|192,jt&63|128)}else if(jt<65536){if((Ft-=3)<0)break;cr.push(jt>>12|224,jt>>6&63|128,jt&63|128)}else if(jt<1114112){if((Ft-=4)<0)break;cr.push(jt>>18|240,jt>>12&63|128,jt>>6&63|128,jt&63|128)}else throw new Error("Invalid code point")}return cr}function zt(Gt){const Ft=[];for(let jt=0;jt<Gt.length;++jt)Ft.push(Gt.charCodeAt(jt)&255);return Ft}function Jt(Gt,Ft){let jt,tr,ar;const cr=[];for(let dr=0;dr<Gt.length&&!((Ft-=2)<0);++dr)jt=Gt.charCodeAt(dr),tr=jt>>8,ar=jt%256,cr.push(ar),cr.push(tr);return cr}function nr(Gt){return _e.toByteArray(er(Gt))}function ur(Gt,Ft,jt,tr){let ar;for(ar=0;ar<tr&&!(ar+jt>=Ft.length||ar>=Gt.length);++ar)Ft[ar+jt]=Gt[ar];return ar}function pr(Gt,Ft){return Gt instanceof Ft||Gt!=null&&Gt.constructor!=null&&Gt.constructor.name!=null&&Gt.constructor.name===Ft.name}function mr(Gt){return Gt!==Gt}const yr=function(){const Gt="0123456789abcdef",Ft=new Array(256);for(let jt=0;jt<16;++jt){const tr=jt*16;for(let ar=0;ar<16;++ar)Ft[tr+ar]=Gt[jt]+Gt[ar]}return Ft}();function Er(Gt){return typeof BigInt>"u"?gr:Gt}function gr(){throw new Error("BigInt not supported")}})(buffer$2);var BufferList_1,hasRequiredBufferList;function requireBufferList(){if(hasRequiredBufferList)return BufferList_1;hasRequiredBufferList=1;const{Buffer:et}=buffer$2,_e=Symbol.for("BufferList");function tt(rt){if(!(this instanceof tt))return new tt(rt);tt._init.call(this,rt)}return tt._init=function(nt){Object.defineProperty(this,_e,{value:!0}),this._bufs=[],this.length=0,nt&&this.append(nt)},tt.prototype._new=function(nt){return new tt(nt)},tt.prototype._offset=function(nt){if(nt===0)return[0,0];let it=0;for(let at=0;at<this._bufs.length;at++){const st=it+this._bufs[at].length;if(nt<st||at===this._bufs.length-1)return[at,nt-it];it=st}},tt.prototype._reverseOffset=function(rt){const nt=rt[0];let it=rt[1];for(let at=0;at<nt;at++)it+=this._bufs[at].length;return it},tt.prototype.get=function(nt){if(nt>this.length||nt<0)return;const it=this._offset(nt);return this._bufs[it[0]][it[1]]},tt.prototype.slice=function(nt,it){return typeof nt=="number"&&nt<0&&(nt+=this.length),typeof it=="number"&&it<0&&(it+=this.length),this.copy(null,0,nt,it)},tt.prototype.copy=function(nt,it,at,st){if((typeof at!="number"||at<0)&&(at=0),(typeof st!="number"||st>this.length)&&(st=this.length),at>=this.length||st<=0)return nt||et.alloc(0);const ot=!!nt,ct=this._offset(at),lt=st-at;let ut=lt,dt=ot&&it||0,mt=ct[1];if(at===0&&st===this.length){if(!ot)return this._bufs.length===1?this._bufs[0]:et.concat(this._bufs,this.length);for(let gt=0;gt<this._bufs.length;gt++)this._bufs[gt].copy(nt,dt),dt+=this._bufs[gt].length;return nt}if(ut<=this._bufs[ct[0]].length-mt)return ot?this._bufs[ct[0]].copy(nt,it,mt,mt+ut):this._bufs[ct[0]].slice(mt,mt+ut);ot||(nt=et.allocUnsafe(lt));for(let gt=ct[0];gt<this._bufs.length;gt++){const bt=this._bufs[gt].length-mt;if(ut>bt)this._bufs[gt].copy(nt,dt,mt),dt+=bt;else{this._bufs[gt].copy(nt,dt,mt,mt+ut),dt+=bt;break}ut-=bt,mt&&(mt=0)}return nt.length>dt?nt.slice(0,dt):nt},tt.prototype.shallowSlice=function(nt,it){if(nt=nt||0,it=typeof it!="number"?this.length:it,nt<0&&(nt+=this.length),it<0&&(it+=this.length),nt===it)return this._new();const at=this._offset(nt),st=this._offset(it),ot=this._bufs.slice(at[0],st[0]+1);return st[1]===0?ot.pop():ot[ot.length-1]=ot[ot.length-1].slice(0,st[1]),at[1]!==0&&(ot[0]=ot[0].slice(at[1])),this._new(ot)},tt.prototype.toString=function(nt,it,at){return this.slice(it,at).toString(nt)},tt.prototype.consume=function(nt){if(nt=Math.trunc(nt),Number.isNaN(nt)||nt<=0)return this;for(;this._bufs.length;)if(nt>=this._bufs[0].length)nt-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(nt),this.length-=nt;break}return this},tt.prototype.duplicate=function(){const nt=this._new();for(let it=0;it<this._bufs.length;it++)nt.append(this._bufs[it]);return nt},tt.prototype.append=function(nt){if(nt==null)return this;if(nt.buffer)this._appendBuffer(et.from(nt.buffer,nt.byteOffset,nt.byteLength));else if(Array.isArray(nt))for(let it=0;it<nt.length;it++)this.append(nt[it]);else if(this._isBufferList(nt))for(let it=0;it<nt._bufs.length;it++)this.append(nt._bufs[it]);else typeof nt=="number"&&(nt=nt.toString()),this._appendBuffer(et.from(nt));return this},tt.prototype._appendBuffer=function(nt){this._bufs.push(nt),this.length+=nt.length},tt.prototype.indexOf=function(rt,nt,it){if(it===void 0&&typeof nt=="string"&&(it=nt,nt=void 0),typeof rt=="function"||Array.isArray(rt))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof rt=="number"?rt=et.from([rt]):typeof rt=="string"?rt=et.from(rt,it):this._isBufferList(rt)?rt=rt.slice():Array.isArray(rt.buffer)?rt=et.from(rt.buffer,rt.byteOffset,rt.byteLength):et.isBuffer(rt)||(rt=et.from(rt)),nt=Number(nt||0),isNaN(nt)&&(nt=0),nt<0&&(nt=this.length+nt),nt<0&&(nt=0),rt.length===0)return nt>this.length?this.length:nt;const at=this._offset(nt);let st=at[0],ot=at[1];for(;st<this._bufs.length;st++){const ct=this._bufs[st];for(;ot<ct.length;)if(ct.length-ot>=rt.length){const ut=ct.indexOf(rt,ot);if(ut!==-1)return this._reverseOffset([st,ut]);ot=ct.length-rt.length+1}else{const ut=this._reverseOffset([st,ot]);if(this._match(ut,rt))return ut;ot++}ot=0}return-1},tt.prototype._match=function(rt,nt){if(this.length-rt<nt.length)return!1;for(let it=0;it<nt.length;it++)if(this.get(rt+it)!==nt[it])return!1;return!0},function(){const rt={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const nt in rt)(function(it){rt[it]===null?tt.prototype[it]=function(at,st){return this.slice(at,at+st)[it](0,st)}:tt.prototype[it]=function(at=0){return this.slice(at,at+rt[it])[it](0)}})(nt)}(),tt.prototype._isBufferList=function(nt){return nt instanceof tt||tt.isBufferList(nt)},tt.isBufferList=function(nt){return nt!=null&&nt[_e]},BufferList_1=tt,BufferList_1}var rabin,hasRequiredRabin$1;function requireRabin$1(){if(hasRequiredRabin$1)return rabin;hasRequiredRabin$1=1;class et{constructor(tt,rt=12,nt=8*1024,it=32*1024,at=64,st){this.bits=rt,this.min=nt,this.max=it,this.asModule=tt,this.rabin=new tt.Rabin(rt,nt,it,at,st),this.polynomial=st}fingerprint(tt){const{__retain:rt,__release:nt,__allocArray:it,__getInt32Array:at,Int32Array_ID:st,Uint8Array_ID:ot}=this.asModule,ct=new Int32Array(Math.ceil(tt.length/this.min)),lt=rt(it(st,ct)),ut=rt(it(ot,tt)),dt=this.rabin.fingerprint(ut,lt),mt=at(dt);nt(ut),nt(lt);const gt=mt.indexOf(0);return gt>=0?mt.subarray(0,gt):mt}}return rabin=et,rabin}var loader={},hasRequiredLoader;function requireLoader(){if(hasRequiredLoader)return loader;hasRequiredLoader=1;const et=-8,_e=-4,tt=0,rt=1,nt=1<<0,it=1<<1,at=5,st=1<<10,ot=1<<11,ct=1<<13,lt=0,ut=4,dt=8,mt=12,gt=12,bt=16,ht=typeof BigUint64Array<"u",yt=Symbol(),wt=1024;function xt(Et,It){const Ct=new Uint32Array(Et),vt=new Uint16Array(Et);var Tt=Ct[It+_e>>>2]>>>1,Mt=It>>>1;if(Tt<=wt)return String.fromCharCode.apply(String,vt.subarray(Mt,Mt+Tt));const Nt=[];do{const $t=vt[Mt+wt-1],St=$t>=55296&&$t<56320?wt-1:wt;Nt.push(String.fromCharCode.apply(String,vt.subarray(Mt,Mt+=St))),Tt-=St}while(Tt>wt);return Nt.join("")+String.fromCharCode.apply(String,vt.subarray(Mt,Mt+Tt))}function At(Et){const It={};function Ct(Tt,Mt){return Tt?xt(Tt.buffer,Mt):"<yet unknown>"}const vt=Et.env=Et.env||{};return vt.abort=vt.abort||function(Mt,Nt,$t,St){const Dt=It.memory||vt.memory;throw Error("abort: "+Ct(Dt,Mt)+" at "+Ct(Dt,Nt)+":"+$t+":"+St)},vt.trace=vt.trace||function(Mt,Nt){const $t=It.memory||vt.memory;console.log("trace: "+Ct($t,Mt)+(Nt?" ":"")+Array.prototype.slice.call(arguments,2,2+Nt).join(", "))},Et.Math=Et.Math||Math,Et.Date=Et.Date||Date,It}function kt(Et,It){const Ct=It.exports,vt=Ct.memory,Tt=Ct.table,Mt=Ct.__alloc,Nt=Ct.__retain,$t=Ct.__rtti_base||-1;function St(Kt){const sr=new Uint32Array(vt.buffer),ir=sr[$t>>>2];if((Kt>>>=0)>=ir)throw Error("invalid id: "+Kt);return sr[($t+4>>>2)+Kt*2]}function Dt(Kt){const sr=new Uint32Array(vt.buffer),ir=sr[$t>>>2];if((Kt>>>=0)>=ir)throw Error("invalid id: "+Kt);return sr[($t+4>>>2)+Kt*2+1]}function Rt(Kt){return 31-Math.clz32(Kt>>>at&31)}function _t(Kt){const sr=Kt.length,ir=Mt(sr<<1,rt),hr=new Uint16Array(vt.buffer);for(var er=0,Ut=ir>>>1;er<sr;++er)hr[Ut+er]=Kt.charCodeAt(er);return ir}Et.__allocString=_t;function Pt(Kt){const sr=vt.buffer;if(new Uint32Array(sr)[Kt+et>>>2]!==rt)throw Error("not a string: "+Kt);return xt(sr,Kt)}Et.__getString=Pt;function Vt(Kt,sr,ir){const hr=vt.buffer;if(ir)switch(Kt){case 2:return new Float32Array(hr);case 3:return new Float64Array(hr)}else switch(Kt){case 0:return new(sr?Int8Array:Uint8Array)(hr);case 1:return new(sr?Int16Array:Uint16Array)(hr);case 2:return new(sr?Int32Array:Uint32Array)(hr);case 3:return new(sr?BigInt64Array:BigUint64Array)(hr)}throw Error("unsupported align: "+Kt)}function Bt(Kt,sr){const ir=St(Kt);if(!(ir&(nt|it)))throw Error("not an array: "+Kt+" @ "+ir);const hr=Rt(ir),er=sr.length,Ut=Mt(er<<hr,tt),zt=Mt(ir&it?bt:mt,Kt),Jt=new Uint32Array(vt.buffer);Jt[zt+lt>>>2]=Nt(Ut),Jt[zt+ut>>>2]=Ut,Jt[zt+dt>>>2]=er<<hr,ir&it&&(Jt[zt+gt>>>2]=er);const nr=Vt(hr,ir&st,ir&ot);if(ir&ct)for(let ur=0;ur<er;++ur)nr[(Ut>>>hr)+ur]=Nt(sr[ur]);else nr.set(sr,Ut>>>hr);return zt}Et.__allocArray=Bt;function qt(Kt){const sr=new Uint32Array(vt.buffer),ir=sr[Kt+et>>>2],hr=St(ir);if(!(hr&nt))throw Error("not an array: "+ir);const er=Rt(hr);var Ut=sr[Kt+ut>>>2];const zt=hr&it?sr[Kt+gt>>>2]:sr[Ut+_e>>>2]>>>er;return Vt(er,hr&st,hr&ot).subarray(Ut>>>=er,Ut+zt)}Et.__getArrayView=qt;function Yt(Kt){const sr=qt(Kt),ir=sr.length,hr=new Array(ir);for(let er=0;er<ir;er++)hr[er]=sr[er];return hr}Et.__getArray=Yt;function Xt(Kt){const sr=vt.buffer,ir=new Uint32Array(sr)[Kt+_e>>>2];return sr.slice(Kt,Kt+ir)}Et.__getArrayBuffer=Xt;function rr(Kt,sr,ir){return new Kt(lr(Kt,sr,ir))}function lr(Kt,sr,ir){const hr=vt.buffer,er=new Uint32Array(hr),Ut=er[ir+ut>>>2];return new Kt(hr,Ut,er[Ut+_e>>>2]>>>sr)}Et.__getInt8Array=rr.bind(null,Int8Array,0),Et.__getInt8ArrayView=lr.bind(null,Int8Array,0),Et.__getUint8Array=rr.bind(null,Uint8Array,0),Et.__getUint8ArrayView=lr.bind(null,Uint8Array,0),Et.__getUint8ClampedArray=rr.bind(null,Uint8ClampedArray,0),Et.__getUint8ClampedArrayView=lr.bind(null,Uint8ClampedArray,0),Et.__getInt16Array=rr.bind(null,Int16Array,1),Et.__getInt16ArrayView=lr.bind(null,Int16Array,1),Et.__getUint16Array=rr.bind(null,Uint16Array,1),Et.__getUint16ArrayView=lr.bind(null,Uint16Array,1),Et.__getInt32Array=rr.bind(null,Int32Array,2),Et.__getInt32ArrayView=lr.bind(null,Int32Array,2),Et.__getUint32Array=rr.bind(null,Uint32Array,2),Et.__getUint32ArrayView=lr.bind(null,Uint32Array,2),ht&&(Et.__getInt64Array=rr.bind(null,BigInt64Array,3),Et.__getInt64ArrayView=lr.bind(null,BigInt64Array,3),Et.__getUint64Array=rr.bind(null,BigUint64Array,3),Et.__getUint64ArrayView=lr.bind(null,BigUint64Array,3)),Et.__getFloat32Array=rr.bind(null,Float32Array,2),Et.__getFloat32ArrayView=lr.bind(null,Float32Array,2),Et.__getFloat64Array=rr.bind(null,Float64Array,3),Et.__getFloat64ArrayView=lr.bind(null,Float64Array,3);function Qt(Kt,sr){const ir=new Uint32Array(vt.buffer);var hr=ir[Kt+et>>>2];if(hr<=ir[$t>>>2])do if(hr==sr)return!0;while(hr=Dt(hr));return!1}return Et.__instanceof=Qt,Et.memory=Et.memory||vt,Et.table=Et.table||Tt,Lt(Ct,Et)}function Ot(Et){return typeof Response<"u"&&Et instanceof Response}async function Wt(Et,It){return Ot(Et=await Et)?Zt(Et,It):kt(At(It||(It={})),await WebAssembly.instantiate(Et instanceof WebAssembly.Module?Et:await WebAssembly.compile(Et),It))}loader.instantiate=Wt;function Ht(Et,It){return kt(At(It||(It={})),new WebAssembly.Instance(Et instanceof WebAssembly.Module?Et:new WebAssembly.Module(Et),It))}loader.instantiateSync=Ht;async function Zt(Et,It){return WebAssembly.instantiateStreaming?kt(At(It||(It={})),(await WebAssembly.instantiateStreaming(Et,It)).instance):Wt(Ot(Et=await Et)?Et.arrayBuffer():Et,It)}loader.instantiateStreaming=Zt;function Lt(Et,It){var Ct=It?Object.create(It):{},vt=Et.__argumentsLength?function(Tt){Et.__argumentsLength.value=Tt}:Et.__setArgumentsLength||Et.__setargc||function(){};for(let Tt in Et){if(!Object.prototype.hasOwnProperty.call(Et,Tt))continue;const Mt=Et[Tt];let Nt=Tt.split("."),$t=Ct;for(;Nt.length>1;){let Rt=Nt.shift();Object.prototype.hasOwnProperty.call($t,Rt)||($t[Rt]={}),$t=$t[Rt]}let St=Nt[0],Dt=St.indexOf("#");if(Dt>=0){let Rt=St.substring(0,Dt),_t=$t[Rt];if(typeof _t>"u"||!_t.prototype){let Pt=function(...Vt){return Pt.wrap(Pt.prototype.constructor(0,...Vt))};Pt.prototype={valueOf:function(){return this[yt]}},Pt.wrap=function(Vt){return Object.create(Pt.prototype,{[yt]:{value:Vt,writable:!1}})},_t&&Object.getOwnPropertyNames(_t).forEach(Vt=>Object.defineProperty(Pt,Vt,Object.getOwnPropertyDescriptor(_t,Vt))),$t[Rt]=Pt}if(St=St.substring(Dt+1),$t=$t[Rt].prototype,/^(get|set):/.test(St)){if(!Object.prototype.hasOwnProperty.call($t,St=St.substring(4))){let Pt=Et[Tt.replace("set:","get:")],Vt=Et[Tt.replace("get:","set:")];Object.defineProperty($t,St,{get:function(){return Pt(this[yt])},set:function(Bt){Vt(this[yt],Bt)},enumerable:!0})}}else St==="constructor"?($t[St]=(...Pt)=>(vt(Pt.length),Mt(...Pt))).original=Mt:($t[St]=function(...Pt){return vt(Pt.length),Mt(this[yt],...Pt)}).original=Mt}else/^(get|set):/.test(St)?Object.prototype.hasOwnProperty.call($t,St=St.substring(4))||Object.defineProperty($t,St,{get:Et[Tt.replace("set:","get:")],set:Et[Tt.replace("get:","set:")],enumerable:!0}):typeof Mt=="function"&&Mt!==vt?($t[St]=(...Rt)=>(vt(Rt.length),Mt(...Rt))).original=Mt:$t[St]=Mt}return Ct}return loader.demangle=Lt,loader}var rabinWasm,hasRequiredRabinWasm;function requireRabinWasm(){if(hasRequiredRabinWasm)return rabinWasm;hasRequiredRabinWasm=1;const{instantiate:et}=requireLoader();_e.supported=typeof WebAssembly<"u";function _e(tt={}){if(!_e.supported)return null;var rt=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return et(new Response(new Blob([rt],{type:"application/wasm"})),tt)}return rabinWasm=_e,rabinWasm}var src$4,hasRequiredSrc$1;function requireSrc$1(){if(hasRequiredSrc$1)return src$4;hasRequiredSrc$1=1;const et=requireRabin$1(),_e=requireRabinWasm();return src$4={Rabin:et,create:async(rt,nt,it,at,st)=>{const ot=await _e();return new et(ot,rt,nt,it,at,st)}},src$4}var rabin_1,hasRequiredRabin;function requireRabin(){if(hasRequiredRabin)return rabin_1;hasRequiredRabin=1;const et=requireBufferList(),{create:_e}=requireSrc$1(),tt=errCode;rabin_1=async function*(it,at){let st,ot,ct;if(at.minChunkSize&&at.maxChunkSize&&at.avgChunkSize)ct=at.avgChunkSize,st=at.minChunkSize,ot=at.maxChunkSize;else if(at.avgChunkSize)ct=at.avgChunkSize,st=ct/3,ot=ct+ct/2;else throw tt(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(st<16)throw tt(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");ot<st&&(ot=st),ct<st&&(ct=st);const lt=Math.floor(Math.log2(ct));for await(const ut of rt(it,{min:st,max:ot,bits:lt,window:at.window,polynomial:at.polynomial}))yield ut};async function*rt(nt,it){const at=await _e(it.bits,it.min,it.max,it.window),st=new et;for await(const ot of nt){st.append(ot);const ct=at.fingerprint(ot);for(let lt=0;lt<ct.length;lt++){const ut=ct[lt],dt=st.slice(0,ut);st.consume(ut),yield dt}}st.length&&(yield st.slice(0))}return rabin_1}var fixedSize,hasRequiredFixedSize;function requireFixedSize(){if(hasRequiredFixedSize)return fixedSize;hasRequiredFixedSize=1;const et=requireBufferList();return fixedSize=async function*(tt,rt){let nt=new et,it=0,at=!1;const st=rt.maxChunkSize;for await(const ot of tt)for(nt.append(ot),it+=ot.length;it>=st;)if(yield nt.slice(0,st),at=!0,st===nt.length)nt=new et,it=0;else{const ct=new et;ct.append(nt.shallowSlice(st)),nt=ct,it-=st}(!at||it)&&(yield nt.slice(0,it))},fixedSize}var validateChunks_1,hasRequiredValidateChunks;function requireValidateChunks(){if(hasRequiredValidateChunks)return validateChunks_1;hasRequiredValidateChunks=1;const et=errCode,_e=requireFromString();async function*tt(rt){for await(const nt of rt){if(nt.length===void 0)throw et(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof nt=="string"||nt instanceof String)yield _e(nt.toString());else if(Array.isArray(nt))yield Uint8Array.from(nt);else if(nt instanceof Uint8Array)yield nt;else throw et(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}return validateChunks_1=tt,validateChunks_1}var dagBuilder_1,hasRequiredDagBuilder;function requireDagBuilder(){if(hasRequiredDagBuilder)return dagBuilder_1;hasRequiredDagBuilder=1;const et=requireDir$1(),_e=requireFile(),tt=errCode;function rt(st){return Symbol.iterator in st}function nt(st){return Symbol.asyncIterator in st}function it(st){try{if(st instanceof Uint8Array)return async function*(){yield st}();if(rt(st))return async function*(){yield*st}();if(nt(st))return st}catch{throw tt(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw tt(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*at(st,ot,ct){for await(const lt of st)if(lt.path&&(lt.path.substring(0,2)==="./"&&(ct.wrapWithDirectory=!0),lt.path=lt.path.split("/").filter(ut=>ut&&ut!==".").join("/")),lt.content){let ut;typeof ct.chunker=="function"?ut=ct.chunker:ct.chunker==="rabin"?ut=requireRabin():ut=requireFixedSize();let dt;typeof ct.chunkValidator=="function"?dt=ct.chunkValidator:dt=requireValidateChunks();const mt={path:lt.path,mtime:lt.mtime,mode:lt.mode,content:ut(dt(it(lt.content),ct),ct)};yield()=>_e(mt,ot,ct)}else if(lt.path){const ut={path:lt.path,mtime:lt.mtime,mode:lt.mode};yield()=>et(ut,ot,ct)}else throw new Error("Import candidate must have content or path or both")}return dagBuilder_1=at,dagBuilder_1}var dir,hasRequiredDir;function requireDir(){if(hasRequiredDir)return dir;hasRequiredDir=1;class et{constructor(tt,rt){this.options=rt||{},this.root=tt.root,this.dir=tt.dir,this.path=tt.path,this.dirty=tt.dirty,this.flat=tt.flat,this.parent=tt.parent,this.parentKey=tt.parentKey,this.unixfs=tt.unixfs,this.mode=tt.mode,this.mtime=tt.mtime,this.cid=void 0,this.size=void 0}async put(tt,rt){}get(tt){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(tt){}}return dir=et,dir}var dirFlat,hasRequiredDirFlat;function requireDirFlat(){if(hasRequiredDirFlat)return dirFlat;hasRequiredDirFlat=1;const{DAGLink:et,DAGNode:_e}=requireSrc$2(),{UnixFS:tt}=requireSrc$5(),rt=requireDir(),nt=requirePersist();class it extends rt{constructor(st,ot){super(st,ot),this._children={}}async put(st,ot){this.cid=void 0,this.size=void 0,this._children[st]=ot}get(st){return Promise.resolve(this._children[st])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const st=Object.keys(this._children);for(let ot=0;ot<st.length;ot++){const ct=st[ot];yield{key:ct,child:this._children[ct]}}}async*flush(st){const ot=Object.keys(this._children),ct=[];for(let bt=0;bt<ot.length;bt++){let ht=this._children[ot[bt]];if(ht instanceof rt)for await(const yt of ht.flush(st))ht=yt,yield ht;ht.size!=null&&ht.cid&&ct.push(new et(ot[bt],ht.size,ht.cid))}const lt=new tt({type:"directory",mtime:this.mtime,mode:this.mode}),ut=new _e(lt.marshal(),ct),dt=ut.serialize(),mt=await nt(dt,st,this.options),gt=dt.length+ut.Links.reduce((bt,ht)=>bt+ht.Tsize,0);this.cid=mt,this.size=gt,yield{cid:mt,unixfs:lt,path:this.path,size:gt}}}return dirFlat=it,dirFlat}var sparseArray,hasRequiredSparseArray;function requireSparseArray(){if(hasRequiredSparseArray)return sparseArray;hasRequiredSparseArray=1;const et=7;sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(at,st){let ot=this._internalPositionFor(at,!1);if(st===void 0)ot!==-1&&(this._unsetInternalPos(ot),this._unsetBit(at),this._changedLength=!0,this._changedData=!0);else{let ct=!1;ot===-1?(ot=this._data.length,this._setBit(at),this._changedData=!0):ct=!0,this._setInternalPos(ot,at,st,ct),this._changedLength=!0}}unset(at){this.set(at,void 0)}get(at){this._sortData();const st=this._internalPositionFor(at,!0);if(st!==-1)return this._data[st][1]}push(at){return this.set(this.length,at),this.length}get length(){if(this._sortData(),this._changedLength){const at=this._data[this._data.length-1];this._length=at?at[0]+1:0,this._changedLength=!1}return this._length}forEach(at){let st=0;for(;st<this.length;)at(this.get(st),st,this),st++}map(at){let st=0,ot=new Array(this.length);for(;st<this.length;)ot[st]=at(this.get(st),st,this),st++;return ot}reduce(at,st){let ot=0,ct=st;for(;ot<this.length;){const lt=this.get(ot);ct=at(ct,lt,ot),ot++}return ct}find(at){let st=0,ot,ct;for(;st<this.length&&!ot;)ct=this.get(st),ot=at(ct),st++;return ot?ct:void 0}_internalPositionFor(at,st){const ot=this._bytePosFor(at,st);if(ot>=this._bitArrays.length)return-1;const ct=this._bitArrays[ot],lt=at-ot*et;if(!((ct&1<<lt)>0))return-1;const dt=this._bitArrays.slice(0,ot).reduce(_e,0),mt=~(4294967295<<lt+1),gt=tt(ct&mt);return dt+gt-1}_bytePosFor(at,st){const ot=Math.floor(at/et),ct=ot+1;for(;!st&&this._bitArrays.length<ct;)this._bitArrays.push(0);return ot}_setBit(at){const st=this._bytePosFor(at,!1);this._bitArrays[st]|=1<<at-st*et}_unsetBit(at){const st=this._bytePosFor(at,!1);this._bitArrays[st]&=~(1<<at-st*et)}_setInternalPos(at,st,ot,ct){const lt=this._data,ut=[st,ot];if(ct)this._sortData(),lt[at]=ut;else{if(lt.length)if(lt[lt.length-1][0]>=st)lt.push(ut);else if(lt[0][0]<=st)lt.unshift(ut);else{const dt=Math.round(lt.length/2);this._data=lt.slice(0,dt).concat(ut).concat(lt.slice(dt))}else this._data.push(ut);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(at){this._data.splice(at,1)}_sortData(){this._changedData&&this._data.sort(rt),this._changedData=!1}bitField(){const at=[];let st=8,ot=0,ct=0,lt;const ut=this._bitArrays.slice();for(;ut.length||ot;){ot===0&&(lt=ut.shift(),ot=7);const mt=Math.min(ot,st),gt=~(255<<mt),bt=lt&gt;ct|=bt<<8-st,lt=lt>>>mt,ot-=mt,st-=mt,(!st||!ot&&!ut.length)&&(at.push(ct),ct=0,st=8)}for(var dt=at.length-1;dt>0&&at[dt]===0;dt--)at.pop();return at}compactArray(){return this._sortData(),this._data.map(nt)}};function _e(it,at){return it+tt(at)}function tt(it){let at=it;return at=at-(at>>1&1431655765),at=(at&858993459)+(at>>2&858993459),(at+(at>>4)&252645135)*16843009>>24}function rt(it,at){return it[0]-at[0]}function nt(it){return it[1]}return sparseArray}function asUint8Array(et){return globalThis.Buffer!=null?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et}function allocUnsafe$1(et=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(et)):new Uint8Array(et)}function createCodec(et,_e,tt,rt){return{name:et,prefix:_e,encoder:{name:et,prefix:_e,encode:tt},decoder:{decode:rt}}}const string=createCodec("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>new TextEncoder().encode(et.substring(1))),ascii=createCodec("ascii","a",et=>{let _e="a";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return _e},et=>{et=et.substring(1);const _e=allocUnsafe$1(et.length);for(let tt=0;tt<et.length;tt++)_e[tt]=et.charCodeAt(tt);return _e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString$1(et,_e="utf8"){const tt=BASES[_e];if(!tt)throw new Error(`Unsupported encoding "${_e}"`);return(_e==="utf8"||_e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(et,"utf-8")):tt.decoder.decode(`${tt.prefix}${et}`)}const fromString$2=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$1},Symbol.toStringTag,{value:"Module"})),require$$1$3=getAugmentedNamespace(fromString$2);var bucket,hasRequiredBucket;function requireBucket(){if(hasRequiredBucket)return bucket;hasRequiredBucket=1;const et=requireSparseArray(),{fromString:_e}=require$$1$3;class tt{constructor(ot,ct,lt=0){this._options=ot,this._popCount=0,this._parent=ct,this._posAtParent=lt,this._children=new et,this.key=null}async put(ot,ct){const lt=await this._findNewBucketAndPos(ot);await lt.bucket._putAt(lt,ot,ct)}async get(ot){const ct=await this._findChild(ot);if(ct)return ct.value}async del(ot){const ct=await this._findPlace(ot),lt=ct.bucket._at(ct.pos);lt&&lt.key===ot&&ct.bucket._delAt(ct.pos)}leafCount(){return this._children.compactArray().reduce((ct,lt)=>lt instanceof tt?ct+lt.leafCount():ct+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const ot=this._children.compactArray();for(const ct of ot)ct instanceof tt?yield*ct.eachLeafSeries():yield ct;return[]}serialize(ot,ct){const lt=[];return ct(this._children.reduce((ut,dt,mt)=>(dt&&(dt instanceof tt?ut.push(dt.serialize(ot,ct)):ut.push(ot(dt,mt))),ut),lt))}asyncTransform(ot,ct){return at(this,ot,ct)}toJSON(){return this.serialize(nt,it)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(ot){const ct=await this._findPlace(ot),lt=ct.bucket._at(ct.pos);if(!(lt instanceof tt)&&lt&&lt.key===ot)return lt}async _findPlace(ot){const ct=this._options.hash(typeof ot=="string"?_e(ot):ot),lt=await ct.take(this._options.bits),ut=this._children.get(lt);return ut instanceof tt?ut._findPlace(ct):{bucket:this,pos:lt,hash:ct,existingChild:ut}}async _findNewBucketAndPos(ot){const ct=await this._findPlace(ot);if(ct.existingChild&&ct.existingChild.key!==ot){const lt=new tt(this._options,ct.bucket,ct.pos);ct.bucket._putObjectAt(ct.pos,lt);const ut=await lt._findPlace(ct.existingChild.hash);return ut.bucket._putAt(ut,ct.existingChild.key,ct.existingChild.value),lt._findNewBucketAndPos(ct.hash)}return ct}_putAt(ot,ct,lt){this._putObjectAt(ot.pos,{key:ct,value:lt,hash:ot.hash})}_putObjectAt(ot,ct){this._children.get(ot)||this._popCount++,this._children.set(ot,ct)}_delAt(ot){if(ot===-1)throw new Error("Invalid position");this._children.get(ot)&&this._popCount--,this._children.unset(ot),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const ot=this._children.find(rt);if(ot&&!(ot instanceof tt)){const ct=ot.hash;ct.untake(this._options.bits);const lt={pos:this._posAtParent,hash:ct,bucket:this._parent};this._parent._putAt(lt,ot.key,ot.value)}}else this._parent._delAt(this._posAtParent)}_at(ot){return this._children.get(ot)}}function rt(st){return Boolean(st)}function nt(st,ot){return st.key}function it(st){return st}async function at(st,ot,ct){const lt=[];for(const ut of st._children.compactArray())if(ut instanceof tt)await at(ut,ot,ct);else{const dt=await ot(ut);lt.push({bitField:st._children.bitField(),children:dt})}return ct(lt)}return bucket=tt,bucket}var consumableHash={exports:{}},consumableBuffer,hasRequiredConsumableBuffer;function requireConsumableBuffer(){if(hasRequiredConsumableBuffer)return consumableBuffer;hasRequiredConsumableBuffer=1;const et=[255,254,252,248,240,224,192,128],_e=[1,3,7,15,31,63,127,255];consumableBuffer=class{constructor(it){this._value=it,this._currentBytePos=it.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(it){let at=it,st=0;for(;at&&this._haveBits();){const ot=this._value[this._currentBytePos],ct=this._currentBitPos+1,lt=Math.min(ct,at),ut=tt(ot,ct-lt,lt);st=(st<<lt)+ut,at-=lt,this._currentBitPos-=lt,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return st}untake(it){for(this._currentBitPos+=it;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function tt(nt,it,at){const st=rt(it,at);return(nt&st)>>>it}function rt(nt,it){return et[nt]&_e[Math.min(it+nt-1,7)]}return consumableBuffer}function concat$3(et,_e){_e||(_e=et.reduce((nt,it)=>nt+it.length,0));const tt=allocUnsafe$1(_e);let rt=0;for(const nt of et)tt.set(nt,rt),rt+=nt.length;return asUint8Array(tt)}const concat$4=Object.freeze(Object.defineProperty({__proto__:null,concat:concat$3},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(concat$4);var hasRequiredConsumableHash;function requireConsumableHash(){if(hasRequiredConsumableHash)return consumableHash.exports;hasRequiredConsumableHash=1;const et=requireConsumableBuffer(),{concat:_e}=require$$1$2;function tt(nt){function it(at){return at instanceof rt?at:new rt(at,nt)}return it}class rt{constructor(it,at){if(!(it instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=it,this._hashFn=at,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(it){let at=it;for(;this._availableBits<at;)await this._produceMoreBits();let st=0;for(;at>0;){const ot=this._buffers[this._currentBufferIndex],ct=Math.min(ot.availableBits(),at),lt=ot.take(ct);st=(st<<ct)+lt,at-=ct,this._availableBits-=ct,ot.availableBits()===0&&this._currentBufferIndex++}return st}untake(it){let at=it;for(;at>0;){const st=this._buffers[this._currentBufferIndex],ot=Math.min(st.totalBits()-st.availableBits(),at);st.untake(ot),at-=ot,this._availableBits+=ot,this._currentBufferIndex>0&&st.totalBits()===st.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const it=this._depth?_e([this._value,Uint8Array.from([this._depth])]):this._value,at=await this._hashFn(it),st=new et(at);this._buffers.push(st),this._availableBits+=st.availableBits()}}return consumableHash.exports=tt,consumableHash.exports.InfiniteHash=rt,consumableHash.exports}var src$3,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src$3;hasRequiredSrc=1;const et=requireBucket(),_e=requireConsumableHash();function tt(rt){if(!rt||!rt.hashFn)throw new Error("please define an options.hashFn");const nt={bits:rt.bits||8,hash:_e(rt.hashFn)};return new et(nt)}return src$3={createHAMT:tt,Bucket:et},src$3}var dirSharded,hasRequiredDirSharded;function requireDirSharded(){if(hasRequiredDirSharded)return dirSharded;hasRequiredDirSharded=1;const{DAGLink:et,DAGNode:_e}=requireSrc$2(),{UnixFS:tt}=requireSrc$5(),rt=requireDir(),nt=requirePersist(),{createHAMT:it,Bucket:at}=requireSrc();class st extends rt{constructor(lt,ut){super(lt,ut),this._bucket=it({hashFn:ut.hamtHashFn,bits:ut.hamtBucketBits})}async put(lt,ut){await this._bucket.put(lt,ut)}get(lt){return this._bucket.get(lt)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:lt,value:ut}of this._bucket.eachLeafSeries())yield{key:lt,child:ut}}async*flush(lt){for await(const ut of ot(this._bucket,lt,this,this.options))yield{...ut,path:this.path}}}dirSharded=st;async function*ot(ct,lt,ut,dt){const mt=ct._children,gt=[];let bt=0;for(let Ot=0;Ot<mt.length;Ot++){const Wt=mt.get(Ot);if(!Wt)continue;const Ht=Ot.toString(16).toUpperCase().padStart(2,"0");if(Wt instanceof at){let Zt;for await(const Lt of await ot(Wt,lt,null,dt))Zt=Lt;if(!Zt)throw new Error("Could not flush sharded directory, no subshard found");gt.push(new et(Ht,Zt.size,Zt.cid)),bt+=Zt.size}else if(typeof Wt.value.flush=="function"){const Zt=Wt.value;let Lt;for await(const It of Zt.flush(lt))Lt=It,yield Lt;const Et=Ht+Wt.key;gt.push(new et(Et,Lt.size,Lt.cid)),bt+=Lt.size}else{const Zt=Wt.value;if(!Zt.cid)continue;const Lt=Ht+Wt.key,Et=Zt.size;gt.push(new et(Lt,Et,Zt.cid)),bt+=Et}}const ht=Uint8Array.from(mt.bitField().reverse()),yt=new tt({type:"hamt-sharded-directory",data:ht,fanout:ct.tableSize(),hashType:dt.hamtHashCode,mtime:ut&&ut.mtime,mode:ut&&ut.mode}),xt=new _e(yt.marshal(),gt).serialize(),At=await nt(xt,lt,dt),kt=xt.length+bt;yield{cid:At,unixfs:yt,size:kt}}return dirSharded}var flatToShard,hasRequiredFlatToShard;function requireFlatToShard(){if(hasRequiredFlatToShard)return flatToShard;hasRequiredFlatToShard=1;const et=requireDirSharded(),_e=requireDirFlat();flatToShard=async function rt(nt,it,at,st){let ot=it;it instanceof _e&&it.directChildrenCount()>=at&&(ot=await tt(it,st));const ct=ot.parent;if(ct){if(ot!==it){if(nt&&(nt.parent=ot),!ot.parentKey)throw new Error("No parent key found");await ct.put(ot.parentKey,ot)}return rt(ot,ct,at,st)}return ot};async function tt(rt,nt){const it=new et({root:rt.root,dir:!0,parent:rt.parent,parentKey:rt.parentKey,path:rt.path,dirty:rt.dirty,flat:!1,mtime:rt.mtime,mode:rt.mode},nt);for await(const{key:at,child:st}of rt.eachChildSeries())await it.put(at,st);return it}return flatToShard}var toPathComponents_1,hasRequiredToPathComponents;function requireToPathComponents(){return hasRequiredToPathComponents||(hasRequiredToPathComponents=1,toPathComponents_1=(_e="")=>(_e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)),toPathComponents_1}var treeBuilder_1,hasRequiredTreeBuilder;function requireTreeBuilder(){if(hasRequiredTreeBuilder)return treeBuilder_1;hasRequiredTreeBuilder=1;const et=requireDirFlat(),_e=requireFlatToShard(),tt=requireDir(),rt=requireToPathComponents();async function nt(st,ot,ct){const lt=rt(st.path||""),ut=lt.length-1;let dt=ot,mt="";for(let gt=0;gt<lt.length;gt++){const bt=lt[gt];mt+=`${mt?"/":""}${bt}`;const ht=gt===ut;if(dt.dirty=!0,dt.cid=void 0,dt.size=void 0,ht)await dt.put(bt,st),ot=await _e(null,dt,ct.shardSplitThreshold,ct);else{let yt=await dt.get(bt);(!yt||!(yt instanceof tt))&&(yt=new et({root:!1,dir:!0,parent:dt,parentKey:bt,path:mt,dirty:!0,flat:!0,mtime:yt&&yt.unixfs&&yt.unixfs.mtime,mode:yt&&yt.unixfs&&yt.unixfs.mode},ct)),await dt.put(bt,yt),dt=yt}}return ot}async function*it(st,ot){if(!(st instanceof tt)){st&&st.unixfs&&st.unixfs.isDirectory()&&(yield st);return}yield*st.flush(ot)}async function*at(st,ot,ct){let lt=new et({root:!0,dir:!0,path:"",dirty:!0,flat:!0},ct);for await(const ut of st)!ut||(lt=await nt(ut,lt,ct),(!ut.unixfs||!ut.unixfs.isDirectory())&&(yield ut));if(ct.wrapWithDirectory)yield*it(lt,ot);else for await(const ut of lt.eachChildSeries())!ut||(yield*it(ut.child,ot))}return treeBuilder_1=at,treeBuilder_1}const parallelBatch=itParallelBatch,defaultOptions$2=options;async function*importer(et,_e,tt={}){const rt=defaultOptions$2(tt);let nt;typeof tt.dagBuilder=="function"?nt=tt.dagBuilder:nt=requireDagBuilder();let it;typeof tt.treeBuilder=="function"?it=tt.treeBuilder:it=requireTreeBuilder();let at;Symbol.asyncIterator in et||Symbol.iterator in et?at=et:at=[et];for await(const st of it(parallelBatch(nt(at,_e,rt),rt.fileImportConcurrency),_e,rt))yield{cid:st.cid,path:st.path,unixfs:st.unixfs,size:st.size}}var src$2={importer},browser$2=typeof self=="object"?self.FormData:window.FormData;let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let et=0;et<256;++et)byteToHex.push((et+256).toString(16).slice(1));function unsafeStringify(et,_e=0){return(byteToHex[et[_e+0]]+byteToHex[et[_e+1]]+byteToHex[et[_e+2]]+byteToHex[et[_e+3]]+"-"+byteToHex[et[_e+4]]+byteToHex[et[_e+5]]+"-"+byteToHex[et[_e+6]]+byteToHex[et[_e+7]]+"-"+byteToHex[et[_e+8]]+byteToHex[et[_e+9]]+"-"+byteToHex[et[_e+10]]+byteToHex[et[_e+11]]+byteToHex[et[_e+12]]+byteToHex[et[_e+13]]+byteToHex[et[_e+14]]+byteToHex[et[_e+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(et,_e,tt){if(native.randomUUID&&!_e&&!et)return native.randomUUID();et=et||{};const rt=et.random||(et.rng||rng)();if(rt[6]=rt[6]&15|64,rt[8]=rt[8]&63|128,_e){tt=tt||0;for(let nt=0;nt<16;++nt)_e[tt+nt]=rt[nt];return _e}return unsafeStringify(rt)}function _toPrimitive$1(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey$1(et){var _e=_toPrimitive$1(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$2(et,_e,tt){return _e=_toPropertyKey$1(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}const DEFAULT_GATEWAY_URLS={"ipfs://":["https://gateway.ipfscdn.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://ipfs.io/ipfs/"]},TW_IPFS_SERVER_URL="https://upload.nftlabs.co",PINATA_IPFS_URL="https://api.pinata.cloud/pinning/pinFileToIPFS";function parseGatewayUrls(et){return Array.isArray(et)?{"ipfs://":et}:et||{}}function prepareGatewayUrls(et){const _e={...et,...DEFAULT_GATEWAY_URLS};for(const tt of Object.keys(DEFAULT_GATEWAY_URLS))if(et&&et[tt]){const rt=et[tt].map(nt=>nt.replace(/\/$/,"")+"/");_e[tt]=[...rt,...DEFAULT_GATEWAY_URLS[tt]]}return _e}function isBrowser$4(){return typeof window<"u"}function isFileInstance(et){return globalThis.File&&et instanceof File}function isBufferInstance(et){return globalThis.Buffer&&et instanceof Buffer}function isBufferOrStringWithName(et){return!!(et&&et.name&&et.data&&typeof et.name=="string"&&(typeof et.data=="string"||isBufferInstance(et.data)))}function isFileOrBuffer(et){return isFileInstance(et)||isBufferInstance(et)||isBufferOrStringWithName(et)}function isFileBufferOrStringEqual(et,_e){if(isFileInstance(et)&&isFileInstance(_e)){if(et.name===_e.name&&et.lastModified===_e.lastModified&&et.size===_e.size)return!0}else{if(isBufferInstance(et)&&isBufferInstance(_e))return et.equals(_e);if(isBufferOrStringWithName(et)&&isBufferOrStringWithName(_e)&&et.name===_e.name){if(typeof et.data=="string"&&typeof _e.data=="string")return et.data===_e.data;if(isBufferInstance(et.data)&&isBufferInstance(_e.data))return et.data.equals(_e.data)}}return!1}function replaceGatewayUrlWithScheme(et,_e){for(const tt of Object.keys(_e))for(const rt of _e[tt])if(et.startsWith(rt))return et.replace(rt,tt);return et}function replaceSchemeWithGatewayUrl(et,_e){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const rt=Object.keys(_e).find(it=>et.startsWith(it)),nt=rt?_e[rt]:[];if(!(!rt&&tt>0||rt&&tt>=nt.length))return rt?et.replace(rt,nt[tt]):et}function replaceObjectGatewayUrlsWithSchemes(et,_e){return typeof et=="string"?replaceGatewayUrlWithScheme(et,_e):typeof et=="object"?!et||isFileOrBuffer(et)?et:Array.isArray(et)?et.map(tt=>replaceObjectGatewayUrlsWithSchemes(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectGatewayUrlsWithSchemes(nt,_e)]})):et}function replaceObjectSchemesWithGatewayUrls(et,_e){return typeof et=="string"?replaceSchemeWithGatewayUrl(et,_e):typeof et=="object"?!et||isFileOrBuffer(et)?et:Array.isArray(et)?et.map(tt=>replaceObjectSchemesWithGatewayUrls(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectSchemesWithGatewayUrls(nt,_e)]})):et}function extractObjectFiles(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(isFileOrBuffer(et))return _e.push(et),_e;if(typeof et=="object"){if(!et)return _e;Array.isArray(et)?et.forEach(tt=>extractObjectFiles(tt,_e)):Object.keys(et).map(tt=>extractObjectFiles(et[tt],_e))}return _e}function replaceObjectFilesWithUris(et,_e){if(isFileOrBuffer(et)){if(_e.length)return et=_e.shift(),et;console.warn("Not enough URIs to replace all files in object.")}return typeof et=="object"?et&&(Array.isArray(et)?et.map(tt=>replaceObjectFilesWithUris(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectFilesWithUris(nt,_e)]}))):et}async function getCIDForUpload(et,_e){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const nt=await Promise.all(et.map(async(it,at)=>{const st=_e[at];let ot;if(typeof it=="string")ot=new TextEncoder().encode(it);else if(isBufferOrStringWithName(it))typeof it.data=="string"?ot=new TextEncoder().encode(it.data):ot=it.data;else if(Buffer.isBuffer(it))ot=it;else{const ct=await it.arrayBuffer();ot=new Uint8Array(ct)}return{path:st,content:ot}}));return getCID(nt,tt,rt)}async function getCID(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const rt={onlyHash:!0,wrapWithDirectory:_e,cidVersion:tt},nt={put:async()=>{}};let it;for await(const{cid:at}of src$2.importer(et,nt,rt))it=at;return`${it}`}async function isUploaded(et){return(await fetch$1(`${DEFAULT_GATEWAY_URLS["ipfs://"][0]}${et}`,{method:"HEAD"})).ok}class StorageDownloader{async download(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(rt>3)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Failed to download from URI - too many attempts failed.");const nt=replaceSchemeWithGatewayUrl(_e,tt,rt);if(!nt)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Unable to download from URI - all gateway URLs failed to respond.");const it=await fetch$1(nt);return it.status>=500||it.status===403||it.status===408?(console.warn(`Request to ${nt} failed with status ${it.status} - ${it.statusText}`),this.download(_e,tt,rt+1)):it}}class IpfsUploader{constructor(_e){_defineProperty$2(this,"uploadWithGatewayUrl",void 0),this.uploadWithGatewayUrl=(_e==null?void 0:_e.uploadWithGatewayUrl)||!1}async uploadBatch(_e,tt){if((tt==null?void 0:tt.uploadWithoutDirectory)&&_e.length>1)throw new Error("[UPLOAD_WITHOUT_DIRECTORY_ERROR] Cannot upload more than one file or object without directory!");const rt=new browser$2,{form:nt,fileNames:it}=this.buildFormData(rt,_e,tt);try{const at=await getCIDForUpload(_e,it.map(st=>decodeURIComponent(st)),!(tt!=null&&tt.uploadWithoutDirectory));if(await isUploaded(at)&&!(tt!=null&&tt.alwaysUpload))return tt!=null&&tt.onProgress&&(tt==null||tt.onProgress({progress:100,total:100})),tt!=null&&tt.uploadWithoutDirectory?[`ipfs://${at}`]:it.map(st=>`ipfs://${at}/${st}`)}catch{}return isBrowser$4()?this.uploadBatchBrowser(nt,it,tt):this.uploadBatchNode(nt,it,tt)}async getUploadToken(){const _e=await fetch$1(`${TW_IPFS_SERVER_URL}/grant`,{method:"GET",headers:{"X-APP-NAME":{}.CI?"Storage SDK CI":"Storage SDK"}});if(!_e.ok)throw new Error("Failed to get upload token");return await _e.text()}buildFormData(_e,tt,rt){const nt=new Map,it=[];for(let st=0;st<tt.length;st++){const ot=tt[st];let ct="",lt=ot;if(isFileInstance(ot))if(rt!=null&&rt.rewriteFileNames){let dt="";if(ot.name){const mt=ot.name.lastIndexOf(".");mt>-1&&(dt=ot.name.substring(mt))}ct=`${st+rt.rewriteFileNames.fileStartNumber}${dt}`}else ct=`${ot.name}`;else isBufferOrStringWithName(ot)?(lt=ot.data,rt!=null&&rt.rewriteFileNames?ct=`${st+rt.rewriteFileNames.fileStartNumber}`:ct=`${ot.name}`):rt!=null&&rt.rewriteFileNames?ct=`${st+rt.rewriteFileNames.fileStartNumber}`:ct=`${st}`;const ut=rt!=null&&rt.uploadWithoutDirectory?"files":`files/${ct}`;if(nt.has(ct)){if(isFileBufferOrStringEqual(nt.get(ct),ot)){it.push(ct);continue}throw new Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${ct} was passed for more than one different file.`)}nt.set(ct,ot),it.push(ct),isBrowser$4()?_e.append("file",new Blob([lt]),ut):_e.append("file",lt,{filepath:ut})}const at={name:"Storage SDK",keyvalues:{...rt==null?void 0:rt.metadata}};return _e.append("pinataMetadata",JSON.stringify(at)),rt!=null&&rt.uploadWithoutDirectory&&_e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:_e,fileNames:it.map(st=>encodeURIComponent(st))}}async uploadBatchBrowser(_e,tt,rt){const nt=await this.getUploadToken();return new Promise((it,at)=>{const st=new XMLHttpRequest;let ot=setTimeout(()=>{st.abort(),at(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4);st.upload.addEventListener("loadstart",()=>{console.log(`[${Date.now()}] [IPFS] Started`)}),st.upload.addEventListener("progress",ct=>{console.log(`[IPFS] Progress Event ${ct.loaded}/${ct.total}`),clearTimeout(ot),ct.loaded<ct.total?ot=setTimeout(()=>{st.abort(),at(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4):console.log(`[${Date.now()}] [IPFS] Uploaded files. Waiting for response.`),ct.lengthComputable&&(rt==null?void 0:rt.onProgress)&&(rt==null||rt.onProgress({progress:ct.loaded,total:ct.total}))}),st.addEventListener("load",()=>{if(console.log(`[${Date.now()}] [IPFS] Load`),clearTimeout(ot),st.status>=200&&st.status<300){let ct;try{ct=JSON.parse(st.responseText)}catch{return at(new Error("Failed to parse JSON from upload response"))}const lt=ct.IpfsHash;if(!lt)throw new Error("Failed to get IPFS hash from upload response");return rt!=null&&rt.uploadWithoutDirectory?it([`ipfs://${lt}`]):it(tt.map(ut=>`ipfs://${lt}/${ut}`))}return at(new Error(`Upload failed with status ${st.status} - ${st.responseText}`))}),st.addEventListener("error",()=>(console.log("[IPFS] Load"),clearTimeout(ot),st.readyState!==0&&st.readyState!==4||st.status===0?at(new Error("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.")):at(new Error("Unknown upload error occured")))),st.open("POST",PINATA_IPFS_URL),st.setRequestHeader("Authorization",`Bearer ${nt}`),st.send(_e)})}async uploadBatchNode(_e,tt,rt){const nt=await this.getUploadToken();rt!=null&&rt.onProgress&&console.warn("The onProgress option is only supported in the browser");const it=await fetch$1(PINATA_IPFS_URL,{method:"POST",headers:{Authorization:`Bearer ${nt}`,..._e.getHeaders()},body:_e.getBuffer()}),at=await it.json();if(!it.ok)throw console.warn(at),new Error("Failed to upload files to IPFS");const st=at.IpfsHash;if(!st)throw new Error("Failed to upload files to IPFS");return rt!=null&&rt.uploadWithoutDirectory?[`ipfs://${st}`]:tt.map(ot=>`ipfs://${st}/${ot}`)}}class ThirdwebStorage{constructor(_e){_defineProperty$2(this,"uploader",void 0),_defineProperty$2(this,"downloader",void 0),_defineProperty$2(this,"gatewayUrls",void 0),this.uploader=(_e==null?void 0:_e.uploader)||new IpfsUploader,this.downloader=(_e==null?void 0:_e.downloader)||new StorageDownloader,this.gatewayUrls=prepareGatewayUrls(parseGatewayUrls(_e==null?void 0:_e.gatewayUrls))}resolveScheme(_e){return replaceSchemeWithGatewayUrl(_e,this.gatewayUrls)}async download(_e){return this.downloader.download(_e,this.gatewayUrls)}async downloadJSON(_e){const rt=await(await this.download(_e)).json();return replaceObjectSchemesWithGatewayUrls(rt,this.gatewayUrls)}async upload(_e,tt){const[rt]=await this.uploadBatch([_e],tt);return rt}async uploadBatch(_e,tt){if(_e=_e.filter(it=>it!==void 0),!_e.length)return[];const rt=_e.map(it=>isFileOrBuffer(it)||typeof it=="string").every(it=>!!it);let nt=[];if(rt)nt=await this.uploader.uploadBatch(_e,tt);else{const it=(await this.uploadAndReplaceFilesWithHashes(_e,tt)).map(at=>typeof at=="string"?at:JSON.stringify(at));nt=await this.uploader.uploadBatch(it,tt)}return(tt==null?void 0:tt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl?nt.map(it=>this.resolveScheme(it)):nt}async uploadAndReplaceFilesWithHashes(_e,tt){let rt=_e;rt=replaceObjectGatewayUrlsWithSchemes(rt,this.gatewayUrls);const nt=extractObjectFiles(rt);if(nt.length){const it=await this.uploader.uploadBatch(nt,tt);rt=replaceObjectFilesWithUris(rt,it)}return((tt==null?void 0:tt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl)&&(rt=replaceObjectSchemesWithGatewayUrls(rt,this.gatewayUrls)),rt}}const ERC20MetadataAbi=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];var dist$3={},MerkleTree$1={},bufferReverse=function et(_e){for(var tt=new Buffer(_e.length),rt=0,nt=_e.length-1;rt<=nt;++rt,--nt)tt[rt]=_e[nt],tt[nt]=_e[rt];return tt},sha256$1={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){var tt=tt||function(rt,nt){var it=Object.create||function(){function ht(){}return function(yt){var wt;return ht.prototype=yt,wt=new ht,ht.prototype=null,wt}}(),at={},st=at.lib={},ot=st.Base=function(){return{extend:function(ht){var yt=it(this);return ht&&yt.mixIn(ht),(!yt.hasOwnProperty("init")||this.init===yt.init)&&(yt.init=function(){yt.$super.init.apply(this,arguments)}),yt.init.prototype=yt,yt.$super=this,yt},create:function(){var ht=this.extend();return ht.init.apply(ht,arguments),ht},init:function(){},mixIn:function(ht){for(var yt in ht)ht.hasOwnProperty(yt)&&(this[yt]=ht[yt]);ht.hasOwnProperty("toString")&&(this.toString=ht.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ct=st.WordArray=ot.extend({init:function(ht,yt){ht=this.words=ht||[],yt!=nt?this.sigBytes=yt:this.sigBytes=ht.length*4},toString:function(ht){return(ht||ut).stringify(this)},concat:function(ht){var yt=this.words,wt=ht.words,xt=this.sigBytes,At=ht.sigBytes;if(this.clamp(),xt%4)for(var kt=0;kt<At;kt++){var Ot=wt[kt>>>2]>>>24-kt%4*8&255;yt[xt+kt>>>2]|=Ot<<24-(xt+kt)%4*8}else for(var kt=0;kt<At;kt+=4)yt[xt+kt>>>2]=wt[kt>>>2];return this.sigBytes+=At,this},clamp:function(){var ht=this.words,yt=this.sigBytes;ht[yt>>>2]&=4294967295<<32-yt%4*8,ht.length=rt.ceil(yt/4)},clone:function(){var ht=ot.clone.call(this);return ht.words=this.words.slice(0),ht},random:function(ht){for(var yt=[],wt=function(Wt){var Wt=Wt,Ht=987654321,Zt=4294967295;return function(){Ht=36969*(Ht&65535)+(Ht>>16)&Zt,Wt=18e3*(Wt&65535)+(Wt>>16)&Zt;var Lt=(Ht<<16)+Wt&Zt;return Lt/=4294967296,Lt+=.5,Lt*(rt.random()>.5?1:-1)}},xt=0,At;xt<ht;xt+=4){var kt=wt((At||rt.random())*4294967296);At=kt()*987654071,yt.push(kt()*4294967296|0)}return new ct.init(yt,ht)}}),lt=at.enc={},ut=lt.Hex={stringify:function(ht){for(var yt=ht.words,wt=ht.sigBytes,xt=[],At=0;At<wt;At++){var kt=yt[At>>>2]>>>24-At%4*8&255;xt.push((kt>>>4).toString(16)),xt.push((kt&15).toString(16))}return xt.join("")},parse:function(ht){for(var yt=ht.length,wt=[],xt=0;xt<yt;xt+=2)wt[xt>>>3]|=parseInt(ht.substr(xt,2),16)<<24-xt%8*4;return new ct.init(wt,yt/2)}},dt=lt.Latin1={stringify:function(ht){for(var yt=ht.words,wt=ht.sigBytes,xt=[],At=0;At<wt;At++){var kt=yt[At>>>2]>>>24-At%4*8&255;xt.push(String.fromCharCode(kt))}return xt.join("")},parse:function(ht){for(var yt=ht.length,wt=[],xt=0;xt<yt;xt++)wt[xt>>>2]|=(ht.charCodeAt(xt)&255)<<24-xt%4*8;return new ct.init(wt,yt)}},mt=lt.Utf8={stringify:function(ht){try{return decodeURIComponent(escape(dt.stringify(ht)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(ht){return dt.parse(unescape(encodeURIComponent(ht)))}},gt=st.BufferedBlockAlgorithm=ot.extend({reset:function(){this._data=new ct.init,this._nDataBytes=0},_append:function(ht){typeof ht=="string"&&(ht=mt.parse(ht)),this._data.concat(ht),this._nDataBytes+=ht.sigBytes},_process:function(ht){var yt=this._data,wt=yt.words,xt=yt.sigBytes,At=this.blockSize,kt=At*4,Ot=xt/kt;ht?Ot=rt.ceil(Ot):Ot=rt.max((Ot|0)-this._minBufferSize,0);var Wt=Ot*At,Ht=rt.min(Wt*4,xt);if(Wt){for(var Zt=0;Zt<Wt;Zt+=At)this._doProcessBlock(wt,Zt);var Lt=wt.splice(0,Wt);yt.sigBytes-=Ht}return new ct.init(Lt,Ht)},clone:function(){var ht=ot.clone.call(this);return ht._data=this._data.clone(),ht},_minBufferSize:0});st.Hasher=gt.extend({cfg:ot.extend(),init:function(ht){this.cfg=this.cfg.extend(ht),this.reset()},reset:function(){gt.reset.call(this),this._doReset()},update:function(ht){return this._append(ht),this._process(),this},finalize:function(ht){ht&&this._append(ht);var yt=this._doFinalize();return yt},blockSize:16,_createHelper:function(ht){return function(yt,wt){return new ht.init(wt).finalize(yt)}},_createHmacHelper:function(ht){return function(yt,wt){return new bt.HMAC.init(ht,wt).finalize(yt)}}});var bt=at.algo={};return at}(Math);return tt})}(core)),core.exports}(function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ot=nt.algo,ct=[],lt=[];(function(){function mt(yt){for(var wt=rt.sqrt(yt),xt=2;xt<=wt;xt++)if(!(yt%xt))return!1;return!0}function gt(yt){return(yt-(yt|0))*4294967296|0}for(var bt=2,ht=0;ht<64;)mt(bt)&&(ht<8&&(ct[ht]=gt(rt.pow(bt,1/2))),lt[ht]=gt(rt.pow(bt,1/3)),ht++),bt++})();var ut=[],dt=ot.SHA256=st.extend({_doReset:function(){this._hash=new at.init(ct.slice(0))},_doProcessBlock:function(mt,gt){for(var bt=this._hash.words,ht=bt[0],yt=bt[1],wt=bt[2],xt=bt[3],At=bt[4],kt=bt[5],Ot=bt[6],Wt=bt[7],Ht=0;Ht<64;Ht++){if(Ht<16)ut[Ht]=mt[gt+Ht]|0;else{var Zt=ut[Ht-15],Lt=(Zt<<25|Zt>>>7)^(Zt<<14|Zt>>>18)^Zt>>>3,Et=ut[Ht-2],It=(Et<<15|Et>>>17)^(Et<<13|Et>>>19)^Et>>>10;ut[Ht]=Lt+ut[Ht-7]+It+ut[Ht-16]}var Ct=At&kt^~At&Ot,vt=ht&yt^ht&wt^yt&wt,Tt=(ht<<30|ht>>>2)^(ht<<19|ht>>>13)^(ht<<10|ht>>>22),Mt=(At<<26|At>>>6)^(At<<21|At>>>11)^(At<<7|At>>>25),Nt=Wt+Mt+Ct+lt[Ht]+ut[Ht],$t=Tt+vt;Wt=Ot,Ot=kt,kt=At,At=xt+Nt|0,xt=wt,wt=yt,yt=ht,ht=Nt+$t|0}bt[0]=bt[0]+ht|0,bt[1]=bt[1]+yt|0,bt[2]=bt[2]+wt|0,bt[3]=bt[3]+xt|0,bt[4]=bt[4]+At|0,bt[5]=bt[5]+kt|0,bt[6]=bt[6]+Ot|0,bt[7]=bt[7]+Wt|0},_doFinalize:function(){var mt=this._data,gt=mt.words,bt=this._nDataBytes*8,ht=mt.sigBytes*8;return gt[ht>>>5]|=128<<24-ht%32,gt[(ht+64>>>9<<4)+14]=rt.floor(bt/4294967296),gt[(ht+64>>>9<<4)+15]=bt,mt.sigBytes=gt.length*4,this._process(),this._hash},clone:function(){var mt=st.clone.call(this);return mt._hash=this._hash.clone(),mt}});nt.SHA256=st._createHelper(dt),nt.HmacSHA256=st._createHmacHelper(dt)}(Math),tt.SHA256})})(sha256$1);var treeify={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){function tt(at,st){var ot=st?"\u2514":"\u251C";return at?ot+="\u2500 ":ot+="\u2500\u2500\u2510",ot}function rt(at,st){var ot=[];for(var ct in at)!at.hasOwnProperty(ct)||st&&typeof at[ct]=="function"||ot.push(ct);return ot}function nt(at,st,ot,ct,lt,ut,dt){var mt="",gt=0,bt,ht,yt=ct.slice(0);if(yt.push([st,ot])&&ct.length>0&&(ct.forEach(function(xt,At){At>0&&(mt+=(xt[1]?" ":"\u2502")+"  "),!ht&&xt[0]===st&&(ht=!0)}),mt+=tt(at,ot)+at,lt&&(typeof st!="object"||st instanceof Date)&&(mt+=": "+st),ht&&(mt+=" (circular ref.)"),dt(mt)),!ht&&typeof st=="object"){var wt=rt(st,ut);wt.forEach(function(xt){bt=++gt===wt.length,nt(xt,st[xt],bt,yt,lt,ut,dt)})}}var it={};return it.asLines=function(at,st,ot,ct){var lt=typeof ot!="function"?ot:!1;nt(".",at,!1,[],st,lt,ct||ot)},it.asTree=function(at,st,ot){var ct="";return nt(".",at,!1,[],st,ot,function(lt){ct+=lt+`
`}),ct},it})})(treeify);var Base$1={},cryptoJs={exports:{}},x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.Base,st=it.WordArray,ot=nt.x64={};ot.Word=at.extend({init:function(ct,lt){this.high=ct,this.low=lt}}),ot.WordArray=at.extend({init:function(ct,lt){ct=this.words=ct||[],lt!=rt?this.sigBytes=lt:this.sigBytes=ct.length*8},toX32:function(){for(var ct=this.words,lt=ct.length,ut=[],dt=0;dt<lt;dt++){var mt=ct[dt];ut.push(mt.high),ut.push(mt.low)}return st.create(ut,this.sigBytes)},clone:function(){for(var ct=at.clone.call(this),lt=ct.words=this.words.slice(0),ut=lt.length,dt=0;dt<ut;dt++)lt[dt]=lt[dt].clone();return ct}})}(),tt})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){if(typeof ArrayBuffer=="function"){var rt=tt,nt=rt.lib,it=nt.WordArray,at=it.init,st=it.init=function(ot){if(ot instanceof ArrayBuffer&&(ot=new Uint8Array(ot)),(ot instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ot instanceof Uint8ClampedArray||ot instanceof Int16Array||ot instanceof Uint16Array||ot instanceof Int32Array||ot instanceof Uint32Array||ot instanceof Float32Array||ot instanceof Float64Array)&&(ot=new Uint8Array(ot.buffer,ot.byteOffset,ot.byteLength)),ot instanceof Uint8Array){for(var ct=ot.byteLength,lt=[],ut=0;ut<ct;ut++)lt[ut>>>2]|=ot[ut]<<24-ut%4*8;at.call(this,lt,ct)}else at.apply(this,arguments)};st.prototype=it}}(),tt.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.enc;at.Utf16=at.Utf16BE={stringify:function(ot){for(var ct=ot.words,lt=ot.sigBytes,ut=[],dt=0;dt<lt;dt+=2){var mt=ct[dt>>>2]>>>16-dt%4*8&65535;ut.push(String.fromCharCode(mt))}return ut.join("")},parse:function(ot){for(var ct=ot.length,lt=[],ut=0;ut<ct;ut++)lt[ut>>>1]|=ot.charCodeAt(ut)<<16-ut%2*16;return it.create(lt,ct*2)}},at.Utf16LE={stringify:function(ot){for(var ct=ot.words,lt=ot.sigBytes,ut=[],dt=0;dt<lt;dt+=2){var mt=st(ct[dt>>>2]>>>16-dt%4*8&65535);ut.push(String.fromCharCode(mt))}return ut.join("")},parse:function(ot){for(var ct=ot.length,lt=[],ut=0;ut<ct;ut++)lt[ut>>>1]|=st(ot.charCodeAt(ut)<<16-ut%2*16);return it.create(lt,ct*2)}};function st(ot){return ot<<8&4278255360|ot>>>8&16711935}}(),tt.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.enc;at.Base64={stringify:function(ot){var ct=ot.words,lt=ot.sigBytes,ut=this._map;ot.clamp();for(var dt=[],mt=0;mt<lt;mt+=3)for(var gt=ct[mt>>>2]>>>24-mt%4*8&255,bt=ct[mt+1>>>2]>>>24-(mt+1)%4*8&255,ht=ct[mt+2>>>2]>>>24-(mt+2)%4*8&255,yt=gt<<16|bt<<8|ht,wt=0;wt<4&&mt+wt*.75<lt;wt++)dt.push(ut.charAt(yt>>>6*(3-wt)&63));var xt=ut.charAt(64);if(xt)for(;dt.length%4;)dt.push(xt);return dt.join("")},parse:function(ot){var ct=ot.length,lt=this._map,ut=this._reverseMap;if(!ut){ut=this._reverseMap=[];for(var dt=0;dt<lt.length;dt++)ut[lt.charCodeAt(dt)]=dt}var mt=lt.charAt(64);if(mt){var gt=ot.indexOf(mt);gt!==-1&&(ct=gt)}return st(ot,ct,ut)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function st(ot,ct,lt){for(var ut=[],dt=0,mt=0;mt<ct;mt++)if(mt%4){var gt=lt[ot.charCodeAt(mt-1)]<<mt%4*2,bt=lt[ot.charCodeAt(mt)]>>>6-mt%4*2;ut[dt>>>2]|=(gt|bt)<<24-dt%4*8,dt++}return it.create(ut,dt)}}(),tt.enc.Base64})}(encBase64)),encBase64.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ot=nt.algo,ct=[];(function(){for(var bt=0;bt<64;bt++)ct[bt]=rt.abs(rt.sin(bt+1))*4294967296|0})();var lt=ot.MD5=st.extend({_doReset:function(){this._hash=new at.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(bt,ht){for(var yt=0;yt<16;yt++){var wt=ht+yt,xt=bt[wt];bt[wt]=(xt<<8|xt>>>24)&16711935|(xt<<24|xt>>>8)&4278255360}var At=this._hash.words,kt=bt[ht+0],Ot=bt[ht+1],Wt=bt[ht+2],Ht=bt[ht+3],Zt=bt[ht+4],Lt=bt[ht+5],Et=bt[ht+6],It=bt[ht+7],Ct=bt[ht+8],vt=bt[ht+9],Tt=bt[ht+10],Mt=bt[ht+11],Nt=bt[ht+12],$t=bt[ht+13],St=bt[ht+14],Dt=bt[ht+15],Rt=At[0],_t=At[1],Pt=At[2],Vt=At[3];Rt=ut(Rt,_t,Pt,Vt,kt,7,ct[0]),Vt=ut(Vt,Rt,_t,Pt,Ot,12,ct[1]),Pt=ut(Pt,Vt,Rt,_t,Wt,17,ct[2]),_t=ut(_t,Pt,Vt,Rt,Ht,22,ct[3]),Rt=ut(Rt,_t,Pt,Vt,Zt,7,ct[4]),Vt=ut(Vt,Rt,_t,Pt,Lt,12,ct[5]),Pt=ut(Pt,Vt,Rt,_t,Et,17,ct[6]),_t=ut(_t,Pt,Vt,Rt,It,22,ct[7]),Rt=ut(Rt,_t,Pt,Vt,Ct,7,ct[8]),Vt=ut(Vt,Rt,_t,Pt,vt,12,ct[9]),Pt=ut(Pt,Vt,Rt,_t,Tt,17,ct[10]),_t=ut(_t,Pt,Vt,Rt,Mt,22,ct[11]),Rt=ut(Rt,_t,Pt,Vt,Nt,7,ct[12]),Vt=ut(Vt,Rt,_t,Pt,$t,12,ct[13]),Pt=ut(Pt,Vt,Rt,_t,St,17,ct[14]),_t=ut(_t,Pt,Vt,Rt,Dt,22,ct[15]),Rt=dt(Rt,_t,Pt,Vt,Ot,5,ct[16]),Vt=dt(Vt,Rt,_t,Pt,Et,9,ct[17]),Pt=dt(Pt,Vt,Rt,_t,Mt,14,ct[18]),_t=dt(_t,Pt,Vt,Rt,kt,20,ct[19]),Rt=dt(Rt,_t,Pt,Vt,Lt,5,ct[20]),Vt=dt(Vt,Rt,_t,Pt,Tt,9,ct[21]),Pt=dt(Pt,Vt,Rt,_t,Dt,14,ct[22]),_t=dt(_t,Pt,Vt,Rt,Zt,20,ct[23]),Rt=dt(Rt,_t,Pt,Vt,vt,5,ct[24]),Vt=dt(Vt,Rt,_t,Pt,St,9,ct[25]),Pt=dt(Pt,Vt,Rt,_t,Ht,14,ct[26]),_t=dt(_t,Pt,Vt,Rt,Ct,20,ct[27]),Rt=dt(Rt,_t,Pt,Vt,$t,5,ct[28]),Vt=dt(Vt,Rt,_t,Pt,Wt,9,ct[29]),Pt=dt(Pt,Vt,Rt,_t,It,14,ct[30]),_t=dt(_t,Pt,Vt,Rt,Nt,20,ct[31]),Rt=mt(Rt,_t,Pt,Vt,Lt,4,ct[32]),Vt=mt(Vt,Rt,_t,Pt,Ct,11,ct[33]),Pt=mt(Pt,Vt,Rt,_t,Mt,16,ct[34]),_t=mt(_t,Pt,Vt,Rt,St,23,ct[35]),Rt=mt(Rt,_t,Pt,Vt,Ot,4,ct[36]),Vt=mt(Vt,Rt,_t,Pt,Zt,11,ct[37]),Pt=mt(Pt,Vt,Rt,_t,It,16,ct[38]),_t=mt(_t,Pt,Vt,Rt,Tt,23,ct[39]),Rt=mt(Rt,_t,Pt,Vt,$t,4,ct[40]),Vt=mt(Vt,Rt,_t,Pt,kt,11,ct[41]),Pt=mt(Pt,Vt,Rt,_t,Ht,16,ct[42]),_t=mt(_t,Pt,Vt,Rt,Et,23,ct[43]),Rt=mt(Rt,_t,Pt,Vt,vt,4,ct[44]),Vt=mt(Vt,Rt,_t,Pt,Nt,11,ct[45]),Pt=mt(Pt,Vt,Rt,_t,Dt,16,ct[46]),_t=mt(_t,Pt,Vt,Rt,Wt,23,ct[47]),Rt=gt(Rt,_t,Pt,Vt,kt,6,ct[48]),Vt=gt(Vt,Rt,_t,Pt,It,10,ct[49]),Pt=gt(Pt,Vt,Rt,_t,St,15,ct[50]),_t=gt(_t,Pt,Vt,Rt,Lt,21,ct[51]),Rt=gt(Rt,_t,Pt,Vt,Nt,6,ct[52]),Vt=gt(Vt,Rt,_t,Pt,Ht,10,ct[53]),Pt=gt(Pt,Vt,Rt,_t,Tt,15,ct[54]),_t=gt(_t,Pt,Vt,Rt,Ot,21,ct[55]),Rt=gt(Rt,_t,Pt,Vt,Ct,6,ct[56]),Vt=gt(Vt,Rt,_t,Pt,Dt,10,ct[57]),Pt=gt(Pt,Vt,Rt,_t,Et,15,ct[58]),_t=gt(_t,Pt,Vt,Rt,$t,21,ct[59]),Rt=gt(Rt,_t,Pt,Vt,Zt,6,ct[60]),Vt=gt(Vt,Rt,_t,Pt,Mt,10,ct[61]),Pt=gt(Pt,Vt,Rt,_t,Wt,15,ct[62]),_t=gt(_t,Pt,Vt,Rt,vt,21,ct[63]),At[0]=At[0]+Rt|0,At[1]=At[1]+_t|0,At[2]=At[2]+Pt|0,At[3]=At[3]+Vt|0},_doFinalize:function(){var bt=this._data,ht=bt.words,yt=this._nDataBytes*8,wt=bt.sigBytes*8;ht[wt>>>5]|=128<<24-wt%32;var xt=rt.floor(yt/4294967296),At=yt;ht[(wt+64>>>9<<4)+15]=(xt<<8|xt>>>24)&16711935|(xt<<24|xt>>>8)&4278255360,ht[(wt+64>>>9<<4)+14]=(At<<8|At>>>24)&16711935|(At<<24|At>>>8)&4278255360,bt.sigBytes=(ht.length+1)*4,this._process();for(var kt=this._hash,Ot=kt.words,Wt=0;Wt<4;Wt++){var Ht=Ot[Wt];Ot[Wt]=(Ht<<8|Ht>>>24)&16711935|(Ht<<24|Ht>>>8)&4278255360}return kt},clone:function(){var bt=st.clone.call(this);return bt._hash=this._hash.clone(),bt}});function ut(bt,ht,yt,wt,xt,At,kt){var Ot=bt+(ht&yt|~ht&wt)+xt+kt;return(Ot<<At|Ot>>>32-At)+ht}function dt(bt,ht,yt,wt,xt,At,kt){var Ot=bt+(ht&wt|yt&~wt)+xt+kt;return(Ot<<At|Ot>>>32-At)+ht}function mt(bt,ht,yt,wt,xt,At,kt){var Ot=bt+(ht^yt^wt)+xt+kt;return(Ot<<At|Ot>>>32-At)+ht}function gt(bt,ht,yt,wt,xt,At,kt){var Ot=bt+(yt^(ht|~wt))+xt+kt;return(Ot<<At|Ot>>>32-At)+ht}nt.MD5=st._createHelper(lt),nt.HmacMD5=st._createHmacHelper(lt)}(Math),tt.MD5})}(md5)),md5.exports}var sha1$1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=nt.Hasher,st=rt.algo,ot=[],ct=st.SHA1=at.extend({_doReset:function(){this._hash=new it.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(lt,ut){for(var dt=this._hash.words,mt=dt[0],gt=dt[1],bt=dt[2],ht=dt[3],yt=dt[4],wt=0;wt<80;wt++){if(wt<16)ot[wt]=lt[ut+wt]|0;else{var xt=ot[wt-3]^ot[wt-8]^ot[wt-14]^ot[wt-16];ot[wt]=xt<<1|xt>>>31}var At=(mt<<5|mt>>>27)+yt+ot[wt];wt<20?At+=(gt&bt|~gt&ht)+1518500249:wt<40?At+=(gt^bt^ht)+1859775393:wt<60?At+=(gt&bt|gt&ht|bt&ht)-1894007588:At+=(gt^bt^ht)-899497514,yt=ht,ht=bt,bt=gt<<30|gt>>>2,gt=mt,mt=At}dt[0]=dt[0]+mt|0,dt[1]=dt[1]+gt|0,dt[2]=dt[2]+bt|0,dt[3]=dt[3]+ht|0,dt[4]=dt[4]+yt|0},_doFinalize:function(){var lt=this._data,ut=lt.words,dt=this._nDataBytes*8,mt=lt.sigBytes*8;return ut[mt>>>5]|=128<<24-mt%32,ut[(mt+64>>>9<<4)+14]=Math.floor(dt/4294967296),ut[(mt+64>>>9<<4)+15]=dt,lt.sigBytes=ut.length*4,this._process(),this._hash},clone:function(){var lt=at.clone.call(this);return lt._hash=this._hash.clone(),lt}});rt.SHA1=at._createHelper(ct),rt.HmacSHA1=at._createHmacHelper(ct)}(),tt.SHA1})}(sha1$1)),sha1$1.exports}var sha224$1={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),sha256$1.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.algo,st=at.SHA256,ot=at.SHA224=st.extend({_doReset:function(){this._hash=new it.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var ct=st._doFinalize.call(this);return ct.sigBytes-=4,ct}});rt.SHA224=st._createHelper(ot),rt.HmacSHA224=st._createHmacHelper(ot)}(),tt.SHA224})}(sha224$1)),sha224$1.exports}var sha512$1={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Hasher,at=rt.x64,st=at.Word,ot=at.WordArray,ct=rt.algo;function lt(){return st.create.apply(st,arguments)}var ut=[lt(1116352408,3609767458),lt(1899447441,602891725),lt(3049323471,3964484399),lt(3921009573,2173295548),lt(961987163,4081628472),lt(1508970993,3053834265),lt(2453635748,2937671579),lt(2870763221,3664609560),lt(3624381080,2734883394),lt(310598401,1164996542),lt(607225278,1323610764),lt(1426881987,3590304994),lt(1925078388,4068182383),lt(2162078206,991336113),lt(2614888103,633803317),lt(3248222580,3479774868),lt(3835390401,2666613458),lt(4022224774,944711139),lt(264347078,2341262773),lt(604807628,2007800933),lt(770255983,1495990901),lt(1249150122,1856431235),lt(1555081692,3175218132),lt(1996064986,2198950837),lt(2554220882,3999719339),lt(2821834349,766784016),lt(2952996808,2566594879),lt(3210313671,3203337956),lt(3336571891,1034457026),lt(3584528711,2466948901),lt(113926993,3758326383),lt(338241895,168717936),lt(666307205,1188179964),lt(773529912,1546045734),lt(1294757372,1522805485),lt(1396182291,2643833823),lt(1695183700,2343527390),lt(1986661051,1014477480),lt(2177026350,1206759142),lt(2456956037,344077627),lt(2730485921,1290863460),lt(2820302411,3158454273),lt(3259730800,3505952657),lt(3345764771,106217008),lt(3516065817,3606008344),lt(3600352804,1432725776),lt(4094571909,1467031594),lt(275423344,851169720),lt(430227734,3100823752),lt(506948616,1363258195),lt(659060556,3750685593),lt(883997877,3785050280),lt(958139571,3318307427),lt(1322822218,3812723403),lt(1537002063,2003034995),lt(1747873779,3602036899),lt(1955562222,1575990012),lt(2024104815,1125592928),lt(2227730452,2716904306),lt(2361852424,442776044),lt(2428436474,593698344),lt(2756734187,3733110249),lt(3204031479,2999351573),lt(3329325298,3815920427),lt(3391569614,3928383900),lt(3515267271,566280711),lt(3940187606,3454069534),lt(4118630271,4000239992),lt(116418474,1914138554),lt(174292421,2731055270),lt(289380356,3203993006),lt(460393269,320620315),lt(685471733,587496836),lt(852142971,1086792851),lt(1017036298,365543100),lt(1126000580,2618297676),lt(1288033470,3409855158),lt(1501505948,4234509866),lt(1607167915,987167468),lt(1816402316,1246189591)],dt=[];(function(){for(var gt=0;gt<80;gt++)dt[gt]=lt()})();var mt=ct.SHA512=it.extend({_doReset:function(){this._hash=new ot.init([new st.init(1779033703,4089235720),new st.init(3144134277,2227873595),new st.init(1013904242,4271175723),new st.init(2773480762,1595750129),new st.init(1359893119,2917565137),new st.init(2600822924,725511199),new st.init(528734635,4215389547),new st.init(1541459225,327033209)])},_doProcessBlock:function(gt,bt){for(var ht=this._hash.words,yt=ht[0],wt=ht[1],xt=ht[2],At=ht[3],kt=ht[4],Ot=ht[5],Wt=ht[6],Ht=ht[7],Zt=yt.high,Lt=yt.low,Et=wt.high,It=wt.low,Ct=xt.high,vt=xt.low,Tt=At.high,Mt=At.low,Nt=kt.high,$t=kt.low,St=Ot.high,Dt=Ot.low,Rt=Wt.high,_t=Wt.low,Pt=Ht.high,Vt=Ht.low,Bt=Zt,qt=Lt,Yt=Et,Xt=It,rr=Ct,lr=vt,Qt=Tt,Kt=Mt,sr=Nt,ir=$t,hr=St,er=Dt,Ut=Rt,zt=_t,Jt=Pt,nr=Vt,ur=0;ur<80;ur++){var pr=dt[ur];if(ur<16)var mr=pr.high=gt[bt+ur*2]|0,yr=pr.low=gt[bt+ur*2+1]|0;else{var Er=dt[ur-15],gr=Er.high,Gt=Er.low,Ft=(gr>>>1|Gt<<31)^(gr>>>8|Gt<<24)^gr>>>7,jt=(Gt>>>1|gr<<31)^(Gt>>>8|gr<<24)^(Gt>>>7|gr<<25),tr=dt[ur-2],ar=tr.high,cr=tr.low,dr=(ar>>>19|cr<<13)^(ar<<3|cr>>>29)^ar>>>6,_r=(cr>>>19|ar<<13)^(cr<<3|ar>>>29)^(cr>>>6|ar<<26),xr=dt[ur-7],vr=xr.high,Fr=xr.low,br=dt[ur-16],Ar=br.high,Wr=br.low,yr=jt+Fr,mr=Ft+vr+(yr>>>0<jt>>>0?1:0),yr=yr+_r,mr=mr+dr+(yr>>>0<_r>>>0?1:0),yr=yr+Wr,mr=mr+Ar+(yr>>>0<Wr>>>0?1:0);pr.high=mr,pr.low=yr}var $r=sr&hr^~sr&Ut,Sr=ir&er^~ir&zt,Hr=Bt&Yt^Bt&rr^Yt&rr,kr=qt&Xt^qt&lr^Xt&lr,Rr=(Bt>>>28|qt<<4)^(Bt<<30|qt>>>2)^(Bt<<25|qt>>>7),zr=(qt>>>28|Bt<<4)^(qt<<30|Bt>>>2)^(qt<<25|Bt>>>7),Ir=(sr>>>14|ir<<18)^(sr>>>18|ir<<14)^(sr<<23|ir>>>9),Pr=(ir>>>14|sr<<18)^(ir>>>18|sr<<14)^(ir<<23|sr>>>9),qr=ut[ur],Mr=qr.high,Cr=qr.low,jr=nr+Pr,wr=Jt+Ir+(jr>>>0<nr>>>0?1:0),jr=jr+Sr,wr=wr+$r+(jr>>>0<Sr>>>0?1:0),jr=jr+Cr,wr=wr+Mr+(jr>>>0<Cr>>>0?1:0),jr=jr+yr,wr=wr+mr+(jr>>>0<yr>>>0?1:0),Tr=zr+kr,Vr=Rr+Hr+(Tr>>>0<zr>>>0?1:0);Jt=Ut,nr=zt,Ut=hr,zt=er,hr=sr,er=ir,ir=Kt+jr|0,sr=Qt+wr+(ir>>>0<Kt>>>0?1:0)|0,Qt=rr,Kt=lr,rr=Yt,lr=Xt,Yt=Bt,Xt=qt,qt=jr+Tr|0,Bt=wr+Vr+(qt>>>0<jr>>>0?1:0)|0}Lt=yt.low=Lt+qt,yt.high=Zt+Bt+(Lt>>>0<qt>>>0?1:0),It=wt.low=It+Xt,wt.high=Et+Yt+(It>>>0<Xt>>>0?1:0),vt=xt.low=vt+lr,xt.high=Ct+rr+(vt>>>0<lr>>>0?1:0),Mt=At.low=Mt+Kt,At.high=Tt+Qt+(Mt>>>0<Kt>>>0?1:0),$t=kt.low=$t+ir,kt.high=Nt+sr+($t>>>0<ir>>>0?1:0),Dt=Ot.low=Dt+er,Ot.high=St+hr+(Dt>>>0<er>>>0?1:0),_t=Wt.low=_t+zt,Wt.high=Rt+Ut+(_t>>>0<zt>>>0?1:0),Vt=Ht.low=Vt+nr,Ht.high=Pt+Jt+(Vt>>>0<nr>>>0?1:0)},_doFinalize:function(){var gt=this._data,bt=gt.words,ht=this._nDataBytes*8,yt=gt.sigBytes*8;bt[yt>>>5]|=128<<24-yt%32,bt[(yt+128>>>10<<5)+30]=Math.floor(ht/4294967296),bt[(yt+128>>>10<<5)+31]=ht,gt.sigBytes=bt.length*4,this._process();var wt=this._hash.toX32();return wt},clone:function(){var gt=it.clone.call(this);return gt._hash=this._hash.clone(),gt},blockSize:1024/32});rt.SHA512=it._createHelper(mt),rt.HmacSHA512=it._createHmacHelper(mt)}(),tt.SHA512})}(sha512$1)),sha512$1.exports}var sha384$1={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.x64,it=nt.Word,at=nt.WordArray,st=rt.algo,ot=st.SHA512,ct=st.SHA384=ot.extend({_doReset:function(){this._hash=new at.init([new it.init(3418070365,3238371032),new it.init(1654270250,914150663),new it.init(2438529370,812702999),new it.init(355462360,4144912697),new it.init(1731405415,4290775857),new it.init(2394180231,1750603025),new it.init(3675008525,1694076839),new it.init(1203062813,3204075428)])},_doFinalize:function(){var lt=ot._doFinalize.call(this);return lt.sigBytes-=16,lt}});rt.SHA384=ot._createHelper(ct),rt.HmacSHA384=ot._createHmacHelper(ct)}(),tt.SHA384})}(sha384$1)),sha384$1.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ot=nt.x64,ct=ot.Word,lt=nt.algo,ut=[],dt=[],mt=[];(function(){for(var ht=1,yt=0,wt=0;wt<24;wt++){ut[ht+5*yt]=(wt+1)*(wt+2)/2%64;var xt=yt%5,At=(2*ht+3*yt)%5;ht=xt,yt=At}for(var ht=0;ht<5;ht++)for(var yt=0;yt<5;yt++)dt[ht+5*yt]=yt+(2*ht+3*yt)%5*5;for(var kt=1,Ot=0;Ot<24;Ot++){for(var Wt=0,Ht=0,Zt=0;Zt<7;Zt++){if(kt&1){var Lt=(1<<Zt)-1;Lt<32?Ht^=1<<Lt:Wt^=1<<Lt-32}kt&128?kt=kt<<1^113:kt<<=1}mt[Ot]=ct.create(Wt,Ht)}})();var gt=[];(function(){for(var ht=0;ht<25;ht++)gt[ht]=ct.create()})();var bt=lt.SHA3=st.extend({cfg:st.cfg.extend({outputLength:512}),_doReset:function(){for(var ht=this._state=[],yt=0;yt<25;yt++)ht[yt]=new ct.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(ht,yt){for(var wt=this._state,xt=this.blockSize/2,At=0;At<xt;At++){var kt=ht[yt+2*At],Ot=ht[yt+2*At+1];kt=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,Ot=(Ot<<8|Ot>>>24)&16711935|(Ot<<24|Ot>>>8)&4278255360;var Wt=wt[At];Wt.high^=Ot,Wt.low^=kt}for(var Ht=0;Ht<24;Ht++){for(var Zt=0;Zt<5;Zt++){for(var Lt=0,Et=0,It=0;It<5;It++){var Wt=wt[Zt+5*It];Lt^=Wt.high,Et^=Wt.low}var Ct=gt[Zt];Ct.high=Lt,Ct.low=Et}for(var Zt=0;Zt<5;Zt++)for(var vt=gt[(Zt+4)%5],Tt=gt[(Zt+1)%5],Mt=Tt.high,Nt=Tt.low,Lt=vt.high^(Mt<<1|Nt>>>31),Et=vt.low^(Nt<<1|Mt>>>31),It=0;It<5;It++){var Wt=wt[Zt+5*It];Wt.high^=Lt,Wt.low^=Et}for(var $t=1;$t<25;$t++){var Wt=wt[$t],St=Wt.high,Dt=Wt.low,Rt=ut[$t];if(Rt<32)var Lt=St<<Rt|Dt>>>32-Rt,Et=Dt<<Rt|St>>>32-Rt;else var Lt=Dt<<Rt-32|St>>>64-Rt,Et=St<<Rt-32|Dt>>>64-Rt;var _t=gt[dt[$t]];_t.high=Lt,_t.low=Et}var Pt=gt[0],Vt=wt[0];Pt.high=Vt.high,Pt.low=Vt.low;for(var Zt=0;Zt<5;Zt++)for(var It=0;It<5;It++){var $t=Zt+5*It,Wt=wt[$t],Bt=gt[$t],qt=gt[(Zt+1)%5+5*It],Yt=gt[(Zt+2)%5+5*It];Wt.high=Bt.high^~qt.high&Yt.high,Wt.low=Bt.low^~qt.low&Yt.low}var Wt=wt[0],Xt=mt[Ht];Wt.high^=Xt.high,Wt.low^=Xt.low}},_doFinalize:function(){var ht=this._data,yt=ht.words;this._nDataBytes*8;var wt=ht.sigBytes*8,xt=this.blockSize*32;yt[wt>>>5]|=1<<24-wt%32,yt[(rt.ceil((wt+1)/xt)*xt>>>5)-1]|=128,ht.sigBytes=yt.length*4,this._process();for(var At=this._state,kt=this.cfg.outputLength/8,Ot=kt/8,Wt=[],Ht=0;Ht<Ot;Ht++){var Zt=At[Ht],Lt=Zt.high,Et=Zt.low;Lt=(Lt<<8|Lt>>>24)&16711935|(Lt<<24|Lt>>>8)&4278255360,Et=(Et<<8|Et>>>24)&16711935|(Et<<24|Et>>>8)&4278255360,Wt.push(Et),Wt.push(Lt)}return new at.init(Wt,kt)},clone:function(){for(var ht=st.clone.call(this),yt=ht._state=this._state.slice(0),wt=0;wt<25;wt++)yt[wt]=yt[wt].clone();return ht}});nt.SHA3=st._createHelper(bt),nt.HmacSHA3=st._createHmacHelper(bt)}(Math),tt.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ot=nt.algo,ct=at.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),lt=at.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ut=at.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),dt=at.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),mt=at.create([0,1518500249,1859775393,2400959708,2840853838]),gt=at.create([1352829926,1548603684,1836072691,2053994217,0]),bt=ot.RIPEMD160=st.extend({_doReset:function(){this._hash=at.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ot,Wt){for(var Ht=0;Ht<16;Ht++){var Zt=Wt+Ht,Lt=Ot[Zt];Ot[Zt]=(Lt<<8|Lt>>>24)&16711935|(Lt<<24|Lt>>>8)&4278255360}var Et=this._hash.words,It=mt.words,Ct=gt.words,vt=ct.words,Tt=lt.words,Mt=ut.words,Nt=dt.words,$t,St,Dt,Rt,_t,Pt,Vt,Bt,qt,Yt;Pt=$t=Et[0],Vt=St=Et[1],Bt=Dt=Et[2],qt=Rt=Et[3],Yt=_t=Et[4];for(var Xt,Ht=0;Ht<80;Ht+=1)Xt=$t+Ot[Wt+vt[Ht]]|0,Ht<16?Xt+=ht(St,Dt,Rt)+It[0]:Ht<32?Xt+=yt(St,Dt,Rt)+It[1]:Ht<48?Xt+=wt(St,Dt,Rt)+It[2]:Ht<64?Xt+=xt(St,Dt,Rt)+It[3]:Xt+=At(St,Dt,Rt)+It[4],Xt=Xt|0,Xt=kt(Xt,Mt[Ht]),Xt=Xt+_t|0,$t=_t,_t=Rt,Rt=kt(Dt,10),Dt=St,St=Xt,Xt=Pt+Ot[Wt+Tt[Ht]]|0,Ht<16?Xt+=At(Vt,Bt,qt)+Ct[0]:Ht<32?Xt+=xt(Vt,Bt,qt)+Ct[1]:Ht<48?Xt+=wt(Vt,Bt,qt)+Ct[2]:Ht<64?Xt+=yt(Vt,Bt,qt)+Ct[3]:Xt+=ht(Vt,Bt,qt)+Ct[4],Xt=Xt|0,Xt=kt(Xt,Nt[Ht]),Xt=Xt+Yt|0,Pt=Yt,Yt=qt,qt=kt(Bt,10),Bt=Vt,Vt=Xt;Xt=Et[1]+Dt+qt|0,Et[1]=Et[2]+Rt+Yt|0,Et[2]=Et[3]+_t+Pt|0,Et[3]=Et[4]+$t+Vt|0,Et[4]=Et[0]+St+Bt|0,Et[0]=Xt},_doFinalize:function(){var Ot=this._data,Wt=Ot.words,Ht=this._nDataBytes*8,Zt=Ot.sigBytes*8;Wt[Zt>>>5]|=128<<24-Zt%32,Wt[(Zt+64>>>9<<4)+14]=(Ht<<8|Ht>>>24)&16711935|(Ht<<24|Ht>>>8)&4278255360,Ot.sigBytes=(Wt.length+1)*4,this._process();for(var Lt=this._hash,Et=Lt.words,It=0;It<5;It++){var Ct=Et[It];Et[It]=(Ct<<8|Ct>>>24)&16711935|(Ct<<24|Ct>>>8)&4278255360}return Lt},clone:function(){var Ot=st.clone.call(this);return Ot._hash=this._hash.clone(),Ot}});function ht(Ot,Wt,Ht){return Ot^Wt^Ht}function yt(Ot,Wt,Ht){return Ot&Wt|~Ot&Ht}function wt(Ot,Wt,Ht){return(Ot|~Wt)^Ht}function xt(Ot,Wt,Ht){return Ot&Ht|Wt&~Ht}function At(Ot,Wt,Ht){return Ot^(Wt|~Ht)}function kt(Ot,Wt){return Ot<<Wt|Ot>>>32-Wt}nt.RIPEMD160=st._createHelper(bt),nt.HmacRIPEMD160=st._createHmacHelper(bt)}(),tt.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){(function(){var rt=tt,nt=rt.lib,it=nt.Base,at=rt.enc,st=at.Utf8,ot=rt.algo;ot.HMAC=it.extend({init:function(ct,lt){ct=this._hasher=new ct.init,typeof lt=="string"&&(lt=st.parse(lt));var ut=ct.blockSize,dt=ut*4;lt.sigBytes>dt&&(lt=ct.finalize(lt)),lt.clamp();for(var mt=this._oKey=lt.clone(),gt=this._iKey=lt.clone(),bt=mt.words,ht=gt.words,yt=0;yt<ut;yt++)bt[yt]^=1549556828,ht[yt]^=909522486;mt.sigBytes=gt.sigBytes=dt,this.reset()},reset:function(){var ct=this._hasher;ct.reset(),ct.update(this._iKey)},update:function(ct){return this._hasher.update(ct),this},finalize:function(ct){var lt=this._hasher,ut=lt.finalize(ct);lt.reset();var dt=lt.finalize(this._oKey.clone().concat(ut));return dt}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Base,at=nt.WordArray,st=rt.algo,ot=st.SHA1,ct=st.HMAC,lt=st.PBKDF2=it.extend({cfg:it.extend({keySize:128/32,hasher:ot,iterations:1}),init:function(ut){this.cfg=this.cfg.extend(ut)},compute:function(ut,dt){for(var mt=this.cfg,gt=ct.create(mt.hasher,ut),bt=at.create(),ht=at.create([1]),yt=bt.words,wt=ht.words,xt=mt.keySize,At=mt.iterations;yt.length<xt;){var kt=gt.update(dt).finalize(ht);gt.reset();for(var Ot=kt.words,Wt=Ot.length,Ht=kt,Zt=1;Zt<At;Zt++){Ht=gt.finalize(Ht),gt.reset();for(var Lt=Ht.words,Et=0;Et<Wt;Et++)Ot[Et]^=Lt[Et]}bt.concat(kt),wt[0]++}return bt.sigBytes=xt*4,bt}});rt.PBKDF2=function(ut,dt,mt){return lt.create(mt).compute(ut,dt)}}(),tt.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Base,at=nt.WordArray,st=rt.algo,ot=st.MD5,ct=st.EvpKDF=it.extend({cfg:it.extend({keySize:128/32,hasher:ot,iterations:1}),init:function(lt){this.cfg=this.cfg.extend(lt)},compute:function(lt,ut){for(var dt=this.cfg,mt=dt.hasher.create(),gt=at.create(),bt=gt.words,ht=dt.keySize,yt=dt.iterations;bt.length<ht;){wt&&mt.update(wt);var wt=mt.update(lt).finalize(ut);mt.reset();for(var xt=1;xt<yt;xt++)wt=mt.finalize(wt),mt.reset();gt.concat(wt)}return gt.sigBytes=ht*4,gt}});rt.EvpKDF=function(lt,ut,dt){return ct.create(dt).compute(lt,ut)}}(),tt.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEvpkdf())})(commonjsGlobal,function(tt){tt.lib.Cipher||function(rt){var nt=tt,it=nt.lib,at=it.Base,st=it.WordArray,ot=it.BufferedBlockAlgorithm,ct=nt.enc;ct.Utf8;var lt=ct.Base64,ut=nt.algo,dt=ut.EvpKDF,mt=it.Cipher=ot.extend({cfg:at.extend(),createEncryptor:function(Lt,Et){return this.create(this._ENC_XFORM_MODE,Lt,Et)},createDecryptor:function(Lt,Et){return this.create(this._DEC_XFORM_MODE,Lt,Et)},init:function(Lt,Et,It){this.cfg=this.cfg.extend(It),this._xformMode=Lt,this._key=Et,this.reset()},reset:function(){ot.reset.call(this),this._doReset()},process:function(Lt){return this._append(Lt),this._process()},finalize:function(Lt){Lt&&this._append(Lt);var Et=this._doFinalize();return Et},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Lt(Et){return typeof Et=="string"?Zt:Ot}return function(Et){return{encrypt:function(It,Ct,vt){return Lt(Ct).encrypt(Et,It,Ct,vt)},decrypt:function(It,Ct,vt){return Lt(Ct).decrypt(Et,It,Ct,vt)}}}}()});it.StreamCipher=mt.extend({_doFinalize:function(){var Lt=this._process(!0);return Lt},blockSize:1});var gt=nt.mode={},bt=it.BlockCipherMode=at.extend({createEncryptor:function(Lt,Et){return this.Encryptor.create(Lt,Et)},createDecryptor:function(Lt,Et){return this.Decryptor.create(Lt,Et)},init:function(Lt,Et){this._cipher=Lt,this._iv=Et}}),ht=gt.CBC=function(){var Lt=bt.extend();Lt.Encryptor=Lt.extend({processBlock:function(It,Ct){var vt=this._cipher,Tt=vt.blockSize;Et.call(this,It,Ct,Tt),vt.encryptBlock(It,Ct),this._prevBlock=It.slice(Ct,Ct+Tt)}}),Lt.Decryptor=Lt.extend({processBlock:function(It,Ct){var vt=this._cipher,Tt=vt.blockSize,Mt=It.slice(Ct,Ct+Tt);vt.decryptBlock(It,Ct),Et.call(this,It,Ct,Tt),this._prevBlock=Mt}});function Et(It,Ct,vt){var Tt=this._iv;if(Tt){var Mt=Tt;this._iv=rt}else var Mt=this._prevBlock;for(var Nt=0;Nt<vt;Nt++)It[Ct+Nt]^=Mt[Nt]}return Lt}(),yt=nt.pad={},wt=yt.Pkcs7={pad:function(Lt,Et){for(var It=Et*4,Ct=It-Lt.sigBytes%It,vt=Ct<<24|Ct<<16|Ct<<8|Ct,Tt=[],Mt=0;Mt<Ct;Mt+=4)Tt.push(vt);var Nt=st.create(Tt,Ct);Lt.concat(Nt)},unpad:function(Lt){var Et=Lt.words[Lt.sigBytes-1>>>2]&255;Lt.sigBytes-=Et}};it.BlockCipher=mt.extend({cfg:mt.cfg.extend({mode:ht,padding:wt}),reset:function(){mt.reset.call(this);var Lt=this.cfg,Et=Lt.iv,It=Lt.mode;if(this._xformMode==this._ENC_XFORM_MODE)var Ct=It.createEncryptor;else{var Ct=It.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==Ct?this._mode.init(this,Et&&Et.words):(this._mode=Ct.call(It,this,Et&&Et.words),this._mode.__creator=Ct)},_doProcessBlock:function(Lt,Et){this._mode.processBlock(Lt,Et)},_doFinalize:function(){var Lt=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){Lt.pad(this._data,this.blockSize);var Et=this._process(!0)}else{var Et=this._process(!0);Lt.unpad(Et)}return Et},blockSize:128/32});var xt=it.CipherParams=at.extend({init:function(Lt){this.mixIn(Lt)},toString:function(Lt){return(Lt||this.formatter).stringify(this)}}),At=nt.format={},kt=At.OpenSSL={stringify:function(Lt){var Et=Lt.ciphertext,It=Lt.salt;if(It)var Ct=st.create([1398893684,1701076831]).concat(It).concat(Et);else var Ct=Et;return Ct.toString(lt)},parse:function(Lt){var Et=lt.parse(Lt),It=Et.words;if(It[0]==1398893684&&It[1]==1701076831){var Ct=st.create(It.slice(2,4));It.splice(0,4),Et.sigBytes-=16}return xt.create({ciphertext:Et,salt:Ct})}},Ot=it.SerializableCipher=at.extend({cfg:at.extend({format:kt}),encrypt:function(Lt,Et,It,Ct){Ct=this.cfg.extend(Ct);var vt=Lt.createEncryptor(It,Ct),Tt=vt.finalize(Et),Mt=vt.cfg;return xt.create({ciphertext:Tt,key:It,iv:Mt.iv,algorithm:Lt,mode:Mt.mode,padding:Mt.padding,blockSize:Lt.blockSize,formatter:Ct.format})},decrypt:function(Lt,Et,It,Ct){Ct=this.cfg.extend(Ct),Et=this._parse(Et,Ct.format);var vt=Lt.createDecryptor(It,Ct).finalize(Et.ciphertext);return vt},_parse:function(Lt,Et){return typeof Lt=="string"?Et.parse(Lt,this):Lt}}),Wt=nt.kdf={},Ht=Wt.OpenSSL={execute:function(Lt,Et,It,Ct){Ct||(Ct=st.random(64/8));var vt=dt.create({keySize:Et+It}).compute(Lt,Ct),Tt=st.create(vt.words.slice(Et),It*4);return vt.sigBytes=Et*4,xt.create({key:vt,iv:Tt,salt:Ct})}},Zt=it.PasswordBasedCipher=Ot.extend({cfg:Ot.cfg.extend({kdf:Ht}),encrypt:function(Lt,Et,It,Ct){Ct=this.cfg.extend(Ct);var vt=Ct.kdf.execute(It,Lt.keySize,Lt.ivSize);Ct.iv=vt.iv;var Tt=Ot.encrypt.call(this,Lt,Et,vt.key,Ct);return Tt.mixIn(vt),Tt},decrypt:function(Lt,Et,It,Ct){Ct=this.cfg.extend(Ct),Et=this._parse(Et,Ct.format);var vt=Ct.kdf.execute(It,Lt.keySize,Lt.ivSize,Et.salt);Ct.iv=vt.iv;var Tt=Ot.decrypt.call(this,Lt,Et,vt.key,Ct);return Tt}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.CFB=function(){var rt=tt.lib.BlockCipherMode.extend();rt.Encryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ot=st.blockSize;nt.call(this,it,at,ot,st),this._prevBlock=it.slice(at,at+ot)}}),rt.Decryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ot=st.blockSize,ct=it.slice(at,at+ot);nt.call(this,it,at,ot,st),this._prevBlock=ct}});function nt(it,at,st,ot){var ct=this._iv;if(ct){var lt=ct.slice(0);this._iv=void 0}else var lt=this._prevBlock;ot.encryptBlock(lt,0);for(var ut=0;ut<st;ut++)it[at+ut]^=lt[ut]}return rt}(),tt.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.CTR=function(){var rt=tt.lib.BlockCipherMode.extend(),nt=rt.Encryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ot=st.blockSize,ct=this._iv,lt=this._counter;ct&&(lt=this._counter=ct.slice(0),this._iv=void 0);var ut=lt.slice(0);st.encryptBlock(ut,0),lt[ot-1]=lt[ot-1]+1|0;for(var dt=0;dt<ot;dt++)it[at+dt]^=ut[dt]}});return rt.Decryptor=nt,rt}(),tt.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return tt.mode.CTRGladman=function(){var rt=tt.lib.BlockCipherMode.extend();function nt(st){if((st>>24&255)===255){var ot=st>>16&255,ct=st>>8&255,lt=st&255;ot===255?(ot=0,ct===255?(ct=0,lt===255?lt=0:++lt):++ct):++ot,st=0,st+=ot<<16,st+=ct<<8,st+=lt}else st+=1<<24;return st}function it(st){return(st[0]=nt(st[0]))===0&&(st[1]=nt(st[1])),st}var at=rt.Encryptor=rt.extend({processBlock:function(st,ot){var ct=this._cipher,lt=ct.blockSize,ut=this._iv,dt=this._counter;ut&&(dt=this._counter=ut.slice(0),this._iv=void 0),it(dt);var mt=dt.slice(0);ct.encryptBlock(mt,0);for(var gt=0;gt<lt;gt++)st[ot+gt]^=mt[gt]}});return rt.Decryptor=at,rt}(),tt.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.OFB=function(){var rt=tt.lib.BlockCipherMode.extend(),nt=rt.Encryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ot=st.blockSize,ct=this._iv,lt=this._keystream;ct&&(lt=this._keystream=ct.slice(0),this._iv=void 0),st.encryptBlock(lt,0);for(var ut=0;ut<ot;ut++)it[at+ut]^=lt[ut]}});return rt.Decryptor=nt,rt}(),tt.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.ECB=function(){var rt=tt.lib.BlockCipherMode.extend();return rt.Encryptor=rt.extend({processBlock:function(nt,it){this._cipher.encryptBlock(nt,it)}}),rt.Decryptor=rt.extend({processBlock:function(nt,it){this._cipher.decryptBlock(nt,it)}}),rt}(),tt.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.AnsiX923={pad:function(rt,nt){var it=rt.sigBytes,at=nt*4,st=at-it%at,ot=it+st-1;rt.clamp(),rt.words[ot>>>2]|=st<<24-ot%4*8,rt.sigBytes+=st},unpad:function(rt){var nt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=nt}},tt.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.Iso10126={pad:function(rt,nt){var it=nt*4,at=it-rt.sigBytes%it;rt.concat(tt.lib.WordArray.random(at-1)).concat(tt.lib.WordArray.create([at<<24],1))},unpad:function(rt){var nt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=nt}},tt.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.Iso97971={pad:function(rt,nt){rt.concat(tt.lib.WordArray.create([2147483648],1)),tt.pad.ZeroPadding.pad(rt,nt)},unpad:function(rt){tt.pad.ZeroPadding.unpad(rt),rt.sigBytes--}},tt.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.ZeroPadding={pad:function(rt,nt){var it=nt*4;rt.clamp(),rt.sigBytes+=it-(rt.sigBytes%it||it)},unpad:function(rt){for(var nt=rt.words,it=rt.sigBytes-1;!(nt[it>>>2]>>>24-it%4*8&255);)it--;rt.sigBytes=it+1}},tt.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.NoPadding={pad:function(){},unpad:function(){}},tt.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.CipherParams,st=nt.enc,ot=st.Hex,ct=nt.format;ct.Hex={stringify:function(lt){return lt.ciphertext.toString(ot)},parse:function(lt){var ut=ot.parse(lt);return at.create({ciphertext:ut})}}}(),tt.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.BlockCipher,at=rt.algo,st=[],ot=[],ct=[],lt=[],ut=[],dt=[],mt=[],gt=[],bt=[],ht=[];(function(){for(var xt=[],At=0;At<256;At++)At<128?xt[At]=At<<1:xt[At]=At<<1^283;for(var kt=0,Ot=0,At=0;At<256;At++){var Wt=Ot^Ot<<1^Ot<<2^Ot<<3^Ot<<4;Wt=Wt>>>8^Wt&255^99,st[kt]=Wt,ot[Wt]=kt;var Ht=xt[kt],Zt=xt[Ht],Lt=xt[Zt],Et=xt[Wt]*257^Wt*16843008;ct[kt]=Et<<24|Et>>>8,lt[kt]=Et<<16|Et>>>16,ut[kt]=Et<<8|Et>>>24,dt[kt]=Et;var Et=Lt*16843009^Zt*65537^Ht*257^kt*16843008;mt[Wt]=Et<<24|Et>>>8,gt[Wt]=Et<<16|Et>>>16,bt[Wt]=Et<<8|Et>>>24,ht[Wt]=Et,kt?(kt=Ht^xt[xt[xt[Lt^Ht]]],Ot^=xt[xt[Ot]]):kt=Ot=1}})();var yt=[0,1,2,4,8,16,32,64,128,27,54],wt=at.AES=it.extend({_doReset:function(){if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var xt=this._keyPriorReset=this._key,At=xt.words,kt=xt.sigBytes/4,Ot=this._nRounds=kt+6,Wt=(Ot+1)*4,Ht=this._keySchedule=[],Zt=0;Zt<Wt;Zt++)if(Zt<kt)Ht[Zt]=At[Zt];else{var Lt=Ht[Zt-1];Zt%kt?kt>6&&Zt%kt==4&&(Lt=st[Lt>>>24]<<24|st[Lt>>>16&255]<<16|st[Lt>>>8&255]<<8|st[Lt&255]):(Lt=Lt<<8|Lt>>>24,Lt=st[Lt>>>24]<<24|st[Lt>>>16&255]<<16|st[Lt>>>8&255]<<8|st[Lt&255],Lt^=yt[Zt/kt|0]<<24),Ht[Zt]=Ht[Zt-kt]^Lt}for(var Et=this._invKeySchedule=[],It=0;It<Wt;It++){var Zt=Wt-It;if(It%4)var Lt=Ht[Zt];else var Lt=Ht[Zt-4];It<4||Zt<=4?Et[It]=Lt:Et[It]=mt[st[Lt>>>24]]^gt[st[Lt>>>16&255]]^bt[st[Lt>>>8&255]]^ht[st[Lt&255]]}}},encryptBlock:function(xt,At){this._doCryptBlock(xt,At,this._keySchedule,ct,lt,ut,dt,st)},decryptBlock:function(xt,At){var kt=xt[At+1];xt[At+1]=xt[At+3],xt[At+3]=kt,this._doCryptBlock(xt,At,this._invKeySchedule,mt,gt,bt,ht,ot);var kt=xt[At+1];xt[At+1]=xt[At+3],xt[At+3]=kt},_doCryptBlock:function(xt,At,kt,Ot,Wt,Ht,Zt,Lt){for(var Et=this._nRounds,It=xt[At]^kt[0],Ct=xt[At+1]^kt[1],vt=xt[At+2]^kt[2],Tt=xt[At+3]^kt[3],Mt=4,Nt=1;Nt<Et;Nt++){var $t=Ot[It>>>24]^Wt[Ct>>>16&255]^Ht[vt>>>8&255]^Zt[Tt&255]^kt[Mt++],St=Ot[Ct>>>24]^Wt[vt>>>16&255]^Ht[Tt>>>8&255]^Zt[It&255]^kt[Mt++],Dt=Ot[vt>>>24]^Wt[Tt>>>16&255]^Ht[It>>>8&255]^Zt[Ct&255]^kt[Mt++],Rt=Ot[Tt>>>24]^Wt[It>>>16&255]^Ht[Ct>>>8&255]^Zt[vt&255]^kt[Mt++];It=$t,Ct=St,vt=Dt,Tt=Rt}var $t=(Lt[It>>>24]<<24|Lt[Ct>>>16&255]<<16|Lt[vt>>>8&255]<<8|Lt[Tt&255])^kt[Mt++],St=(Lt[Ct>>>24]<<24|Lt[vt>>>16&255]<<16|Lt[Tt>>>8&255]<<8|Lt[It&255])^kt[Mt++],Dt=(Lt[vt>>>24]<<24|Lt[Tt>>>16&255]<<16|Lt[It>>>8&255]<<8|Lt[Ct&255])^kt[Mt++],Rt=(Lt[Tt>>>24]<<24|Lt[It>>>16&255]<<16|Lt[Ct>>>8&255]<<8|Lt[vt&255])^kt[Mt++];xt[At]=$t,xt[At+1]=St,xt[At+2]=Dt,xt[At+3]=Rt},keySize:256/32});rt.AES=it._createHelper(wt)}(),tt.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=nt.BlockCipher,st=rt.algo,ot=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],ct=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],lt=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],ut=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],dt=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],mt=st.DES=at.extend({_doReset:function(){for(var yt=this._key,wt=yt.words,xt=[],At=0;At<56;At++){var kt=ot[At]-1;xt[At]=wt[kt>>>5]>>>31-kt%32&1}for(var Ot=this._subKeys=[],Wt=0;Wt<16;Wt++){for(var Ht=Ot[Wt]=[],Zt=lt[Wt],At=0;At<24;At++)Ht[At/6|0]|=xt[(ct[At]-1+Zt)%28]<<31-At%6,Ht[4+(At/6|0)]|=xt[28+(ct[At+24]-1+Zt)%28]<<31-At%6;Ht[0]=Ht[0]<<1|Ht[0]>>>31;for(var At=1;At<7;At++)Ht[At]=Ht[At]>>>(At-1)*4+3;Ht[7]=Ht[7]<<5|Ht[7]>>>27}for(var Lt=this._invSubKeys=[],At=0;At<16;At++)Lt[At]=Ot[15-At]},encryptBlock:function(yt,wt){this._doCryptBlock(yt,wt,this._subKeys)},decryptBlock:function(yt,wt){this._doCryptBlock(yt,wt,this._invSubKeys)},_doCryptBlock:function(yt,wt,xt){this._lBlock=yt[wt],this._rBlock=yt[wt+1],gt.call(this,4,252645135),gt.call(this,16,65535),bt.call(this,2,858993459),bt.call(this,8,16711935),gt.call(this,1,1431655765);for(var At=0;At<16;At++){for(var kt=xt[At],Ot=this._lBlock,Wt=this._rBlock,Ht=0,Zt=0;Zt<8;Zt++)Ht|=ut[Zt][((Wt^kt[Zt])&dt[Zt])>>>0];this._lBlock=Wt,this._rBlock=Ot^Ht}var Lt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Lt,gt.call(this,1,1431655765),bt.call(this,8,16711935),bt.call(this,2,858993459),gt.call(this,16,65535),gt.call(this,4,252645135),yt[wt]=this._lBlock,yt[wt+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function gt(yt,wt){var xt=(this._lBlock>>>yt^this._rBlock)&wt;this._rBlock^=xt,this._lBlock^=xt<<yt}function bt(yt,wt){var xt=(this._rBlock>>>yt^this._lBlock)&wt;this._lBlock^=xt,this._rBlock^=xt<<yt}rt.DES=at._createHelper(mt);var ht=st.TripleDES=at.extend({_doReset:function(){var yt=this._key,wt=yt.words;this._des1=mt.createEncryptor(it.create(wt.slice(0,2))),this._des2=mt.createEncryptor(it.create(wt.slice(2,4))),this._des3=mt.createEncryptor(it.create(wt.slice(4,6)))},encryptBlock:function(yt,wt){this._des1.encryptBlock(yt,wt),this._des2.decryptBlock(yt,wt),this._des3.encryptBlock(yt,wt)},decryptBlock:function(yt,wt){this._des3.decryptBlock(yt,wt),this._des2.encryptBlock(yt,wt),this._des1.decryptBlock(yt,wt)},keySize:192/32,ivSize:64/32,blockSize:64/32});rt.TripleDES=at._createHelper(ht)}(),tt.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,st=at.RC4=it.extend({_doReset:function(){for(var lt=this._key,ut=lt.words,dt=lt.sigBytes,mt=this._S=[],gt=0;gt<256;gt++)mt[gt]=gt;for(var gt=0,bt=0;gt<256;gt++){var ht=gt%dt,yt=ut[ht>>>2]>>>24-ht%4*8&255;bt=(bt+mt[gt]+yt)%256;var wt=mt[gt];mt[gt]=mt[bt],mt[bt]=wt}this._i=this._j=0},_doProcessBlock:function(lt,ut){lt[ut]^=ot.call(this)},keySize:256/32,ivSize:0});function ot(){for(var lt=this._S,ut=this._i,dt=this._j,mt=0,gt=0;gt<4;gt++){ut=(ut+1)%256,dt=(dt+lt[ut])%256;var bt=lt[ut];lt[ut]=lt[dt],lt[dt]=bt,mt|=lt[(lt[ut]+lt[dt])%256]<<24-gt*8}return this._i=ut,this._j=dt,mt}rt.RC4=it._createHelper(st);var ct=at.RC4Drop=st.extend({cfg:st.cfg.extend({drop:192}),_doReset:function(){st._doReset.call(this);for(var lt=this.cfg.drop;lt>0;lt--)ot.call(this)}});rt.RC4Drop=it._createHelper(ct)}(),tt.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,st=[],ot=[],ct=[],lt=at.Rabbit=it.extend({_doReset:function(){for(var dt=this._key.words,mt=this.cfg.iv,gt=0;gt<4;gt++)dt[gt]=(dt[gt]<<8|dt[gt]>>>24)&16711935|(dt[gt]<<24|dt[gt]>>>8)&4278255360;var bt=this._X=[dt[0],dt[3]<<16|dt[2]>>>16,dt[1],dt[0]<<16|dt[3]>>>16,dt[2],dt[1]<<16|dt[0]>>>16,dt[3],dt[2]<<16|dt[1]>>>16],ht=this._C=[dt[2]<<16|dt[2]>>>16,dt[0]&4294901760|dt[1]&65535,dt[3]<<16|dt[3]>>>16,dt[1]&4294901760|dt[2]&65535,dt[0]<<16|dt[0]>>>16,dt[2]&4294901760|dt[3]&65535,dt[1]<<16|dt[1]>>>16,dt[3]&4294901760|dt[0]&65535];this._b=0;for(var gt=0;gt<4;gt++)ut.call(this);for(var gt=0;gt<8;gt++)ht[gt]^=bt[gt+4&7];if(mt){var yt=mt.words,wt=yt[0],xt=yt[1],At=(wt<<8|wt>>>24)&16711935|(wt<<24|wt>>>8)&4278255360,kt=(xt<<8|xt>>>24)&16711935|(xt<<24|xt>>>8)&4278255360,Ot=At>>>16|kt&4294901760,Wt=kt<<16|At&65535;ht[0]^=At,ht[1]^=Ot,ht[2]^=kt,ht[3]^=Wt,ht[4]^=At,ht[5]^=Ot,ht[6]^=kt,ht[7]^=Wt;for(var gt=0;gt<4;gt++)ut.call(this)}},_doProcessBlock:function(dt,mt){var gt=this._X;ut.call(this),st[0]=gt[0]^gt[5]>>>16^gt[3]<<16,st[1]=gt[2]^gt[7]>>>16^gt[5]<<16,st[2]=gt[4]^gt[1]>>>16^gt[7]<<16,st[3]=gt[6]^gt[3]>>>16^gt[1]<<16;for(var bt=0;bt<4;bt++)st[bt]=(st[bt]<<8|st[bt]>>>24)&16711935|(st[bt]<<24|st[bt]>>>8)&4278255360,dt[mt+bt]^=st[bt]},blockSize:128/32,ivSize:64/32});function ut(){for(var dt=this._X,mt=this._C,gt=0;gt<8;gt++)ot[gt]=mt[gt];mt[0]=mt[0]+1295307597+this._b|0,mt[1]=mt[1]+3545052371+(mt[0]>>>0<ot[0]>>>0?1:0)|0,mt[2]=mt[2]+886263092+(mt[1]>>>0<ot[1]>>>0?1:0)|0,mt[3]=mt[3]+1295307597+(mt[2]>>>0<ot[2]>>>0?1:0)|0,mt[4]=mt[4]+3545052371+(mt[3]>>>0<ot[3]>>>0?1:0)|0,mt[5]=mt[5]+886263092+(mt[4]>>>0<ot[4]>>>0?1:0)|0,mt[6]=mt[6]+1295307597+(mt[5]>>>0<ot[5]>>>0?1:0)|0,mt[7]=mt[7]+3545052371+(mt[6]>>>0<ot[6]>>>0?1:0)|0,this._b=mt[7]>>>0<ot[7]>>>0?1:0;for(var gt=0;gt<8;gt++){var bt=dt[gt]+mt[gt],ht=bt&65535,yt=bt>>>16,wt=((ht*ht>>>17)+ht*yt>>>15)+yt*yt,xt=((bt&4294901760)*bt|0)+((bt&65535)*bt|0);ct[gt]=wt^xt}dt[0]=ct[0]+(ct[7]<<16|ct[7]>>>16)+(ct[6]<<16|ct[6]>>>16)|0,dt[1]=ct[1]+(ct[0]<<8|ct[0]>>>24)+ct[7]|0,dt[2]=ct[2]+(ct[1]<<16|ct[1]>>>16)+(ct[0]<<16|ct[0]>>>16)|0,dt[3]=ct[3]+(ct[2]<<8|ct[2]>>>24)+ct[1]|0,dt[4]=ct[4]+(ct[3]<<16|ct[3]>>>16)+(ct[2]<<16|ct[2]>>>16)|0,dt[5]=ct[5]+(ct[4]<<8|ct[4]>>>24)+ct[3]|0,dt[6]=ct[6]+(ct[5]<<16|ct[5]>>>16)+(ct[4]<<16|ct[4]>>>16)|0,dt[7]=ct[7]+(ct[6]<<8|ct[6]>>>24)+ct[5]|0}rt.Rabbit=it._createHelper(lt)}(),tt.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,st=[],ot=[],ct=[],lt=at.RabbitLegacy=it.extend({_doReset:function(){var dt=this._key.words,mt=this.cfg.iv,gt=this._X=[dt[0],dt[3]<<16|dt[2]>>>16,dt[1],dt[0]<<16|dt[3]>>>16,dt[2],dt[1]<<16|dt[0]>>>16,dt[3],dt[2]<<16|dt[1]>>>16],bt=this._C=[dt[2]<<16|dt[2]>>>16,dt[0]&4294901760|dt[1]&65535,dt[3]<<16|dt[3]>>>16,dt[1]&4294901760|dt[2]&65535,dt[0]<<16|dt[0]>>>16,dt[2]&4294901760|dt[3]&65535,dt[1]<<16|dt[1]>>>16,dt[3]&4294901760|dt[0]&65535];this._b=0;for(var ht=0;ht<4;ht++)ut.call(this);for(var ht=0;ht<8;ht++)bt[ht]^=gt[ht+4&7];if(mt){var yt=mt.words,wt=yt[0],xt=yt[1],At=(wt<<8|wt>>>24)&16711935|(wt<<24|wt>>>8)&4278255360,kt=(xt<<8|xt>>>24)&16711935|(xt<<24|xt>>>8)&4278255360,Ot=At>>>16|kt&4294901760,Wt=kt<<16|At&65535;bt[0]^=At,bt[1]^=Ot,bt[2]^=kt,bt[3]^=Wt,bt[4]^=At,bt[5]^=Ot,bt[6]^=kt,bt[7]^=Wt;for(var ht=0;ht<4;ht++)ut.call(this)}},_doProcessBlock:function(dt,mt){var gt=this._X;ut.call(this),st[0]=gt[0]^gt[5]>>>16^gt[3]<<16,st[1]=gt[2]^gt[7]>>>16^gt[5]<<16,st[2]=gt[4]^gt[1]>>>16^gt[7]<<16,st[3]=gt[6]^gt[3]>>>16^gt[1]<<16;for(var bt=0;bt<4;bt++)st[bt]=(st[bt]<<8|st[bt]>>>24)&16711935|(st[bt]<<24|st[bt]>>>8)&4278255360,dt[mt+bt]^=st[bt]},blockSize:128/32,ivSize:64/32});function ut(){for(var dt=this._X,mt=this._C,gt=0;gt<8;gt++)ot[gt]=mt[gt];mt[0]=mt[0]+1295307597+this._b|0,mt[1]=mt[1]+3545052371+(mt[0]>>>0<ot[0]>>>0?1:0)|0,mt[2]=mt[2]+886263092+(mt[1]>>>0<ot[1]>>>0?1:0)|0,mt[3]=mt[3]+1295307597+(mt[2]>>>0<ot[2]>>>0?1:0)|0,mt[4]=mt[4]+3545052371+(mt[3]>>>0<ot[3]>>>0?1:0)|0,mt[5]=mt[5]+886263092+(mt[4]>>>0<ot[4]>>>0?1:0)|0,mt[6]=mt[6]+1295307597+(mt[5]>>>0<ot[5]>>>0?1:0)|0,mt[7]=mt[7]+3545052371+(mt[6]>>>0<ot[6]>>>0?1:0)|0,this._b=mt[7]>>>0<ot[7]>>>0?1:0;for(var gt=0;gt<8;gt++){var bt=dt[gt]+mt[gt],ht=bt&65535,yt=bt>>>16,wt=((ht*ht>>>17)+ht*yt>>>15)+yt*yt,xt=((bt&4294901760)*bt|0)+((bt&65535)*bt|0);ct[gt]=wt^xt}dt[0]=ct[0]+(ct[7]<<16|ct[7]>>>16)+(ct[6]<<16|ct[6]>>>16)|0,dt[1]=ct[1]+(ct[0]<<8|ct[0]>>>24)+ct[7]|0,dt[2]=ct[2]+(ct[1]<<16|ct[1]>>>16)+(ct[0]<<16|ct[0]>>>16)|0,dt[3]=ct[3]+(ct[2]<<8|ct[2]>>>24)+ct[1]|0,dt[4]=ct[4]+(ct[3]<<16|ct[3]>>>16)+(ct[2]<<16|ct[2]>>>16)|0,dt[5]=ct[5]+(ct[4]<<8|ct[4]>>>24)+ct[3]|0,dt[6]=ct[6]+(ct[5]<<16|ct[5]>>>16)+(ct[4]<<16|ct[4]>>>16)|0,dt[7]=ct[7]+(ct[6]<<8|ct[6]>>>24)+ct[5]|0}rt.RabbitLegacy=it._createHelper(lt)}(),tt.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}(function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireMd5(),requireSha1(),sha256$1.exports,requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy())})(commonjsGlobal,function(tt){return tt})})(cryptoJs);var __importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Base$1,"__esModule",{value:!0});Base$1.Base=void 0;const buffer_1$2=buffer$2,crypto_js_1=__importDefault$d(cryptoJs.exports);class Base{print(){Base.print(this)}_bufferIndexOf(_e,tt){for(let rt=0;rt<_e.length;rt++)if(tt.equals(_e[rt]))return rt;return-1}static bufferify(_e){if(!buffer_1$2.Buffer.isBuffer(_e)){if(typeof _e=="object"&&_e.words)return buffer_1$2.Buffer.from(_e.toString(crypto_js_1.default.enc.Hex),"hex");if(Base.isHexString(_e))return buffer_1$2.Buffer.from(_e.replace(/^0x/,""),"hex");if(typeof _e=="string")return buffer_1$2.Buffer.from(_e);if(typeof _e=="number"){let tt=_e.toString();return tt.length%2&&(tt=`0${tt}`),buffer_1$2.Buffer.from(tt,"hex")}else if(ArrayBuffer.isView(_e))return buffer_1$2.Buffer.from(_e.buffer,_e.byteOffset,_e.byteLength)}return _e}static isHexString(_e){return typeof _e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(_e)}static print(_e){console.log(_e.toString())}bufferToHex(_e,tt=!0){return Base.bufferToHex(_e,tt)}static bufferToHex(_e,tt=!0){return`${tt?"0x":""}${(_e||buffer_1$2.Buffer.alloc(0)).toString("hex")}`}bufferify(_e){return Base.bufferify(_e)}bufferifyFn(_e){return tt=>{const rt=_e(tt);return buffer_1$2.Buffer.isBuffer(rt)?rt:this._isHexString(rt)?buffer_1$2.Buffer.from(rt.replace("0x",""),"hex"):typeof rt=="string"?buffer_1$2.Buffer.from(rt):ArrayBuffer.isView(rt)?buffer_1$2.Buffer.from(rt.buffer,rt.byteOffset,rt.byteLength):buffer_1$2.Buffer.from(_e(crypto_js_1.default.enc.Hex.parse(tt.toString("hex"))).toString(crypto_js_1.default.enc.Hex),"hex")}}_isHexString(_e){return Base.isHexString(_e)}_log2(_e){return _e===1?0:1+this._log2(_e/2|0)}_zip(_e,tt){return _e.map((rt,nt)=>[rt,tt[nt]])}}Base$1.Base=Base;Base$1.default=Base;var __importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(MerkleTree$1,"__esModule",{value:!0});MerkleTree$1.MerkleTree=void 0;const buffer_1$1=buffer$2,buffer_reverse_1=__importDefault$c(bufferReverse),sha256_1$1=__importDefault$c(sha256$1.exports),treeify_1=__importDefault$c(treeify.exports),Base_1$1=__importDefault$c(Base$1);class MerkleTree extends Base_1$1.default{constructor(_e,tt=sha256_1$1.default,rt={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.isBitcoinTree=!!rt.isBitcoinTree,this.hashLeaves=!!rt.hashLeaves,this.sortLeaves=!!rt.sortLeaves,this.sortPairs=!!rt.sortPairs,rt.fillDefaultHash)if(typeof rt.fillDefaultHash=="function")this.fillDefaultHash=rt.fillDefaultHash;else if(buffer_1$1.Buffer.isBuffer(rt.fillDefaultHash)||typeof rt.fillDefaultHash=="string")this.fillDefaultHash=(nt,it)=>rt.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!rt.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!rt.duplicateOdd,this.hashFn=this.bufferifyFn(tt),this.processLeaves(_e)}processLeaves(_e){if(this.hashLeaves&&(_e=_e.map(this.hashFn)),this.leaves=_e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(buffer_1$1.Buffer.compare)),this.fillDefaultHash)for(let tt=0;tt<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));tt++)tt>=this.leaves.length&&this.leaves.push(this.bufferify(this.fillDefaultHash(tt,this.hashFn)));this.layers=[this.leaves],this._createHashes(this.leaves)}_createHashes(_e){for(;_e.length>1;){const tt=this.layers.length;this.layers.push([]);for(let rt=0;rt<_e.length;rt+=2){if(rt+1===_e.length&&_e.length%2===1){let ct=_e[_e.length-1],lt=ct;if(this.isBitcoinTree){ct=buffer_1$1.Buffer.concat([buffer_reverse_1.default(ct),buffer_reverse_1.default(ct)]),lt=this.hashFn(ct),lt=buffer_reverse_1.default(this.hashFn(lt)),this.layers[tt].push(lt);continue}else if(!this.duplicateOdd){this.layers[tt].push(_e[rt]);continue}}const nt=_e[rt],it=rt+1===_e.length?nt:_e[rt+1];let at=null,st=null;this.isBitcoinTree?st=[buffer_reverse_1.default(nt),buffer_reverse_1.default(it)]:st=[nt,it],this.sortPairs&&st.sort(buffer_1$1.Buffer.compare),at=buffer_1$1.Buffer.concat(st);let ot=this.hashFn(at);this.isBitcoinTree&&(ot=buffer_reverse_1.default(this.hashFn(ot))),this.layers[tt].push(ot)}_e=this.layers[tt]}}addLeaf(_e,tt=!1){tt&&(_e=this.hashFn(_e)),this.processLeaves(this.leaves.concat(_e))}addLeaves(_e,tt=!1){tt&&(_e=_e.map(this.hashFn)),this.processLeaves(this.leaves.concat(_e))}getLeaves(_e){return Array.isArray(_e)?(this.hashLeaves&&(_e=_e.map(this.hashFn),this.sortLeaves&&(_e=_e.sort(buffer_1$1.Buffer.compare))),this.leaves.filter(tt=>this._bufferIndexOf(_e,tt)!==-1)):this.leaves}getLeaf(_e){return _e<0||_e>this.leaves.length-1?buffer_1$1.Buffer.from([]):this.leaves[_e]}getLeafIndex(_e){_e=this.bufferify(_e);const tt=this.getLeaves();for(let rt=0;rt<tt.length;rt++)if(tt[rt].equals(_e))return rt;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(_e=>this.bufferToHex(_e))}static marshalLeaves(_e){return JSON.stringify(_e.map(tt=>MerkleTree.bufferToHex(tt)),null,2)}static unmarshalLeaves(_e){let tt=null;if(typeof _e=="string")tt=JSON.parse(_e);else if(_e instanceof Object)tt=_e;else throw new Error("Expected type of string or object");if(!tt)return[];if(!Array.isArray(tt))throw new Error("Expected JSON string to be array");return tt.map(MerkleTree.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((_e,tt)=>(Array.isArray(tt)?_e.push(tt.map(rt=>this.bufferToHex(rt))):_e.push(tt),_e),[])}getLayersFlat(){const _e=this.layers.reduce((tt,rt)=>(Array.isArray(rt)?tt.unshift(...rt):tt.unshift(rt),tt),[]);return _e.unshift(buffer_1$1.Buffer.from([0])),_e}getHexLayersFlat(){return this.getLayersFlat().map(_e=>this.bufferToHex(_e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?buffer_1$1.Buffer.from([]):this.layers[this.layers.length-1][0]||buffer_1$1.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(_e,tt){if(typeof _e>"u")throw new Error("leaf is required");_e=this.bufferify(_e);const rt=[];if(!Number.isInteger(tt)){tt=-1;for(let nt=0;nt<this.leaves.length;nt++)buffer_1$1.Buffer.compare(_e,this.leaves[nt])===0&&(tt=nt)}if(tt<=-1)return[];for(let nt=0;nt<this.layers.length;nt++){const it=this.layers[nt],at=tt%2,st=at?tt-1:this.isBitcoinTree&&tt===it.length-1&&nt<this.layers.length-1?tt:tt+1;st<it.length&&rt.push({position:at?"left":"right",data:it[st]}),tt=tt/2|0}return rt}getHexProof(_e,tt){return this.getProof(_e,tt).map(rt=>this.bufferToHex(rt.data))}getPositionalHexProof(_e,tt){return this.getProof(_e,tt).map(rt=>[rt.position==="left"?0:1,this.bufferToHex(rt.data)])}static marshalProof(_e){const tt=_e.map(rt=>typeof rt=="string"?rt:buffer_1$1.Buffer.isBuffer(rt)?MerkleTree.bufferToHex(rt):{position:rt.position,data:MerkleTree.bufferToHex(rt.data)});return JSON.stringify(tt,null,2)}static unmarshalProof(_e){let tt=null;if(typeof _e=="string")tt=JSON.parse(_e);else if(_e instanceof Object)tt=_e;else throw new Error("Expected type of string or object");if(!tt)return[];if(!Array.isArray(tt))throw new Error("Expected JSON string to be array");return tt.map(rt=>{if(typeof rt=="string")return MerkleTree.bufferify(rt);if(rt instanceof Object)return{position:rt.position,data:MerkleTree.bufferify(rt.data)};throw new Error("Expected item to be of type string or object")})}getProofIndices(_e,tt){const rt=Math.pow(2,tt);let nt=new Set;for(const ct of _e){let lt=rt+ct;for(;lt>1;)nt.add(lt^1),lt=lt/2|0}const it=_e.map(ct=>rt+ct),at=Array.from(nt).sort((ct,lt)=>ct-lt).reverse();nt=it.concat(at);const st=new Set,ot=[];for(let ct of nt)if(!st.has(ct))for(ot.push(ct);ct>1&&(st.add(ct),!!st.has(ct^1));)ct=ct/2|0;return ot.filter(ct=>!_e.includes(ct-rt))}getProofIndicesForUnevenTree(_e,tt){const rt=Math.ceil(Math.log2(tt)),nt=[];for(let st=0;st<rt;st++)tt%2!==0&&nt.push({index:st,leavesCount:tt}),tt=Math.ceil(tt/2);const it=[];let at=_e;for(let st=0;st<rt;st++){let ct=at.map(ut=>ut%2===0?ut+1:ut-1).filter(ut=>!at.includes(ut));const lt=nt.find(({index:ut})=>ut===st);lt&&at.includes(lt.leavesCount-1)&&(ct=ct.slice(0,-1)),it.push(ct),at=[...new Set(at.map(ut=>ut%2===0?ut/2:ut%2===0?(ut+1)/2:(ut-1)/2))]}return it}getMultiProof(_e,tt){if(tt||(tt=_e,_e=this.getLayersFlat()),this.isUnevenTree()&&tt.every(Number.isInteger))return this.getMultiProofForUnevenTree(tt);if(!tt.every(Number.isInteger)){let nt=tt;this.sortPairs&&(nt=nt.sort(buffer_1$1.Buffer.compare));let it=nt.map(ct=>this._bufferIndexOf(this.leaves,ct)).sort((ct,lt)=>ct===lt?0:ct>lt?1:-1);if(!it.every(ct=>ct!==-1))throw new Error("Element does not exist in Merkle tree");const at=[],st=[];let ot=[];for(let ct=0;ct<this.layers.length;ct++){const lt=this.layers[ct];for(let ut=0;ut<it.length;ut++){const dt=it[ut],mt=this._getPairNode(lt,dt);at.push(lt[dt]),mt&&st.push(mt),ot.push(dt/2|0)}it=ot.filter((ut,dt,mt)=>mt.indexOf(ut)===dt),ot=[]}return st.filter(ct=>!at.includes(ct))}return this.getProofIndices(tt,this._log2(_e.length/2|0)).map(nt=>_e[nt])}getMultiProofForUnevenTree(_e,tt){tt||(tt=_e,_e=this.getLayers());let rt=[],nt=tt;for(const it of _e){const at=[];for(const ot of nt){if(ot%2===0){const lt=ot+1;if(!nt.includes(lt)&&it[lt]){at.push(it[lt]);continue}}const ct=ot-1;if(!nt.includes(ct)&&it[ct]){at.push(it[ct]);continue}}rt=rt.concat(at);const st=new Set;for(const ot of nt){if(ot%2===0){st.add(ot/2);continue}if(ot%2===0){st.add((ot+1)/2);continue}st.add((ot-1)/2)}nt=Array.from(st)}return rt}getHexMultiProof(_e,tt){return this.getMultiProof(_e,tt).map(rt=>this.bufferToHex(rt))}getProofFlags(_e,tt){if(!Array.isArray(_e)||_e.length<=0)throw new Error("Invalid Inputs!");let rt;if(_e.every(Number.isInteger)?rt=_e.sort((st,ot)=>st===ot?0:st>ot?1:-1):rt=_e.map(st=>this._bufferIndexOf(this.leaves,st)).sort((st,ot)=>st===ot?0:st>ot?1:-1),!rt.every(st=>st!==-1))throw new Error("Element does not exist in Merkle tree");const nt=tt.map(st=>this.bufferify(st)),it=[],at=[];for(let st=0;st<this.layers.length;st++){const ot=this.layers[st];rt=rt.reduce((ct,lt)=>{if(!it.includes(ot[lt])){const dt=this._getPairNode(ot,lt),mt=nt.includes(ot[lt])||nt.includes(dt);dt&&at.push(!mt),it.push(ot[lt]),it.push(dt)}return ct.push(lt/2|0),ct},[])}return at}verify(_e,tt,rt){let nt=this.bufferify(tt);if(rt=this.bufferify(rt),!Array.isArray(_e)||!tt||!rt)return!1;for(let it=0;it<_e.length;it++){const at=_e[it];let st=null,ot=null;if(typeof at=="string")st=this.bufferify(at),ot=!0;else if(Array.isArray(at))ot=at[0]===0,st=this.bufferify(at[1]);else if(buffer_1$1.Buffer.isBuffer(at))st=at,ot=!0;else if(at instanceof Object)st=this.bufferify(at.data),ot=at.position==="left";else throw new Error("Expected node to be of type string or object");const ct=[];this.isBitcoinTree?(ct.push(buffer_reverse_1.default(nt)),ct[ot?"unshift":"push"](buffer_reverse_1.default(st)),nt=this.hashFn(buffer_1$1.Buffer.concat(ct)),nt=buffer_reverse_1.default(this.hashFn(nt))):this.sortPairs?buffer_1$1.Buffer.compare(nt,st)===-1?(ct.push(nt,st),nt=this.hashFn(buffer_1$1.Buffer.concat(ct))):(ct.push(st,nt),nt=this.hashFn(buffer_1$1.Buffer.concat(ct))):(ct.push(nt),ct[ot?"unshift":"push"](st),nt=this.hashFn(buffer_1$1.Buffer.concat(ct)))}return buffer_1$1.Buffer.compare(nt,rt)===0}verifyMultiProof(_e,tt,rt,nt,it){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(_e,tt,rt,nt,it);const st=Math.ceil(Math.log2(nt));_e=this.bufferify(_e),rt=rt.map(ut=>this.bufferify(ut)),it=it.map(ut=>this.bufferify(ut));const ot={};for(const[ut,dt]of this._zip(tt,rt))ot[Math.pow(2,st)+ut]=dt;for(const[ut,dt]of this._zip(this.getProofIndices(tt,st),it))ot[ut]=dt;let ct=Object.keys(ot).map(ut=>+ut).sort((ut,dt)=>ut-dt);ct=ct.slice(0,ct.length-1);let lt=0;for(;lt<ct.length;){const ut=ct[lt];if(ut>=2&&{}.hasOwnProperty.call(ot,ut^1)){let dt=[ot[ut-ut%2],ot[ut-ut%2+1]];this.sortPairs&&(dt=dt.sort(buffer_1$1.Buffer.compare));const mt=dt[1]?this.hashFn(buffer_1$1.Buffer.concat(dt)):dt[0];ot[ut/2|0]=mt,ct.push(ut/2|0)}lt+=1}return!tt.length||{}.hasOwnProperty.call(ot,1)&&ot[1].equals(_e)}verifyMultiProofWithFlags(_e,tt,rt,nt){_e=this.bufferify(_e),tt=tt.map(this.bufferify),rt=rt.map(this.bufferify);const it=tt.length,at=nt.length,st=[];let ot=0,ct=0,lt=0;for(let ut=0;ut<at;ut++){const dt=nt[ut]?ot<it?tt[ot++]:st[ct++]:rt[lt++],mt=ot<it?tt[ot++]:st[ct++],gt=[dt,mt].sort(buffer_1$1.Buffer.compare);st[ut]=this.hashFn(buffer_1$1.Buffer.concat(gt))}return buffer_1$1.Buffer.compare(st[at-1],_e)===0}verifyMultiProofForUnevenTree(_e,tt,rt,nt,it){_e=this.bufferify(_e),rt=rt.map(st=>this.bufferify(st)),it=it.map(st=>this.bufferify(st));const at=this.calculateRootForUnevenTree(tt,rt,nt,it);return _e.equals(at)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const _e=this.getLayers().map(rt=>rt.map(nt=>this.bufferToHex(nt,!1))),tt=[];for(let rt=0;rt<_e.length;rt++){const nt=[];for(let it=0;it<_e[rt].length;it++){const at={[_e[rt][it]]:null};if(tt.length){at[_e[rt][it]]={};const st=tt.shift(),ot=Object.keys(st)[0];if(at[_e[rt][it]][ot]=st[ot],tt.length){const ct=tt.shift(),lt=Object.keys(ct)[0];at[_e[rt][it]][lt]=ct[lt]}}nt.push(at)}tt.push(...nt)}return tt[0]}static verify(_e,tt,rt,nt=sha256_1$1.default,it={}){return new MerkleTree([],nt,it).verify(_e,tt,rt)}static getMultiProof(_e,tt){return new MerkleTree([]).getMultiProof(_e,tt)}resetTree(){this.leaves=[],this.layers=[]}_getPairNode(_e,tt){const rt=tt%2===0?tt+1:tt-1;return rt<_e.length?_e[rt]:null}_toTreeString(){const _e=this.getLayersAsObject();return treeify_1.default.asTree(_e,!0)}toString(){return this._toTreeString()}isUnevenTree(_e){const tt=(_e==null?void 0:_e.length)||this.getDepth();return!this.isPowOf2(tt)}isPowOf2(_e){return _e&&!(_e&_e-1)}calculateRootForUnevenTree(_e,tt,rt,nt){const it=this._zip(_e,tt).sort(([ut],[dt])=>ut-dt),at=it.map(([ut])=>ut),st=this.getProofIndicesForUnevenTree(at,rt);let ot=0;const ct=[];for(let ut=0;ut<st.length;ut++){const dt=st[ut],mt=ot;ot+=dt.length,ct[ut]=this._zip(dt,nt.slice(mt,ot))}const lt=[it];for(let ut=0;ut<ct.length;ut++){const dt=ct[ut].concat(lt[ut]).sort(([ht],[yt])=>ht-yt).map(([,ht])=>ht),mt=lt[ut].map(([ht])=>ht),gt=[...new Set(mt.map(ht=>ht%2===0?ht/2:ht%2===0?(ht+1)/2:(ht-1)/2))],bt=[];for(let ht=0;ht<gt.length;ht++){const yt=gt[ht],wt=dt[ht*2],xt=dt[ht*2+1],At=xt?this.hashFn(buffer_1$1.Buffer.concat([wt,xt])):wt;bt.push([yt,At])}lt.push(bt)}return lt[lt.length-1][0][1]}}MerkleTree$1.MerkleTree=MerkleTree;typeof window<"u"&&(window.MerkleTree=MerkleTree);MerkleTree$1.default=MerkleTree;var MerkleMountainRange$1={},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(MerkleMountainRange$1,"__esModule",{value:!0});MerkleMountainRange$1.MerkleMountainRange=void 0;const buffer_1=buffer$2,sha256_1=__importDefault$b(sha256$1.exports),Base_1=__importDefault$b(Base$1);class MerkleMountainRange extends Base_1.default{constructor(_e=sha256_1.default,tt=[],rt,nt,it){super(),this.root=buffer_1.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},tt=tt.map(this.bufferify),this.hashFn=this.bufferifyFn(_e),this.hashLeafFn=rt,this.peakBaggingFn=nt,this.hashBranchFn=it;for(const at of tt)this.append(at)}append(_e){_e=this.bufferify(_e);const tt=this.hashFn(_e),rt=this.bufferToHex(tt);(!this.data[rt]||this.bufferToHex(this.hashFn(this.data[rt]))!==rt)&&(this.data[rt]=_e);const nt=this.hashLeaf(this.size+1,tt);this.hashes[this.size+1]=nt,this.width+=1;const it=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const at=[];for(let st=0;st<it.length;st++)at[st]=this._getOrCreateNode(it[st]);this.root=this.peakBagging(this.width,at)}hashLeaf(_e,tt){return tt=this.bufferify(tt),this.hashLeafFn?this.bufferify(this.hashLeafFn(_e,tt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(_e),tt]))}hashBranch(_e,tt,rt){return this.hashBranchFn?this.bufferify(this.hashBranchFn(_e,tt,rt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(_e),this.bufferify(tt),this.bufferify(rt)]))}getPeaks(){const _e=this.getPeakIndexes(this.width),tt=[];for(let rt=0;rt<_e.length;rt++)tt[rt]=this.hashes[_e[rt]];return tt}getLeafIndex(_e){return _e%2===1?this.getSize(_e):this.getSize(_e-1)+1}getPeakIndexes(_e){const tt=this.numOfPeaks(_e),rt=[];let nt=0,it=0;for(let at=255;at>0&&!((_e&1<<at-1)!==0&&(it=it+(1<<at)-1,rt[nt++]=it,rt.length>=tt));at--);if(nt!==rt.length)throw new Error("invalid bit calculation");return rt}numOfPeaks(_e){let tt=_e,rt=0;for(;tt>0;)tt%2===1&&rt++,tt=tt>>1;return rt}peakBagging(_e,tt){const rt=this.getSize(_e);if(this.numOfPeaks(_e)!==tt.length)throw new Error("received invalid number of peaks");return _e===0&&!tt.length?buffer_1.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(rt,tt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(rt),...tt.map(this.bufferify)]))}getSize(_e){return(_e<<1)-this.numOfPeaks(_e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(_e){return this.hashes[_e]}mountainHeight(_e){let tt=1;for(;1<<tt<=_e+tt;)tt++;return tt-1}heightAt(_e){let tt=_e,rt=0,nt=0;for(;tt>rt;)tt-=(1<<nt)-1,nt=this.mountainHeight(tt),rt=(1<<nt)-1;return nt-(rt-tt)}isLeaf(_e){return this.heightAt(_e)===1}getChildren(_e){const tt=_e-(1<<this.heightAt(_e)-1),rt=_e-1;if(tt===rt)throw new Error("not a parent");return[tt,rt]}getMerkleProof(_e){if(_e>this.size)throw new Error("out of range");if(!this.isLeaf(_e))throw new Error("not a leaf");const tt=this.root,rt=this.width,nt=this.getPeakIndexes(this.width),it=[];let at=0;for(let ut=0;ut<nt.length;ut++)it[ut]=this.hashes[nt[ut]],nt[ut]>=_e&&at===0&&(at=nt[ut]);let st=0,ot=0,ct=this.heightAt(at);const lt=[];for(;at!==_e;)ct--,[st,ot]=this.getChildren(at),at=_e<=st?st:ot,lt[ct-1]=this.hashes[_e<=st?ot:st];return{root:tt,width:rt,peakBagging:it,siblings:lt}}verify(_e,tt,rt,nt,it,at){if(nt=this.bufferify(nt),this.getSize(tt)<rt)throw new Error("index is out of range");if(!_e.equals(this.peakBagging(tt,it)))throw new Error("invalid root hash from the peaks");let ot=0,ct;const lt=this.getPeakIndexes(tt);for(let ht=0;ht<lt.length;ht++)if(lt[ht]>=rt){ct=it[ht],ot=lt[ht];break}if(!ct)throw new Error("target not found");let ut=at.length+1;const dt=new Array(ut);let mt=0,gt=0;for(;ut>0&&(dt[--ut]=ot,ot!==rt);)[mt,gt]=this.getChildren(ot),ot=rt>mt?gt:mt;let bt;for(;ut<dt.length;)ot=dt[ut],ut===0?bt=this.hashLeaf(ot,this.hashFn(nt)):ot-1===dt[ut-1]?bt=this.hashBranch(ot,at[ut-1],bt):bt=this.hashBranch(ot,bt,at[ut-1]),ut++;if(!bt.equals(ct))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(_e,tt){const rt={};let nt=0,it=0,at=tt.length;for(let st=1;st<=32;st++)nt=32-st,it=1<<st-1,(_e&it)!==0?rt[nt]=tt[--at]:rt[nt]=0;if(at!==0)throw new Error("invalid number of peaks");return rt}peakMapToPeaks(_e,tt){const rt=this.numOfPeaks(_e),nt=new Array(rt);let it=0;for(let at=0;at<32;at++)tt[at]!==0&&(nt[it++]=tt[at]);if(it!==rt)throw new Error("invalid number of peaks");return nt}peakUpdate(_e,tt,rt){const nt={},it=_e+1;let at=this.getLeafIndex(it),st=this.hashLeaf(at,rt),ot=0,ct=0,lt=!1,ut=!1,dt=!1;for(let mt=1;mt<=32;mt++)ot=32-mt,dt?nt[ot]=tt[ot]:(ct=1<<mt-1,lt=(_e&ct)!==0,ut=(it&ct)!==0,at++,lt&&(st=this.hashBranch(at,tt[ot],st)),ut?(lt?nt[ot]=tt[ot]:nt[ot]=st,dt=!0):nt[ot]=0);return nt}rollUp(_e,tt,rt,nt){if(!_e.equals(this.peakBagging(tt,rt)))throw new Error("invalid root hash from the peaks");let it=tt,at=this.peaksToPeakMap(tt,rt);for(let st=0;st<nt.length;st++)at=this.peakUpdate(it,at,nt[st]),it++;return this.peakBagging(it,this.peakMapToPeaks(it,at))}_getOrCreateNode(_e){if(_e>this.size)throw new Error("out of range");if(!this.hashes[_e]){const[tt,rt]=this.getChildren(_e),nt=this._getOrCreateNode(tt),it=this._getOrCreateNode(rt);this.hashes[_e]=this.hashBranch(_e,nt,it)}return this.hashes[_e]}}MerkleMountainRange$1.MerkleMountainRange=MerkleMountainRange;MerkleMountainRange$1.default=MerkleMountainRange;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__importDefault||function(nt){return nt&&nt.__esModule?nt:{default:nt}};Object.defineProperty(et,"__esModule",{value:!0}),et.MerkleTree=void 0;const tt=_e(MerkleTree$1);et.MerkleTree=tt.default;var rt=MerkleMountainRange$1;Object.defineProperty(et,"MerkleMountainRange",{enumerable:!0,get:function(){return rt.MerkleMountainRange}}),et.default=tt.default})(dist$3);var fastDeepEqual=function et(_e,tt){if(_e===tt)return!0;if(_e&&tt&&typeof _e=="object"&&typeof tt=="object"){if(_e.constructor!==tt.constructor)return!1;var rt,nt,it;if(Array.isArray(_e)){if(rt=_e.length,rt!=tt.length)return!1;for(nt=rt;nt--!==0;)if(!et(_e[nt],tt[nt]))return!1;return!0}if(_e.constructor===RegExp)return _e.source===tt.source&&_e.flags===tt.flags;if(_e.valueOf!==Object.prototype.valueOf)return _e.valueOf()===tt.valueOf();if(_e.toString!==Object.prototype.toString)return _e.toString()===tt.toString();if(it=Object.keys(_e),rt=it.length,rt!==Object.keys(tt).length)return!1;for(nt=rt;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(tt,it[nt]))return!1;for(nt=rt;nt--!==0;){var at=it[nt];if(!et(_e[at],tt[at]))return!1}return!0}return _e!==_e&&tt!==tt};const ERC721MetadataAbi=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ERC1155MetadataAbi=[{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DeprecatedAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"}],name:"encryptedBaseURI",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],ContractPublisherAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"contract IContractPublisher",name:"_prevPublisher",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],indexed:!1,internalType:"struct IContractPublisher.CustomContractInstance",name:"publishedContract",type:"tuple"}],name:"ContractPublished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!0,internalType:"string",name:"contractId",type:"string"}],name:"ContractUnpublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"PublisherProfileUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"}],name:"getAllPublishedContracts",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContract",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance",name:"published",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContractVersions",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"compilerMetadataUri",type:"string"}],name:"getPublishedUriFromCompilerUri",outputs:[{internalType:"string[]",name:"publishedMetadataUris",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"}],name:"getPublisherProfileUri",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"prevPublisher",outputs:[{internalType:"contract IContractPublisher",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"},{internalType:"string",name:"_publishMetadataUri",type:"string"},{internalType:"string",name:"_compilerMetadataUri",type:"string"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"address",name:"_implementation",type:"address"}],name:"publishContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"setPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"setPublisherProfileUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"unpublishContract",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataUri",type:"string"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"}],name:"Deleted",type:"event"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgSender",outputs:[{internalType:"address",name:"sender",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"string",name:"metadataUri",type:"string"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"deploymentCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{components:[{internalType:"address",name:"deploymentAddress",type:"address"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"}],internalType:"struct ITWMultichainRegistry.Deployment[]",name:"allDeployments",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"address",name:"_deployment",type:"address"}],name:"getMetadataUri",outputs:[{internalType:"string",name:"metadataUri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryRouterABI=[{inputs:[{internalType:"address",name:"_pluginMap",type:"address"},{internalType:"address[]",name:"_trustedForwarders",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"_getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"registered",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"member",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRoleWithSwitch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pluginMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],TWFactoryAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"address",name:"_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!0,internalType:"bytes32",name:"contractType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"version",type:"uint256"}],name:"ImplementationAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"bool",name:"isApproved",type:"bool"}],name:"ImplementationApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"deployer",type:"address"}],name:"ProxyDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FACTORY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"}],name:"addImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"approval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"currentVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"deployProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyByImplementation",outputs:[{internalType:"address",name:"deployedProxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyDeterministic",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"uint256",name:"_version",type:"uint256"}],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"}],name:"getLatestImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract TWRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],TWRegistryABI$1=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Deleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];function _checkPrivateRedeclaration$2(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$2(et,_e,tt){_checkPrivateRedeclaration$2(et,_e),_e.set(et,tt)}function _classApplyDescriptorGet$2(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor$2(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet$2(et,_e){var tt=_classExtractFieldDescriptor$2(et,_e,"get");return _classApplyDescriptorGet$2(et,tt)}function _classApplyDescriptorSet$2(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet$2(et,_e,tt){var rt=_classExtractFieldDescriptor$2(et,_e,"set");return _classApplyDescriptorSet$2(et,rt,tt),tt}let ChainId$1;(function(et){et[et.Mainnet=1]="Mainnet",et[et.Goerli=5]="Goerli",et[et.Polygon=137]="Polygon",et[et.Mumbai=80001]="Mumbai",et[et.Localhost=1337]="Localhost",et[et.Hardhat=31337]="Hardhat",et[et.Fantom=250]="Fantom",et[et.FantomTestnet=4002]="FantomTestnet",et[et.Avalanche=43114]="Avalanche",et[et.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",et[et.Optimism=10]="Optimism",et[et.OptimismGoerli=420]="OptimismGoerli",et[et.Arbitrum=42161]="Arbitrum",et[et.ArbitrumGoerli=421613]="ArbitrumGoerli",et[et.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",et[et.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(ChainId$1||(ChainId$1={}));const SUPPORTED_CHAIN_IDS=[ChainId$1.Mainnet,ChainId$1.Goerli,ChainId$1.Polygon,ChainId$1.Mumbai,ChainId$1.Fantom,ChainId$1.FantomTestnet,ChainId$1.Avalanche,ChainId$1.AvalancheFujiTestnet,ChainId$1.Optimism,ChainId$1.OptimismGoerli,ChainId$1.Arbitrum,ChainId$1.ArbitrumGoerli,ChainId$1.BinanceSmartChainMainnet,ChainId$1.BinanceSmartChainTestnet,ChainId$1.Hardhat,ChainId$1.Localhost];let supportedChains$1=defaultChains$1;function setSupportedChains(et){et&&et.length>0?supportedChains$1=et:supportedChains$1=defaultChains$1}function getSupportedChains(){return supportedChains$1}const LOCAL_NODE_PKEY="0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80",OZ_DEFENDER_FORWARDER_ADDRESS="0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",TWRegistry_address="0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",TWFactory_address="0x5DBC7B840baa9daBcBe9D2492E45D7244B54A2A0",ContractPublisher_address="0x664244560eBa21Bf82d7150C791bE1AbcD5B4cd7",MultichainRegistry_address="0xcdAD8FA86e18538aC207872E8ff3536501431B73",CONTRACT_ADDRESSES={[ChainId$1.Mainnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x76ce2CB1Ae48Fa067f4fb8c5f803111AE0B24BEA",biconomyForwarder:"0x84a0856b038eaAd1cC7E297cF34A7e72685A8693",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.Goerli]:{openzeppelinForwarder:"0x5001A14CA6163143316a7C614e30e6041033Ac20",openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0xE041608922d06a4F26C0d4c27d8bCD01daf1f792",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0xB1Bd9d7942A250BA2Dce27DD601F2ED4211A60C4"},[ChainId$1.Polygon]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x308473Be900F4185A56587dE54bDFF5E8f7a6AE7"},[ChainId$1.Mumbai]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x9399BB24DBB5C4b782C70c2969F58716Ebbd6a3b",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3F17972CB27506eb4a6a3D59659e0B57a43fd16C"},[ChainId$1.Avalanche]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.AvalancheFujiTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0x6271Ca63D30507f2Dcbf99B52787032506D75BBF",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId$1.Fantom]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:"0x97EA0Fcc552D5A8Fb5e9101316AAd0D62Ea0876B",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.FantomTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x42D3048b595B6e1c28a588d70366CcC2AA4dB47b",biconomyForwarder:"0x69FB8Dca8067A5D38703b9e8b39cf2D51473E4b4",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId$1.Arbitrum]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0xfe0fa3C06d03bDC7fb49c892BbB39113B534fB57",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.ArbitrumGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.Optimism]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0xefba8a2a82ec1fb1273806174f5e28fbb917cf95",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.OptimismGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.BinanceSmartChainMainnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0xE8dd2Ff0212F86d3197b4AfDC6dAC6ac47eb10aC",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[ChainId$1.BinanceSmartChainTestnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0x61456BF1715C1415730076BB79ae118E806E74d2",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[ChainId$1.Hardhat]:{openzeppelinForwarder:AddressZero,openzeppelinForwarderEOA:AddressZero,biconomyForwarder:AddressZero,twFactory:AddressZero,twRegistry:AddressZero,twBYOCRegistry:AddressZero},[ChainId$1.Localhost]:{openzeppelinForwarder:AddressZero,openzeppelinForwarderEOA:AddressZero,biconomyForwarder:AddressZero,twFactory:AddressZero,twRegistry:AddressZero,twBYOCRegistry:AddressZero}},APPROVED_IMPLEMENTATIONS={[ChainId$1.Mainnet]:{"nft-drop":"0x60fF9952e0084A6DEac44203838cDC91ABeC8736","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","signature-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A"},[ChainId$1.Polygon]:{"nft-drop":"0xB96508050Ba0925256184103560EBADA912Fcc69","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","signature-drop":"0xBE2fDc35410E268e41Bec62DBb01AEb43245c7d5"},[ChainId$1.Fantom]:{"nft-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","edition-drop":"0x06395FCF9AC6ED827f9dD6e776809cEF1Be0d21B","token-drop":"0x0148b28a38efaaC31b6aa0a6D9FEb70FE7C91FFa","signature-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10"},[ChainId$1.Avalanche]:{"nft-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","edition-drop":"0x135fC9D26E5eC51260ece1DF4ED424E2f55c7766","token-drop":"0xca0B071899E575BA86495D46c5066971b6f3A901","signature-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3"},[ChainId$1.Optimism]:{"nft-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","edition-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","token-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","signature-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD"},[ChainId$1.Arbitrum]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId$1.BinanceSmartChainMainnet]:{"nft-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","edition-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","token-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","signature-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1"},[ChainId$1.Goerli]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","token-drop":"0x5680933221B752EB443654a014f88B101F868d50","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId$1.Mumbai]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId$1.FantomTestnet]:{"nft-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD","edition-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","token-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","signature-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf"},[ChainId$1.AvalancheFujiTestnet]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","token-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","signature-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F"},[ChainId$1.OptimismGoerli]:{"nft-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","edition-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","token-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId$1.ArbitrumGoerli]:{"nft-drop":"0x9CfE807a5b124b962064Fa8F7FD823Cc701255b6","edition-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","token-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3","signature-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728"},[ChainId$1.BinanceSmartChainTestnet]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""},[ChainId$1.Hardhat]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""},[ChainId$1.Localhost]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""}};function getApprovedImplementation(et,_e){if(et in APPROVED_IMPLEMENTATIONS){const tt=APPROVED_IMPLEMENTATIONS[et];if(_e in tt)return tt[_e]}return null}function getContractAddressByChainId(et,_e){var tt;return et===ChainId$1.Hardhat||et===ChainId$1.Localhost?_e==="twFactory"?{}.factoryAddress:_e==="twRegistry"?{}.registryAddress:AddressZero:(tt=CONTRACT_ADDRESSES[et])==null?void 0:tt[_e]}function getContractPublisherAddress(){return{}.contractPublisherAddress?{}.contractPublisherAddress:ContractPublisher_address}function getMultichainRegistryAddress(){return{}.multiChainRegistryAddress?{}.multiChainRegistryAddress:MultichainRegistry_address}function getDefaultTrustedForwarders(et){const _e=SUPPORTED_CHAIN_IDS.find(nt=>nt===et),tt=_e?CONTRACT_ADDRESSES[_e].biconomyForwarder:AddressZero,rt=_e?CONTRACT_ADDRESSES[_e].openzeppelinForwarder:AddressZero;return tt!==AddressZero?[rt,tt]:[rt]}const InterfaceId_IERC721=arrayify("0x80ac58cd"),InterfaceId_IERC1155=arrayify("0xd9b67a26"),NATIVE_TOKEN_ADDRESS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",NATIVE_TOKENS={[ChainId$1.Mainnet]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Goerli]:{name:"G\xF6rli Ether",symbol:"GOR",decimals:18,wrapped:{address:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Polygon]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId$1.Mumbai]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId$1.Avalanche]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId$1.AvalancheFujiTestnet]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId$1.Fantom]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId$1.FantomTestnet]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0xf1277d1Ed8AD466beddF92ef448A132661956621",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId$1.Arbitrum]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.ArbitrumGoerli]:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18,wrapped:{address:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Optimism]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.OptimismGoerli]:{name:"Goerli Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.BinanceSmartChainMainnet]:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18,wrapped:{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",name:"Wrapped Binance Chain Token",symbol:"WBNB"}},[ChainId$1.BinanceSmartChainTestnet]:{name:"Binance Chain Native Token",symbol:"TBNB",decimals:18,wrapped:{address:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd",name:"Wrapped Binance Chain Testnet Token",symbol:"WBNB"}},[ChainId$1.Hardhat]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Localhost]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}}};function getNativeTokenByChainId(et){const _e=getSupportedChains().find(tt=>tt.chainId===et);return _e&&_e.nativeCurrency?{name:_e.nativeCurrency.name,symbol:_e.nativeCurrency.symbol,decimals:18,wrapped:{address:AddressZero,name:`Wrapped ${_e.nativeCurrency.name}`,symbol:`W${_e.nativeCurrency.symbol}`}}:NATIVE_TOKENS[et]||{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:AddressZero,name:"Wrapped Ether",symbol:"WETH"}}}const LINK_TOKEN_ADDRESS={[ChainId$1.Mainnet]:"0x514910771AF9Ca656af840dff83E8264EcF986CA",[ChainId$1.Goerli]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId$1.BinanceSmartChainMainnet]:"0x404460C6A5EdE2D891e8297795264fDe62ADBB75",[ChainId$1.Polygon]:"0xb0897686c545045aFc77CF20eC7A532E3120E0F1",[ChainId$1.Mumbai]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId$1.Avalanche]:"0x5947BB275c521040051D82396192181b413227A3",[ChainId$1.AvalancheFujiTestnet]:"0x0b9d5D9136855f6FEc3c0993feE6E9CE8a297846",[ChainId$1.Fantom]:"0x6F43FF82CCA38001B6699a8AC47A2d0E66939407",[ChainId$1.FantomTestnet]:"0xfaFedb041c0DD4fA2Dc0d87a6B0979Ee6FA7af5F"};let EventType;(function(et){et.Transaction="transaction",et.Signature="signature"})(EventType||(EventType={}));const DEFAULT_BATCH_TIME_LIMIT_MS=50,DEFAULT_BATCH_SIZE_LIMIT=250,DEFAULT_BATCH_OPTIONS={timeLimitMs:DEFAULT_BATCH_TIME_LIMIT_MS,sizeLimit:DEFAULT_BATCH_SIZE_LIMIT};class StaticJsonRpcBatchProvider extends StaticJsonRpcProvider{constructor(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DEFAULT_BATCH_OPTIONS;super(_e,tt),_defineProperty$3(this,"_timeLimitMs",void 0),_defineProperty$3(this,"_sizeLimit",void 0),_defineProperty$3(this,"_pendingBatchAggregator",void 0),_defineProperty$3(this,"_pendingBatch",void 0),this._timeLimitMs=rt.timeLimitMs||DEFAULT_BATCH_SIZE_LIMIT,this._sizeLimit=rt.sizeLimit||DEFAULT_BATCH_TIME_LIMIT_MS,this._pendingBatchAggregator=null,this._pendingBatch=null}sendCurrentBatch(_e){this._pendingBatchAggregator&&clearTimeout(this._pendingBatchAggregator);const tt=this._pendingBatch||[];this._pendingBatch=null,this._pendingBatchAggregator=null;const rt=tt.map(nt=>nt.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(_e),provider:this}),fetchJson(this.connection,JSON.stringify(rt)).then(nt=>{this.emit("debug",{action:"response",request:rt,response:nt,provider:this}),tt.forEach((it,at)=>{const st=nt[at];if(st)if(st.error){const ot=new Error(st.error.message);ot.code=st.error.code,ot.data=st.error.data,it.reject(ot)}else it.resolve(st.result);else it.reject(new Error("No response for request"))})},nt=>{this.emit("debug",{action:"response",error:nt,request:rt,provider:this}),tt.forEach(it=>{it.reject(nt)})})}send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch===null&&(this._pendingBatch=[]);const nt={request:rt,resolve:null,reject:null},it=new Promise((at,st)=>{nt.resolve=at,nt.reject=st});return this._pendingBatch.length===this._sizeLimit&&this.sendCurrentBatch(rt),this._pendingBatch.push(nt),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{this.sendCurrentBatch(rt)},this._timeLimitMs)),it}}const BigNumberSchema=z$6.union([z$6.string(),z$6.number(),z$6.bigint(),z$6.custom(et=>BigNumber.isBigNumber(et))]).transform(et=>BigNumber.from(et)),BigNumberishSchema=BigNumberSchema.transform(et=>et.toString()),BigNumberTransformSchema=z$6.union([z$6.bigint(),z$6.custom(et=>BigNumber.isBigNumber(et))]).transform(et=>BigNumber.from(et).toString()),AddressSchema=z$6.string().refine(et=>isAddress(et),et=>({message:`${et} is not a valid address`})),RawDateSchema$1=z$6.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3))),StartDateSchema=RawDateSchema$1.default(new Date(0)),EndDateSchema=RawDateSchema$1.default(new Date(Date.now()+1e3*60*60*24*365*10)),CallOverrideSchema=z$6.object({gasLimit:BigNumberishSchema.optional(),gasPrice:BigNumberishSchema.optional(),maxFeePerGas:BigNumberishSchema.optional(),maxPriorityFeePerGas:BigNumberishSchema.optional(),nonce:BigNumberishSchema.optional(),value:BigNumberishSchema.optional(),blockTag:z$6.union([z$6.string(),z$6.number()]).optional(),from:AddressSchema.optional(),type:z$6.number().optional()}).strict(),ChainInfoInputSchema=z$6.object({rpc:z$6.array(z$6.string().url()),chainId:z$6.number(),nativeCurrency:z$6.object({name:z$6.string(),symbol:z$6.string(),decimals:z$6.number()}),slug:z$6.string()}),SDKOptionsSchema=z$6.object({supportedChains:z$6.array(ChainInfoInputSchema).default(defaultChains$1),thirdwebApiKey:z$6.string().optional().default(DEFAULT_API_KEY$3),alchemyApiKey:z$6.string().optional().optional(),infuraApiKey:z$6.string().optional().optional(),readonlySettings:z$6.object({rpcUrl:z$6.string().url(),chainId:z$6.number().optional()}).optional(),gasSettings:z$6.object({maxPriceInGwei:z$6.number().min(1,"gas price cannot be less than 1").default(300),speed:z$6.enum(["standard","fast","fastest"]).default("fastest")}).default({maxPriceInGwei:300,speed:"fastest"}),gasless:z$6.union([z$6.object({openzeppelin:z$6.object({relayerUrl:z$6.string().url(),relayerForwarderAddress:z$6.string().optional(),useEOAForwarder:z$6.boolean().default(!1)}),experimentalChainlessSupport:z$6.boolean().default(!1)}),z$6.object({biconomy:z$6.object({apiId:z$6.string(),apiKey:z$6.string(),deadlineSeconds:z$6.number().min(1,"deadlineSeconds cannot be les than 1").default(3600)})})]).optional(),gatewayUrls:z$6.array(z$6.string()).optional()}).default({gasSettings:{maxPriceInGwei:300,speed:"fastest"}}),CurrencySchema=z$6.object({name:z$6.string(),symbol:z$6.string(),decimals:z$6.number()}),CurrencyValueSchema=CurrencySchema.extend({value:BigNumberSchema,displayValue:z$6.string()}),MerkleSchema=z$6.object({merkle:z$6.record(z$6.string()).default({})}),SnapshotEntryInput=z$6.object({address:AddressSchema,maxClaimable:QuantitySchema.default(0),price:QuantitySchema.optional(),currencyAddress:AddressSchema.default(AddressZero).optional()}),SnapshotInputSchema=z$6.union([z$6.array(z$6.string()).transform(et=>et.map(_e=>SnapshotEntryInput.parse({address:_e}))),z$6.array(SnapshotEntryInput)]),SnapshotEntryWithProofSchema=SnapshotEntryInput.extend({proof:z$6.array(z$6.string())}),SnapshotSchema=z$6.object({merkleRoot:z$6.string(),claims:z$6.array(SnapshotEntryWithProofSchema)});z$6.object({merkleRoot:z$6.string(),snapshotUri:z$6.string()});const ClaimConditionMetadataSchema=z$6.object({name:z$6.string().optional()}).catchall(z$6.unknown()),ClaimConditionInputSchema=z$6.object({startTime:StartDateSchema,currencyAddress:z$6.string().default(NATIVE_TOKEN_ADDRESS),price:AmountSchema.default(0),maxClaimableSupply:QuantitySchema,maxClaimablePerWallet:QuantitySchema,waitInSeconds:BigNumberishSchema.default(0),merkleRootHash:BytesLikeSchema.default(hexZeroPad([0],32)),snapshot:z$6.optional(SnapshotInputSchema).nullable(),metadata:ClaimConditionMetadataSchema.optional()}),ClaimConditionInputArray=z$6.array(ClaimConditionInputSchema);ClaimConditionInputSchema.partial();const ClaimConditionOutputSchema=ClaimConditionInputSchema.extend({availableSupply:QuantitySchema,currentMintSupply:QuantitySchema,currencyMetadata:CurrencyValueSchema.default({value:BigNumber.from("0"),displayValue:"0",symbol:"",decimals:18,name:""}),price:BigNumberSchema,waitInSeconds:BigNumberSchema,startTime:BigNumberSchema.transform(et=>new Date(et.toNumber()*1e3)),snapshot:SnapshotInputSchema.optional().nullable()});function resolveOrGenerateId(et){if(et===void 0){const _e=Buffer.alloc(16);return v4({},_e),hexlify(toUtf8Bytes(_e.toString("hex")))}else return hexlify(et)}const BaseSignaturePayloadInput=z$6.object({to:z$6.string().refine(et=>et.toLowerCase()!==AddressZero,{message:"Cannot create payload to mint to zero address"}),price:AmountSchema.default(0),currencyAddress:z$6.string().default(NATIVE_TOKEN_ADDRESS),mintStartTime:StartDateSchema,mintEndTime:EndDateSchema,uid:z$6.string().optional().transform(et=>resolveOrGenerateId(et)),primarySaleRecipient:z$6.string().default(AddressZero)}),Signature20PayloadInput=BaseSignaturePayloadInput.extend({quantity:AmountSchema}),Signature20PayloadOutput=Signature20PayloadInput.extend({mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature721PayloadInput=BaseSignaturePayloadInput.extend({metadata:NFTInputOrUriSchema,royaltyRecipient:z$6.string().default(AddressZero),royaltyBps:BasisPointsSchema.default(0)}),Signature721PayloadOutput=Signature721PayloadInput.extend({uri:z$6.string(),royaltyBps:BigNumberSchema,mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature1155PayloadInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberishSchema}),Signature1155PayloadInputWithTokenId=Signature1155PayloadInput.extend({tokenId:BigNumberishSchema}),Signature1155PayloadOutput=Signature721PayloadOutput.extend({tokenId:BigNumberSchema,quantity:BigNumberSchema}),Signature721WithQuantityInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberSchema.default(1)}),Signature721WithQuantityOutput=Signature721PayloadOutput.extend({quantity:BigNumberSchema.default(1)}),MintRequest20=[{name:"to",type:"address"},{name:"primarySaleRecipient",type:"address"},{name:"quantity",type:"uint256"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest1155=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721withQuantity=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],GenericRequest=[{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"},{name:"data",type:"bytes"}],CommonContractSchema=z$6.object({name:z$6.string(),description:z$6.string().optional(),image:FileOrBufferOrStringSchema.optional(),external_link:z$6.string().optional(),app_uri:z$6.string().optional()}),CommonContractOutputSchema=CommonContractSchema.extend({image:z$6.string().optional()}).catchall(z$6.unknown()),CommonRoyaltySchema=z$6.object({seller_fee_basis_points:BasisPointsSchema.default(0),fee_recipient:AddressSchema.default(AddressZero)}),CommonPrimarySaleSchema=z$6.object({primary_sale_recipient:AddressSchema}),CommonPlatformFeeSchema=z$6.object({platform_fee_basis_points:BasisPointsSchema.default(0),platform_fee_recipient:AddressSchema.default(AddressZero)}),CommonTrustedForwarderSchema=z$6.object({trusted_forwarders:z$6.array(AddressSchema).default([])}),CommonSymbolSchema=z$6.object({symbol:z$6.string().optional().default("")}),DropErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractDeploy=DropErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc721ContractSchema={deploy:DropErc721ContractDeploy,output:DropErc721ContractOutput,input:DropErc721ContractInput},DropErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractDeploy=DropErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc1155ContractSchema={deploy:DropErc1155ContractDeploy,output:DropErc1155ContractOutput,input:DropErc1155ContractInput},MarketplaceContractInput=CommonContractSchema,MarketplaceContractOutput=CommonContractOutputSchema,MarketplaceContractDeploy=MarketplaceContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),MarketplaceContractSchema={deploy:MarketplaceContractDeploy,output:MarketplaceContractOutput,input:MarketplaceContractInput},PackContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractDeploy=PackContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),PackContractSchema={deploy:PackContractDeploy,output:PackContractOutput,input:PackContractInput},SplitRecipientInputSchema=z$6.object({address:AddressSchema,sharesBps:BasisPointsSchema.gt(0,"Shares must be greater than 0")}),SplitRecipientOuputSchema=SplitRecipientInputSchema.extend({address:AddressSchema,sharesBps:BasisPointsSchema}),SplitsContractInput=CommonContractSchema.extend({recipients:z$6.array(SplitRecipientInputSchema).default([]).superRefine((et,_e)=>{const tt={};let rt=0;for(let nt=0;nt<et.length;nt++){const it=et[nt];tt[it.address]&&_e.addIssue({code:z$6.ZodIssueCode.custom,message:"Duplicate address.",path:[nt,"address"]}),tt[it.address]=!0,rt+=it.sharesBps,rt>1e4&&_e.addIssue({code:z$6.ZodIssueCode.custom,message:"Total shares cannot go over 100%.",path:[nt,"sharesBps"]})}rt!==1e4&&_e.addIssue({code:z$6.ZodIssueCode.custom,message:`Total shares need to add up to 100%. Total shares are currently ${rt/100}%`,path:[]})})}),SplitsContractOutput=CommonContractOutputSchema.extend({recipients:z$6.array(SplitRecipientOuputSchema)}),SplitsContractDeploy=SplitsContractInput.merge(SplitsContractInput).merge(CommonTrustedForwarderSchema),SplitsContractSchema={deploy:SplitsContractDeploy,output:SplitsContractOutput,input:SplitsContractInput},TokenErc20ContractInput=CommonContractSchema.merge(CommonSymbolSchema),TokenErc20ContractOutput=CommonContractOutputSchema.merge(CommonSymbolSchema),TokenErc20ContractDeploy=TokenErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc20ContractSchema={deploy:TokenErc20ContractDeploy,output:TokenErc20ContractOutput,input:TokenErc20ContractInput},TokenErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractDeploy=TokenErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc721ContractSchema={deploy:TokenErc721ContractDeploy,output:TokenErc721ContractOutput,input:TokenErc721ContractInput},TokenErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractDeploy=TokenErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc1155ContractSchema={deploy:TokenErc1155ContractDeploy,output:TokenErc1155ContractOutput,input:TokenErc1155ContractInput},VoteSettingsInputSchema=z$6.object({voting_delay_in_blocks:z$6.number().min(0).default(0),voting_period_in_blocks:z$6.number().min(1).default(1),voting_token_address:AddressSchema,voting_quorum_fraction:PercentSchema.default(0),proposal_token_threshold:BigNumberishSchema.default(1)}),VoteSettingsOuputSchema=VoteSettingsInputSchema.extend({proposal_token_threshold:BigNumberSchema}),VoteContractInput=CommonContractSchema.merge(VoteSettingsInputSchema),VoteContractOutput=CommonContractOutputSchema.merge(VoteSettingsOuputSchema),VoteContractDeploy=VoteContractInput.merge(CommonTrustedForwarderSchema),VoteContractSchema={deploy:VoteContractDeploy,output:VoteContractOutput,input:VoteContractInput};z$6.object({proposalId:BigNumberSchema,proposer:z$6.string(),targets:z$6.array(z$6.string()),values:z$6.array(BigNumberSchema),signatures:z$6.array(z$6.string()),calldatas:z$6.array(z$6.string()),startBlock:BigNumberSchema,endBlock:BigNumberSchema,description:z$6.string()});const PropertiesInput=z$6.object({}).catchall(z$6.union([BigNumberTransformSchema,z$6.unknown()]));z$6.union([z$6.array(PropertiesInput),PropertiesInput]).optional();const EditionMetadataOutputSchema=z$6.object({supply:BigNumberSchema,metadata:CommonNFTOutput});EditionMetadataOutputSchema.extend({owner:z$6.string(),quantityOwned:BigNumberSchema});z$6.object({supply:BigNumberishSchema,metadata:CommonNFTInput});z$6.object({supply:BigNumberishSchema,metadata:NFTInputOrUriSchema});z$6.object({toAddress:AddressSchema,amount:AmountSchema});const CHAIN_NAME_TO_ID={"avalanche-fuji":ChainId$1.AvalancheFujiTestnet,"avalanche-testnet":ChainId$1.AvalancheFujiTestnet,"fantom-testnet":ChainId$1.FantomTestnet,ethereum:ChainId$1.Mainnet,matic:ChainId$1.Polygon,mumbai:ChainId$1.Mumbai,goerli:ChainId$1.Goerli,polygon:ChainId$1.Polygon,mainnet:ChainId$1.Mainnet,optimism:ChainId$1.Optimism,"optimism-goerli":ChainId$1.OptimismGoerli,arbitrum:ChainId$1.Arbitrum,"arbitrum-goerli":ChainId$1.ArbitrumGoerli,fantom:ChainId$1.Fantom,avalanche:ChainId$1.Avalanche,binance:ChainId$1.BinanceSmartChainMainnet,"binance-testnet":ChainId$1.BinanceSmartChainTestnet,hardhat:ChainId$1.Hardhat,localhost:ChainId$1.Localhost};Object.fromEntries(Object.entries(CHAIN_NAME_TO_ID).map(et=>{let[_e,tt]=et;return[tt,_e]}));function buildDefaultMap(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return SDKOptionsSchema.parse(et).supportedChains.reduce((tt,rt)=>(tt[rt.chainId]=rt,tt),{})}function getChainProvider(et,_e){if(typeof et=="string"&&isRpcUrl(et))return getProviderFromRpcUrl(et);const tt=SDKOptionsSchema.parse(_e);isChainConfig(et)&&(tt.supportedChains=[et,...tt.supportedChains]);const rt=buildDefaultMap(tt);let nt="",it;try{it=getChainIdFromNetwork(et,tt),nt=getChainRPC(rt[it],{thirdwebApiKey:tt.thirdwebApiKey||DEFAULT_API_KEY$3,infuraApiKey:tt.infuraApiKey,alchemyApiKey:tt.alchemyApiKey})}catch{}if(nt||(nt=`https://${it||et}.rpc.thirdweb.com/${tt.thirdwebApiKey||DEFAULT_API_KEY$3}`),!nt)throw new Error(`No rpc url found for chain ${et}. Please provide a valid rpc url via the 'supportedChains' property of the sdk options.`);return getProviderFromRpcUrl(nt,it)}function getChainIdFromNetwork(et,_e){if(isChainConfig(et))return et.chainId;if(typeof et=="number")return et;{const tt=_e.supportedChains.reduce((rt,nt)=>(rt[nt.slug]=nt.chainId,rt),{});if(et in tt)return tt[et]}throw new Error(`Cannot resolve chainId from: ${et} - please pass the chainId instead and specify it in the 'supportedChains' property of the SDK options.`)}function isChainConfig(et){return typeof et!="string"&&typeof et!="number"&&!Signer.isSigner(et)&&!Provider$1.isProvider(et)}function isRpcUrl(et){const _e=et.match(/^(ws|http)s?:/i);if(_e)switch(_e[1].toLowerCase()){case"http":case"https":case"ws":case"wss":return!0}return!1}const RPC_PROVIDER_MAP=new Map;function getProviderFromRpcUrl(et,_e){try{const tt=et.match(/^(ws|http)s?:/i);if(tt)switch(tt[1].toLowerCase()){case"http":case"https":const rt=`${et}-${_e||-1}`,nt=RPC_PROVIDER_MAP.get(rt);if(nt)return nt;const it=_e?new StaticJsonRpcBatchProvider(et,_e):new JsonRpcBatchProvider(et);return RPC_PROVIDER_MAP.set(rt,it),it;case"ws":case"wss":return new WebSocketProvider(et,_e)}}catch{}return getDefaultProvider(et)}class NotFoundError extends Error{constructor(_e){super(_e?`Object with id ${_e} NOT FOUND`:"NOT_FOUND")}}class MissingRoleError extends Error{constructor(_e,tt){super(`MISSING ROLE: ${_e} does not have the '${tt}' role`)}}class DuplicateLeafsError extends Error{constructor(_e){super(`DUPLICATE_LEAFS${_e?` : ${_e}`:""}`)}}class AuctionAlreadyStartedError extends Error{constructor(_e){super(`Auction already started with existing bid${_e?`, id: ${_e}`:""}`)}}class ListingNotFoundError extends Error{constructor(_e,tt){super(`Could not find listing.${_e?` marketplace address: ${_e}`:""}${tt?` listing id: ${tt}`:""}`)}}class WrongListingTypeError extends Error{constructor(_e,tt,rt,nt){super(`Incorrect listing type. Are you sure you're using the right method?.${_e?` marketplace address: ${_e}`:""}${tt?` listing id: ${tt}`:""}${nt?` expected type: ${nt}`:""}${rt?` actual type: ${rt}`:""}`)}}class AuctionHasNotEndedError extends Error{constructor(_e,tt){super(`Auction has not ended yet${_e?`, id: ${_e}`:""}${tt?`, end time: ${tt.toString()}`:""}`)}}class ExtensionNotImplementedError extends Error{constructor(_e){super(`This functionality is not available because the contract does not implement the '${_e.docLinks.contracts}' Extension. Learn how to unlock this functionality at https://portal.thirdweb.com/extensions `)}}var _reason=new WeakMap,_info=new WeakMap;class TransactionError extends Error{constructor(_e){var rt;let tt=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION ERROR \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`;if(tt+=`Reason: ${_e.reason}`,tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION INFORMATION \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`,tt+=withSpaces("from",_e.from),tt+=withSpaces("to",_e.contractName?`${_e.to} (${_e.contractName})`:_e.to),tt+=withSpaces("chain",`${_e.network.name} (${_e.network.chainId})`),_e.rpcUrl)try{const nt=new URL(_e.rpcUrl);tt+=withSpaces("rpc",nt.hostname)}catch{}if(_e.hash&&(tt+=withSpaces("tx hash",_e.hash)),_e.value&&_e.value.gt(0)&&(tt+=withSpaces("value",`${formatEther(_e.value)} ${((rt=NATIVE_TOKENS[_e.network.chainId])==null?void 0:rt.symbol)||""}`)),tt+=withSpaces("data",`${_e.data}`),_e.method&&(tt+=withSpaces("method",_e.method)),_e.sources){const nt=_e.sources.find(it=>it.source.includes(_e.reason));if(nt){const it=nt.source.split(`
`).map((ot,ct)=>`${ct+1}  ${ot}`),at=it.findIndex(ot=>ot.includes(_e.reason));it[at]+="   <-- REVERT";const st=it.slice(at-8,at+4);tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 SOLIDITY STACK TRACE \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,tt+=`File: ${nt.filename.replace("node_modules/","")}

`,tt+=st.join(`
`)}}tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 DEBUGGING RESOURCES \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,tt+="Need helping debugging? Join our Discord: https://discord.gg/thirdweb",tt+=`

`,super(tt),_classPrivateFieldInitSpec$2(this,_reason,{writable:!0,value:void 0}),_classPrivateFieldInitSpec$2(this,_info,{writable:!0,value:void 0}),_classPrivateFieldSet$2(this,_reason,_e.reason),_classPrivateFieldSet$2(this,_info,_e)}get reason(){return _classPrivateFieldGet$2(this,_reason)}get info(){return _classPrivateFieldGet$2(this,_info)}}function parseRevertReason(et){if(et.reason)return et.reason;let _e=et;return typeof et=="object"?_e=JSON.stringify(et):typeof et!="string"&&(_e=et.toString()),parseMessageParts(/.*?"message":"([^"\\]*).*?/,_e)||parseMessageParts(/.*?"reason":"([^"\\]*).*?/,_e)||et.message||""}function withSpaces(et,_e){if(_e==="")return _e;const tt=Array(10-et.length).fill(" ").join("");return _e.includes(`
`)?_e=`

  `+_e.split(`
`).join(`
  `):_e=`${tt}${_e}`,`
${et}:${_e}`}function parseMessageParts(et,_e){const tt=_e.match(et)||[];let rt="";return(tt==null?void 0:tt.length)>0&&(rt+=tt[1]),rt}function includesErrorMessage(et,_e){return et?et&&et.toString().includes(_e)||et&&et.message&&et.message.toString().includes(_e)||et&&et.error&&et.error.toString().includes(_e):!1}const ForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],ChainAwareForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}],BiconomyForwarderAbi=[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],_nonces={},_noncesSyncTimestamp={};async function getAndIncrementNonce(et,_e,tt){const rt=tt.join("|"),nt=_noncesSyncTimestamp[rt],it=Date.now()-nt>=2e3;if(!(rt in _nonces)||it){const st=await et.functions[_e](...tt);Array.isArray(st)&&st.length>0?_nonces[rt]=BigNumber.from(st[0]):_nonces[rt]=BigNumber.from(st),_noncesSyncTimestamp[rt]=Date.now()}const at=_nonces[rt];return _nonces[rt]=BigNumber.from(_nonces[rt]).add(1),at}function getGasStationUrl(et){switch(et){case ChainId$1.Polygon:return"https://gasstation-mainnet.matic.network/v2";case ChainId$1.Mumbai:return"https://gasstation-mumbai.matic.today/v2"}}const MIN_POLYGON_GAS_PRICE=parseUnits("31","gwei"),MIN_MUMBAI_GAS_PRICE=parseUnits("1","gwei");function getDefaultGasFee(et){switch(et){case ChainId$1.Polygon:return MIN_POLYGON_GAS_PRICE;case ChainId$1.Mumbai:return MIN_MUMBAI_GAS_PRICE}}async function getPolygonGasPriorityFee(et){const _e=getGasStationUrl(et);try{const rt=(await(await fetch$1(_e)).json()).standard.maxPriorityFee;if(rt>0){const nt=parseFloat(rt).toFixed(9);return parseUnits(nt,"gwei")}}catch(tt){console.error("failed to fetch gas",tt)}return getDefaultGasFee(et)}async function signTypedDataInternal(et,_e,tt,rt){var ot,ct;const nt=et==null?void 0:et.provider;if(!nt)throw new Error("missing provider");const it=TypedDataEncoder.getPayload(_e,tt,rt);let at="";const st=(await et.getAddress()).toLowerCase();if((ot=nt==null?void 0:nt.provider)!=null&&ot.isWalletConnect)at=await nt.send("eth_signTypedData",[(await et.getAddress()).toLowerCase(),JSON.stringify(it)]);else try{at=await et._signTypedData(_e,tt,rt)}catch(lt){if((ct=lt==null?void 0:lt.message)!=null&&ct.includes("Method eth_signTypedData_v4 not supported"))at=await nt.send("eth_signTypedData",[st,JSON.stringify(it)]);else try{await nt.send("eth_signTypedData_v4",[st,JSON.stringify(it)])}catch(ut){throw ut}}return{payload:it,signature:joinSignature(splitSignature(at))}}const NAME_ABI=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DOMAIN_SEPARATOR_ABI=[{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],NONCES_ABI=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}];async function getSignerNonce(et,_e){const tt=new Contract(_e,NONCES_ABI,et);try{return await tt.nonces(await et.getAddress())}catch{return await tt.getNonce(await et.getAddress())}}async function getDomainSeperator(et,_e){const tt=new Contract(_e,DOMAIN_SEPARATOR_ABI,et);try{return await tt.DOMAIN_SEPARATOR()}catch{try{return await tt.getDomainSeperator()}catch(nt){console.error("Error getting domain separator",nt)}}}async function getTokenName(et,_e){return new Contract(_e,NAME_ABI,et).name()}async function getChainDomainSeperator(et,_e){const tt=await getDomainSeperator(et,_e.verifyingContract),rt={name:_e.name,version:_e.version,verifyingContract:_e.verifyingContract,salt:hexZeroPad(BigNumber.from(_e.chainId).toHexString(),32)};return TypedDataEncoder.hashDomain(rt)===tt?rt:_e}async function signEIP2612Permit(et,_e,tt,rt,nt,it,at){const st=await getChainDomainSeperator(et,{name:await getTokenName(et,_e),version:"1",chainId:await et.getChainId(),verifyingContract:_e});at=at||(await getSignerNonce(et,_e)).toString(),it=it||MaxUint256$1;const ot={owner:tt,spender:rt,value:nt,nonce:at,deadline:it},ct={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{signature:lt}=await signTypedDataInternal(et,st,ct,ot);return{message:ot,signature:lt}}const isBrowser$3=()=>typeof window<"u",isNode$2=()=>!isBrowser$3();function unique(et,_e){if(et.length===0||et.length===1||!_e)return et;for(let tt=0;tt<et.length;tt++)for(let rt=tt+1;rt<et.length;rt++)_e(et[tt],et[rt])&&et.splice(rt,1);return et}class RPCConnectionHandler extends EventEmitter$1$1{constructor(_e,tt){super(),_defineProperty$3(this,"provider",void 0),_defineProperty$3(this,"signer",void 0),_defineProperty$3(this,"options",void 0);try{this.options=SDKOptionsSchema.parse(tt)}catch(it){console.error("invalid sdk options object passed, falling back to default options",it),this.options=SDKOptionsSchema.parse({})}const[rt,nt]=getSignerAndProvider(_e,this.options);this.signer=rt,this.provider=nt}updateSignerOrProvider(_e){const[tt,rt]=getSignerAndProvider(_e,this.options);this.signer=tt,this.provider=rt}isReadOnly(){return!Signer.isSigner(this.signer)}getSigner(){return this.signer}getProvider(){return this.provider}getSignerOrProvider(){return this.getSigner()||this.getProvider()}}function getSignerAndProvider(et,_e){let tt,rt;if(Signer.isSigner(et)?(tt=et,et.provider&&(rt=et.provider)):Provider$1.isProvider(et)?rt=et:rt=getChainProvider(et,_e),_e!=null&&_e.readonlySettings&&(rt=getProviderFromRpcUrl(_e.readonlySettings.rpcUrl,_e.readonlySettings.chainId)),!rt)throw tt?new Error("No provider passed to the SDK! Please make sure that your signer is connected to a provider!"):new Error("No provider found! Make sure to specify which network to connect to, or pass a signer or provider to the SDK!");return[tt,rt]}var _storage=new WeakMap;class ContractWrapper extends RPCConnectionHandler{constructor(_e,tt,rt,nt){super(_e,nt),_classPrivateFieldInitSpec$2(this,_storage,{writable:!0,value:void 0}),_defineProperty$3(this,"isValidContract",!1),_defineProperty$3(this,"customOverrides",()=>({})),_defineProperty$3(this,"writeContract",void 0),_defineProperty$3(this,"readContract",void 0),_defineProperty$3(this,"abi",void 0),this.abi=rt,this.writeContract=new Contract(tt,rt,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider()),_classPrivateFieldSet$2(this,_storage,new ThirdwebStorage)}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.writeContract=this.writeContract.connect(this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}async getChainID(){const _e=this.getProvider(),{chainId:tt}=await _e.getNetwork();return tt}async getSignerAddress(){const _e=this.getSigner();if(!_e)throw new Error("This action requires a connected wallet to sign the transaction. Please pass a valid signer to the SDK.");return await _e.getAddress()}callStatic(){return this.writeContract.callStatic}async getCallOverrides(){if(isBrowser$3())return{};const _e=await this.getProvider().getFeeData();if(_e.maxFeePerGas&&_e.maxPriorityFeePerGas){const rt=await this.getChainID(),nt=await this.getProvider().getBlock("latest"),it=nt&&nt.baseFeePerGas?nt.baseFeePerGas:parseUnits("1","gwei");let at;rt===ChainId$1.Mumbai||rt===ChainId$1.Polygon?at=await getPolygonGasPriorityFee(rt):at=BigNumber.from(_e.maxPriorityFeePerGas);const st=this.getPreferredPriorityFee(at);return{maxFeePerGas:it.mul(2).add(st),maxPriorityFeePerGas:st}}else return{gasPrice:await this.getPreferredGasPrice()}}getPreferredPriorityFee(_e){const tt=this.options.gasSettings.speed,rt=this.options.gasSettings.maxPriceInGwei;let nt;switch(tt){case"standard":nt=BigNumber.from(0);break;case"fast":nt=_e.div(100).mul(5);break;case"fastest":nt=_e.div(100).mul(10);break}let it=_e.add(nt);const at=parseUnits(rt.toString(),"gwei"),st=parseUnits("2.5","gwei");return it.gt(at)&&(it=at),it.lt(st)&&(it=st),it}async getPreferredGasPrice(){const _e=await this.getProvider().getGasPrice(),tt=this.options.gasSettings.speed,rt=this.options.gasSettings.maxPriceInGwei;let nt=_e,it;switch(tt){case"standard":it=BigNumber.from(1);break;case"fast":it=_e.div(100).mul(5);break;case"fastest":it=_e.div(100).mul(10);break}nt=nt.add(it);const at=parseUnits(rt.toString(),"gwei");return nt.gt(at)&&(nt=at),nt}emitTransactionEvent(_e,tt){this.emit(EventType.Transaction,{status:_e,transactionHash:tt})}async multiCall(_e){return this.sendTransaction("multicall",[_e])}async estimateGas(_e,tt){return this.writeContract.estimateGas[_e](...tt)}withTransactionOverride(_e){this.customOverrides=_e}async call(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];let it;try{if(rt.length>0&&typeof rt[rt.length-1]=="object"){const lt=rt[rt.length-1];it=CallOverrideSchema.parse(lt),rt=rt.slice(0,rt.length-1)}}catch{}const at=extractFunctionsFromAbi(AbiSchema.parse(this.abi)).filter(lt=>lt.name===_e);if(!at.length)throw new Error(`Function "${_e}" not found in contract. Check your dashboard for the list of functions available`);const st=at.find(lt=>lt.name===_e&&lt.inputs.length===rt.length);if(!st)throw new Error(`Function "${_e}" requires ${at[0].inputs.length} arguments, but ${rt.length} were provided.
Expected function signature: ${at[0].signature}`);const ot=`${_e}(${st.inputs.map(lt=>lt.type).join()})`,ct=ot in this.readContract.functions?ot:_e;return st.stateMutability==="view"||st.stateMutability==="pure"?this.readContract[ct](...rt):{receipt:await this.sendTransaction(ct,rt,it)}}async sendTransaction(_e,tt,rt){var nt;if(rt||(rt=await this.getCallOverrides()),rt={...rt,...this.customOverrides()},this.customOverrides=()=>({}),((nt=this.options)==null?void 0:nt.gasless)&&("openzeppelin"in this.options.gasless||"biconomy"in this.options.gasless)){if(_e==="multicall"&&Array.isArray(tt[0])&&tt[0].length>0){const ot=await this.getSignerAddress();tt[0]=tt[0].map(ct=>pack(["bytes","address"],[ct,ot]))}const it=this.getProvider(),at=await this.sendGaslessTransaction(_e,tt,rt);this.emitTransactionEvent("submitted",at);const st=await it.waitForTransaction(at);return this.emitTransactionEvent("completed",at),st}else{if(!this.isValidContract){const st=await this.getProvider().getCode(this.readContract.address);if(this.isValidContract=st!=="0x",!this.isValidContract)throw new Error("The address you're trying to send a transaction to is not a smart contract. Make sure you are on the correct network and the contract address is correct")}const it=await this.sendTransactionByFunction(_e,tt,rt);this.emitTransactionEvent("submitted",it.hash);let at;try{at=await it.wait()}catch(st){try{await this.writeContract.callStatic[_e](...tt,...rt.value?[{value:rt.value}]:[])}catch(ot){throw await this.formatError(ot,_e,tt,rt)}throw await this.formatError(st,_e,tt,rt)}return this.emitTransactionEvent("completed",it.hash),at}}async sendTransactionByFunction(_e,tt,rt){const nt=this.writeContract.functions[_e];if(!nt)throw new Error(`invalid function: "${_e.toString()}"`);if(!rt.gasLimit)try{rt.gasLimit=await this.writeContract.estimateGas[_e](...tt,rt)}catch{try{await this.writeContract.callStatic[_e](...tt,...rt.value?[{value:rt.value}]:[])}catch(at){throw await this.formatError(at,_e,tt,rt)}}try{return await nt(...tt,rt)}catch(it){const at=await(rt.from||this.getSignerAddress()),st=await(rt.value?rt.value:0),ot=await this.getProvider().getBalance(at);throw ot.eq(0)||st&&ot.lt(st)?await this.formatError(new Error("You have insufficient funds in your account to execute this transaction."),_e,tt,rt):await this.formatError(it,_e,tt,rt)}}async formatError(_e,tt,rt,nt){var At,kt,Ot;const it=this.getProvider(),at=await it.getNetwork(),st=await(nt.from||this.getSignerAddress()),ot=this.readContract.address,ct=this.readContract.interface.encodeFunctionData(tt,rt),lt=BigNumber.from(nt.value||0),ut=(At=it.connection)==null?void 0:At.url,dt=this.readContract.interface.getFunction(tt),mt=rt.map(Wt=>JSON.stringify(Wt).length<=80?JSON.stringify(Wt):JSON.stringify(Wt,void 0,2)),gt=mt.join(", ").length<=80?mt.join(", "):`
`+mt.map(Wt=>"  "+Wt.split(`
`).join(`
  `)).join(`,
`)+`
`,bt=`${dt.name}(${gt})`,ht=_e.transactionHash||((kt=_e.transaction)==null?void 0:kt.hash)||((Ot=_e.receipt)==null?void 0:Ot.transactionHash),yt=parseRevertReason(_e);let wt,xt;try{const Wt=await fetchContractMetadataFromAddress(this.readContract.address,this.getProvider(),_classPrivateFieldGet$2(this,_storage));Wt.name&&(xt=Wt.name),Wt.metadata.sources&&(wt=await fetchSourceFilesFromMetadata(Wt,_classPrivateFieldGet$2(this,_storage)))}catch{}return new TransactionError({reason:yt,from:st,to:ot,method:bt,data:ct,network:at,rpcUrl:ut,value:lt,hash:ht,contractName:xt,sources:wt})}async sendGaslessTransaction(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=arguments.length>2?arguments[2]:void 0;const nt=this.getSigner();invariant(nt,"Cannot execute gasless transaction without valid signer");const it=await this.getChainID(),at=await this.getSignerAddress(),st=this.writeContract.address,ot=(rt==null?void 0:rt.value)||0;if(BigNumber.from(ot).gt(0))throw new Error("Cannot send native token value with gasless transaction");const ct=this.writeContract.interface.encodeFunctionData(_e,tt);let lt=BigNumber.from(0);try{lt=(await this.readContract.estimateGas[_e](...tt)).mul(2)}catch{}lt.lt(1e5)&&(lt=BigNumber.from(5e5)),rt.gasLimit&&BigNumber.from(rt.gasLimit).gt(lt)&&(lt=BigNumber.from(rt.gasLimit));const ut={from:at,to:st,data:ct,chainId:it,gasLimit:lt,functionName:_e.toString(),functionArgs:tt,callOverrides:rt};return await this.defaultGaslessSendFunction(ut)}async signTypedData(_e,tt,rt,nt){this.emit(EventType.Signature,{status:"submitted",message:nt,signature:""});const{signature:it}=await signTypedDataInternal(_e,tt,rt,nt);return this.emit(EventType.Signature,{status:"completed",message:nt,signature:it}),it}parseLogs(_e,tt){if(!tt||tt.length===0)return[];const rt=this.writeContract.interface.getEventTopic(_e);return tt.filter(it=>it.topics.indexOf(rt)>=0).map(it=>this.writeContract.interface.parseLog(it))}async defaultGaslessSendFunction(_e){return this.options.gasless&&"biconomy"in this.options.gasless?this.biconomySendFunction(_e):this.defenderSendFunction(_e)}async biconomySendFunction(_e){var ut,dt;invariant(this.options.gasless&&"biconomy"in this.options.gasless,"calling biconomySendFunction without biconomy");const tt=this.getSigner(),rt=this.getProvider();invariant(tt&&rt,"signer and provider must be set");const nt=new Contract(getContractAddressByChainId(_e.chainId,"biconomyForwarder"),BiconomyForwarderAbi,rt),it=0,at=await getAndIncrementNonce(nt,"getNonce",[_e.from,it]),st={from:_e.from,to:_e.to,token:AddressZero,txGas:_e.gasLimit.toNumber(),tokenGasPrice:"0",batchId:it,batchNonce:at.toNumber(),deadline:Math.floor(Date.now()/1e3+(((ut=this.options)==null?void 0:ut.gasless)&&"biconomy"in this.options.gasless&&((dt=this.options.gasless.biconomy)==null?void 0:dt.deadlineSeconds)||3600)),data:_e.data},ot=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[st.from,st.to,st.token,st.txGas,st.tokenGasPrice,st.batchId,st.batchNonce,st.deadline,keccak256$1(st.data)]));this.emit(EventType.Signature,{status:"submitted",message:ot,signature:""});const ct=await tt.signMessage(ot);this.emit(EventType.Signature,{status:"completed",message:ot,signature:ct});const lt=await fetch$1("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:_e.from,apiId:this.options.gasless.biconomy.apiId,params:[st,ct],to:_e.to,gasLimit:_e.gasLimit.toHexString()}),headers:{"x-api-key":this.options.gasless.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(lt.ok){const mt=await lt.json();if(!mt.txHash)throw new Error(`relay transaction failed: ${mt.log}`);return mt.txHash}throw new Error(`relay transaction failed with status: ${lt.status} (${lt.statusText})`)}async defenderSendFunction(_e){invariant(this.options.gasless&&"openzeppelin"in this.options.gasless,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options");const tt=this.getSigner(),rt=this.getProvider();invariant(tt,"provider is not set"),invariant(rt,"provider is not set");const nt=this.options.gasless.openzeppelin.relayerForwarderAddress||(this.options.gasless.openzeppelin.useEOAForwarder?CONTRACT_ADDRESSES[_e.chainId].openzeppelinForwarderEOA:CONTRACT_ADDRESSES[_e.chainId].openzeppelinForwarder),it=new Contract(nt,ForwarderABI,rt),at=await getAndIncrementNonce(it,"getNonce",[_e.from]);let st,ot,ct;this.options.gasless.experimentalChainlessSupport?(st={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:nt},ot={ForwardRequest:ChainAwareForwardRequest},ct={from:_e.from,to:_e.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(_e.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:_e.data,chainid:BigNumber.from(_e.chainId).toString()}):(st={name:"GSNv2 Forwarder",version:"0.0.1",chainId:_e.chainId,verifyingContract:nt},ot={ForwardRequest},ct={from:_e.from,to:_e.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(_e.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:_e.data});let lt;if(this.emit(EventType.Signature,{status:"submitted",message:ct,signature:""}),_e.functionName==="approve"&&_e.functionArgs.length===2){const gt=_e.functionArgs[0],bt=_e.functionArgs[1],{message:ht,signature:yt}=await signEIP2612Permit(tt,this.writeContract.address,_e.from,gt,bt),{r:wt,s:xt,v:At}=splitSignature(yt);ct={to:this.readContract.address,owner:ht.owner,spender:ht.spender,value:BigNumber.from(ht.value).toString(),nonce:BigNumber.from(ht.nonce).toString(),deadline:BigNumber.from(ht.deadline).toString(),r:wt,s:xt,v:At},lt=yt}else{const{signature:gt}=await signTypedDataInternal(tt,st,ot,ct);lt=gt}let ut="forward";ct!=null&&ct.owner&&(ut="permit");const dt=JSON.stringify({request:ct,signature:lt,forwarderAddress:nt,type:ut});this.emit(EventType.Signature,{status:"completed",message:ct,signature:lt});const mt=await fetch$1(this.options.gasless.openzeppelin.relayerUrl,{method:"POST",body:dt});if(mt.ok){const gt=await mt.json();if(!gt.result)throw new Error(`Relay transaction failed: ${gt.message}`);return JSON.parse(gt.result).txHash}throw new Error(`relay transaction failed with status: ${mt.status} (${mt.statusText})`)}}function isNativeToken(et){return et.toLowerCase()===NATIVE_TOKEN_ADDRESS||et.toLowerCase()===AddressZero}function cleanCurrencyAddress(et){return isNativeToken(et)?NATIVE_TOKEN_ADDRESS:et}async function normalizePriceValue(et,_e,tt){const rt=await fetchCurrencyMetadata(et,tt);return parseUnits(AmountSchema.parse(_e),rt.decimals)}async function fetchCurrencyMetadata(et,_e){if(isNativeToken(_e)){const tt=await et.getNetwork(),rt=getNativeTokenByChainId(tt.chainId);return{name:rt.name,symbol:rt.symbol,decimals:rt.decimals}}else{const tt=new Contract(_e,ERC20MetadataAbi,et),[rt,nt,it]=await Promise.all([tt.name(),tt.symbol(),tt.decimals()]);return{name:rt,symbol:nt,decimals:it}}}async function fetchCurrencyValue(et,_e,tt){const rt=await fetchCurrencyMetadata(et,_e);return{...rt,value:BigNumber.from(tt),displayValue:formatUnits(tt,rt.decimals)}}async function setErc20Allowance(et,_e,tt,rt){if(isNativeToken(tt))rt.value=_e;else{const nt=et.getSigner(),it=et.getProvider(),at=new ContractWrapper(nt||it,tt,ERC20Abi,et.options),st=await et.getSignerAddress(),ot=et.readContract.address;return(await at.readContract.allowance(st,ot)).lt(_e)&&await at.sendTransaction("approve",[ot,_e]),rt}}async function approveErc20Allowance(et,_e,tt,rt,nt){const it=et.getSigner(),at=et.getProvider(),st=new ContractWrapper(it||at,_e,ERC20Abi,et.options),ot=await et.getSignerAddress(),ct=et.readContract.address,lt=await st.readContract.allowance(ot,ct),ut=BigNumber.from(tt).mul(BigNumber.from(rt)).div(parseUnits("1",nt));lt.lt(ut)&&await st.sendTransaction("approve",[ct,lt.add(ut)])}async function hasERC20Allowance(et,_e,tt){const rt=et.getProvider(),nt=new ContractWrapper(rt,_e,ERC20Abi,{}),it=await et.getSignerAddress(),at=et.readContract.address;return(await nt.readContract.allowance(it,at)).gte(tt)}async function prepareClaim(et,_e,tt,rt,nt,it,at,st,ot){let ct=convertQuantityToBigNumber(tt.maxClaimablePerWallet,nt),lt=[hexZeroPad([0],32)],ut=tt.price,dt=tt.currencyAddress;try{if(!tt.merkleRootHash.toString().startsWith(AddressZero)){const ht=await fetchSnapshotEntryForAddress(et,tt.merkleRootHash.toString(),await rt(),it.getProvider(),at,ot);if(ht)lt=ht.proof,ct=ht.maxClaimable==="unlimited"?MaxUint256$1:parseUnits(ht.maxClaimable,nt),ut=ht.price===void 0||ht.price==="unlimited"?MaxUint256$1:await normalizePriceValue(it.getProvider(),ht.price,ht.currencyAddress||AddressZero),dt=ht.currencyAddress||AddressZero;else if(ot===SnapshotFormatVersion.V1)throw new Error("No claim found for this address")}}catch(ht){if((ht==null?void 0:ht.message)==="No claim found for this address")throw ht;console.warn("failed to check claim condition merkle root hash, continuing anyways",ht)}const mt=await it.getCallOverrides()||{},gt=ut.toString()!==MaxUint256$1.toString()?ut:tt.price,bt=dt!==AddressZero?dt:tt.currencyAddress;return gt.gt(0)&&(isNativeToken(bt)?mt.value=BigNumber.from(gt).mul(_e).div(parseUnits("1",nt)):st&&await approveErc20Allowance(it,bt,gt,_e,nt)),{overrides:mt,proofs:lt,maxClaimable:ct,price:gt,currencyAddress:bt,priceInProof:ut,currencyAddressInProof:dt}}async function fetchSnapshot(et,_e,tt){if(!_e)return null;const rt=_e[et];if(rt){const nt=await tt.downloadJSON(rt);if(nt.isShardedMerkleTree&&nt.merkleRoot===et){const it=await ShardedMerkleTree.fromUri(rt,tt);return(it==null?void 0:it.getAllEntries())||null}else{const it=SnapshotSchema.parse(nt);if(et===it.merkleRoot)return it.claims.map(at=>({address:at.address,maxClaimable:at.maxClaimable,price:at.price,currencyAddress:at.currencyAddress}))}}return null}async function fetchSnapshotEntryForAddress(et,_e,tt,rt,nt,it){if(!tt)return null;const at=tt[_e];if(at){const st=await nt.downloadJSON(at);if(st.isShardedMerkleTree&&st.merkleRoot===_e)return await(await ShardedMerkleTree.fromShardedMerkleTreeInfo(st,nt)).getProof(et,rt,it);const ot=SnapshotSchema.parse(st);if(_e===ot.merkleRoot)return ot.claims.find(ct=>ct.address.toLowerCase()===et.toLowerCase())||null}return null}async function updateExistingClaimConditions(et,_e,tt){if(et>=tt.length)throw Error(`Index out of bounds - got index: ${et} with ${tt.length} conditions`);const rt=tt[et].currencyMetadata.decimals,nt=tt[et].price,it=formatUnits(nt,rt),at=ClaimConditionInputSchema.parse({...tt[et],price:it,..._e}),st=ClaimConditionOutputSchema.parse({...at,price:nt});return tt.map((ot,ct)=>{let lt;ct===et?lt=st:lt=ot;const ut=formatUnits(lt.price,rt);return{...lt,price:ut}})}async function processSnapshotData(et,_e,tt,rt,nt){const it=[];return{inputsWithSnapshots:await Promise.all(et.map(async st=>{if(st.snapshot&&st.snapshot.length>0){const ot=await createSnapshot(st.snapshot,_e,tt,rt,nt);it.push(ot),st.merkleRootHash=ot.merkleRoot}else st.merkleRootHash=hexZeroPad([0],32);return st})),snapshotInfos:it}}function compare(et,_e){const tt=BigNumber.from(et),rt=BigNumber.from(_e);return tt.eq(rt)?0:tt.gt(rt)?1:-1}async function processClaimConditionInputs(et,_e,tt,rt,nt){const{inputsWithSnapshots:it,snapshotInfos:at}=await processSnapshotData(et,_e,tt,rt,nt),st=ClaimConditionInputArray.parse(it),ot=(await Promise.all(st.map(ct=>convertToContractModel(ct,_e,tt,rt)))).sort((ct,lt)=>compare(ct.startTimestamp,lt.startTimestamp));return{snapshotInfos:at,sortedConditions:ot}}async function convertToContractModel(et,_e,tt,rt){const nt=et.currencyAddress===AddressZero?NATIVE_TOKEN_ADDRESS:et.currencyAddress,it=convertQuantityToBigNumber(et.maxClaimableSupply,_e),at=convertQuantityToBigNumber(et.maxClaimablePerWallet,_e);let st;return et.metadata&&(typeof et.metadata=="string"?st=et.metadata:st=await rt.upload(et.metadata)),{startTimestamp:et.startTime,maxClaimableSupply:it,supplyClaimed:0,maxClaimablePerWallet:at,pricePerToken:await normalizePriceValue(tt,et.price,nt),currency:nt,merkleRoot:et.merkleRootHash.toString(),waitTimeInSecondsBetweenClaims:et.waitInSeconds||0,metadata:st}}function abstractContractModelToLegacy(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot,pricePerToken:et.pricePerToken,currency:et.currency,quantityLimitPerTransaction:et.maxClaimablePerWallet,waitTimeInSecondsBetweenClaims:et.waitTimeInSecondsBetweenClaims||0}}function abstractContractModelToNew(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot,pricePerToken:et.pricePerToken,currency:et.currency,quantityLimitPerWallet:et.maxClaimablePerWallet,metadata:et.metadata||""}}function legacyContractModelToAbstract(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot.toString(),pricePerToken:et.pricePerToken,currency:et.currency,maxClaimablePerWallet:et.quantityLimitPerTransaction,waitTimeInSecondsBetweenClaims:et.waitTimeInSecondsBetweenClaims}}function newContractModelToAbstract(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot.toString(),pricePerToken:et.pricePerToken,currency:et.currency,maxClaimablePerWallet:et.quantityLimitPerWallet,waitTimeInSecondsBetweenClaims:0,metadata:et.metadata}}async function transformResultToClaimCondition(et,_e,tt,rt,nt,it){var dt;const at=await fetchCurrencyValue(tt,et.currency,et.pricePerToken),st=convertToReadableQuantity(et.maxClaimableSupply,_e),ot=convertToReadableQuantity(et.maxClaimablePerWallet,_e),ct=convertToReadableQuantity(BigNumber.from(et.maxClaimableSupply).sub(et.supplyClaimed),_e),lt=convertToReadableQuantity(et.supplyClaimed,_e);let ut;return et.metadata&&(ut=await nt.downloadJSON(et.metadata)),ClaimConditionOutputSchema.parse({startTime:et.startTimestamp,maxClaimableSupply:st,maxClaimablePerWallet:ot,currentMintSupply:lt,availableSupply:ct,waitInSeconds:(dt=et.waitTimeInSecondsBetweenClaims)==null?void 0:dt.toString(),price:BigNumber.from(et.pricePerToken),currency:et.currency,currencyAddress:et.currency,currencyMetadata:at,merkleRootHash:et.merkleRoot,snapshot:it?await fetchSnapshot(et.merkleRoot,rt,nt):void 0,metadata:ut})}function convertToReadableQuantity(et,_e){return et.toString()===MaxUint256$1.toString()?"unlimited":formatUnits(et,_e)}function convertQuantityToBigNumber(et,_e){return et==="unlimited"?MaxUint256$1:parseUnits(et,_e)}async function calculateClaimCost(et,_e,tt,rt,nt){let it={};const at=rt||NATIVE_TOKEN_ADDRESS,ot=(await normalizePriceValue(et.getProvider(),_e,at)).mul(tt);return ot.gt(0)&&(at===NATIVE_TOKEN_ADDRESS?it={value:ot}:at!==NATIVE_TOKEN_ADDRESS&&nt&&await approveErc20Allowance(et,at,ot,tt,0)),it}const SHARD_NYBBLES=2;let SnapshotFormatVersion;(function(et){et[et.V1=1]="V1",et[et.V2=2]="V2"})(SnapshotFormatVersion||(SnapshotFormatVersion={}));class ShardedMerkleTree{constructor(_e,tt,rt,nt,it){_defineProperty$3(this,"shardNybbles",void 0),_defineProperty$3(this,"shards",void 0),_defineProperty$3(this,"trees",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"baseUri",void 0),_defineProperty$3(this,"originalEntriesUri",void 0),_defineProperty$3(this,"tokenDecimals",void 0),this.storage=_e,this.shardNybbles=nt,this.baseUri=tt,this.originalEntriesUri=rt,this.tokenDecimals=it,this.shards={},this.trees={}}static async fromUri(_e,tt){try{const rt=await tt.downloadJSON(_e);if(rt.isShardedMerkleTree)return ShardedMerkleTree.fromShardedMerkleTreeInfo(rt,tt)}catch{return}}static async fromShardedMerkleTreeInfo(_e,tt){return new ShardedMerkleTree(tt,_e.baseUri,_e.originalEntriesUri,_e.shardNybbles,_e.tokenDecimals)}static hashEntry(_e,tt,rt,nt){switch(nt){case SnapshotFormatVersion.V1:return keccak256(["address","uint256"],[_e.address,convertQuantityToBigNumber(_e.maxClaimable,tt)]);case SnapshotFormatVersion.V2:return keccak256(["address","uint256","uint256","address"],[_e.address,convertQuantityToBigNumber(_e.maxClaimable,tt),convertQuantityToBigNumber(_e.price||"unlimited",rt),_e.currencyAddress||AddressZero])}}static async fetchAndCacheDecimals(_e,tt,rt){if(!rt)return 18;let nt=_e[rt];return nt===void 0&&(nt=(await fetchCurrencyMetadata(tt,rt)).decimals,_e[rt]=nt),nt}static async buildAndUpload(_e,tt,rt,nt,it){let at=arguments.length>5&&arguments[5]!==void 0?arguments[5]:SHARD_NYBBLES;const st=SnapshotInputSchema.parse(_e),ot={};for(const xt of st){const At=xt.address.slice(2,2+at).toLowerCase();ot[At]===void 0&&(ot[At]=[]),ot[At].push(xt)}const ct={},lt=await Promise.all(Object.entries(ot).map(async xt=>{let[At,kt]=xt;return[At,new dist$3.MerkleTree(await Promise.all(kt.map(async Ot=>{const Wt=await ShardedMerkleTree.fetchAndCacheDecimals(ct,rt,Ot.currencyAddress);return ShardedMerkleTree.hashEntry(Ot,tt,Wt,it)})),keccak256$1,{sort:!0}).getHexRoot()]})),ut=Object.fromEntries(lt),dt=new dist$3.MerkleTree(Object.values(ut),keccak256$1,{sort:!0}),mt=[];for(const[xt,At]of Object.entries(ot)){const kt={proofs:dt.getProof(ut[xt]).map(Ot=>"0x"+Ot.data.toString("hex")),entries:At};mt.push({data:JSON.stringify(kt),name:`${xt}.json`})}const gt=await nt.uploadBatch(mt),bt=gt[0].slice(0,gt[0].lastIndexOf("/")),ht=await nt.upload(st),yt={merkleRoot:dt.getHexRoot(),baseUri:bt,originalEntriesUri:ht,shardNybbles:at,tokenDecimals:tt,isShardedMerkleTree:!0},wt=await nt.upload(yt);return{shardedMerkleInfo:yt,uri:wt}}async getProof(_e,tt,rt){const nt=_e.slice(2,2+this.shardNybbles).toLowerCase();let it=this.shards[nt];const at={};if(it===void 0)try{it=this.shards[nt]=await this.storage.downloadJSON(`${this.baseUri}/${nt}.json`);const ut=await Promise.all(it.entries.map(async dt=>{const mt=await ShardedMerkleTree.fetchAndCacheDecimals(at,tt,dt.currencyAddress);return ShardedMerkleTree.hashEntry(dt,this.tokenDecimals,mt,rt)}));this.trees[nt]=new dist$3.MerkleTree(ut,keccak256$1,{sort:!0})}catch{return null}const st=it.entries.find(ut=>ut.address.toLowerCase()===_e.toLowerCase());if(!st)return null;const ot=await ShardedMerkleTree.fetchAndCacheDecimals(at,tt,st.currencyAddress),ct=ShardedMerkleTree.hashEntry(st,this.tokenDecimals,ot,rt),lt=this.trees[nt].getProof(ct).map(ut=>"0x"+ut.data.toString("hex"));return SnapshotEntryWithProofSchema.parse({...st,proof:lt.concat(it.proofs)})}async getAllEntries(){try{return await this.storage.downloadJSON(this.originalEntriesUri)}catch(_e){return console.warn("Could not fetch original snapshot entries",_e),[]}}}async function createSnapshot(et,_e,tt,rt,nt){const it=SnapshotInputSchema.parse(et),at=it.map(ct=>ct.address);if(new Set(at).size<at.length)throw new DuplicateLeafsError;const ot=await ShardedMerkleTree.buildAndUpload(it,_e,tt,rt,nt);return{merkleRoot:ot.shardedMerkleInfo.merkleRoot,snapshotUri:ot.uri}}const roleMap={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",lister:"LISTER_ROLE",asset:"ASSET_ROLE",unwrap:"UNWRAP_ROLE",factory:"FACTORY_ROLE"},ALL_ROLES=Object.keys(roleMap);function getRoleHash(et){return et==="admin"?hexZeroPad([0],32):id(roleMap[et])}class ContractEncoder{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}encode(_e,tt){return this.contractWrapper.readContract.interface.encodeFunctionData(_e,tt)}decode(_e,tt){return this.contractWrapper.readContract.interface.decodeFunctionData(_e,tt)}}const getAllPluginsAbi=[{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"}],getAllExtensionsAbi=[{inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"}],FEATURE_ROYALTY={name:"Royalty",namespace:"royalty",docLinks:{sdk:"sdk.contractroyalty",contracts:"Royalty"},abis:[IThirdwebRoyaltyAbi],features:{}},FEATURE_PRIMARY_SALE={name:"PrimarySale",namespace:"sales",docLinks:{sdk:"sdk.contractprimarysale",contracts:"PrimarySale"},abis:[IThirdwebPrimarySaleAbi],features:{}},FEATURE_PLATFORM_FEE={name:"PlatformFee",namespace:"platformFee",docLinks:{sdk:"sdk.platformfee",contracts:"PlatformFee"},abis:[IThirdwebPlatformFeeAbi],features:{}},FEATURE_PERMISSIONS_ENUMERABLE={name:"PermissionsEnumerable",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"PermissionsEnumerable"},abis:[IPermissionsEnumerableAbi],features:{}},FEATURE_PERMISSIONS={name:"Permissions",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"Permissions"},abis:[IPermissionsAbi],features:{[FEATURE_PERMISSIONS_ENUMERABLE.name]:FEATURE_PERMISSIONS_ENUMERABLE}},FEATURE_METADATA={name:"ContractMetadata",namespace:"metadata",docLinks:{sdk:"sdk.contractmetadata",contracts:"ContractMetadata"},abis:[IContractMetadataAbi],features:{}},FEATURE_APPURI={name:"AppURI",namespace:"appURI",docLinks:{sdk:"sdk.appURI",contracts:"AppURI"},abis:[IAppURI],features:{}},FEATURE_OWNER={name:"Ownable",namespace:"owner",docLinks:{sdk:"sdk.owner",contracts:"Ownable"},abis:[IOwnableAbi],features:{}},FEATURE_GASLESS={name:"Gasless",namespace:"gasless",docLinks:{sdk:"sdk.gaslesstransaction",contracts:""},abis:[IERC2771ContextAbi],features:{}},FEATURE_PACK_VRF={name:"PackVRF",namespace:"pack.vrf",docLinks:{sdk:"sdk.packvrf",contracts:"IPackVRFDirect"},abis:[IPackVRFAbi],features:{}},FEATURE_PLUGIN_ROUTER={name:"PluginRouter",namespace:"plugin.router",docLinks:{sdk:"sdk.pluginrouter",contracts:"IRouter"},abis:[getAllPluginsAbi],features:{}},FEATURE_EXTENSION_ROUTER={name:"ExtensionRouter",namespace:"extension.router",docLinks:{sdk:"",contracts:""},abis:[getAllExtensionsAbi],features:{}},FEATURE_DIRECT_LISTINGS={name:"DirectListings",namespace:"direct.listings",docLinks:{sdk:"",contracts:""},abis:[IDirectListingsAbi],features:{}},FEATURE_ENGLISH_AUCTIONS={name:"EnglishAuctions",namespace:"english.auctions",docLinks:{sdk:"",contracts:""},abis:[IEnglishAuctionsAbi],features:{}},FEATURE_OFFERS={name:"Offers",namespace:"offers",docLinks:{sdk:"",contracts:""},abis:[IOffersAbi],features:{}};class ContractMetadata{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_METADATA.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"schema",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.schema=tt,this.storage=rt}parseOutputMetadata(_e){return this.schema.output.parse(_e)}parseInputMetadata(_e){return this.schema.input.parse(_e)}async get(){let _e;if(this.supportsContractMetadata(this.contractWrapper)){const tt=await this.contractWrapper.readContract.contractURI();tt&&tt.includes("://")&&(_e=await this.storage.downloadJSON(tt))}if(!_e)try{let tt;try{hasFunction("name",this.contractWrapper)&&(tt=await this.contractWrapper.readContract.name())}catch{}let rt;try{hasFunction("symbol",this.contractWrapper)&&(rt=await this.contractWrapper.readContract.symbol())}catch{}let nt;try{nt=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage)}catch{}_e={name:tt||(nt==null?void 0:nt.name),symbol:rt,description:nt==null?void 0:nt.info.title}}catch{throw new Error("Could not fetch contract metadata")}return this.parseOutputMetadata(_e)}async set(_e){const tt=await this._parseAndUploadMetadata(_e),rt=this.contractWrapper;if(this.supportsContractMetadata(rt))return{receipt:await rt.sendTransaction("setContractURI",[tt]),data:this.get};throw new ExtensionNotImplementedError(FEATURE_METADATA)}async update(_e){return await this.set({...await this.get(),..._e})}async _parseAndUploadMetadata(_e){const tt=this.parseInputMetadata(_e);return this.storage.upload(tt)}supportsContractMetadata(_e){return detectContractFeature(_e,"ContractMetadata")}}class ContractRoles{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_PERMISSIONS.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"roles",void 0),this.contractWrapper=_e,this.roles=tt}async getAll(){invariant(this.roles.length,"this contract has no support for roles");const _e={};for(const tt of this.roles)_e[tt]=await this.get(tt);return _e}async get(_e){invariant(this.roles.includes(_e),`this contract does not support the "${_e}" role`);const tt=this.contractWrapper;if(hasFunction("getRoleMemberCount",tt)&&hasFunction("getRoleMember",tt)){const rt=getRoleHash(_e),nt=(await tt.readContract.getRoleMemberCount(rt)).toNumber();return await Promise.all(Array.from(Array(nt).keys()).map(it=>tt.readContract.getRoleMember(rt,it)))}throw new Error("Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.")}async setAll(_e){const tt=Object.keys(_e);invariant(tt.length,"you must provide at least one role to set"),invariant(tt.every(at=>this.roles.includes(at)),"this contract does not support the given role");const rt=await this.getAll(),nt=[],it=tt.sort(at=>at==="admin"?1:-1);for(let at=0;at<it.length;at++){const st=it[at],ot=_e[st]||[],ct=rt[st]||[],lt=ot.filter(dt=>!ct.includes(dt)),ut=ct.filter(dt=>!ot.includes(dt));if(lt.length&&lt.forEach(dt=>{nt.push(this.contractWrapper.readContract.interface.encodeFunctionData("grantRole",[getRoleHash(st),dt]))}),ut.length)for(let dt=0;dt<ut.length;dt++){const mt=ut[dt],gt=await this.getRevokeRoleFunctionName(mt);nt.push(this.contractWrapper.readContract.interface.encodeFunctionData(gt,[getRoleHash(st),mt]))}}return{receipt:await this.contractWrapper.multiCall(nt)}}async verify(_e,tt){await Promise.all(_e.map(async rt=>{if(!(await this.get(rt)).map(it=>it.toLowerCase()).includes(tt.toLowerCase()))throw new MissingRoleError(tt,rt)}))}async grant(_e,tt){return invariant(this.roles.includes(_e),`this contract does not support the "${_e}" role`),{receipt:await this.contractWrapper.sendTransaction("grantRole",[getRoleHash(_e),tt])}}async revoke(_e,tt){invariant(this.roles.includes(_e),`this contract does not support the "${_e}" role`);const rt=await this.getRevokeRoleFunctionName(tt);return{receipt:await this.contractWrapper.sendTransaction(rt,[getRoleHash(_e),tt])}}async getRevokeRoleFunctionName(_e){return(await this.contractWrapper.getSignerAddress()).toLowerCase()===_e.toLowerCase()?"renounceRole":"revokeRole"}}class ContractRoyalty{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_ROYALTY.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),this.contractWrapper=_e,this.metadata=tt}async getDefaultRoyaltyInfo(){const[_e,tt]=await this.contractWrapper.readContract.getDefaultRoyaltyInfo();return CommonRoyaltySchema.parse({fee_recipient:_e,seller_fee_basis_points:tt})}async getTokenRoyaltyInfo(_e){const[tt,rt]=await this.contractWrapper.readContract.getRoyaltyInfoForToken(_e);return CommonRoyaltySchema.parse({fee_recipient:tt,seller_fee_basis_points:rt})}async setDefaultRoyaltyInfo(_e){const tt=await this.metadata.get(),rt=this.metadata.parseInputMetadata({...tt,..._e}),nt=await this.metadata._parseAndUploadMetadata(rt);if(hasFunction("setContractURI",this.contractWrapper)){const it=[this.contractWrapper.readContract.interface.encodeFunctionData("setDefaultRoyaltyInfo",[rt.fee_recipient,rt.seller_fee_basis_points]),this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[nt])];return{receipt:await this.contractWrapper.multiCall(it),data:()=>this.getDefaultRoyaltyInfo()}}else throw new Error("Updating royalties requires implementing ContractMetadata in your contract to support marketplaces like OpenSea.")}async setTokenRoyaltyInfo(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setRoyaltyInfoForToken",[_e,tt.fee_recipient,tt.seller_fee_basis_points]),data:()=>this.getDefaultRoyaltyInfo()}}}class ContractPrimarySale{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_PRIMARY_SALE.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async getRecipient(){return await this.contractWrapper.readContract.primarySaleRecipient()}async setRecipient(_e){return{receipt:await this.contractWrapper.sendTransaction("setPrimarySaleRecipient",[_e])}}}const FALLBACK_METADATA={name:"Failed to load NFT metadata"};async function fetchTokenMetadata(et,_e,tt){const rt=_e.replace("{id}",hexZeroPad(BigNumber.from(et).toHexString(),32).slice(2));let nt;try{nt=await tt.downloadJSON(rt)}catch{const at=_e.replace("{id}",BigNumber.from(et).toString());try{nt=await tt.downloadJSON(at)}catch{console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:et.toString(),tokenUri:_e})} -- falling back to default metadata`),nt=FALLBACK_METADATA}}return CommonNFTOutput.parse({...nt,id:BigNumber.from(et).toString(),uri:_e})}async function fetchTokenMetadataForContract(et,_e,tt,rt){let nt;const it=new Contract(et,ERC165Abi,_e),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at)nt=await new Contract(et,ERC721MetadataAbi,_e).tokenURI(tt);else if(st)nt=await new Contract(et,ERC1155MetadataAbi,_e).uri(tt);else throw Error("Contract must implement ERC 1155 or ERC 721.");if(!nt)throw new NotFoundError;return fetchTokenMetadata(tt,nt,rt)}async function uploadOrExtractURI(et,_e){return typeof et=="string"?et:await _e.upload(CommonNFTInput.parse(et))}async function uploadOrExtractURIs(et,_e,tt,rt){if(isUriList(et))return et;if(isMetadataList(et))return await _e.uploadBatch(et.map(it=>CommonNFTInput.parse(it)),{rewriteFileNames:{fileStartNumber:tt||0},onProgress:rt==null?void 0:rt.onProgress});throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function getBaseUriFromBatch(et){const _e=et[0].substring(0,et[0].lastIndexOf("/"));for(let tt=0;tt<et.length;tt++){const rt=et[tt].substring(0,et[tt].lastIndexOf("/"));if(_e!==rt)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${_e}' but got '${rt}'`)}return _e.replace(/\/$/,"")+"/"}function isUriList(et){return et.find(_e=>typeof _e!="string")===void 0}function isMetadataList(et){return et.find(_e=>typeof _e!="object")===void 0}class DelayedReveal{constructor(_e,tt,rt,nt){_defineProperty$3(this,"featureName",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"nextTokenIdToMintFn",void 0),this.featureName=rt,this.nextTokenIdToMintFn=nt,this.contractWrapper=_e,this.storage=tt}async createDelayedRevealBatch(_e,tt,rt,nt){if(!rt)throw new Error("Password is required");const it=await this.storage.uploadBatch([CommonNFTInput.parse(_e)],{rewriteFileNames:{fileStartNumber:0}}),at=getBaseUriFromBatch(it),st=await this.nextTokenIdToMintFn(),ot=await this.storage.uploadBatch(tt.map(At=>CommonNFTInput.parse(At)),{onProgress:nt==null?void 0:nt.onProgress,rewriteFileNames:{fileStartNumber:st.toNumber()}}),ct=getBaseUriFromBatch(ot),lt=await this.contractWrapper.readContract.getBaseURICount(),ut=await this.hashDelayRevealPassword(lt,rt),dt=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ct),ut);let mt;if(await this.isLegacyContract())mt=dt;else{const At=await this.contractWrapper.getChainID(),kt=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ct),ut,At]);mt=defaultAbiCoder.encode(["bytes","bytes32"],[dt,kt])}const bt=await this.contractWrapper.sendTransaction("lazyMint",[ot.length,at.endsWith("/")?at:`${at}/`,mt]),ht=this.contractWrapper.parseLogs("TokensLazyMinted",bt==null?void 0:bt.logs),yt=ht[0].args.startTokenId,wt=ht[0].args.endTokenId,xt=[];for(let At=yt;At.lte(wt);At=At.add(1))xt.push({id:At,receipt:bt});return xt}async reveal(_e,tt){if(!tt)throw new Error("Password is required");const rt=await this.hashDelayRevealPassword(_e,tt);try{const nt=await this.contractWrapper.callStatic().reveal(_e,rt);if(!nt.includes("://")||!nt.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[_e,rt])}}async getBatchesToReveal(){const _e=await this.contractWrapper.readContract.getBaseURICount();if(_e.isZero())return[];const tt=Array.from(Array(_e.toNumber()).keys()),rt=await Promise.all(tt.map(ct=>{if(hasFunction("getBatchIdAtIndex",this.contractWrapper))return this.contractWrapper.readContract.getBatchIdAtIndex(ct);if(hasFunction("baseURIIndices",this.contractWrapper))return this.contractWrapper.readContract.baseURIIndices(ct);throw new Error("Contract does not have getBatchIdAtIndex or baseURIIndices.")})),nt=rt.slice(0,rt.length-1),it=await Promise.all(Array.from([0,...nt]).map(ct=>this.getNftMetadata(ct.toString()))),at=await this.isLegacyContract(),ot=(await Promise.all(Array.from([...rt]).map(ct=>at?this.getLegacyEncryptedData(ct):this.contractWrapper.readContract.encryptedData(ct)))).map(ct=>hexDataLength(ct)>0?at?ct:defaultAbiCoder.decode(["bytes","bytes32"],ct)[0]:ct);return it.map((ct,lt)=>({batchId:BigNumber.from(lt),batchUri:ct.uri,placeholderMetadata:ct})).filter((ct,lt)=>hexDataLength(ot[lt])>0)}async hashDelayRevealPassword(_e,tt){const rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.readContract.address;return keccak256(["string","uint256","uint256","address"],[tt,rt,_e,nt])}async getNftMetadata(_e){return fetchTokenMetadataForContract(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),_e,this.storage)}async isLegacyContract(){if(hasFunction("contractVersion",this.contractWrapper))try{return await this.contractWrapper.readContract.contractVersion()<=2}catch{return!1}return!1}async getLegacyEncryptedData(_e){const rt=await new Contract(this.contractWrapper.readContract.address,DeprecatedAbi,this.contractWrapper.getProvider()).functions.encryptedBaseURI(_e);return rt.length>0?rt[0]:"0x"}}const FEATURE_TOKEN_CLAIM_CONDITIONS_V1={name:"ERC20ClaimConditionsV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase_V1"},abis:[ERC20Abi,IDropSinglePhaseV1],features:{}},FEATURE_TOKEN_CLAIM_CONDITIONS_V2={name:"ERC20ClaimConditionsV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase"},abis:[ERC20Abi,IDropSinglePhase],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V2={name:"ERC20ClaimPhasesV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[ERC20Abi,IDrop],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V1={name:"ERC20ClaimPhasesV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[DropERC20_V2Abi],features:{}},FEATURE_TOKEN_BURNABLE={name:"ERC20Burnable",namespace:"token.burn",docLinks:{sdk:"sdk.erc20burnable",contracts:"IBurnableERC20"},abis:[ERC20Abi,IBurnableERC20Abi],features:{}},FEATURE_TOKEN_SIGNATURE_MINTABLE={name:"ERC20SignatureMintable",namespace:"token.signature",docLinks:{sdk:"sdk.erc20signaturemintable",contracts:"ISignatureMintERC20"},abis:[ERC20Abi,ISignatureMintERC20Abi],features:{}},FEATURE_TOKEN_BATCH_MINTABLE={name:"ERC20BatchMintable",namespace:"token.mint.batch",docLinks:{sdk:"sdk.erc20batchmintable",contracts:"IMulticall"},abis:[ERC20Abi,IMintableERC20Abi,MulticallAbi],features:{}},FEATURE_TOKEN_MINTABLE={name:"ERC20Mintable",namespace:"token.mint",docLinks:{sdk:"sdk.erc20mintable",contracts:"IMintableERC20"},abis:[ERC20Abi,IMintableERC20Abi],features:{[FEATURE_TOKEN_BATCH_MINTABLE.name]:FEATURE_TOKEN_BATCH_MINTABLE}},FEATURE_TOKEN_PERMIT={name:"ERC20Permit",namespace:"token.permit",docLinks:{sdk:"sdk.erc20permit",contracts:"IERC20Permit"},abis:[ERC20Abi,IERC20PermitAbi],features:{}},FEATURE_TOKEN={name:"ERC20",namespace:"token",docLinks:{sdk:"sdk.erc20",contracts:"IERC20"},abis:[ERC20Abi],features:{[FEATURE_TOKEN_BURNABLE.name]:FEATURE_TOKEN_BURNABLE,[FEATURE_TOKEN_MINTABLE.name]:FEATURE_TOKEN_MINTABLE,[FEATURE_TOKEN_CLAIM_CONDITIONS_V1.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V1,[FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V2,[FEATURE_TOKEN_CLAIM_PHASES_V1.name]:FEATURE_TOKEN_CLAIM_PHASES_V1,[FEATURE_TOKEN_CLAIM_PHASES_V2.name]:FEATURE_TOKEN_CLAIM_PHASES_V2,[FEATURE_TOKEN_SIGNATURE_MINTABLE.name]:FEATURE_TOKEN_SIGNATURE_MINTABLE,[FEATURE_TOKEN_PERMIT.name]:FEATURE_TOKEN_PERMIT}},FEATURE_NFT_BURNABLE={name:"ERC721Burnable",namespace:"nft.burn",docLinks:{sdk:"sdk.erc721burnable",contracts:"IBurnableERC721"},abis:[Erc721Abi,IBurnableERC721Abi],features:{}},FEATURE_NFT_REVEALABLE={name:"ERC721Revealable",namespace:"nft.drop.revealer",docLinks:{sdk:"sdk.delayedreveal",contracts:"DelayedReveal"},abis:[Erc721Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_NFT_TIERED_DROP={name:"ERC721TieredDrop",namespace:"nft.tieredDrop",docLinks:{sdk:"sdk.erc721tiereddrop",contracts:"TieredDrop"},abis:[Erc721Abi,TieredDropAbi],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V1={name:"ERC721ClaimConditionsV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase_V1"},abis:[Erc721Abi,ILazyMintAbi,IDropSinglePhaseV1],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V2={name:"ERC721ClaimConditionsV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase"},abis:[Erc721Abi,ILazyMintAbi,IDropSinglePhase],features:{}},FEATURE_NFT_CLAIM_PHASES_V1={name:"ERC721ClaimPhasesV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[DropERC721_V3Abi],features:{}},FEATURE_NFT_CLAIM_PHASES_V2={name:"ERC721ClaimPhasesV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[Erc721Abi,ILazyMintAbi,IDrop],features:{}},FEATURE_NFT_CLAIM_CUSTOM={name:"ERC721ClaimCustom",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"IClaimableERC721"},abis:[Erc721Abi,ILazyMintAbi,IClaimableERC721],features:{}},FEATURE_NFT_LAZY_MINTABLE={name:"ERC721LazyMintable",namespace:"nft.drop",docLinks:{sdk:"sdk.erc721lazymintable",contracts:"LazyMint"},abis:[Erc721Abi,ILazyMintAbi],features:{[FEATURE_NFT_REVEALABLE.name]:FEATURE_NFT_REVEALABLE,[FEATURE_NFT_CLAIM_CUSTOM.name]:FEATURE_NFT_CLAIM_CUSTOM,[FEATURE_NFT_CLAIM_CONDITIONS_V1.name]:FEATURE_NFT_CLAIM_CONDITIONS_V1,[FEATURE_NFT_CLAIM_CONDITIONS_V2.name]:FEATURE_NFT_CLAIM_CONDITIONS_V2,[FEATURE_NFT_CLAIM_PHASES_V1.name]:FEATURE_NFT_CLAIM_PHASES_V1,[FEATURE_NFT_CLAIM_PHASES_V2.name]:FEATURE_NFT_CLAIM_PHASES_V2}},FEATURE_NFT_BATCH_MINTABLE={name:"ERC721BatchMintable",namespace:"nft.mint.batch",docLinks:{sdk:"sdk.erc721batchmintable",contracts:"IMulticall"},abis:[Erc721Abi,IMintableERC721Abi,MulticallAbi],features:{}},FEATURE_NFT_MINTABLE={name:"ERC721Mintable",namespace:"nft.mint",docLinks:{sdk:"sdk.erc721mintable",contracts:"IMintableERC721"},abis:[Erc721Abi,IMintableERC721Abi],features:{[FEATURE_NFT_BATCH_MINTABLE.name]:FEATURE_NFT_BATCH_MINTABLE}},FEATURE_NFT_SIGNATURE_MINTABLE_V2={name:"ERC721SignatureMintV2",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[Erc721Abi,SignatureMintERC721Abi],features:{}},FEATURE_NFT_SIGNATURE_MINTABLE_V1={name:"ERC721SignatureMintV1",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[SignatureMintERC721_V1Abi],features:{}},FEATURE_NFT_ENUMERABLE={name:"ERC721Enumerable",namespace:"nft.query.owned",docLinks:{sdk:"sdk.erc721enumerable",contracts:"IERC721Enumerable"},abis:[Erc721Abi,Erc721EnumerableAbi],features:{}},FEATURE_NFT_SUPPLY={name:"ERC721Supply",namespace:"nft.query",docLinks:{sdk:"sdk.erc721supply",contracts:"IERC721Supply"},abis:[Erc721Abi,Erc721SupplyAbi],features:{[FEATURE_NFT_ENUMERABLE.name]:FEATURE_NFT_ENUMERABLE}},FEATURE_NFT={name:"ERC721",namespace:"nft",docLinks:{sdk:"sdk.erc721",contracts:"IERC721"},abis:[Erc721Abi],features:{[FEATURE_NFT_BURNABLE.name]:FEATURE_NFT_BURNABLE,[FEATURE_NFT_SUPPLY.name]:FEATURE_NFT_SUPPLY,[FEATURE_NFT_MINTABLE.name]:FEATURE_NFT_MINTABLE,[FEATURE_NFT_LAZY_MINTABLE.name]:FEATURE_NFT_LAZY_MINTABLE,[FEATURE_NFT_SIGNATURE_MINTABLE_V1.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V1,[FEATURE_NFT_SIGNATURE_MINTABLE_V2.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V2,[FEATURE_NFT_TIERED_DROP.name]:FEATURE_NFT_TIERED_DROP}},FEATURE_EDITION_BURNABLE={name:"ERC1155Burnable",namespace:"edition.burn",docLinks:{sdk:"sdk.erc1155burnable",contracts:"IBurnableERC1155"},abis:[Erc1155Abi,IBurnableERC1155Abi],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V1={name:"ERC1155ClaimConditionsV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropSinglePhase1155_V1],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V2={name:"ERC1155ClaimConditionsV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropSinglePhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V2={name:"ERC1155ClaimPhasesV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropMultiPhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V1={name:"ERC1155ClaimPhasesV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[DropERC1155_V2Abi],features:{}},FEATURE_EDITION_CLAIM_CUSTOM={name:"ERC1155ClaimCustom",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"IClaimableERC1155"},abis:[Erc1155Abi,ILazyMintAbi,IClaimableERC1155],features:{}},FEATURE_EDITION_REVEALABLE={name:"ERC1155Revealable",namespace:"edition.drop.revealer",docLinks:{sdk:"sdk.drop.delayedreveal",contracts:"DelayedReveal"},abis:[Erc1155Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_EDITION_LAZY_MINTABLE_V2={name:"ERC1155LazyMintableV2",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[Erc1155Abi,ILazyMintAbi],features:{[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_CLAIM_CUSTOM.name]:FEATURE_EDITION_CLAIM_CUSTOM,[FEATURE_EDITION_CLAIM_CONDITIONS_V1.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V1,[FEATURE_EDITION_CLAIM_CONDITIONS_V2.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V2,[FEATURE_EDITION_CLAIM_PHASES_V2.name]:FEATURE_EDITION_CLAIM_PHASES_V2}},FEATURE_EDITION_LAZY_MINTABLE_V1={name:"ERC1155LazyMintableV1",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[DropERC1155_V2Abi],features:{[FEATURE_EDITION_CLAIM_PHASES_V1.name]:FEATURE_EDITION_CLAIM_PHASES_V1}},FEATURE_EDITION_SIGNATURE_MINTABLE={name:"ERC1155SignatureMintable",namespace:"edition.signature",docLinks:{sdk:"sdk.erc1155signaturemintable",contracts:"ISignatureMintERC1155"},abis:[Erc1155Abi,ISignatureMintERC1155Abi],features:{}},FEATURE_EDITION_BATCH_MINTABLE={name:"ERC1155BatchMintable",namespace:"edition.mint.batch",docLinks:{sdk:"sdk.erc1155batchmintable",contracts:"IMulticall"},abis:[Erc1155Abi,IMintableERC1155Abi,MulticallAbi],features:{}},FEATURE_EDITION_MINTABLE={name:"ERC1155Mintable",namespace:"edition.mint",docLinks:{sdk:"sdk.erc1155mintable",contracts:"IMintableERC1155"},abis:[Erc1155Abi,IMintableERC1155Abi],features:{[FEATURE_EDITION_BATCH_MINTABLE.name]:FEATURE_EDITION_BATCH_MINTABLE}},FEATURE_EDITION_ENUMERABLE={name:"ERC1155Enumerable",namespace:"edition.query",docLinks:{sdk:"sdk.erc1155",contracts:"IERC1155"},abis:[Erc1155Abi,Erc1155EnumerableAbi],features:{}},FEATURE_EDITION={name:"ERC1155",namespace:"edition",docLinks:{sdk:"sdk.erc1155enumerable",contracts:"IERC1155Enumerable"},abis:[Erc1155Abi],features:{[FEATURE_EDITION_BURNABLE.name]:FEATURE_EDITION_BURNABLE,[FEATURE_EDITION_ENUMERABLE.name]:FEATURE_EDITION_ENUMERABLE,[FEATURE_EDITION_MINTABLE.name]:FEATURE_EDITION_MINTABLE,[FEATURE_EDITION_LAZY_MINTABLE_V1.name]:FEATURE_EDITION_LAZY_MINTABLE_V1,[FEATURE_EDITION_LAZY_MINTABLE_V2.name]:FEATURE_EDITION_LAZY_MINTABLE_V2,[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_SIGNATURE_MINTABLE.name]:FEATURE_EDITION_SIGNATURE_MINTABLE}},SUPPORTED_FEATURES={[FEATURE_TOKEN.name]:FEATURE_TOKEN,[FEATURE_NFT.name]:FEATURE_NFT,[FEATURE_EDITION.name]:FEATURE_EDITION,[FEATURE_ROYALTY.name]:FEATURE_ROYALTY,[FEATURE_PLATFORM_FEE.name]:FEATURE_PLATFORM_FEE,[FEATURE_PRIMARY_SALE.name]:FEATURE_PRIMARY_SALE,[FEATURE_PERMISSIONS.name]:FEATURE_PERMISSIONS,[FEATURE_METADATA.name]:FEATURE_METADATA,[FEATURE_APPURI.name]:FEATURE_APPURI,[FEATURE_OWNER.name]:FEATURE_OWNER,[FEATURE_GASLESS.name]:FEATURE_GASLESS,[FEATURE_PACK_VRF.name]:FEATURE_PACK_VRF,[FEATURE_PLUGIN_ROUTER.name]:FEATURE_PLUGIN_ROUTER,[FEATURE_EXTENSION_ROUTER.name]:FEATURE_EXTENSION_ROUTER,[FEATURE_DIRECT_LISTINGS.name]:FEATURE_DIRECT_LISTINGS,[FEATURE_ENGLISH_AUCTIONS.name]:FEATURE_ENGLISH_AUCTIONS,[FEATURE_OFFERS.name]:FEATURE_OFFERS};let decoder;try{decoder=new TextDecoder}catch(et){}let src$1,srcEnd,position$1=0;const LEGACY_RECORD_INLINE_ID=105,RECORD_DEFINITIONS_ID=57342,RECORD_INLINE_ID=57343,BUNDLED_STRINGS_ID=57337,PACKED_REFERENCE_TAG_ID=6,STOP_CODE={};let currentDecoder={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings,referenceMap,currentExtensions=[],currentExtensionRanges=[],packedValues,dataView,restoreMapsAsObject,defaultOptions$1={useRecords:!1,mapsAsObjects:!0},sequentialMode=!1;class Decoder{constructor(_e){if(_e&&((_e.keyMap||_e._keyMap)&&!_e.useRecords&&(_e.useRecords=!1,_e.mapsAsObjects=!0),_e.useRecords===!1&&_e.mapsAsObjects===void 0&&(_e.mapsAsObjects=!0),_e.getStructures&&(_e.getShared=_e.getStructures),_e.getShared&&!_e.structures&&((_e.structures=[]).uninitialized=!0),_e.keyMap)){this.mapKey=new Map;for(let[tt,rt]of Object.entries(_e.keyMap))this.mapKey.set(rt,tt)}Object.assign(this,_e)}decodeKey(_e){return this.keyMap&&this.mapKey.get(_e)||_e}decode(_e,tt){if(src$1)return saveState(()=>(clearSource(),this?this.decode(_e,tt):Decoder.prototype.decode.call(defaultOptions$1,_e,tt)));srcEnd=tt>-1?tt:_e.length,position$1=0,srcStringEnd=0,srcString=null,bundledStrings=null,src$1=_e;try{dataView=_e.dataView||(_e.dataView=new DataView(_e.buffer,_e.byteOffset,_e.byteLength))}catch(rt){throw src$1=null,_e instanceof Uint8Array?rt:new Error("Source must be a Uint8Array or Buffer but was a "+(_e&&typeof _e=="object"?_e.constructor.name:typeof _e))}if(this instanceof Decoder){if(currentDecoder=this,packedValues=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return currentStructures=this.structures,checkedRead();(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentDecoder=defaultOptions$1,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]),packedValues=null;return checkedRead()}}function checkedRead(){try{let et=read();if(bundledStrings){if(position$1>=bundledStrings.postBundlePosition){let _e=new Error("Unexpected bundle position");throw _e.incomplete=!0,_e}position$1=bundledStrings.postBundlePosition,bundledStrings=null}if(position$1==srcEnd)currentStructures=null,src$1=null,referenceMap&&(referenceMap=null);else if(position$1>srcEnd){let _e=new Error("Unexpected end of CBOR data");throw _e.incomplete=!0,_e}else if(!sequentialMode)throw new Error("Data read, but end of buffer not reached");return et}catch(et){throw clearSource(),(et instanceof RangeError||et.message.startsWith("Unexpected end of buffer"))&&(et.incomplete=!0),et}}function read(){let et=src$1[position$1++],_e=et>>5;if(et=et&31,et>23)switch(et){case 24:et=src$1[position$1++];break;case 25:if(_e==7)return getFloat16();et=dataView.getUint16(position$1),position$1+=2;break;case 26:if(_e==7){let tt=dataView.getFloat32(position$1);if(currentDecoder.useFloat32>2){let rt=mult10[(src$1[position$1]&127)<<1|src$1[position$1+1]>>7];return position$1+=4,(rt*tt+(tt>0?.5:-.5)>>0)/rt}return position$1+=4,tt}et=dataView.getUint32(position$1),position$1+=4;break;case 27:if(_e==7){let tt=dataView.getFloat64(position$1);return position$1+=8,tt}if(_e>1){if(dataView.getUint32(position$1)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");et=dataView.getUint32(position$1+4)}else currentDecoder.int64AsNumber?(et=dataView.getUint32(position$1)*4294967296,et+=dataView.getUint32(position$1+4)):et=dataView.getBigUint64(position$1);position$1+=8;break;case 31:switch(_e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let tt=[],rt,nt=0;for(;(rt=read())!=STOP_CODE;)tt[nt++]=rt;return _e==4?tt:_e==3?tt.join(""):Buffer.concat(tt);case 5:let it;if(currentDecoder.mapsAsObjects){let at={};if(currentDecoder.keyMap)for(;(it=read())!=STOP_CODE;)at[safeKey(currentDecoder.decodeKey(it))]=read();else for(;(it=read())!=STOP_CODE;)at[safeKey(it)]=read();return at}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let at=new Map;if(currentDecoder.keyMap)for(;(it=read())!=STOP_CODE;)at.set(currentDecoder.decodeKey(it),read());else for(;(it=read())!=STOP_CODE;)at.set(it,read());return at}case 7:return STOP_CODE;default:throw new Error("Invalid major type for indefinite length "+_e)}default:throw new Error("Unknown token "+et)}switch(_e){case 0:return et;case 1:return~et;case 2:return readBin(et);case 3:if(srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=et)-srcStringStart);if(srcStringEnd==0&&srcEnd<140&&et<32){let nt=et<16?shortStringInJS(et):longStringInJS(et);if(nt!=null)return nt}return readFixedString(et);case 4:let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=read();return tt;case 5:if(currentDecoder.mapsAsObjects){let nt={};if(currentDecoder.keyMap)for(let it=0;it<et;it++)nt[safeKey(currentDecoder.decodeKey(read()))]=read();else for(let it=0;it<et;it++)nt[safeKey(read())]=read();return nt}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let nt=new Map;if(currentDecoder.keyMap)for(let it=0;it<et;it++)nt.set(currentDecoder.decodeKey(read()),read());else for(let it=0;it<et;it++)nt.set(read(),read());return nt}case 6:if(et>=BUNDLED_STRINGS_ID){let nt=currentStructures[et&8191];if(nt)return nt.read||(nt.read=createStructureReader(nt)),nt.read();if(et<65536){if(et==RECORD_INLINE_ID)return recordDefinition(read());if(et==RECORD_DEFINITIONS_ID){let it=readJustLength(),at=read();for(let st=2;st<it;st++)recordDefinition([at++,read()]);return read()}else if(et==BUNDLED_STRINGS_ID)return readBundleExt();if(currentDecoder.getShared&&(loadShared(),nt=currentStructures[et&8191],nt))return nt.read||(nt.read=createStructureReader(nt)),nt.read()}}let rt=currentExtensions[et];if(rt)return rt.handlesRead?rt(read):rt(read());{let nt=read();for(let it=0;it<currentExtensionRanges.length;it++){let at=currentExtensionRanges[it](et,nt);if(at!==void 0)return at}return new Tag(nt,et)}case 7:switch(et){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let nt=(packedValues||getPackedValues())[et];if(nt!==void 0)return nt;throw new Error("Unknown token "+et)}default:if(isNaN(et)){let nt=new Error("Unexpected end of CBOR data");throw nt.incomplete=!0,nt}throw new Error("Unknown CBOR token "+et)}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(et){function _e(){let tt=src$1[position$1++];if(tt=tt&31,tt>23)switch(tt){case 24:tt=src$1[position$1++];break;case 25:tt=dataView.getUint16(position$1),position$1+=2;break;case 26:tt=dataView.getUint32(position$1),position$1+=4;break;default:throw new Error("Expected array header, but got "+src$1[position$1-1])}let rt=this.compiledReader;for(;rt;){if(rt.propertyCount===tt)return rt(read);rt=rt.next}if(this.slowReads++>=3){let it=this.length==tt?this:this.slice(0,tt);return rt=currentDecoder.keyMap?new Function("r","return {"+it.map(at=>currentDecoder.decodeKey(at)).map(at=>validName.test(at)?safeKey(at)+":r()":"["+JSON.stringify(at)+"]:r()").join(",")+"}"):new Function("r","return {"+it.map(at=>validName.test(at)?safeKey(at)+":r()":"["+JSON.stringify(at)+"]:r()").join(",")+"}"),this.compiledReader&&(rt.next=this.compiledReader),rt.propertyCount=tt,this.compiledReader=rt,rt(read)}let nt={};if(currentDecoder.keyMap)for(let it=0;it<tt;it++)nt[safeKey(currentDecoder.decodeKey(this[it]))]=read();else for(let it=0;it<tt;it++)nt[safeKey(this[it])]=read();return nt}return et.slowReads=0,_e}function safeKey(et){return et==="__proto__"?"__proto_":et}let readFixedString=readStringJS;function readStringJS(et){let _e;if(et<16&&(_e=shortStringInJS(et)))return _e;if(et>64&&decoder)return decoder.decode(src$1.subarray(position$1,position$1+=et));const tt=position$1+et,rt=[];for(_e="";position$1<tt;){const nt=src$1[position$1++];if((nt&128)===0)rt.push(nt);else if((nt&224)===192){const it=src$1[position$1++]&63;rt.push((nt&31)<<6|it)}else if((nt&240)===224){const it=src$1[position$1++]&63,at=src$1[position$1++]&63;rt.push((nt&31)<<12|it<<6|at)}else if((nt&248)===240){const it=src$1[position$1++]&63,at=src$1[position$1++]&63,st=src$1[position$1++]&63;let ot=(nt&7)<<18|it<<12|at<<6|st;ot>65535&&(ot-=65536,rt.push(ot>>>10&1023|55296),ot=56320|ot&1023),rt.push(ot)}else rt.push(nt);rt.length>=4096&&(_e+=fromCharCode.apply(String,rt),rt.length=0)}return rt.length>0&&(_e+=fromCharCode.apply(String,rt)),_e}let fromCharCode=String.fromCharCode;function longStringInJS(et){let _e=position$1,tt=new Array(et);for(let rt=0;rt<et;rt++){const nt=src$1[position$1++];if((nt&128)>0){position$1=_e;return}tt[rt]=nt}return fromCharCode.apply(String,tt)}function shortStringInJS(et){if(et<4)if(et<2){if(et===0)return"";{let _e=src$1[position$1++];if((_e&128)>1){position$1-=1;return}return fromCharCode(_e)}}else{let _e=src$1[position$1++],tt=src$1[position$1++];if((_e&128)>0||(tt&128)>0){position$1-=2;return}if(et<3)return fromCharCode(_e,tt);let rt=src$1[position$1++];if((rt&128)>0){position$1-=3;return}return fromCharCode(_e,tt,rt)}else{let _e=src$1[position$1++],tt=src$1[position$1++],rt=src$1[position$1++],nt=src$1[position$1++];if((_e&128)>0||(tt&128)>0||(rt&128)>0||(nt&128)>0){position$1-=4;return}if(et<6){if(et===4)return fromCharCode(_e,tt,rt,nt);{let it=src$1[position$1++];if((it&128)>0){position$1-=5;return}return fromCharCode(_e,tt,rt,nt,it)}}else if(et<8){let it=src$1[position$1++],at=src$1[position$1++];if((it&128)>0||(at&128)>0){position$1-=6;return}if(et<7)return fromCharCode(_e,tt,rt,nt,it,at);let st=src$1[position$1++];if((st&128)>0){position$1-=7;return}return fromCharCode(_e,tt,rt,nt,it,at,st)}else{let it=src$1[position$1++],at=src$1[position$1++],st=src$1[position$1++],ot=src$1[position$1++];if((it&128)>0||(at&128)>0||(st&128)>0||(ot&128)>0){position$1-=8;return}if(et<10){if(et===8)return fromCharCode(_e,tt,rt,nt,it,at,st,ot);{let ct=src$1[position$1++];if((ct&128)>0){position$1-=9;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct)}}else if(et<12){let ct=src$1[position$1++],lt=src$1[position$1++];if((ct&128)>0||(lt&128)>0){position$1-=10;return}if(et<11)return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct,lt);let ut=src$1[position$1++];if((ut&128)>0){position$1-=11;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct,lt,ut)}else{let ct=src$1[position$1++],lt=src$1[position$1++],ut=src$1[position$1++],dt=src$1[position$1++];if((ct&128)>0||(lt&128)>0||(ut&128)>0||(dt&128)>0){position$1-=12;return}if(et<14){if(et===12)return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct,lt,ut,dt);{let mt=src$1[position$1++];if((mt&128)>0){position$1-=13;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct,lt,ut,dt,mt)}}else{let mt=src$1[position$1++],gt=src$1[position$1++];if((mt&128)>0||(gt&128)>0){position$1-=14;return}if(et<15)return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct,lt,ut,dt,mt,gt);let bt=src$1[position$1++];if((bt&128)>0){position$1-=15;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ot,ct,lt,ut,dt,mt,gt,bt)}}}}}function readBin(et){return currentDecoder.copyBuffers?Uint8Array.prototype.slice.call(src$1,position$1,position$1+=et):src$1.subarray(position$1,position$1+=et)}let f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);function getFloat16(){let et=src$1[position$1++],_e=src$1[position$1++],tt=(et&127)>>2;if(tt===31)return _e||et&3?NaN:et&128?-1/0:1/0;if(tt===0){let rt=((et&3)<<8|_e)/16777216;return et&128?-rt:rt}return u8Array[3]=et&128|(tt>>1)+56,u8Array[2]=(et&7)<<5|_e>>3,u8Array[1]=_e<<5,u8Array[0]=0,f32Array[0]}class Tag{constructor(_e,tt){this.value=_e,this.tag=tt}}currentExtensions[0]=et=>new Date(et);currentExtensions[1]=et=>new Date(Math.round(et*1e3));currentExtensions[2]=et=>{let _e=BigInt(0);for(let tt=0,rt=et.byteLength;tt<rt;tt++)_e=BigInt(et[tt])+_e<<BigInt(8);return _e};currentExtensions[3]=et=>BigInt(-1)-currentExtensions[2](et);currentExtensions[4]=et=>Number(et[1]+"e"+et[0]);currentExtensions[5]=et=>et[1]*Math.exp(et[0]*Math.log(2));const recordDefinition=et=>{let _e=et[0]-57344,tt=et[1],rt=currentStructures[_e];rt&&rt.isShared&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[_e]=rt),currentStructures[_e]=tt,tt.read=createStructureReader(tt);let nt={};if(currentDecoder.keyMap)for(let it=2,at=et.length;it<at;it++){let st=currentDecoder.decodeKey(tt[it-2]);nt[safeKey(st)]=et[it]}else for(let it=2,at=et.length;it<at;it++){let st=tt[it-2];nt[safeKey(st)]=et[it]}return nt};currentExtensions[LEGACY_RECORD_INLINE_ID]=recordDefinition;currentExtensions[14]=et=>bundledStrings?bundledStrings[0].slice(bundledStrings.position0,bundledStrings.position0+=et):new Tag(et,14);currentExtensions[15]=et=>bundledStrings?bundledStrings[1].slice(bundledStrings.position1,bundledStrings.position1+=et):new Tag(et,15);let glbl={Error,RegExp};currentExtensions[27]=et=>(glbl[et[0]]||Error)(et[1],et[2]);const packedTable=et=>{if(src$1[position$1++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let _e=et();return packedValues=packedValues?_e.concat(packedValues.slice(_e.length)):_e,packedValues.prefixes=et(),packedValues.suffixes=et(),et()};packedTable.handlesRead=!0;currentExtensions[51]=packedTable;currentExtensions[PACKED_REFERENCE_TAG_ID]=et=>{if(!packedValues)if(currentDecoder.getShared)loadShared();else return new Tag(et,PACKED_REFERENCE_TAG_ID);if(typeof et=="number")return packedValues[16+(et>=0?2*et:-2*et-1)];throw new Error("No support for non-integer packed references yet")};currentExtensions[25]=et=>stringRefs[et];currentExtensions[256]=et=>{stringRefs=[];try{return et()}finally{stringRefs=null}};currentExtensions[256].handlesRead=!0;currentExtensions[28]=et=>{referenceMap||(referenceMap=new Map,referenceMap.id=0);let _e=referenceMap.id++,tt=src$1[position$1],rt;tt>>5==4?rt=[]:rt={};let nt={target:rt};referenceMap.set(_e,nt);let it=et();return nt.used?Object.assign(rt,it):(nt.target=it,it)};currentExtensions[28].handlesRead=!0;currentExtensions[29]=et=>{let _e=referenceMap.get(et);return _e.used=!0,_e.target};currentExtensions[258]=et=>new Set(et);(currentExtensions[259]=et=>(currentDecoder.mapsAsObjects&&(currentDecoder.mapsAsObjects=!1,restoreMapsAsObject=!0),et())).handlesRead=!0;function combine$2(et,_e){return typeof et=="string"?et+_e:et instanceof Array?et.concat(_e):Object.assign({},et,_e)}function getPackedValues(){if(!packedValues)if(currentDecoder.getShared)loadShared();else throw new Error("No packed values available");return packedValues}const SHARED_DATA_TAG_ID=1399353956;currentExtensionRanges.push((et,_e)=>{if(et>=225&&et<=255)return combine$2(getPackedValues().prefixes[et-224],_e);if(et>=28704&&et<=32767)return combine$2(getPackedValues().prefixes[et-28672],_e);if(et>=1879052288&&et<=2147483647)return combine$2(getPackedValues().prefixes[et-1879048192],_e);if(et>=216&&et<=223)return combine$2(_e,getPackedValues().suffixes[et-216]);if(et>=27647&&et<=28671)return combine$2(_e,getPackedValues().suffixes[et-27639]);if(et>=1811940352&&et<=1879048191)return combine$2(_e,getPackedValues().suffixes[et-1811939328]);if(et==SHARED_DATA_TAG_ID)return{packedValues,structures:currentStructures.slice(0),version:_e};if(et==55799)return _e});const isLittleEndianMachine=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,typedArrays$2=[Uint8Array],typedArrayTags=[64];for(let et=0;et<typedArrays$2.length;et++)registerTypedArray(typedArrays$2[et],typedArrayTags[et]);function registerTypedArray(et,_e){let tt="get"+et.name.slice(0,-5);typeof et!="function"&&(et=null);let rt=et.BYTES_PER_ELEMENT;for(let nt=0;nt<2;nt++){if(!nt&&rt==1)continue;let it=rt==2?1:rt==4?2:3;currentExtensions[nt?_e:_e-4]=rt==1||nt==isLittleEndianMachine?at=>{if(!et)throw new Error("Could not find typed array for code "+_e);return new et(Uint8Array.prototype.slice.call(at,0).buffer)}:at=>{if(!et)throw new Error("Could not find typed array for code "+_e);let st=new DataView(at.buffer,at.byteOffset,at.byteLength),ot=at.length>>it,ct=new et(ot),lt=st[tt];for(let ut=0;ut<ot;ut++)ct[ut]=lt.call(st,ut<<it,nt);return ct}}}function readBundleExt(){let et=readJustLength(),_e=position$1+read();for(let rt=2;rt<et;rt++){let nt=readJustLength();position$1+=nt}let tt=position$1;return position$1=_e,bundledStrings=[readStringJS(readJustLength()),readStringJS(readJustLength())],bundledStrings.position0=0,bundledStrings.position1=0,bundledStrings.postBundlePosition=position$1,position$1=tt,read()}function readJustLength(){let et=src$1[position$1++]&31;if(et>23)switch(et){case 24:et=src$1[position$1++];break;case 25:et=dataView.getUint16(position$1),position$1+=2;break;case 26:et=dataView.getUint32(position$1),position$1+=4;break}return et}function loadShared(){if(currentDecoder.getShared){let et=saveState(()=>(src$1=null,currentDecoder.getShared()))||{},_e=et.structures||[];currentDecoder.sharedVersion=et.version,packedValues=currentDecoder.sharedValues=et.packedValues,currentStructures===!0?currentDecoder.structures=currentStructures=_e:currentStructures.splice.apply(currentStructures,[0,_e.length].concat(_e))}}function saveState(et){let _e=srcEnd,tt=position$1,rt=srcStringStart,nt=srcStringEnd,it=srcString,at=referenceMap,st=bundledStrings,ot=new Uint8Array(src$1.slice(0,srcEnd)),ct=currentStructures,lt=currentDecoder,ut=sequentialMode,dt=et();return srcEnd=_e,position$1=tt,srcStringStart=rt,srcStringEnd=nt,srcString=it,referenceMap=at,bundledStrings=st,src$1=ot,sequentialMode=ut,currentStructures=ct,currentDecoder=lt,dataView=new DataView(src$1.buffer,src$1.byteOffset,src$1.byteLength),dt}function clearSource(){src$1=null,referenceMap=null,currentStructures=null}const mult10=new Array(147);for(let et=0;et<256;et++)mult10[et]=Number("1e"+Math.floor(45.15-et*.30103));const defaultDecoder=new Decoder({useRecords:!1}),decode$2=defaultDecoder.decode;function matchesAbiInterface(et,_e){return hasMatchingAbi(et,_e.abis)}function hasMatchingAbi(et,_e){const tt=extractFunctionsFromAbi(et),rt=_e.flatMap(it=>extractFunctionsFromAbi(it));return tt.filter(it=>rt.find(st=>st.name===it.name&&st.inputs.length===it.inputs.length&&st.inputs.every((ot,ct)=>{var lt;return ot.type==="tuple"||ot.type==="tuple[]"?ot.type===it.inputs[ct].type&&((lt=ot.components)==null?void 0:lt.every((ut,dt)=>{var mt,gt;return ut.type===((gt=(mt=it.inputs[ct].components)==null?void 0:mt[dt])==null?void 0:gt.type)})):ot.type===it.inputs[ct].type}))!==void 0).length===rt.length}async function extractConstructorParams(et,_e){const tt=await fetchPreDeployMetadata(et,_e);return extractConstructorParamsFromAbi(tt.abi)}async function extractFunctions(et,_e){const tt=await fetchPreDeployMetadata(et,_e);return extractFunctionsFromAbi(tt.abi,tt.metadata)}function extractCommentFromMetadata(et,_e,tt){var rt,nt,it,at,st,ot,ct,lt,ut,dt;return((st=(at=(nt=(rt=_e==null?void 0:_e.output)==null?void 0:rt.userdoc)==null?void 0:nt[tt])==null?void 0:at[Object.keys(((it=_e==null?void 0:_e.output)==null?void 0:it.userdoc[tt])||{}).find(mt=>mt.includes(et||"unknown"))||""])==null?void 0:st.notice)||((dt=(ut=(ct=(ot=_e==null?void 0:_e.output)==null?void 0:ot.devdoc)==null?void 0:ct[tt])==null?void 0:ut[Object.keys(((lt=_e==null?void 0:_e.output)==null?void 0:lt.devdoc[tt])||{}).find(mt=>mt.includes(et||"unknown"))||""])==null?void 0:dt.details)}function extractConstructorParamsFromAbi(et){for(const _e of et)if(_e.type==="constructor")return _e.inputs||[];return[]}function extractFunctionParamsFromAbi(et,_e){for(const tt of et)if(tt.type==="function"&&tt.name===_e)return tt.inputs||[];return[]}function extractFunctionsFromAbi(et,_e){var nt,it,at,st;const tt=(et||[]).filter(ot=>ot.type==="function"),rt=[];for(const ot of tt){const ct=extractCommentFromMetadata(ot.name,_e,"methods"),lt=((it=(nt=ot.inputs)==null?void 0:nt.map(bt=>`${bt.name||"key"}: ${toJSType(bt)}`))==null?void 0:it.join(", "))||"",ut=lt?`, ${lt}`:"",dt=(st=(at=ot.outputs)==null?void 0:at.map(bt=>toJSType(bt,!0)))==null?void 0:st.join(", "),mt=dt?`: Promise<${dt}>`:": Promise<TransactionResult>",gt=`contract.call("${ot.name}"${ut})${mt}`;rt.push({inputs:ot.inputs||[],outputs:ot.outputs||[],name:ot.name||"unknown",signature:gt,stateMutability:ot.stateMutability||"",comment:ct})}return rt}function extractEventsFromAbi(et,_e){const tt=(et||[]).filter(nt=>nt.type==="event"),rt=[];for(const nt of tt){const it=extractCommentFromMetadata(nt.name,_e,"events");rt.push({inputs:nt.inputs||[],outputs:nt.outputs||[],name:nt.name||"unknown",comment:it})}return rt}function toJSType(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,rt=et.type,nt=!1;return rt.endsWith("[]")&&(nt=!0,rt=rt.slice(0,-2)),rt.startsWith("bytes")&&(rt="BytesLike"),(rt.startsWith("uint")||rt.startsWith("int"))&&(rt=_e?"BigNumber":"BigNumberish"),rt.startsWith("bool")&&(rt="boolean"),rt==="address"&&(rt="string"),rt==="tuple"&&et.components&&(rt=`{ ${et.components.map(it=>toJSType(it,!1,!0)).join(", ")} }`),nt&&(rt+="[]"),tt&&(rt=`${et.name}: ${rt}`),rt}function extractMinimalProxyImplementationAddress(et){if(et.startsWith("0x363d3d373d3d3d363d73"))return`0x${et.slice(22,62)}`;if(et.startsWith("0x36603057343d5230"))return`0x${et.slice(122,162)}`;if(et.startsWith("0x3d3d3d3d363d3d37363d73"))return`0x${et.slice(24,64)}`;if(et.startsWith("0x366000600037611000600036600073"))return`0x${et.slice(32,72)}`}async function resolveContractUriFromAddress(et,_e){const tt=await _e.getCode(et);if(tt==="0x"){const rt=await _e.getNetwork();throw new Error(`Contract at ${et} does not exist on chain '${rt.name}' (chainId: ${rt.chainId})`)}try{const rt=extractMinimalProxyImplementationAddress(tt);if(rt)return await resolveContractUriFromAddress(rt,_e)}catch{}try{const rt=await _e.getStorageAt(et,BigNumber.from("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc")),nt=hexStripZeros(rt);if(nt!=="0x")return await resolveContractUriFromAddress(nt,_e)}catch{}return await extractIPFSHashFromBytecode(tt)}function extractIPFSHashFromBytecode(et){const _e=hexToBytes(et),tt=_e[_e.length-2]*256+_e[_e.length-1],rt=Uint8Array.from(_e.slice(_e.length-2-tt,-2)),nt=decode$2(rt);if("ipfs"in nt&&nt.ipfs)try{return`ipfs://${bs58.encode(nt.ipfs)}`}catch(it){console.warn("feature-detection ipfs cbor failed",it)}}function hexToBytes(et){if(et=et.toString(16),et.startsWith("0x")||(et=`0x${et}`),!isHexStrict(et))throw new Error(`Given value "${et}" is not a valid hex string.`);et=et.replace(/^0x/i,"");const _e=[];for(let tt=0;tt<et.length;tt+=2)_e.push(parseInt(et.slice(tt,tt+2),16));return _e}function isHexStrict(et){return(typeof et=="string"||typeof et=="number")&&/^(-)?0x[0-9a-f]*$/i.test(et.toString())}async function fetchRawPredeployMetadata(et,_e){return PreDeployMetadata.parse(JSON.parse(await(await _e.download(et)).text()))}async function fetchPreDeployMetadata(et,_e){const tt=await fetchRawPredeployMetadata(et,_e),rt=await(await _e.download(tt.bytecodeUri)).text(),nt=await fetchContractMetadata(tt.metadataUri,_e);return PreDeployMetadataFetchedSchema.parse({...tt,...nt,bytecode:rt})}async function fetchExtendedReleaseMetadata(et,_e){const tt=await(await _e.download(et)).text();return FullPublishMetadataSchemaOutput.parse(JSON.parse(tt))}function detectFeatures(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SUPPORTED_FEATURES;const tt={};for(const rt in _e){const nt=_e[rt],it=matchesAbiInterface(et,nt),at=detectFeatures(et,nt.features);tt[rt]={...nt,features:at,enabled:it}}return tt}function extractFeatures(et,_e){if(!!et)for(const tt in et){const rt=et[tt];rt.enabled&&_e.push(rt),extractFeatures(rt.features,_e)}}function getAllDetectedFeatureNames(et){const _e=[];return extractFeatures(detectFeatures(et),_e),_e.map(tt=>tt.name)}function isFeatureEnabled(et,_e){const tt=detectFeatures(et);return _featureEnabled(tt,_e)}function assertEnabled(et,_e){if(!et)throw new ExtensionNotImplementedError(_e);return et}function detectContractFeature(et,_e){return isFeatureEnabled(AbiSchema.parse(et.abi),_e)}function _featureEnabled(et,_e){const tt=Object.keys(et);if(!tt.includes(_e)){let nt=!1;for(const it of tt){const at=et[it];if(nt=_featureEnabled(at.features,_e),nt)break}return nt}return et[_e].enabled}function hasFunction(et,_e){return et in _e.readContract.functions}function buildTransactionFunction(et){async function _e(){return(await et(...arguments)).execute()}return _e.prepare=et,_e}async function defaultGaslessSendFunction(et,_e,tt,rt){return rt&&"biconomy"in rt?biconomySendFunction(et,_e,tt,rt):defenderSendFunction(et,_e,tt,rt)}async function biconomySendFunction(et,_e,tt,rt){var ut;invariant(rt&&"biconomy"in rt,"calling biconomySendFunction without biconomy"),invariant(_e&&tt,"signer and provider must be set");const nt=new Contract(getContractAddressByChainId(et.chainId,"biconomyForwarder"),BiconomyForwarderAbi,tt),it=0,at=await getAndIncrementNonce(nt,"getNonce",[et.from,it]),st={from:et.from,to:et.to,token:AddressZero,txGas:et.gasLimit.toNumber(),tokenGasPrice:"0",batchId:it,batchNonce:at.toNumber(),deadline:Math.floor(Date.now()/1e3+(rt&&"biconomy"in rt&&((ut=rt.biconomy)==null?void 0:ut.deadlineSeconds)||3600)),data:et.data},ot=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[st.from,st.to,st.token,st.txGas,st.tokenGasPrice,st.batchId,st.batchNonce,st.deadline,keccak256$1(st.data)])),ct=await _e.signMessage(ot),lt=await fetch$1("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:et.from,apiId:rt.biconomy.apiId,params:[st,ct],to:et.to,gasLimit:et.gasLimit.toHexString()}),headers:{"x-api-key":rt.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(lt.ok){const dt=await lt.json();if(!dt.txHash)throw new Error(`relay transaction failed: ${dt.log}`);return dt.txHash}throw new Error(`relay transaction failed with status: ${lt.status} (${lt.statusText})`)}async function defenderSendFunction(et,_e,tt,rt){invariant(rt&&"openzeppelin"in rt,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options"),invariant(_e,"provider is not set"),invariant(tt,"provider is not set");const nt=rt.openzeppelin.relayerForwarderAddress||(rt.openzeppelin.useEOAForwarder?CONTRACT_ADDRESSES[et.chainId].openzeppelinForwarderEOA:CONTRACT_ADDRESSES[et.chainId].openzeppelinForwarder),it=new Contract(nt,ForwarderABI,tt),at=await getAndIncrementNonce(it,"getNonce",[et.from]);let st,ot,ct;rt.experimentalChainlessSupport?(st={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:nt},ot={ForwardRequest:ChainAwareForwardRequest},ct={from:et.from,to:et.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(et.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:et.data,chainid:BigNumber.from(et.chainId).toString()}):(st={name:"GSNv2 Forwarder",version:"0.0.1",chainId:et.chainId,verifyingContract:nt},ot={ForwardRequest},ct={from:et.from,to:et.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(et.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:et.data});let lt;if(et.functionName==="approve"&&et.functionArgs.length===2){const gt=et.functionArgs[0],bt=et.functionArgs[1],{message:ht,signature:yt}=await signEIP2612Permit(_e,et.to,et.from,gt,bt),{r:wt,s:xt,v:At}=splitSignature(yt);ct={to:et.to,owner:ht.owner,spender:ht.spender,value:BigNumber.from(ht.value).toString(),nonce:BigNumber.from(ht.nonce).toString(),deadline:BigNumber.from(ht.deadline).toString(),r:wt,s:xt,v:At},lt=yt}else{const{signature:gt}=await signTypedDataInternal(_e,st,ot,ct);lt=gt}let ut="forward";ct!=null&&ct.owner&&(ut="permit");const dt=JSON.stringify({request:ct,signature:lt,forwarderAddress:nt,type:ut}),mt=await fetch$1(rt.openzeppelin.relayerUrl,{method:"POST",body:dt});if(mt.ok){const gt=await mt.json();if(!gt.result)throw new Error(`Relay transaction failed: ${gt.message}`);return JSON.parse(gt.result).txHash}throw new Error(`relay transaction failed with status: ${mt.status} (${mt.statusText})`)}let ListingType;(function(et){et[et.Direct=0]="Direct",et[et.Auction=1]="Auction"})(ListingType||(ListingType={}));let Status;(function(et){et[et.UNSET=0]="UNSET",et[et.Created=1]="Created",et[et.Completed=2]="Completed",et[et.Cancelled=3]="Cancelled",et[et.Active=4]="Active",et[et.Expired=5]="Expired"})(Status||(Status={}));let ProposalState;(function(et){et[et.Pending=0]="Pending",et[et.Active=1]="Active",et[et.Canceled=2]="Canceled",et[et.Defeated=3]="Defeated",et[et.Succeeded=4]="Succeeded",et[et.Queued=5]="Queued",et[et.Expired=6]="Expired",et[et.Executed=7]="Executed"})(ProposalState||(ProposalState={}));let VoteType;(function(et){et[et.Against=0]="Against",et[et.For=1]="For",et[et.Abstain=2]="Abstain"})(VoteType||(VoteType={}));let ClaimEligibility;(function(et){et.NotEnoughSupply="There is not enough supply to claim.",et.AddressNotAllowed="This address is not on the allowlist.",et.WaitBeforeNextClaimTransaction="Not enough time since last claim transaction. Please wait.",et.AlreadyClaimed="You have already claimed the token.",et.NotEnoughTokens="There are not enough tokens in the wallet to pay for the claim.",et.NoActiveClaimPhase="There is no active claim phase at the moment. Please check back in later.",et.NoClaimConditionSet="There is no claim condition set.",et.NoWallet="No wallet connected.",et.Unknown="No claim conditions found."})(ClaimEligibility||(ClaimEligibility={}));class Transaction{static fromContractWrapper(_e){const tt=_e.contractWrapper.getSigner();if(!tt)throw new Error("Cannot create a transaction without a signer. Please ensure that you have a connected signer.");const rt={..._e,contract:_e.contractWrapper.writeContract,provider:_e.contractWrapper.getProvider(),signer:tt,gasless:_e.contractWrapper.options.gasless};return new Transaction(rt)}static async fromContractInfo(_e){const tt=_e.storage||new ThirdwebStorage;let rt=_e.contractAbi;if(!rt)try{rt=(await fetchContractMetadataFromAddress(_e.contractAddress,_e.provider,tt)).abi}catch{throw new Error(`Could resolve contract metadata for address ${_e.contractAddress}. Please pass the contract ABI manually with the 'contractAbi' option.`)}const nt=new Contract(_e.contractAddress,rt,_e.provider),it={..._e,storage:tt,contract:nt};return new Transaction(it)}constructor(_e){_defineProperty$3(this,"contract",void 0),_defineProperty$3(this,"method",void 0),_defineProperty$3(this,"args",void 0),_defineProperty$3(this,"overrides",void 0),_defineProperty$3(this,"provider",void 0),_defineProperty$3(this,"signer",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"gaslessOptions",void 0),_defineProperty$3(this,"parse",void 0),this.method=_e.method,this.args=_e.args,this.overrides=_e.overrides||{},this.provider=_e.provider,this.signer=_e.signer,this.gaslessOptions=_e.gasless,this.parse=_e.parse,this.signer.provider||(this.signer=this.signer.connect(this.provider)),this.contract=_e.contract.connect(this.signer),this.storage=_e.storage||new ThirdwebStorage}getMethod(){return this.method}getArgs(){return this.args}getOverrides(){return this.overrides}getValue(){return this.overrides.value||0}getGaslessOptions(){return this.gaslessOptions}setArgs(_e){return this.args=_e,this}setOverrides(_e){return this.overrides=_e,this}updateOverrides(_e){return this.overrides={...this.overrides,..._e},this}setValue(_e){return this.updateOverrides({value:_e}),this}setGasLimit(_e){return this.updateOverrides({gasLimit:_e}),this}setGasPrice(_e){return this.updateOverrides({gasPrice:_e}),this}setNonce(_e){return this.updateOverrides({nonce:_e}),this}setMaxFeePerGas(_e){return this.updateOverrides({maxFeePerGas:_e}),this}setMaxPriorityFeePerGas(_e){return this.updateOverrides({maxPriorityFeePerGas:_e}),this}setType(_e){return this.updateOverrides({type:_e}),this}setAccessList(_e){return this.updateOverrides({accessList:_e}),this}setCustomData(_e){return this.updateOverrides({customData:_e}),this}setCcipReadEnabled(_e){return this.updateOverrides({ccipReadEnabled:_e}),this}setGaslessOptions(_e){return this.gaslessOptions=_e,this}setParse(_e){return this.parse=_e,this}encode(){return this.contract.interface.encodeFunctionData(this.method,this.args)}async sign(){const tt={...await this.getGasOverrides(),...this.overrides};tt.gasLimit||(tt.gasLimit=await this.estimateGasLimit());const rt=await this.contract.populateTransaction[this.method](...this.args,tt),nt=await this.contract.signer.populateTransaction(rt);return await this.contract.signer.signTransaction(nt)}async simulate(){if(!this.contract.callStatic[this.method])throw this.functionError();try{return await this.contract.callStatic[this.method](...this.args,...this.overrides.value?[{value:this.overrides.value}]:[])}catch(_e){throw await this.transactionError(_e)}}async estimateGasLimit(){if(!this.contract.estimateGas[this.method])throw this.functionError();try{return await this.contract.estimateGas[this.method](...this.args,this.overrides)}catch(_e){throw await this.simulate(),this.transactionError(_e)}}async estimateGasCost(){const _e=await this.estimateGasLimit(),tt=await this.getGasPrice(),rt=_e.mul(tt);return{ether:formatEther(rt),wei:rt}}async send(){if(!this.contract.functions[this.method])throw this.functionError();if(this.gaslessOptions&&("openzeppelin"in this.gaslessOptions||"biconomy"in this.gaslessOptions))return this.sendGasless();const tt={...await this.getGasOverrides(),...this.overrides};tt.gasLimit||(tt.gasLimit=await this.estimateGasLimit());try{return await this.contract.functions[this.method](...this.args,tt)}catch(rt){const nt=await(tt.from||this.getSignerAddress()),it=await(tt.value?tt.value:0),at=await this.provider.getBalance(nt);throw at.eq(0)||it&&at.lt(it)?await this.transactionError(new Error("You have insufficient funds in your account to execute this transaction.")):await this.transactionError(rt)}}async execute(){const _e=await this.send();let tt;try{tt=await _e.wait()}catch(rt){throw await this.simulate(),await this.transactionError(rt)}return this.parse?this.parse(tt):{receipt:tt}}async getSignerAddress(){return this.signer.getAddress()}async sendGasless(){var dt;invariant(this.gaslessOptions&&("openzeppelin"in this.gaslessOptions||"biconomy"in this.gaslessOptions),"No gasless options set on this transaction!");const _e=[...this.args];if(this.method==="multicall"&&Array.isArray(this.args[0])&&_e[0].length>0){const mt=await this.getSignerAddress();_e[0]=_e[0].map(gt=>pack(["bytes","address"],[gt,mt]))}invariant(this.signer,"Cannot execute gasless transaction without valid signer");const tt=(await this.provider.getNetwork()).chainId,rt=await(this.overrides.from||this.getSignerAddress()),nt=this.contract.address,it=((dt=this.overrides)==null?void 0:dt.value)||0;if(BigNumber.from(it).gt(0))throw new Error("Cannot send native token value with gasless transaction");const at=this.contract.interface.encodeFunctionData(this.method,_e);let st=BigNumber.from(0);try{st=(await this.contract.estimateGas[this.method](..._e)).mul(2)}catch{}st.lt(1e5)&&(st=BigNumber.from(5e5)),this.overrides.gasLimit&&BigNumber.from(this.overrides.gasLimit).gt(st)&&(st=BigNumber.from(this.overrides.gasLimit));const ot={from:rt,to:nt,data:at,chainId:tt,gasLimit:st,functionName:this.method,functionArgs:_e,callOverrides:this.overrides},ct=await defaultGaslessSendFunction(ot,this.signer,this.provider,this.gaslessOptions);let lt,ut=1;for(;!lt;)if(lt=await this.provider.getTransaction(ct),lt||(await new Promise(mt=>setTimeout(mt,Math.min(ut*1e3,1e4))),ut++),ut>20)throw new Error(`Unable to retrieve transaction with hash ${ct}`);return lt}async getGasOverrides(){if(isBrowser$3())return{};const _e=await this.provider.getFeeData();if(_e.maxFeePerGas&&_e.maxPriorityFeePerGas){const rt=(await this.provider.getNetwork()).chainId,nt=await this.provider.getBlock("latest"),it=nt&&nt.baseFeePerGas?nt.baseFeePerGas:parseUnits("1","gwei");let at;rt===ChainId$1.Mumbai||rt===ChainId$1.Polygon?at=await getPolygonGasPriorityFee(rt):at=BigNumber.from(_e.maxPriorityFeePerGas);const st=this.getPreferredPriorityFee(at);return{maxFeePerGas:it.mul(2).add(st),maxPriorityFeePerGas:st}}else return{gasPrice:await this.getGasPrice()}}getPreferredPriorityFee(_e){const tt=_e.div(100).mul(10),rt=_e.add(tt),nt=parseUnits("300","gwei"),it=parseUnits("2.5","gwei");return rt.gt(nt)?nt:rt.lt(it)?it:rt}async getGasPrice(){const _e=await this.provider.getGasPrice(),tt=parseUnits("300","gwei"),rt=_e.div(100).mul(10),nt=_e.add(rt);return nt.gt(tt)?tt:nt}functionError(){return new Error(`Contract "${this.contract.address}" does not have function "${this.method}"`)}async transactionError(_e){var yt,wt,xt;const tt=this.provider,rt=await tt.getNetwork(),nt=await(this.overrides.from||this.getSignerAddress()),it=this.contract.address,at=this.encode(),st=BigNumber.from(this.overrides.value||0),ot=(yt=tt.connection)==null?void 0:yt.url,ct=this.contract.interface.getFunction(this.method),lt=this.args.map(At=>JSON.stringify(At).length<=80?JSON.stringify(At):JSON.stringify(At,void 0,2)),ut=lt.join(", ").length<=80?lt.join(", "):`
`+lt.map(At=>"  "+At.split(`
`).join(`
  `)).join(`,
`)+`
`,dt=`${ct.name}(${ut})`,mt=_e.transactionHash||((wt=_e.transaction)==null?void 0:wt.hash)||((xt=_e.receipt)==null?void 0:xt.transactionHash),gt=parseRevertReason(_e);let bt,ht;try{const At=await fetchContractMetadataFromAddress(this.contract.address,this.provider,this.storage);At.name&&(ht=At.name),At.metadata.sources&&(bt=await fetchSourceFilesFromMetadata(At,this.storage))}catch{}return new TransactionError({reason:gt,from:nt,to:it,method:dt,data:at,network:rt,rpcUrl:ot,value:st,hash:mt,contractName:ht,sources:bt})}}class DropClaimConditions{constructor(_e,tt,rt){var nt=this;_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"set",buildTransactionFunction(async function(it){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,st=it;if(nt.isLegacySinglePhaseDrop(nt.contractWrapper)||nt.isNewSinglePhaseDrop(nt.contractWrapper)){if(at=!0,it.length===0)st=[{startTime:new Date(0),currencyAddress:AddressZero,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(it.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(nt.isNewSinglePhaseDrop(nt.contractWrapper)||nt.isNewMultiphaseDrop(nt.contractWrapper))&&st.forEach(gt=>{var bt;if(gt.snapshot&&gt.snapshot.length>0&&(gt.maxClaimablePerWallet===void 0||gt.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Example: Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.
contract.claimConditions.set([{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(gt.snapshot&&gt.snapshot.length>0&&((bt=gt.maxClaimablePerWallet)==null?void 0:bt.toString())==="0"&&gt.snapshot.map(ht=>{var yt;return typeof ht=="string"?0:Number(((yt=ht.maxClaimable)==null?void 0:yt.toString())||0)}).reduce((ht,yt)=>ht+yt,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:ot,sortedConditions:ct}=await processClaimConditionInputs(st,await nt.getTokenDecimals(),nt.contractWrapper.getProvider(),nt.storage,nt.getSnapshotFormatVersion()),lt={};ot.forEach(gt=>{lt[gt.merkleRoot]=gt.snapshotUri});const ut=await nt.metadata.get(),dt=[];if(!fastDeepEqual(ut.merkle,lt)){const gt=nt.metadata.parseInputMetadata({...ut,merkle:lt}),bt=await nt.metadata._parseAndUploadMetadata(gt);if(hasFunction("setContractURI",nt.contractWrapper))dt.push(nt.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[bt]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}const mt=nt.contractWrapper;if(nt.isLegacySinglePhaseDrop(mt))dt.push(mt.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToLegacy(ct[0]),at]));else if(nt.isLegacyMultiPhaseDrop(mt))dt.push(mt.readContract.interface.encodeFunctionData("setClaimConditions",[ct.map(abstractContractModelToLegacy),at]));else if(nt.isNewSinglePhaseDrop(mt))dt.push(mt.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToNew(ct[0]),at]));else if(nt.isNewMultiphaseDrop(mt))dt.push(mt.readContract.interface.encodeFunctionData("setClaimConditions",[ct.map(abstractContractModelToNew),at]));else throw new Error("Contract does not support claim conditions");return Transaction.fromContractWrapper({contractWrapper:nt.contractWrapper,method:"multicall",args:[dt]})})),_defineProperty$3(this,"update",buildTransactionFunction(async(it,at)=>{const st=await this.getAll(),ot=await updateExistingClaimConditions(it,at,st);return await this.set.prepare(ot)})),this.storage=rt,this.contractWrapper=_e,this.metadata=tt}async getActive(_e){const tt=await this.get(),rt=await this.metadata.get();return await transformResultToClaimCondition(tt,await this.getTokenDecimals(),this.contractWrapper.getProvider(),rt.merkle||{},this.storage,(_e==null?void 0:_e.withAllowList)||!1)}async get(_e){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition();return legacyContractModelToAbstract(tt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const tt=_e!==void 0?_e:await this.contractWrapper.readContract.getActiveClaimConditionId(),rt=await this.contractWrapper.readContract.getClaimConditionById(tt);return legacyContractModelToAbstract(rt)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition();return newContractModelToAbstract(tt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const tt=_e!==void 0?_e:await this.contractWrapper.readContract.getActiveClaimConditionId(),rt=await this.contractWrapper.readContract.getClaimConditionById(tt);return newContractModelToAbstract(rt)}else throw new Error("Contract does not support claim conditions")}async getAll(_e){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition(),rt=tt.currentStartId.toNumber(),nt=tt.count.toNumber(),it=[];for(let ot=rt;ot<rt+nt;ot++)it.push(await this.get(ot));const at=await this.metadata.get(),st=await this.getTokenDecimals();return Promise.all(it.map(ot=>transformResultToClaimCondition(ot,st,this.contractWrapper.getProvider(),at.merkle,this.storage,(_e==null?void 0:_e.withAllowList)||!1)))}else return[await this.getActive(_e)]}async canClaim(_e,tt){return(await this.getClaimIneligibilityReasons(_e,tt)).length===0}async getClaimIneligibilityReasons(_e,tt){const rt=[];let nt,it;const at=await this.getTokenDecimals(),st=parseUnits(AmountSchema.parse(_e),at);if(tt===void 0)try{tt=await this.contractWrapper.getSignerAddress()}catch(ut){console.warn("failed to get signer address",ut)}if(!tt)return[ClaimEligibility.NoWallet];try{it=await this.getActive()}catch(ut){return includesErrorMessage(ut,"!CONDITION")||includesErrorMessage(ut,"no active mint condition")?(rt.push(ClaimEligibility.NoClaimConditionSet),rt):(console.warn("failed to get active claim condition",ut),rt.push(ClaimEligibility.Unknown),rt)}it.availableSupply!=="unlimited"&&parseUnits(it.availableSupply,at).lt(st)&&rt.push(ClaimEligibility.NotEnoughSupply);const ct=stripZeros(it.merkleRootHash).length>0;let lt=null;if(ct){if(lt=await this.getClaimerProofs(tt),!lt&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return rt.push(ClaimEligibility.AddressNotAllowed),rt;if(lt)try{const ut=await this.prepareClaim(_e,!1,at,tt);let dt;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),[dt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(nt,tt,_e,ut.proofs,ut.maxClaimable),!dt)return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([dt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(tt,_e,{proof:ut.proofs,maxQuantityInAllowlist:ut.maxClaimable}),!dt)return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(tt,_e,ut.currencyAddress,ut.price,{proof:ut.proofs,quantityLimitPerWallet:ut.maxClaimable,currency:ut.currencyAddressInProof,pricePerToken:ut.priceInProof}),convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0)&&ut.maxClaimable===MaxUint256$1||ut.maxClaimable===BigNumber.from(0))return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),await this.contractWrapper.readContract.verifyClaim(nt,tt,_e,ut.currencyAddress,ut.price,{proof:ut.proofs,quantityLimitPerWallet:ut.maxClaimable,currency:ut.currencyAddressInProof,pricePerToken:ut.priceInProof}),convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0)&&ut.maxClaimable===MaxUint256$1||ut.maxClaimable===BigNumber.from(0)))return rt.push(ClaimEligibility.AddressNotAllowed),rt}catch(ut){return console.warn("Merkle proof verification failed:","reason"in ut?ut.reason:ut),rt.push(ClaimEligibility.AddressNotAllowed),rt}}if(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const ut=await this.getClaimerProofs(tt);let dt=BigNumber.from(0),mt=convertQuantityToBigNumber(it.maxClaimablePerWallet,at);if(this.isNewSinglePhaseDrop(this.contractWrapper)&&(dt=await this.contractWrapper.readContract.getSupplyClaimedByWallet(tt)),this.isNewMultiphaseDrop(this.contractWrapper)){const gt=await this.contractWrapper.readContract.getActiveClaimConditionId();dt=await this.contractWrapper.readContract.getSupplyClaimedByWallet(gt,tt)}if(ut&&(mt=convertQuantityToBigNumber(ut.maxClaimable,at)),(!ct||ct&&!lt)&&(mt.lte(dt)||mt.eq(0)))return rt.push(ClaimEligibility.AddressNotAllowed),rt}if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)){let[ut,dt]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),[ut,dt]=await this.contractWrapper.readContract.getClaimTimestamp(nt,tt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([ut,dt]=await this.contractWrapper.readContract.getClaimTimestamp(tt));const mt=BigNumber.from(Date.now()).div(1e3);ut.gt(0)&&mt.lt(dt)&&(dt.eq(MaxUint256$1)?rt.push(ClaimEligibility.AlreadyClaimed):rt.push(ClaimEligibility.WaitBeforeNextClaimTransaction))}if(it.price.gt(0)&&isNode$2()){const ut=it.price.mul(BigNumber.from(_e)),dt=this.contractWrapper.getProvider();isNativeToken(it.currencyAddress)?(await dt.getBalance(tt)).lt(ut)&&rt.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(dt,it.currencyAddress,ERC20Abi,{}).readContract.balanceOf(tt)).lt(ut)&&rt.push(ClaimEligibility.NotEnoughTokens)}return rt}async getClaimerProofs(_e,tt){const nt=(await this.get(tt)).merkleRoot;if(stripZeros(nt).length>0){const at=await this.metadata.get();return await fetchSnapshotEntryForAddress(_e,nt.toString(),at.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async getTokenDecimals(){return detectContractFeature(this.contractWrapper,"ERC20")?this.contractWrapper.readContract.decimals():Promise.resolve(0)}async prepareClaim(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3?arguments[3]:void 0;const it=nt||await this.contractWrapper.getSignerAddress();return prepareClaim(it,_e,await this.getActive(),async()=>(await this.metadata.get()).merkle,rt,this.contractWrapper,this.storage,tt,this.getSnapshotFormatVersion())}async getClaimArguments(_e,tt,rt){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[_e,tt,rt.currencyAddress,rt.price,rt.proofs,rt.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[_e,tt,rt.currencyAddress,rt.price,{proof:rt.proofs,maxQuantityInAllowlist:rt.maxClaimable},toUtf8Bytes("")]:[_e,tt,rt.currencyAddress,rt.price,{proof:rt.proofs,quantityLimitPerWallet:rt.maxClaimable,pricePerToken:rt.priceInProof,currency:rt.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(_e,tt,rt){if(rt!=null&&rt.pricePerToken)throw new Error("Price per token is be set via claim conditions by calling `contract.erc721.claimConditions.set()`");const nt=await this.prepareClaim(tt,(rt==null?void 0:rt.checkERC20Allowance)===void 0?!0:rt.checkERC20Allowance,await this.getTokenDecimals());return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:await this.getClaimArguments(_e,tt,nt),overrides:nt.overrides})}isNewSinglePhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimConditionsV2")||detectContractFeature(_e,"ERC20ClaimConditionsV2")}isNewMultiphaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimPhasesV2")||detectContractFeature(_e,"ERC20ClaimPhasesV2")}isLegacySinglePhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimConditionsV1")||detectContractFeature(_e,"ERC20ClaimConditionsV1")}isLegacyMultiPhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimPhasesV1")||detectContractFeature(_e,"ERC20ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class DropErc1155ClaimConditions{constructor(_e,tt,rt){var nt=this;_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"set",buildTransactionFunction(async function(it,at){let st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return nt.setBatch.prepare([{tokenId:it,claimConditions:at}],st)})),_defineProperty$3(this,"setBatch",buildTransactionFunction(async function(it){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const st={},ot=await Promise.all(it.map(async ut=>{let{tokenId:dt,claimConditions:mt}=ut,gt=mt;if(nt.isLegacySinglePhaseDrop(nt.contractWrapper)){if(at=!0,mt.length===0)gt=[{startTime:new Date(0),currencyAddress:AddressZero,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(mt.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(nt.isNewSinglePhaseDrop(nt.contractWrapper)||nt.isNewMultiphaseDrop(nt.contractWrapper))&&gt.forEach(yt=>{var wt;if(yt.snapshot&&yt.snapshot.length>0&&(yt.maxClaimablePerWallet===void 0||yt.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.

ex:
contract.claimConditions.set(tokenId, [{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(yt.snapshot&&yt.snapshot.length>0&&((wt=yt.maxClaimablePerWallet)==null?void 0:wt.toString())==="0"&&yt.snapshot.map(xt=>{var At;return typeof xt=="string"?0:Number(((At=xt.maxClaimable)==null?void 0:At.toString())||0)}).reduce((xt,At)=>xt+At,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:bt,sortedConditions:ht}=await processClaimConditionInputs(gt,0,nt.contractWrapper.getProvider(),nt.storage,nt.getSnapshotFormatVersion());return bt.forEach(yt=>{st[yt.merkleRoot]=yt.snapshotUri}),{tokenId:dt,sortedConditions:ht}})),ct=await nt.metadata.get(),lt=[];for(const ut of Object.keys(ct.merkle||{}))st[ut]=ct.merkle[ut];if(!fastDeepEqual(ct.merkle,st)){const ut=nt.metadata.parseInputMetadata({...ct,merkle:st}),dt=await nt.metadata._parseAndUploadMetadata(ut);if(hasFunction("setContractURI",nt.contractWrapper))lt.push(nt.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[dt]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}return ot.forEach(ut=>{let{tokenId:dt,sortedConditions:mt}=ut;if(nt.isLegacySinglePhaseDrop(nt.contractWrapper))lt.push(nt.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[dt,abstractContractModelToLegacy(mt[0]),at]));else if(nt.isLegacyMultiPhaseDrop(nt.contractWrapper))lt.push(nt.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[dt,mt.map(abstractContractModelToLegacy),at]));else if(nt.isNewSinglePhaseDrop(nt.contractWrapper))lt.push(nt.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[dt,abstractContractModelToNew(mt[0]),at]));else if(nt.isNewMultiphaseDrop(nt.contractWrapper))lt.push(nt.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[dt,mt.map(abstractContractModelToNew),at]));else throw new Error("Contract does not support claim conditions")}),Transaction.fromContractWrapper({contractWrapper:nt.contractWrapper,method:"multicall",args:[lt]})})),_defineProperty$3(this,"update",buildTransactionFunction(async(it,at,st)=>{const ot=await this.getAll(it),ct=await updateExistingClaimConditions(at,st,ot);return await this.set.prepare(it,ct)})),this.storage=rt,this.contractWrapper=_e,this.metadata=tt}async getActive(_e,tt){const rt=await this.get(_e),nt=await this.metadata.get();return await transformResultToClaimCondition(rt,0,this.contractWrapper.getProvider(),nt.merkle,this.storage,(tt==null?void 0:tt.withAllowList)||!1)}async get(_e,tt){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e);return legacyContractModelToAbstract(rt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const rt=tt!==void 0?tt:await this.contractWrapper.readContract.getActiveClaimConditionId(_e),nt=await this.contractWrapper.readContract.getClaimConditionById(_e,rt);return legacyContractModelToAbstract(nt)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e);return newContractModelToAbstract(rt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const rt=tt!==void 0?tt:await this.contractWrapper.readContract.getActiveClaimConditionId(_e),nt=await this.contractWrapper.readContract.getClaimConditionById(_e,rt);return newContractModelToAbstract(nt)}else throw new Error("Contract does not support claim conditions")}async getAll(_e,tt){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e),nt=rt.currentStartId.toNumber(),it=rt.count.toNumber(),at=[];for(let ot=nt;ot<nt+it;ot++)at.push(await this.get(_e,ot));const st=await this.metadata.get();return Promise.all(at.map(ot=>transformResultToClaimCondition(ot,0,this.contractWrapper.getProvider(),st.merkle,this.storage,(tt==null?void 0:tt.withAllowList)||!1)))}else return[await this.getActive(_e,tt)]}async canClaim(_e,tt,rt){return(await this.getClaimIneligibilityReasons(_e,tt,rt)).length===0}async getClaimIneligibilityReasons(_e,tt,rt){const nt=[];let it,at;if(rt===void 0)try{rt=await this.contractWrapper.getSignerAddress()}catch(mt){console.warn("failed to get signer address",mt)}if(!rt)return[ClaimEligibility.NoWallet];try{at=await this.getActive(_e)}catch(mt){return includesErrorMessage(mt,"!CONDITION")||includesErrorMessage(mt,"no active mint condition")?(nt.push(ClaimEligibility.NoClaimConditionSet),nt):(nt.push(ClaimEligibility.Unknown),nt)}at.availableSupply!=="unlimited"&&BigNumber.from(at.availableSupply).lt(tt)&&nt.push(ClaimEligibility.NotEnoughSupply);const ot=stripZeros(at.merkleRootHash).length>0;let ct=null;if(ot){if(ct=await this.getClaimerProofs(_e,rt),!ct&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return nt.push(ClaimEligibility.AddressNotAllowed),nt;if(ct)try{const mt=await this.prepareClaim(_e,tt,!1,rt);let gt;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),[gt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(it,rt,_e,tt,mt.proofs,mt.maxClaimable),!gt)return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([gt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(_e,rt,tt,{proof:mt.proofs,maxQuantityInAllowlist:mt.maxClaimable}),!gt)return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(_e,rt,tt,mt.currencyAddress,mt.price,{proof:mt.proofs,quantityLimitPerWallet:mt.maxClaimable,currency:mt.currencyAddressInProof,pricePerToken:mt.priceInProof}),at.maxClaimablePerWallet==="0"&&mt.maxClaimable===MaxUint256$1||mt.maxClaimable===BigNumber.from(0))return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),await this.contractWrapper.readContract.verifyClaim(it,rt,_e,tt,mt.currencyAddress,mt.price,{proof:mt.proofs,quantityLimitPerWallet:mt.maxClaimable,currency:mt.currencyAddressInProof,pricePerToken:mt.priceInProof}),at.maxClaimablePerWallet==="0"&&mt.maxClaimable===MaxUint256$1||mt.maxClaimable===BigNumber.from(0)))return nt.push(ClaimEligibility.AddressNotAllowed),nt}catch(mt){return console.warn("Merkle proof verification failed:","reason"in mt?mt.reason:mt),nt.push(ClaimEligibility.AddressNotAllowed),nt}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!ot||ot&&!ct)&&at.maxClaimablePerWallet==="0")return nt.push(ClaimEligibility.AddressNotAllowed),nt;let[lt,ut]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),[lt,ut]=await this.contractWrapper.readContract.getClaimTimestamp(_e,it,rt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([lt,ut]=await this.contractWrapper.readContract.getClaimTimestamp(_e,rt));const dt=BigNumber.from(Date.now()).div(1e3);if(lt.gt(0)&&dt.lt(ut)&&(ut.eq(MaxUint256$1)?nt.push(ClaimEligibility.AlreadyClaimed):nt.push(ClaimEligibility.WaitBeforeNextClaimTransaction)),at.price.gt(0)&&isNode$2()){const mt=at.price.mul(tt),gt=this.contractWrapper.getProvider();isNativeToken(at.currencyAddress)?(await gt.getBalance(rt)).lt(mt)&&nt.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(gt,at.currencyAddress,ERC20Abi,{}).readContract.balanceOf(rt)).lt(mt)&&nt.push(ClaimEligibility.NotEnoughTokens)}return nt}async getClaimerProofs(_e,tt,rt){const it=(await this.get(_e,rt)).merkleRoot;if(stripZeros(it).length>0){const st=await this.metadata.get();return await fetchSnapshotEntryForAddress(tt,it.toString(),st.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async prepareClaim(_e,tt,rt,nt){const it=nt||await this.contractWrapper.getSignerAddress();return prepareClaim(it,tt,await this.getActive(_e),async()=>(await this.metadata.get()).merkle,0,this.contractWrapper,this.storage,rt,this.getSnapshotFormatVersion())}async getClaimArguments(_e,tt,rt,nt){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[tt,_e,rt,nt.currencyAddress,nt.price,nt.proofs,nt.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[tt,_e,rt,nt.currencyAddress,nt.price,{proof:nt.proofs,maxQuantityInAllowlist:nt.maxClaimable},toUtf8Bytes("")]:[tt,_e,rt,nt.currencyAddress,nt.price,{proof:nt.proofs,quantityLimitPerWallet:nt.maxClaimable,pricePerToken:nt.priceInProof,currency:nt.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(_e,tt,rt,nt){if(nt!=null&&nt.pricePerToken)throw new Error("Price per token should be set via claim conditions by calling `contract.erc1155.claimConditions.set()`");const it=await this.prepareClaim(tt,rt,(nt==null?void 0:nt.checkERC20Allowance)||!0);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:await this.getClaimArguments(tt,_e,rt,it),overrides:it.overrides})}isNewSinglePhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimConditionsV2")}isNewMultiphaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimPhasesV2")}isLegacySinglePhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimConditionsV1")}isLegacyMultiPhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class DropErc1155History{constructor(_e){_defineProperty$3(this,"events",void 0),this.events=_e}async getAllClaimerAddresses(_e){const tt=(await this.events.getEvents("TokensClaimed")).filter(rt=>rt.data&&BigNumber.isBigNumber(rt.data.tokenId)?rt.data.tokenId.eq(_e):!1);return Array.from(new Set(tt.filter(rt=>{var nt;return typeof((nt=rt.data)==null?void 0:nt.claimer)=="string"}).map(rt=>rt.data.claimer)))}}class Erc20Burnable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_BURNABLE.name),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"tokens",buildTransactionFunction(async rt=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burn",args:[await this.erc20.normalizeAmount(rt)]}))),_defineProperty$3(this,"from",buildTransactionFunction(async(rt,nt)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burnFrom",args:[rt,await this.erc20.normalizeAmount(nt)]}))),this.erc20=_e,this.contractWrapper=tt}}class Erc20ClaimableWithConditions{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name),_defineProperty$3(this,"conditions",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(it,at,st)=>{const ot=await this.erc20.normalizeAmount(at);return await this.conditions.getClaimTransaction(it,ot,st)})),this.erc20=_e,this.contractWrapper=tt,this.storage=rt;const nt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,nt,this.storage)}}class Erc20Droppable{constructor(_e,tt,rt){_defineProperty$3(this,"claim",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"storage",void 0),this.erc20=_e,this.contractWrapper=tt,this.storage=rt,this.claim=new Erc20ClaimableWithConditions(this.erc20,this.contractWrapper,this.storage)}}class Erc20BatchMintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_BATCH_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async rt=>{const nt=[];for(const it of rt)nt.push(this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[it.toAddress,await this.erc20.normalizeAmount(it.amount)]));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[nt]})})),this.erc20=_e,this.contractWrapper=tt}}class Erc20Mintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"batch",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(rt,nt)=>await this.getMintTransaction(rt,nt))),this.erc20=_e,this.contractWrapper=tt,this.batch=this.detectErc20BatchMintable()}async getMintTransaction(_e,tt){return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[_e,await this.erc20.normalizeAmount(tt)]})}detectErc20BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC20BatchMintable"))return new Erc20BatchMintable(this.erc20,this.contractWrapper)}}class Erc20SignatureMintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_SIGNATURE_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"roles",void 0),_defineProperty$3(this,"mint",buildTransactionFunction(async rt=>{const nt=rt.payload,it=rt.signature,at=await this.mapPayloadToContractStruct(nt),st=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,BigNumber.from(at.price),nt.currencyAddress,st),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[at,it],overrides:st})})),_defineProperty$3(this,"mintBatch",buildTransactionFunction(async rt=>{const it=(await Promise.all(rt.map(async at=>{const st=await this.mapPayloadToContractStruct(at.payload),ot=at.signature,ct=at.payload.price;if(BigNumber.from(ct).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:st,signature:ot}}))).map(at=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[at.message,at.signature]));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[it]})})),this.contractWrapper=_e,this.roles=tt}async verify(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt);return(await this.contractWrapper.readContract.verify(nt,rt))[0]}async generate(_e){return(await this.generateBatch([_e]))[0]}async generateBatch(_e){var at;await((at=this.roles)==null?void 0:at.verify(["minter"],await this.contractWrapper.getSignerAddress()));const tt=_e.map(st=>Signature20PayloadInput.parse(st)),rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.getSigner();invariant(nt,"No signer available");const it=await this.contractWrapper.readContract.name();return await Promise.all(tt.map(async st=>{const ot=Signature20PayloadOutput.parse(st),ct=await this.contractWrapper.signTypedData(nt,{name:it,version:"1",chainId:rt,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest20},await this.mapPayloadToContractStruct(ot));return{payload:ot,signature:ct.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress),rt=parseUnits(_e.quantity,await this.contractWrapper.readContract.decimals());return{to:_e.to,primarySaleRecipient:_e.primarySaleRecipient,quantity:rt,price:tt,currency:_e.currencyAddress,validityEndTimestamp:_e.mintEndTime,validityStartTimestamp:_e.mintStartTime,uid:_e.uid}}}class Erc20{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_TOKEN.name),_defineProperty$3(this,"mintable",void 0),_defineProperty$3(this,"burnable",void 0),_defineProperty$3(this,"droppable",void 0),_defineProperty$3(this,"signatureMintable",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_chainId",void 0),_defineProperty$3(this,"transfer",buildTransactionFunction(async(nt,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transfer",args:[nt,await this.normalizeAmount(it)]}))),_defineProperty$3(this,"transferFrom",buildTransactionFunction(async(nt,it,at)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transferFrom",args:[nt,it,await this.normalizeAmount(at)]}))),_defineProperty$3(this,"setAllowance",buildTransactionFunction(async(nt,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approve",args:[nt,await this.normalizeAmount(it)]}))),_defineProperty$3(this,"transferBatch",buildTransactionFunction(async nt=>{const it=await Promise.all(nt.map(async at=>{const st=await this.normalizeAmount(at.amount);return this.contractWrapper.readContract.interface.encodeFunctionData("transfer",[at.toAddress,st])}));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[it]})})),_defineProperty$3(this,"mint",buildTransactionFunction(async nt=>this.mintTo.prepare(await this.contractWrapper.getSignerAddress(),nt))),_defineProperty$3(this,"mintTo",buildTransactionFunction(async(nt,it)=>assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).to.prepare(nt,it))),_defineProperty$3(this,"mintBatchTo",buildTransactionFunction(async nt=>{var it;return assertEnabled((it=this.mintable)==null?void 0:it.batch,FEATURE_TOKEN_BATCH_MINTABLE).to.prepare(nt)})),_defineProperty$3(this,"burn",buildTransactionFunction(async nt=>assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).tokens.prepare(nt))),_defineProperty$3(this,"burnFrom",buildTransactionFunction(async(nt,it)=>assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).from.prepare(nt,it))),_defineProperty$3(this,"claim",buildTransactionFunction(async(nt,it)=>this.claimTo.prepare(await this.contractWrapper.getSignerAddress(),nt,it))),_defineProperty$3(this,"claimTo",buildTransactionFunction(async(nt,it,at)=>{var st;return assertEnabled((st=this.droppable)==null?void 0:st.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).to.prepare(nt,it,at)})),this.contractWrapper=_e,this.storage=tt,this.mintable=this.detectErc20Mintable(),this.burnable=this.detectErc20Burnable(),this.droppable=this.detectErc20Droppable(),this.signatureMintable=this.detectErc20SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return await fetchCurrencyMetadata(this.contractWrapper.getProvider(),this.getAddress())}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async balanceOf(_e){return this.getValue(await this.contractWrapper.readContract.balanceOf(_e))}async totalSupply(){return await this.getValue(await this.contractWrapper.readContract.totalSupply())}async allowance(_e){return await this.allowanceOf(await this.contractWrapper.getSignerAddress(),_e)}async allowanceOf(_e,tt){return await this.getValue(await this.contractWrapper.readContract.allowance(_e,tt))}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).getMintTransaction(_e,tt)}get claimConditions(){var _e;return assertEnabled((_e=this.droppable)==null?void 0:_e.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_TOKEN_SIGNATURE_MINTABLE)}async normalizeAmount(_e){const tt=await this.contractWrapper.readContract.decimals();return parseUnits(AmountSchema.parse(_e),tt)}async getValue(_e){return await fetchCurrencyValue(this.contractWrapper.getProvider(),this.getAddress(),BigNumber.from(_e))}detectErc20Mintable(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20Mintable(this,this.contractWrapper)}detectErc20Burnable(){if(detectContractFeature(this.contractWrapper,"ERC20Burnable"))return new Erc20Burnable(this,this.contractWrapper)}detectErc20Droppable(){if(detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV2"))return new Erc20Droppable(this,this.contractWrapper,this.storage)}detectErc20SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC20SignatureMintable"))return new Erc20SignatureMintable(this.contractWrapper)}}class TokenERC20History{constructor(_e,tt){_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e,this.events=tt}async getAllHolderBalances(){const tt=(await this.events.getEvents("Transfer")).map(nt=>nt.data),rt={};return tt.forEach(nt=>{const it=nt==null?void 0:nt.from,at=nt==null?void 0:nt.to,st=nt==null?void 0:nt.value;it!==AddressZero&&(it in rt||(rt[it]=BigNumber.from(0)),rt[it]=rt[it].sub(st)),at!==AddressZero&&(at in rt||(rt[at]=BigNumber.from(0)),rt[at]=rt[at].add(st))}),Promise.all(Object.keys(rt).map(async nt=>({holder:nt,balance:await fetchCurrencyValue(this.contractWrapper.getProvider(),this.contractWrapper.readContract.address,rt[nt])})))}}class StandardErc20{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"_chainId",void 0),_defineProperty$3(this,"transfer",buildTransactionFunction(async(nt,it)=>this.erc20.transfer.prepare(nt,it))),_defineProperty$3(this,"transferFrom",buildTransactionFunction(async(nt,it,at)=>this.erc20.transferFrom.prepare(nt,it,at))),this.contractWrapper=_e,this.storage=tt,this.erc20=new Erc20(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return this.erc20.get()}async balance(){return await this.erc20.balance()}async balanceOf(_e){return this.erc20.balanceOf(_e)}async totalSupply(){return await this.erc20.totalSupply()}async allowance(_e){return await this.erc20.allowance(_e)}async allowanceOf(_e,tt){return await this.erc20.allowanceOf(_e,tt)}async setAllowance(_e,tt){return this.erc20.setAllowance(_e,tt)}async transferBatch(_e){return this.erc20.transferBatch(_e)}}class Erc721Burnable{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_NFT_BURNABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"token",buildTransactionFunction(async tt=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burn",args:[tt]}))),this.contractWrapper=_e}}class Erc721Claimable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_CLAIM_CUSTOM.name),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(rt,nt,it)=>{const at=await this.getClaimTransaction(rt,nt,it);return at.setParse(st=>{const ct=this.contractWrapper.parseLogs("TokensClaimed",st==null?void 0:st.logs)[0].args.startTokenId,lt=ct.add(nt),ut=[];for(let dt=ct;dt.lt(lt);dt=dt.add(1))ut.push({id:dt,receipt:st,data:()=>this.erc721.get(dt)});return ut}),at})),this.erc721=_e,this.contractWrapper=tt}async getClaimTransaction(_e,tt,rt){let nt={};return rt&&rt.pricePerToken&&(nt=await calculateClaimCost(this.contractWrapper,rt.pricePerToken,tt,rt.currencyAddress,rt.checkERC20Allowance)),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:[_e,tt],overrides:nt})}}class Erc721ClaimableWithConditions{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_CLAIM_CONDITIONS_V2.name),_defineProperty$3(this,"conditions",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(it,at,st)=>{const ot=await this.conditions.getClaimTransaction(it,at,st);return ot.setParse(ct=>{const ut=this.contractWrapper.parseLogs("TokensClaimed",ct==null?void 0:ct.logs)[0].args.startTokenId,dt=ut.add(at),mt=[];for(let gt=ut;gt.lt(dt);gt=gt.add(1))mt.push({id:gt,receipt:ct,data:()=>this.erc721.get(gt)});return mt}),ot})),this.erc721=_e,this.contractWrapper=tt,this.storage=rt;const nt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,nt,this.storage)}}class Erc721LazyMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_LAZY_MINTABLE.name),_defineProperty$3(this,"revealer",void 0),_defineProperty$3(this,"claimWithConditions",void 0),_defineProperty$3(this,"claim",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"lazyMint",buildTransactionFunction(async(nt,it)=>{const at=await this.erc721.nextTokenIdToMint(),st=await uploadOrExtractURIs(nt,this.storage,at.toNumber(),it),ot=getBaseUriFromBatch(st);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[st.length,ot.endsWith("/")?ot:`${ot}/`,toUtf8Bytes("")],parse:ct=>{const lt=this.contractWrapper.parseLogs("TokensLazyMinted",ct==null?void 0:ct.logs),ut=lt[0].args.startTokenId,dt=lt[0].args.endTokenId,mt=[];for(let gt=ut;gt.lte(dt);gt=gt.add(1))mt.push({id:gt,receipt:ct,data:()=>this.erc721.getTokenMetadata(gt)});return mt}})})),this.erc721=_e,this.contractWrapper=tt,this.storage=rt,this.revealer=this.detectErc721Revealable(),this.claimWithConditions=this.detectErc721ClaimableWithConditions(),this.claim=this.detectErc721Claimable()}detectErc721Revealable(){if(detectContractFeature(this.contractWrapper,"ERC721Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_NFT_REVEALABLE.name,()=>this.erc721.nextTokenIdToMint())}detectErc721ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV2"))return new Erc721ClaimableWithConditions(this.erc721,this.contractWrapper,this.storage)}detectErc721Claimable(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimCustom"))return new Erc721Claimable(this.erc721,this.contractWrapper)}}class Erc721BatchMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_BATCH_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(nt,it)=>{const st=(await uploadOrExtractURIs(it,this.storage)).map(ot=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[nt,ot]));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[st],parse:ot=>{const ct=this.contractWrapper.parseLogs("TokensMinted",ot.logs);if(ct.length===0||ct.length<it.length)throw new Error("TokenMinted event not found, minting failed");return ct.map(lt=>{const ut=lt.args.tokenIdMinted;return{id:ut,receipt:ot,data:()=>this.erc721.get(ut)}})}})})),this.erc721=_e,this.contractWrapper=tt,this.storage=rt}}class Erc721Mintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"batch",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(nt,it)=>{const at=await uploadOrExtractURI(it,this.storage);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[nt,at],parse:st=>{const ot=this.contractWrapper.parseLogs("Transfer",st==null?void 0:st.logs);if(ot.length===0)throw new Error("TransferEvent event not found");const ct=ot[0].args.tokenId;return{id:ct,receipt:st,data:()=>this.erc721.get(ct)}}})})),this.erc721=_e,this.contractWrapper=tt,this.storage=rt,this.batch=this.detectErc721BatchMintable()}async getMintTransaction(_e,tt){return this.to.prepare(_e,tt)}detectErc721BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC721BatchMintable"))return new Erc721BatchMintable(this.erc721,this.contractWrapper,this.storage)}}class Erc721Enumerable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_ENUMERABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),this.erc721=_e,this.contractWrapper=tt}async all(_e){const tt=await this.tokenIds(_e);return await Promise.all(tt.map(rt=>this.erc721.get(rt.toString())))}async tokenIds(_e){const tt=_e||await this.contractWrapper.getSignerAddress(),rt=await this.contractWrapper.readContract.balanceOf(tt),nt=Array.from(Array(rt.toNumber()).keys());return await Promise.all(nt.map(it=>this.contractWrapper.readContract.tokenOfOwnerByIndex(tt,it)))}}class Erc721Supply{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_SUPPLY.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"owned",void 0),this.erc721=_e,this.contractWrapper=tt,this.owned=this.detectErc721Owned()}async all(_e){const tt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),rt=BigNumber.from((_e==null?void 0:_e.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),nt=await this.erc721.nextTokenIdToMint(),it=Math.min(nt.toNumber(),tt+rt);return await Promise.all([...Array(it-tt).keys()].map(at=>this.erc721.get((tt+at).toString())))}async allOwners(){return Promise.all([...new Array((await this.totalCount()).toNumber()).keys()].map(async _e=>({tokenId:_e,owner:await this.erc721.ownerOf(_e).catch(()=>AddressZero)})))}async totalCount(){return await this.erc721.nextTokenIdToMint()}async totalCirculatingSupply(){return await this.contractWrapper.readContract.totalSupply()}detectErc721Owned(){if(detectContractFeature(this.contractWrapper,"ERC721Enumerable"))return new Erc721Enumerable(this.erc721,this.contractWrapper)}}const TieredDropPayloadSchema=BaseSignaturePayloadInput.extend({tierPriority:z$6.array(z$6.string()),royaltyRecipient:z$6.string().default(AddressZero),royaltyBps:BasisPointsSchema.default(0),quantity:BigNumberSchema.default(1)});class Erc721TieredDrop{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_TIERED_DROP.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt}async getMetadataInTier(_e){const rt=(await this.contractWrapper.readContract.getMetadataForAllTiers()).find(it=>it.tier===_e);if(!rt)throw new Error("Tier not found in contract.");return await Promise.all(rt.ranges.map((it,at)=>{const st=[],ot=rt.baseURIs[at];for(let ct=it.startIdInclusive.toNumber();ct<it.endIdNonInclusive.toNumber();ct++){const lt=`${ot}/${ct}`,ut=this.storage.downloadJSON(lt);st.push(ut)}return st}).flat())}async getTokensInTier(_e){const tt=await this.contractWrapper.readContract.getTokensInTierLen();if(tt.eq(0))return[];const rt=await this.contractWrapper.readContract.getTokensInTier(_e,0,tt);return await Promise.all(rt.map(it=>{const at=[];for(let st=it.startIdInclusive.toNumber();st<it.endIdNonInclusive.toNumber();st++)at.push(this.erc721.get(st));return at}).flat())}async createBatchWithTier(_e,tt,rt){const nt=await this.erc721.nextTokenIdToMint(),it=await uploadOrExtractURIs(_e,this.storage,nt.toNumber(),rt),at=getBaseUriFromBatch(it),st=await this.contractWrapper.sendTransaction("lazyMint",[it.length,at.endsWith("/")?at:`${at}/`,tt,toUtf8Bytes("")]),ot=this.contractWrapper.parseLogs("TokensLazyMinted",st==null?void 0:st.logs),ct=ot[0].args[1],lt=ot[0].args[2],ut=[];for(let dt=ct;dt.lte(lt);dt=dt.add(1))ut.push({id:dt,receipt:st,data:()=>this.erc721.getTokenMetadata(dt)});return ut}async createDelayedRevealBatchWithTier(_e,tt,rt,nt,it){if(!rt)throw new Error("Password is required");const at=await this.storage.uploadBatch([CommonNFTInput.parse(_e)],{rewriteFileNames:{fileStartNumber:0}}),st=getBaseUriFromBatch(at),ot=await this.erc721.nextTokenIdToMint(),ct=await this.storage.uploadBatch(tt.map(Ot=>CommonNFTInput.parse(Ot)),{onProgress:it==null?void 0:it.onProgress,rewriteFileNames:{fileStartNumber:ot.toNumber()}}),lt=getBaseUriFromBatch(ct),ut=await this.contractWrapper.readContract.getBaseURICount(),dt=await this.contractWrapper.getChainID(),mt=keccak256(["string","uint256","uint256","address"],[rt,dt,ut,this.contractWrapper.readContract.address]),gt=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(lt),mt);let bt;const ht=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(lt),mt,dt]);bt=defaultAbiCoder.encode(["bytes","bytes32"],[gt,ht]);const yt=await this.contractWrapper.sendTransaction("lazyMint",[ct.length,st.endsWith("/")?st:`${st}/`,nt,bt]),wt=this.contractWrapper.parseLogs("TokensLazyMinted",yt==null?void 0:yt.logs),xt=wt[0].args[1],At=wt[0].args[2],kt=[];for(let Ot=xt;Ot.lte(At);Ot=Ot.add(1))kt.push({id:Ot,receipt:yt,data:()=>this.erc721.getTokenMetadata(Ot)});return kt}async reveal(_e,tt){if(!tt)throw new Error("Password is required");const rt=await this.contractWrapper.getChainID(),nt=keccak256(["string","uint256","uint256","address"],[tt,rt,_e,this.contractWrapper.readContract.address]);try{const it=await this.contractWrapper.callStatic().reveal(_e,nt);if(!it.includes("://")||!it.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[_e,nt])}}async generate(_e){const[tt]=await this.generateBatch([_e]);return tt}async generateBatch(_e){const tt=_e.map(it=>TieredDropPayloadSchema.parse(it)),rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.getSigner();return invariant(nt,"No signer available"),await Promise.all(tt.map(async it=>{const at=await this.contractWrapper.signTypedData(nt,{name:"SignatureAction",version:"1",chainId:rt,verifyingContract:this.contractWrapper.readContract.address},{GenericRequest},await this.mapPayloadToContractStruct(it));return{payload:it,signature:at.toString()}}))}async verify(_e){const tt=await this.mapPayloadToContractStruct(_e.payload);return(await this.contractWrapper.readContract.verify(tt,_e.signature))[0]}async claimWithSignature(_e){const tt=await this.mapPayloadToContractStruct(_e.payload),rt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.payload.price,_e.payload.currencyAddress),nt=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,rt,_e.payload.currencyAddress,nt);const it=await this.contractWrapper.sendTransaction("claimWithSignature",[tt,_e.signature],nt),at=this.contractWrapper.parseLogs("TokensClaimed",it==null?void 0:it.logs),st=at[0].args.startTokenId,ot=st.add(at[0].args.quantityClaimed),ct=[];for(let lt=st;lt.lt(ot);lt=lt.add(1))ct.push({id:lt,receipt:it,data:()=>this.erc721.get(lt)});return ct}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress),rt=defaultAbiCoder.encode(["string[]","address","address","uint256","address","uint256","uint256","address"],[_e.tierPriority,_e.to,_e.royaltyRecipient,_e.royaltyBps,_e.primarySaleRecipient,_e.quantity,tt,_e.currencyAddress]);return{uid:_e.uid,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,data:rt}}}class Erc721WithQuantitySignatureMintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_SIGNATURE_MINTABLE_V2.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"mint",buildTransactionFunction(async rt=>{const nt=rt.payload,it=rt.signature,at=await this.contractWrapper.getCallOverrides(),st=ot=>{const ct=this.contractWrapper.parseLogs("TokensMintedWithSignature",ot.logs);if(ct.length===0)throw new Error("No MintWithSignature event found");return{id:ct[0].args.tokenIdMinted,receipt:ot}};if(await this.isLegacyNFTContract()){const ot=await this.mapLegacyPayloadToContractStruct(nt),ct=ot.price;return await setErc20Allowance(this.contractWrapper,ct,nt.currencyAddress,at),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[ot,it],overrides:at,parse:st})}else{const ot=await this.mapPayloadToContractStruct(nt),ct=ot.pricePerToken.mul(ot.quantity);return await setErc20Allowance(this.contractWrapper,ct,nt.currencyAddress,at),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[ot,it],overrides:at,parse:st})}})),_defineProperty$3(this,"mintBatch",buildTransactionFunction(async rt=>{const nt=await this.isLegacyNFTContract(),at=(await Promise.all(rt.map(async st=>{let ot;nt?ot=await this.mapLegacyPayloadToContractStruct(st.payload):ot=await this.mapPayloadToContractStruct(st.payload);const ct=st.signature,lt=st.payload.price;if(BigNumber.from(lt).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:ot,signature:ct}}))).map(st=>nt?this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[st.message,st.signature]):this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[st.message,st.signature]));if(hasFunction("multicall",this.contractWrapper))return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[at],parse:st=>{const ot=this.contractWrapper.parseLogs("TokensMintedWithSignature",st.logs);if(ot.length===0)throw new Error("No MintWithSignature event found");return ot.map(ct=>({id:ct.args.tokenIdMinted,receipt:st}))}});throw new Error("Multicall not available on this contract!")})),this.contractWrapper=_e,this.storage=tt}async verify(_e){const tt=await this.isLegacyNFTContract(),rt=_e.payload,nt=_e.signature;let it,at;if(tt){const st=this.contractWrapper.readContract;it=await this.mapLegacyPayloadToContractStruct(rt),at=await st.verify(it,nt)}else{const st=this.contractWrapper.readContract;it=await this.mapPayloadToContractStruct(rt),at=await st.verify(it,nt)}return at[0]}async generate(_e){return(await this.generateBatch([_e]))[0]}async generateBatch(_e){const tt=await this.isLegacyNFTContract(),rt=_e.map(ot=>Signature721WithQuantityInput.parse(ot)),nt=rt.map(ot=>ot.metadata),it=await uploadOrExtractURIs(nt,this.storage),at=await this.contractWrapper.getChainID(),st=this.contractWrapper.getSigner();return invariant(st,"No signer available"),await Promise.all(rt.map(async(ot,ct)=>{const lt=it[ct],ut=Signature721WithQuantityOutput.parse({...ot,uri:lt});let dt;return tt?dt=await this.contractWrapper.signTypedData(st,{name:"TokenERC721",version:"1",chainId:at,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest721},await this.mapLegacyPayloadToContractStruct(ut)):dt=await this.contractWrapper.signTypedData(st,{name:"SignatureMintERC721",version:"1",chainId:at,verifyingContract:await this.contractWrapper.readContract.address},{MintRequest:MintRequest721withQuantity},await this.mapPayloadToContractStruct(ut)),{payload:ut,signature:dt.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient,uri:_e.uri,quantity:_e.quantity,pricePerToken:tt,currency:_e.currencyAddress,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,uid:_e.uid}}async mapLegacyPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,price:tt,uri:_e.uri,currency:_e.currencyAddress,validityEndTimestamp:_e.mintEndTime,validityStartTimestamp:_e.mintStartTime,uid:_e.uid,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient}}async isLegacyNFTContract(){return detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")}}class Erc721{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT.name),_defineProperty$3(this,"query",void 0),_defineProperty$3(this,"mintable",void 0),_defineProperty$3(this,"burnable",void 0),_defineProperty$3(this,"lazyMintable",void 0),_defineProperty$3(this,"tieredDropable",void 0),_defineProperty$3(this,"signatureMintable",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_chainId",void 0),_defineProperty$3(this,"transfer",buildTransactionFunction(async(nt,it)=>{const at=await this.contractWrapper.getSignerAddress();return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"transferFrom(address,address,uint256)",args:[at,nt,it]})})),_defineProperty$3(this,"setApprovalForAll",buildTransactionFunction(async(nt,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setApprovalForAll",args:[nt,it]}))),_defineProperty$3(this,"setApprovalForToken",buildTransactionFunction(async(nt,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approve",args:[nt,it]}))),_defineProperty$3(this,"mint",buildTransactionFunction(async nt=>this.mintTo.prepare(await this.contractWrapper.getSignerAddress(),nt))),_defineProperty$3(this,"mintTo",buildTransactionFunction(async(nt,it)=>assertEnabled(this.mintable,FEATURE_NFT_MINTABLE).to.prepare(nt,it))),_defineProperty$3(this,"mintBatch",buildTransactionFunction(async nt=>this.mintBatchTo.prepare(await this.contractWrapper.getSignerAddress(),nt))),_defineProperty$3(this,"mintBatchTo",buildTransactionFunction(async(nt,it)=>{var at;return assertEnabled((at=this.mintable)==null?void 0:at.batch,FEATURE_NFT_BATCH_MINTABLE).to.prepare(nt,it)})),_defineProperty$3(this,"burn",buildTransactionFunction(async nt=>assertEnabled(this.burnable,FEATURE_NFT_BURNABLE).token.prepare(nt))),_defineProperty$3(this,"lazyMint",buildTransactionFunction(async(nt,it)=>assertEnabled(this.lazyMintable,FEATURE_NFT_LAZY_MINTABLE).lazyMint.prepare(nt,it))),_defineProperty$3(this,"claim",buildTransactionFunction(async(nt,it)=>this.claimTo.prepare(await this.contractWrapper.getSignerAddress(),nt,it))),_defineProperty$3(this,"claimTo",buildTransactionFunction(async(nt,it,at)=>{var ct,lt;const st=(ct=this.lazyMintable)==null?void 0:ct.claimWithConditions,ot=(lt=this.lazyMintable)==null?void 0:lt.claim;if(st)return st.to.prepare(nt,it,at);if(ot)return ot.to.prepare(nt,it,at);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)})),this.contractWrapper=_e,this.storage=tt,this.query=this.detectErc721Enumerable(),this.mintable=this.detectErc721Mintable(),this.burnable=this.detectErc721Burnable(),this.lazyMintable=this.detectErc721LazyMintable(),this.tieredDropable=this.detectErc721TieredDrop(),this.signatureMintable=this.detectErc721SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){const[tt,rt]=await Promise.all([this.ownerOf(_e).catch(()=>AddressZero),this.getTokenMetadata(_e).catch(()=>({id:_e.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:tt,metadata:rt,type:"ERC721",supply:"1"}}async ownerOf(_e){return await this.contractWrapper.readContract.ownerOf(_e)}async balanceOf(_e){return await this.contractWrapper.readContract.balanceOf(_e)}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async isApproved(_e,tt){return await this.contractWrapper.readContract.isApprovedForAll(_e,tt)}async getAll(_e){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).all(_e)}async getAllOwners(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).allOwners()}async totalCount(){return this.nextTokenIdToMint()}async totalCirculatingSupply(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).totalCirculatingSupply()}async getOwned(_e){var tt;if((tt=this.query)!=null&&tt.owned)return this.query.owned.all(_e);{const rt=_e||await this.contractWrapper.getSignerAddress(),nt=await this.getAllOwners();return Promise.all((nt||[]).filter(it=>{var at;return(rt==null?void 0:rt.toLowerCase())===((at=it.owner)==null?void 0:at.toLowerCase())}).map(async it=>await this.get(it.tokenId)))}}async getOwnedTokenIds(_e){var tt;if((tt=this.query)!=null&&tt.owned)return this.query.owned.tokenIds(_e);{const rt=_e||await this.contractWrapper.getSignerAddress();return(await this.getAllOwners()||[]).filter(it=>{var at;return(rt==null?void 0:rt.toLowerCase())===((at=it.owner)==null?void 0:at.toLowerCase())}).map(it=>BigNumber.from(it.tokenId))}}async getMintTransaction(_e,tt){return this.mintTo.prepare(_e,tt)}async getClaimTransaction(_e,tt,rt){var at,st;const nt=(at=this.lazyMintable)==null?void 0:at.claimWithConditions,it=(st=this.lazyMintable)==null?void 0:st.claim;if(nt)return nt.conditions.getClaimTransaction(_e,tt,rt);if(it)return it.getClaimTransaction(_e,tt,rt);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)}async totalClaimedSupply(){const _e=this.contractWrapper;if(hasFunction("nextTokenIdToClaim",_e))return _e.readContract.nextTokenIdToClaim();if(hasFunction("totalMinted",_e))return _e.readContract.totalMinted();throw new Error("No function found on contract to get total claimed supply")}async totalUnclaimedSupply(){return(await this.nextTokenIdToMint()).sub(await this.totalClaimedSupply())}get claimConditions(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.claimWithConditions,FEATURE_NFT_CLAIM_CONDITIONS_V2).conditions}get tieredDrop(){return assertEnabled(this.tieredDropable,FEATURE_NFT_TIERED_DROP)}get signature(){return assertEnabled(this.signatureMintable,FEATURE_NFT_SIGNATURE_MINTABLE_V2)}get revealer(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.revealer,FEATURE_NFT_REVEALABLE)}async getTokenMetadata(_e){const tt=await this.contractWrapper.readContract.tokenURI(_e);if(!tt)throw new NotFoundError;return fetchTokenMetadata(_e,tt,this.storage)}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();if(hasFunction("totalSupply",this.contractWrapper))return await this.contractWrapper.readContract.totalSupply();throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint")}detectErc721Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC721Supply")||hasFunction("nextTokenIdToMint",this.contractWrapper))return new Erc721Supply(this,this.contractWrapper)}detectErc721Mintable(){if(detectContractFeature(this.contractWrapper,"ERC721Mintable"))return new Erc721Mintable(this,this.contractWrapper,this.storage)}detectErc721Burnable(){if(detectContractFeature(this.contractWrapper,"ERC721Burnable"))return new Erc721Burnable(this.contractWrapper)}detectErc721LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC721LazyMintable"))return new Erc721LazyMintable(this,this.contractWrapper,this.storage)}detectErc721TieredDrop(){if(detectContractFeature(this.contractWrapper,"ERC721TieredDrop"))return new Erc721TieredDrop(this,this.contractWrapper,this.storage)}detectErc721SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")||detectContractFeature(this.contractWrapper,"ERC721SignatureMintV2"))return new Erc721WithQuantitySignatureMintable(this.contractWrapper,this.storage)}}class StandardErc721{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"_chainId",void 0),_defineProperty$3(this,"transfer",buildTransactionFunction(async(nt,it)=>this.erc721.transfer.prepare(nt,it))),_defineProperty$3(this,"setApprovalForAll",buildTransactionFunction(async(nt,it)=>this.erc721.setApprovalForAll.prepare(nt,it))),_defineProperty$3(this,"setApprovalForToken",buildTransactionFunction(async(nt,it)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"approve",args:[nt,it]}))),this.contractWrapper=_e,this.storage=tt,this.erc721=new Erc721(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async getAll(_e){return this.erc721.getAll(_e)}async getOwned(_e){return this.erc721.getOwned(_e)}async getOwnedTokenIds(_e){return this.erc721.getOwnedTokenIds(_e)}async totalSupply(){return this.erc721.totalCirculatingSupply()}async get(_e){return this.erc721.get(_e)}async ownerOf(_e){return this.erc721.ownerOf(_e)}async balanceOf(_e){return this.erc721.balanceOf(_e)}async balance(){return this.erc721.balance()}async isApproved(_e,tt){return this.erc721.isApproved(_e,tt)}}const AirdropAddressInput=z$6.object({address:AddressSchema,quantity:AmountSchema.default(1)}),AirdropInputSchema=z$6.union([z$6.array(z$6.string()).transform(et=>et.map(_e=>AirdropAddressInput.parse({address:_e}))),z$6.array(AirdropAddressInput)]);class Erc1155Burnable{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_EDITION_BURNABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"tokens",buildTransactionFunction(async(tt,rt)=>{const nt=await this.contractWrapper.getSignerAddress();return this.from.prepare(nt,tt,rt)})),_defineProperty$3(this,"from",buildTransactionFunction(async(tt,rt,nt)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burn",args:[tt,rt,nt]}))),_defineProperty$3(this,"batch",buildTransactionFunction(async(tt,rt)=>{const nt=await this.contractWrapper.getSignerAddress();return this.batchFrom.prepare(nt,tt,rt)})),_defineProperty$3(this,"batchFrom",buildTransactionFunction(async(tt,rt,nt)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"burnBatch",args:[tt,rt,nt]}))),this.contractWrapper=_e}}class Erc1155Enumerable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_EDITION_ENUMERABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),this.erc1155=_e,this.contractWrapper=tt}async all(_e){const tt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),rt=BigNumber.from((_e==null?void 0:_e.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),nt=Math.min((await this.totalCount()).toNumber(),tt+rt);return await Promise.all([...Array(nt-tt).keys()].map(it=>this.erc1155.get((tt+it).toString())))}async totalCount(){return await this.contractWrapper.readContract.nextTokenIdToMint()}async totalCirculatingSupply(_e){return await this.contractWrapper.readContract.totalSupply(_e)}async owned(_e){const tt=_e||await this.contractWrapper.getSignerAddress(),rt=await this.contractWrapper.readContract.nextTokenIdToMint(),it=(await this.contractWrapper.readContract.balanceOfBatch(Array(rt.toNumber()).fill(tt),Array.from(Array(rt.toNumber()).keys()))).map((at,st)=>({tokenId:st,balance:at})).filter(at=>at.balance.gt(0));return await Promise.all(it.map(async at=>({...await this.erc1155.get(at.tokenId.toString()),owner:tt,quantityOwned:at.balance.toString()})))}}async function getPrebuiltInfo(et,_e){try{const tt=new Contract(et,IThirdwebContractABI,_e),[rt,nt]=await Promise.all([toUtf8String(await tt.contractType()).replace(/\x00/g,""),await tt.contractVersion()]);return{type:rt,version:nt}}catch{return}}class ERC1155Claimable{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_EDITION_CLAIM_CUSTOM.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(tt,rt,nt,it)=>await this.getClaimTransaction(tt,rt,nt,it))),this.contractWrapper=_e}async getClaimTransaction(_e,tt,rt,nt){let it={};return nt&&nt.pricePerToken&&(it=await calculateClaimCost(this.contractWrapper,nt.pricePerToken,rt,nt.currencyAddress,nt.checkERC20Allowance)),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"claim",args:[_e,tt,rt],overrides:it})}}class Erc1155ClaimableWithConditions{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_EDITION_CLAIM_CONDITIONS_V2.name),_defineProperty$3(this,"conditions",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(nt,it,at,st)=>await this.conditions.getClaimTransaction(nt,it,at,st))),this.contractWrapper=_e,this.storage=tt;const rt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropErc1155ClaimConditions(_e,rt,this.storage)}}class Erc1155LazyMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_LAZY_MINTABLE_V2.name),_defineProperty$3(this,"revealer",void 0),_defineProperty$3(this,"claimWithConditions",void 0),_defineProperty$3(this,"claim",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"lazyMint",buildTransactionFunction(async(nt,it)=>{const at=await this.erc1155.nextTokenIdToMint(),st=await uploadOrExtractURIs(nt,this.storage,at.toNumber(),it),ot=st[0].substring(0,st[0].lastIndexOf("/"));for(let ut=0;ut<st.length;ut++){const dt=st[ut].substring(0,st[ut].lastIndexOf("/"));if(ot!==dt)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${ot}' but got '${dt}'`)}const ct=ut=>{const dt=this.contractWrapper.parseLogs("TokensLazyMinted",ut==null?void 0:ut.logs),mt=dt[0].args.startTokenId,gt=dt[0].args.endTokenId,bt=[];for(let ht=mt;ht.lte(gt);ht=ht.add(1))bt.push({id:ht,receipt:ut,data:()=>this.erc1155.getTokenMetadata(ht)});return bt},lt=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider());return this.isLegacyEditionDropContract(this.contractWrapper,lt)?Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[st.length,`${ot.endsWith("/")?ot:`${ot}/`}`],parse:ct}):Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"lazyMint",args:[st.length,`${ot.endsWith("/")?ot:`${ot}/`}`,toUtf8Bytes("")],parse:ct})})),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt,this.claim=this.detectErc1155Claimable(),this.claimWithConditions=this.detectErc1155ClaimableWithConditions(),this.revealer=this.detectErc1155Revealable()}detectErc1155Claimable(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimCustom"))return new ERC1155Claimable(this.contractWrapper)}detectErc1155ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV2"))return new Erc1155ClaimableWithConditions(this.contractWrapper,this.storage)}detectErc1155Revealable(){if(detectContractFeature(this.contractWrapper,"ERC1155Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_EDITION_REVEALABLE.name,()=>this.erc1155.nextTokenIdToMint())}isLegacyEditionDropContract(_e,tt){return tt&&tt.type==="DropERC1155"&&tt.version<3||!1}}class Erc1155BatchMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_BATCH_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(nt,it)=>{const at=it.map(lt=>lt.metadata),st=it.map(lt=>lt.supply),ct=(await uploadOrExtractURIs(at,this.storage)).map((lt,ut)=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[nt,MaxUint256$1,lt,st[ut]]));return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[ct],parse:lt=>{const ut=this.contractWrapper.parseLogs("TokensMinted",lt.logs);if(ut.length===0||ut.length<at.length)throw new Error("TokenMinted event not found, minting failed");return ut.map(dt=>{const mt=dt.args.tokenIdMinted;return{id:mt,receipt:lt,data:()=>this.erc1155.get(mt)}})}})})),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt}}class Erc1155Mintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"batch",void 0),_defineProperty$3(this,"to",buildTransactionFunction(async(nt,it)=>{const at=await this.getMintTransaction(nt,it);return at.setParse(st=>{const ot=this.contractWrapper.parseLogs("TransferSingle",st==null?void 0:st.logs);if(ot.length===0)throw new Error("TransferSingleEvent event not found");const ct=ot[0].args.id;return{id:ct,receipt:st,data:()=>this.erc1155.get(ct.toString())}}),at})),_defineProperty$3(this,"additionalSupplyTo",buildTransactionFunction(async(nt,it,at)=>{const st=await this.erc1155.getTokenMetadata(it);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[nt,it,st.uri,at],parse:ot=>({id:BigNumber.from(it),receipt:ot,data:()=>this.erc1155.get(it)})})})),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt,this.batch=this.detectErc1155BatchMintable()}async getMintTransaction(_e,tt){const rt=await uploadOrExtractURI(tt.metadata,this.storage);return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintTo",args:[_e,MaxUint256$1,rt,tt.supply]})}detectErc1155BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155BatchMintable"))return new Erc1155BatchMintable(this.erc1155,this.contractWrapper,this.storage)}}class Erc1155SignatureMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_SIGNATURE_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"roles",void 0),_defineProperty$3(this,"mint",buildTransactionFunction(async nt=>{const it=nt.payload,at=nt.signature,st=await this.mapPayloadToContractStruct(it),ot=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,st.pricePerToken.mul(st.quantity),it.currencyAddress,ot),Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"mintWithSignature",args:[st,at],overrides:ot,parse:ct=>{const lt=this.contractWrapper.parseLogs("TokensMintedWithSignature",ct.logs);if(lt.length===0)throw new Error("No MintWithSignature event found");return{id:lt[0].args.tokenIdMinted,receipt:ct}}})})),_defineProperty$3(this,"mintBatch",buildTransactionFunction(async nt=>{const at=(await Promise.all(nt.map(async st=>{const ot=await this.mapPayloadToContractStruct(st.payload),ct=st.signature,lt=st.payload.price;if(BigNumber.from(lt).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:ot,signature:ct}}))).map(st=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[st.message,st.signature]));if(hasFunction("multicall",this.contractWrapper))return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[at],parse:st=>{const ot=this.contractWrapper.parseLogs("TokensMintedWithSignature",st.logs);if(ot.length===0)throw new Error("No MintWithSignature event found");return ot.map(ct=>({id:ct.args.tokenIdMinted,receipt:st}))}});throw new Error("Multicall not supported on this contract!")})),this.contractWrapper=_e,this.storage=tt,this.roles=rt}async verify(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt);return(await this.contractWrapper.readContract.verify(nt,rt))[0]}async generate(_e){const tt={..._e,tokenId:MaxUint256$1};return this.generateFromTokenId(tt)}async generateFromTokenId(_e){return(await this.generateBatchFromTokenIds([_e]))[0]}async generateBatch(_e){const tt=_e.map(rt=>({...rt,tokenId:MaxUint256$1}));return this.generateBatchFromTokenIds(tt)}async generateBatchFromTokenIds(_e){var ct;await((ct=this.roles)==null?void 0:ct.verify(["minter"],await this.contractWrapper.getSignerAddress()));const tt=_e.map(lt=>Signature1155PayloadInputWithTokenId.parse(lt)),rt=tt.map(lt=>lt.metadata),nt=await uploadOrExtractURIs(rt,this.storage),it=await this.contractWrapper.getChainID(),at=this.contractWrapper.getSigner();invariant(at,"No signer available");const st=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider()),ot=(st==null?void 0:st.type)==="TokenERC1155";return await Promise.all(tt.map(async(lt,ut)=>{const dt=nt[ut],mt=Signature1155PayloadOutput.parse({...lt,uri:dt}),gt=await this.contractWrapper.signTypedData(at,{name:ot?"TokenERC1155":"SignatureMintERC1155",version:"1",chainId:it,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest1155},await this.mapPayloadToContractStruct(mt));return{payload:mt,signature:gt.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,tokenId:_e.tokenId,uri:_e.uri,quantity:_e.quantity,pricePerToken:tt,currency:_e.currencyAddress,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,uid:_e.uid,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient}}}class Erc1155{get chainId(){return this._chainId}constructor(_e,tt,rt){var nt=this;_defineProperty$3(this,"featureName",FEATURE_EDITION.name),_defineProperty$3(this,"query",void 0),_defineProperty$3(this,"mintable",void 0),_defineProperty$3(this,"burnable",void 0),_defineProperty$3(this,"lazyMintable",void 0),_defineProperty$3(this,"signatureMintable",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_chainId",void 0),_defineProperty$3(this,"transfer",buildTransactionFunction(async function(it,at,st){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];const ct=await nt.contractWrapper.getSignerAddress();return Transaction.fromContractWrapper({contractWrapper:nt.contractWrapper,method:"safeTransferFrom",args:[ct,it,at,st,ot]})})),_defineProperty$3(this,"setApprovalForAll",buildTransactionFunction(async(it,at)=>Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setApprovalForAll",args:[it,at]}))),_defineProperty$3(this,"airdrop",buildTransactionFunction(async function(it,at){let st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];const ot=await nt.contractWrapper.getSignerAddress(),ct=await nt.balanceOf(ot,it),lt=AirdropInputSchema.parse(at),ut=lt.reduce((mt,gt)=>mt+Number((gt==null?void 0:gt.quantity)||1),0);if(ct.toNumber()<ut)throw new Error(`The caller owns ${ct.toNumber()} NFTs, but wants to airdrop ${ut} NFTs.`);const dt=lt.map(mt=>{let{address:gt,quantity:bt}=mt;return nt.contractWrapper.readContract.interface.encodeFunctionData("safeTransferFrom",[ot,gt,it,bt,st])});return Transaction.fromContractWrapper({contractWrapper:nt.contractWrapper,method:"multicall",args:[dt]})})),_defineProperty$3(this,"mint",buildTransactionFunction(async it=>this.mintTo.prepare(await this.contractWrapper.getSignerAddress(),it))),_defineProperty$3(this,"mintTo",buildTransactionFunction(async(it,at)=>assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).to.prepare(it,at))),_defineProperty$3(this,"mintAdditionalSupply",buildTransactionFunction(async(it,at)=>assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo.prepare(await this.contractWrapper.getSignerAddress(),it,at))),_defineProperty$3(this,"mintAdditionalSupplyTo",buildTransactionFunction(async(it,at,st)=>assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo.prepare(it,at,st))),_defineProperty$3(this,"mintBatch",buildTransactionFunction(async it=>this.mintBatchTo.prepare(await this.contractWrapper.getSignerAddress(),it))),_defineProperty$3(this,"mintBatchTo",buildTransactionFunction(async(it,at)=>{var st;return assertEnabled((st=this.mintable)==null?void 0:st.batch,FEATURE_EDITION_BATCH_MINTABLE).to.prepare(it,at)})),_defineProperty$3(this,"burn",buildTransactionFunction(async(it,at)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).tokens.prepare(it,at))),_defineProperty$3(this,"burnFrom",buildTransactionFunction(async(it,at,st)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).from.prepare(it,at,st))),_defineProperty$3(this,"burnBatch",buildTransactionFunction(async(it,at)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batch.prepare(it,at))),_defineProperty$3(this,"burnBatchFrom",buildTransactionFunction(async(it,at,st)=>assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batchFrom.prepare(it,at,st))),_defineProperty$3(this,"lazyMint",buildTransactionFunction(async(it,at)=>assertEnabled(this.lazyMintable,FEATURE_EDITION_LAZY_MINTABLE_V2).lazyMint.prepare(it,at))),_defineProperty$3(this,"claim",buildTransactionFunction(async(it,at,st)=>this.claimTo.prepare(await this.contractWrapper.getSignerAddress(),it,at,st))),_defineProperty$3(this,"claimTo",buildTransactionFunction(async(it,at,st,ot)=>{var ut,dt;const ct=(ut=this.lazyMintable)==null?void 0:ut.claimWithConditions,lt=(dt=this.lazyMintable)==null?void 0:dt.claim;if(ct)return ct.to.prepare(it,at,st,ot);if(lt)return lt.to.prepare(it,at,st,ot);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)})),this.contractWrapper=_e,this.storage=tt,this.query=this.detectErc1155Enumerable(),this.mintable=this.detectErc1155Mintable(),this.burnable=this.detectErc1155Burnable(),this.lazyMintable=this.detectErc1155LazyMintable(),this.signatureMintable=this.detectErc1155SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){const[tt,rt]=await Promise.all([this.contractWrapper.readContract.totalSupply(_e).catch(()=>BigNumber.from(0)),this.getTokenMetadata(_e).catch(()=>({id:_e.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:AddressZero,metadata:rt,type:"ERC1155",supply:tt.toString()}}async totalSupply(_e){return await this.contractWrapper.readContract.totalSupply(_e)}async balanceOf(_e,tt){return await this.contractWrapper.readContract.balanceOf(_e,tt)}async balance(_e){return await this.balanceOf(await this.contractWrapper.getSignerAddress(),_e)}async isApproved(_e,tt){return await this.contractWrapper.readContract.isApprovedForAll(_e,tt)}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();throw new Error("Contract requires the `nextTokenIdToMint` function available to determine the next token ID to mint")}async getAll(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).all(_e)}async totalCount(){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCount()}async totalCirculatingSupply(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCirculatingSupply(_e)}async getOwned(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).owned(_e)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).getMintTransaction(_e,tt)}async getClaimTransaction(_e,tt,rt,nt){var st,ot;const it=(st=this.lazyMintable)==null?void 0:st.claimWithConditions,at=(ot=this.lazyMintable)==null?void 0:ot.claim;if(it)return it.conditions.getClaimTransaction(_e,tt,rt,nt);if(at)return at.getClaimTransaction(_e,tt,rt,nt);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)}get claimConditions(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.claimWithConditions,FEATURE_EDITION_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_EDITION_SIGNATURE_MINTABLE)}get revealer(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.revealer,FEATURE_EDITION_REVEALABLE)}async getTokenMetadata(_e){const tt=await this.contractWrapper.readContract.uri(_e);if(!tt)throw new NotFoundError;return fetchTokenMetadata(_e,tt,this.storage)}detectErc1155Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC1155Enumerable"))return new Erc1155Enumerable(this,this.contractWrapper)}detectErc1155Mintable(){if(detectContractFeature(this.contractWrapper,"ERC1155Mintable"))return new Erc1155Mintable(this,this.contractWrapper,this.storage)}detectErc1155Burnable(){if(detectContractFeature(this.contractWrapper,"ERC1155Burnable"))return new Erc1155Burnable(this.contractWrapper)}detectErc1155LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV1")||detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV2"))return new Erc1155LazyMintable(this,this.contractWrapper,this.storage)}detectErc1155SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155SignatureMintable"))return new Erc1155SignatureMintable(this.contractWrapper,this.storage)}}class StandardErc1155{get chainId(){return this._chainId}constructor(_e,tt,rt){var nt=this;_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"_chainId",void 0),_defineProperty$3(this,"transfer",buildTransactionFunction(async function(it,at,st){let ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];return nt.erc1155.transfer.prepare(it,at,st,ot)})),_defineProperty$3(this,"setApprovalForAll",buildTransactionFunction(async(it,at)=>this.erc1155.setApprovalForAll.prepare(it,at))),_defineProperty$3(this,"airdrop",buildTransactionFunction(async function(it,at){let st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];return nt.erc1155.airdrop.prepare(it,at,st)})),this.contractWrapper=_e,this.storage=tt,this.erc1155=new Erc1155(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){return this.erc1155.get(_e)}async totalSupply(_e){return this.erc1155.totalSupply(_e)}async balanceOf(_e,tt){return this.erc1155.balanceOf(_e,tt)}async balance(_e){return this.erc1155.balance(_e)}async isApproved(_e,tt){return this.erc1155.isApproved(_e,tt)}}async function isTokenApprovedForTransfer(et,_e,tt,rt,nt){try{const it=new Contract(tt,ERC165Abi,et),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ot=new Contract(tt,Erc721Abi,et);return await ot.isApprovedForAll(nt,_e)?!0:(await ot.getApproved(rt)).toLowerCase()===_e.toLowerCase()}else return st?await new Contract(tt,Erc1155Abi,et).isApprovedForAll(nt,_e):(console.error("Contract does not implement ERC 1155 or ERC 721."),!1)}catch(it){return console.error("Failed to check if token is approved",it),!1}}async function handleTokenApproval(et,_e,tt,rt,nt){const it=new ContractWrapper(et.getSignerOrProvider(),tt,ERC165Abi,et.options),at=await it.readContract.supportsInterface(InterfaceId_IERC721),st=await it.readContract.supportsInterface(InterfaceId_IERC1155);if(at){const ot=new ContractWrapper(et.getSignerOrProvider(),tt,Erc721Abi,et.options);await ot.readContract.isApprovedForAll(nt,_e)||(await ot.readContract.getApproved(rt)).toLowerCase()===_e.toLowerCase()||await ot.sendTransaction("setApprovalForAll",[_e,!0])}else if(st){const ot=new ContractWrapper(et.getSignerOrProvider(),tt,Erc1155Abi,et.options);await ot.readContract.isApprovedForAll(nt,_e)||await ot.sendTransaction("setApprovalForAll",[_e,!0])}else throw Error("Contract must implement ERC 1155 or ERC 721.")}function validateNewListingParam(et){switch(invariant(et.assetContractAddress!==void 0&&et.assetContractAddress!==null,"Asset contract address is required"),invariant(et.buyoutPricePerToken!==void 0&&et.buyoutPricePerToken!==null,"Buyout price is required"),invariant(et.listingDurationInSeconds!==void 0&&et.listingDurationInSeconds!==null,"Listing duration is required"),invariant(et.startTimestamp!==void 0&&et.startTimestamp!==null,"Start time is required"),invariant(et.tokenId!==void 0&&et.tokenId!==null,"Token ID is required"),invariant(et.quantity!==void 0&&et.quantity!==null,"Quantity is required"),et.type){case"NewAuctionListing":invariant(et.reservePricePerToken!==void 0&&et.reservePricePerToken!==null,"Reserve price is required")}}async function mapOffer(et,_e,tt){return{quantity:tt.quantityDesired,pricePerToken:tt.pricePerToken,currencyContractAddress:tt.currency,buyerAddress:tt.offeror,quantityDesired:tt.quantityWanted,currencyValue:await fetchCurrencyValue(et,tt.currency,tt.quantityWanted.mul(tt.pricePerToken)),listingId:_e}}function isWinningBid(et,_e,tt){return tt=BigNumber.from(tt),et=BigNumber.from(et),_e=BigNumber.from(_e),et.eq(BigNumber.from(0))?!1:_e.sub(et).mul(MAX_BPS).div(et).gte(tt)}async function getAllInBatches(et,_e,tt){let rt=[];for(;_e-et>DEFAULT_QUERY_ALL_COUNT;)rt.push(tt(et,et+DEFAULT_QUERY_ALL_COUNT-1)),et+=DEFAULT_QUERY_ALL_COUNT;return rt.push(tt(et,_e-1)),await Promise.all(rt)}class MarketplaceDirect{constructor(_e,tt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt}getAddress(){return this.contractWrapper.readContract.address}async getListing(_e){const tt=await this.contractWrapper.readContract.listings(_e);if(tt.assetContract===AddressZero)throw new ListingNotFoundError(this.getAddress(),_e.toString());if(tt.listingType!==ListingType.Direct)throw new WrongListingTypeError(this.getAddress(),_e.toString(),"Auction","Direct");return await this.mapListing(tt)}async getActiveOffer(_e,tt){await this.validateListing(BigNumber.from(_e)),invariant(isAddress(tt),"Address must be a valid address");const rt=await this.contractWrapper.readContract.offers(_e,tt);if(rt.offeror!==AddressZero)return await mapOffer(this.contractWrapper.getProvider(),BigNumber.from(_e),rt)}async createListing(_e){validateNewListingParam(_e),await handleTokenApproval(this.contractWrapper,this.getAddress(),_e.assetContractAddress,_e.tokenId,await this.contractWrapper.getSignerAddress());const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.buyoutPricePerToken,_e.currencyContractAddress);let rt=Math.floor(_e.startTimestamp.getTime()/1e3);const it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;rt<it&&(rt=it);const at=await this.contractWrapper.sendTransaction("createListing",[{assetContract:_e.assetContractAddress,tokenId:_e.tokenId,buyoutPricePerToken:tt,currencyToAccept:cleanCurrencyAddress(_e.currencyContractAddress),listingType:ListingType.Direct,quantityToList:_e.quantity,reservePricePerToken:tt,secondsUntilEndTime:_e.listingDurationInSeconds,startTime:BigNumber.from(rt)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",at==null?void 0:at.logs)[0].args.listingId,receipt:at}}async makeOffer(_e,tt,rt,nt,it){if(isNativeToken(rt))throw new Error("You must use the wrapped native token address when making an offer with a native token");const at=await normalizePriceValue(this.contractWrapper.getProvider(),nt,rt);try{await this.getListing(_e)}catch(ut){throw console.error("Failed to get listing, err =",ut),new Error(`Error getting the listing with id ${_e}`)}const st=BigNumber.from(tt),ot=BigNumber.from(at).mul(st),ct=await this.contractWrapper.getCallOverrides()||{};await setErc20Allowance(this.contractWrapper,ot,rt,ct);let lt=MaxUint256$1;return it&&(lt=BigNumber.from(Math.floor(it.getTime()/1e3))),{receipt:await this.contractWrapper.sendTransaction("offer",[_e,tt,rt,at,lt],ct)}}async acceptOffer(_e,tt){await this.validateListing(BigNumber.from(_e));const rt=await this.contractWrapper.readContract.offers(_e,tt);return{receipt:await this.contractWrapper.sendTransaction("acceptOffer",[_e,tt,rt.currency,rt.pricePerToken])}}async buyoutListing(_e,tt,rt){const nt=await this.validateListing(BigNumber.from(_e)),{valid:it,error:at}=await this.isStillValidListing(nt,tt);if(!it)throw new Error(`Listing ${_e} is no longer valid. ${at}`);const st=rt||await this.contractWrapper.getSignerAddress(),ot=BigNumber.from(tt),ct=BigNumber.from(nt.buyoutPrice).mul(ot),lt=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ct,nt.currencyContractAddress,lt),{receipt:await this.contractWrapper.sendTransaction("buy",[_e,st,ot,nt.currencyContractAddress,ct],lt)}}async updateListing(_e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[_e.id,_e.quantity,_e.buyoutPrice,_e.buyoutPrice,_e.currencyContractAddress,_e.startTimeInSeconds,_e.secondsUntilEnd])}}async cancelListing(_e){return{receipt:await this.contractWrapper.sendTransaction("cancelDirectListing",[_e])}}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){return{assetContractAddress:_e.assetContract,buyoutPrice:BigNumber.from(_e.buyoutPricePerToken),currencyContractAddress:_e.currency,buyoutCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutPricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId,quantity:_e.quantity,startTimeInSeconds:_e.startTime,asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),secondsUntilEnd:_e.endTime,sellerAddress:_e.tokenOwner,type:ListingType.Direct}}async isStillValidListing(_e,tt){if(!await isTokenApprovedForTransfer(this.contractWrapper.getProvider(),this.getAddress(),_e.assetContractAddress,_e.tokenId,_e.sellerAddress))return{valid:!1,error:`Token '${_e.tokenId}' from contract '${_e.assetContractAddress}' is not approved for transfer`};const nt=this.contractWrapper.getProvider(),it=new Contract(_e.assetContractAddress,ERC165Abi,nt),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ct=(await new Contract(_e.assetContractAddress,Erc721Abi,nt).ownerOf(_e.tokenId)).toLowerCase()===_e.sellerAddress.toLowerCase();return{valid:ct,error:ct?void 0:`Seller is not the owner of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} anymore'`}}else if(st){const lt=(await new Contract(_e.assetContractAddress,Erc1155Abi,nt).balanceOf(_e.sellerAddress,_e.tokenId)).gte(tt||_e.quantity);return{valid:lt,error:lt?void 0:`Seller does not have enough balance of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} to fulfill the listing`}}else return{valid:!1,error:"Contract does not implement ERC 1155 or ERC 721."}}}class MarketplaceAuction{constructor(_e,tt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"encoder",void 0),this.contractWrapper=_e,this.storage=tt,this.encoder=new ContractEncoder(_e)}getAddress(){return this.contractWrapper.readContract.address}async getListing(_e){const tt=await this.contractWrapper.readContract.listings(_e);if(tt.listingId.toString()!==_e.toString())throw new ListingNotFoundError(this.getAddress(),_e.toString());if(tt.listingType!==ListingType.Auction)throw new WrongListingTypeError(this.getAddress(),_e.toString(),"Direct","Auction");return await this.mapListing(tt)}async getWinningBid(_e){await this.validateListing(BigNumber.from(_e));const tt=await this.contractWrapper.readContract.winningBid(_e);if(tt.offeror!==AddressZero)return await mapOffer(this.contractWrapper.getProvider(),BigNumber.from(_e),tt)}async getWinner(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=await this.contractWrapper.readContract.winningBid(_e),nt=BigNumber.from(Math.floor(Date.now()/1e3)),it=BigNumber.from(tt.endTimeInEpochSeconds);if(nt.gt(it)&&rt.offeror!==AddressZero)return rt.offeror;const st=(await this.contractWrapper.readContract.queryFilter(this.contractWrapper.readContract.filters.AuctionClosed())).find(ot=>ot.args.listingId.eq(BigNumber.from(_e)));if(!st)throw new Error(`Could not find auction with listingId ${_e} in closed auctions`);return st.args.winningBidder}async createListing(_e){validateNewListingParam(_e),await handleTokenApproval(this.contractWrapper,this.getAddress(),_e.assetContractAddress,_e.tokenId,await this.contractWrapper.getSignerAddress());const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.buyoutPricePerToken,_e.currencyContractAddress),rt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.reservePricePerToken,_e.currencyContractAddress);let nt=Math.floor(_e.startTimestamp.getTime()/1e3);const at=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;nt<at&&(nt=at);const st=await this.contractWrapper.sendTransaction("createListing",[{assetContract:_e.assetContractAddress,tokenId:_e.tokenId,buyoutPricePerToken:tt,currencyToAccept:cleanCurrencyAddress(_e.currencyContractAddress),listingType:ListingType.Auction,quantityToList:_e.quantity,reservePricePerToken:rt,secondsUntilEndTime:_e.listingDurationInSeconds,startTime:BigNumber.from(nt)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",st==null?void 0:st.logs)[0].args.listingId,receipt:st}}async buyoutListing(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=await fetchCurrencyMetadata(this.contractWrapper.getProvider(),tt.currencyContractAddress);return this.makeBid(_e,formatUnits(tt.buyoutPrice,rt.decimals))}async makeBid(_e,tt){const rt=await this.validateListing(BigNumber.from(_e)),nt=await normalizePriceValue(this.contractWrapper.getProvider(),tt,rt.currencyContractAddress);if(nt.eq(BigNumber.from(0)))throw new Error("Cannot make a bid with 0 value");const it=await this.contractWrapper.readContract.bidBufferBps(),at=await this.getWinningBid(_e);if(at){const lt=isWinningBid(at.pricePerToken,nt,it);invariant(lt,"Bid price is too low based on the current winning bid and the bid buffer")}else{const lt=nt,ut=BigNumber.from(rt.reservePrice);invariant(lt.gte(ut),"Bid price is too low based on reserve price")}const st=BigNumber.from(rt.quantity),ot=nt.mul(st),ct=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ot,rt.currencyContractAddress,ct),{receipt:await this.contractWrapper.sendTransaction("offer",[_e,rt.quantity,rt.currencyContractAddress,nt,MaxUint256$1],ct)}}async cancelListing(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=BigNumber.from(Math.floor(Date.now()/1e3)),nt=BigNumber.from(tt.startTimeInEpochSeconds),it=await this.contractWrapper.readContract.winningBid(_e);if(rt.gt(nt)&&it.offeror!==AddressZero)throw new AuctionAlreadyStartedError(_e.toString());return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[BigNumber.from(_e),await this.contractWrapper.getSignerAddress()])}}async closeListing(_e,tt){tt||(tt=await this.contractWrapper.getSignerAddress());const rt=await this.validateListing(BigNumber.from(_e));try{return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[BigNumber.from(_e),tt])}}catch(nt){throw nt.message.includes("cannot close auction before it has ended")?new AuctionHasNotEndedError(_e.toString(),rt.endTimeInEpochSeconds.toString()):nt}}async executeSale(_e){const tt=await this.validateListing(BigNumber.from(_e));try{const rt=await this.getWinningBid(_e);invariant(rt,"No winning bid found");const nt=this.encoder.encode("closeAuction",[_e,tt.sellerAddress]),it=this.encoder.encode("closeAuction",[_e,rt.buyerAddress]);return await this.contractWrapper.multiCall([nt,it])}catch(rt){throw rt.message.includes("cannot close auction before it has ended")?new AuctionHasNotEndedError(_e.toString(),tt.endTimeInEpochSeconds.toString()):rt}}async updateListing(_e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[_e.id,_e.quantity,_e.reservePrice,_e.buyoutPrice,_e.currencyContractAddress,_e.startTimeInEpochSeconds,_e.endTimeInEpochSeconds])}}async getBidBufferBps(){return this.contractWrapper.readContract.bidBufferBps()}async getMinimumNextBid(_e){const[tt,rt,nt]=await Promise.all([this.getBidBufferBps(),this.getWinningBid(_e),await this.validateListing(BigNumber.from(_e))]),it=rt?rt.currencyValue.value:nt.reservePrice,at=it.add(it.mul(tt).div(1e4));return fetchCurrencyValue(this.contractWrapper.getProvider(),nt.currencyContractAddress,at)}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){return{assetContractAddress:_e.assetContract,buyoutPrice:BigNumber.from(_e.buyoutPricePerToken),currencyContractAddress:_e.currency,buyoutCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutPricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId,quantity:_e.quantity,startTimeInEpochSeconds:_e.startTime,asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),reservePriceCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.reservePricePerToken),reservePrice:BigNumber.from(_e.reservePricePerToken),endTimeInEpochSeconds:_e.endTime,sellerAddress:_e.tokenOwner,type:ListingType.Auction}}}const DirectListingInputParamsSchema=z$6.object({assetContractAddress:AddressSchema,tokenId:BigNumberishSchema,quantity:BigNumberishSchema.default(1),currencyContractAddress:AddressSchema.default(NATIVE_TOKEN_ADDRESS),pricePerToken:AmountSchema,startTimestamp:RawDateSchema$1.default(new Date),endTimestamp:EndDateSchema,isReservedListing:z$6.boolean().default(!1)});class ContractEvents{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}addTransactionListener(_e){this.contractWrapper.addListener(EventType.Transaction,_e)}removeTransactionListener(_e){this.contractWrapper.off(EventType.Transaction,_e)}addEventListener(_e,tt){const rt=this.contractWrapper.readContract.interface.getEvent(_e),it={address:this.contractWrapper.readContract.address,topics:[this.contractWrapper.readContract.interface.getEventTopic(rt)]},at=st=>{const ot=this.contractWrapper.readContract.interface.parseLog(st);tt(this.toContractEvent(ot.eventFragment,ot.args,st))};return this.contractWrapper.getProvider().on(it,at),()=>{this.contractWrapper.getProvider().off(it,at)}}listenToAllEvents(_e){const rt={address:this.contractWrapper.readContract.address},nt=it=>{try{const at=this.contractWrapper.readContract.interface.parseLog(it);_e(this.toContractEvent(at.eventFragment,at.args,it))}catch(at){console.error("Could not parse event:",it,at)}};return this.contractWrapper.getProvider().on(rt,nt),()=>{this.contractWrapper.getProvider().off(rt,nt)}}removeEventListener(_e,tt){const rt=this.contractWrapper.readContract.interface.getEvent(_e);this.contractWrapper.readContract.off(rt.name,tt)}removeAllListeners(){this.contractWrapper.readContract.removeAllListeners();const tt={address:this.contractWrapper.readContract.address};this.contractWrapper.getProvider().removeAllListeners(tt)}async getAllEvents(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fromBlock:0,toBlock:"latest",order:"desc"};const rt=(await this.contractWrapper.readContract.queryFilter({},_e.fromBlock,_e.toBlock)).sort((nt,it)=>_e.order==="desc"?it.blockNumber-nt.blockNumber:nt.blockNumber-it.blockNumber);return this.parseEvents(rt)}async getEvents(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromBlock:0,toBlock:"latest",order:"desc"};const rt=this.contractWrapper.readContract.interface.getEvent(_e),nt=this.contractWrapper.readContract.interface.getEvent(_e),it=tt.filters?nt.inputs.map(ct=>tt.filters[ct.name]):[],at=this.contractWrapper.readContract.filters[rt.name](...it),ot=(await this.contractWrapper.readContract.queryFilter(at,tt.fromBlock,tt.toBlock)).sort((ct,lt)=>tt.order==="desc"?lt.blockNumber-ct.blockNumber:ct.blockNumber-lt.blockNumber);return this.parseEvents(ot)}parseEvents(_e){return _e.map(tt=>{const rt=Object.fromEntries(Object.entries(tt).filter(nt=>typeof nt[1]!="function"&&nt[0]!=="args"));if(tt.args){const nt=Object.entries(tt.args),it=nt.slice(nt.length/2,nt.length),at={};for(const[st,ot]of it)at[st]=ot;return{eventName:tt.event||"",data:at,transaction:rt}}return{eventName:tt.event||"",data:{},transaction:rt}})}toContractEvent(_e,tt,rt){const nt=Object.fromEntries(Object.entries(rt).filter(at=>typeof at[1]!="function"&&at[0]!=="args")),it={};return _e.inputs.forEach((at,st)=>{if(Array.isArray(tt[st])){const ot=at.components;if(ot){const ct=tt[st];if(at.type==="tuple[]"){const lt=[];for(let ut=0;ut<ct.length;ut++){const dt=ct[ut],mt={};for(let gt=0;gt<ot.length;gt++){const bt=ot[gt].name;mt[bt]=dt[gt]}lt.push(mt)}it[at.name]=lt}else{const lt={};for(let ut=0;ut<ot.length;ut++){const dt=ot[ut].name;lt[dt]=ct[ut]}it[at.name]=lt}}}else it[at.name]=tt[st]}),{eventName:_e.name,data:it,transaction:nt}}}class ContractInterceptor{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}overrideNextTransaction(_e){this.contractWrapper.withTransactionOverride(_e)}}class GasCostEstimator{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async gasCostOf(_e,tt){const rt=await this.contractWrapper.getPreferredGasPrice(),nt=await this.contractWrapper.estimateGas(_e,tt);return formatEther(nt.mul(rt))}async gasLimitOf(_e,tt){return this.contractWrapper.estimateGas(_e,tt)}async currentGasPriceInGwei(){const _e=await this.contractWrapper.getProvider().getGasPrice();return formatUnits(_e,"gwei")}}class MarketplaceV3DirectListings{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_DIRECT_LISTINGS.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"interceptor",void 0),_defineProperty$3(this,"encoder",void 0),_defineProperty$3(this,"estimator",void 0),this.contractWrapper=_e,this.storage=tt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async getTotalCount(){return await this.contractWrapper.readContract.totalListings()}async getAll(_e){const tt=await this.getTotalCount();let rt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),nt=tt.toNumber();if(nt===0)throw new Error("No listings exist on the contract.");let it=[];it=(await getAllInBatches(rt,nt,this.contractWrapper.readContract.getAllListings)).flat();const st=this.applyFilter(it,_e);return await Promise.all(st.map(ot=>this.mapListing(ot)))}async getAllValid(_e){const tt=await this.getTotalCount();let rt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),nt=tt.toNumber();if(nt===0)throw new Error("No listings exist on the contract.");let it=[];it=(await getAllInBatches(rt,nt,this.contractWrapper.readContract.getAllValidListings)).flat();const st=this.applyFilter(it,_e);return await Promise.all(st.map(ot=>this.mapListing(ot)))}async getListing(_e){const tt=await this.contractWrapper.readContract.getListing(_e);return await this.mapListing(tt)}async isBuyerApprovedForListing(_e,tt){if(!(await this.validateListing(BigNumber.from(_e))).isReservedListing)throw new Error(`Listing ${_e} is not a reserved listing.`);return await this.contractWrapper.readContract.isBuyerApprovedForListing(_e,tt)}async isCurrencyApprovedForListing(_e,tt){return await this.validateListing(BigNumber.from(_e)),await this.contractWrapper.readContract.isCurrencyApprovedForListing(_e,tt)}async currencyPriceForListing(_e,tt){const rt=await this.validateListing(BigNumber.from(_e));if(tt===rt.currencyContractAddress)return rt.pricePerToken;if(!await this.isCurrencyApprovedForListing(_e,tt))throw new Error(`Currency ${tt} is not approved for Listing ${_e}.`);return await this.contractWrapper.readContract.currencyPriceForListing(_e,tt)}async createListing(_e){const tt=DirectListingInputParamsSchema.parse(_e);await handleTokenApproval(this.contractWrapper,this.getAddress(),tt.assetContractAddress,tt.tokenId,await this.contractWrapper.getSignerAddress());const rt=await normalizePriceValue(this.contractWrapper.getProvider(),tt.pricePerToken,tt.currencyContractAddress),it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;tt.startTimestamp.lt(it)&&(tt.startTimestamp=BigNumber.from(it));const at=await this.contractWrapper.sendTransaction("createListing",[{assetContract:tt.assetContractAddress,tokenId:tt.tokenId,quantity:tt.quantity,currency:cleanCurrencyAddress(tt.currencyContractAddress),pricePerToken:rt,startTimestamp:tt.startTimestamp,endTimestamp:tt.endTimestamp,reserved:tt.isReservedListing}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("NewListing",at==null?void 0:at.logs)[0].args.listingId,receipt:at}}async updateListing(_e,tt){const rt=DirectListingInputParamsSchema.parse(tt);await handleTokenApproval(this.contractWrapper,this.getAddress(),rt.assetContractAddress,rt.tokenId,await this.contractWrapper.getSignerAddress());const nt=await normalizePriceValue(this.contractWrapper.getProvider(),rt.pricePerToken,rt.currencyContractAddress),it=await this.contractWrapper.sendTransaction("updateListing",[_e,{assetContract:rt.assetContractAddress,tokenId:rt.tokenId,quantity:rt.quantity,currency:cleanCurrencyAddress(rt.currencyContractAddress),pricePerToken:nt,startTimestamp:rt.startTimestamp,endTimestamp:rt.endTimestamp,reserved:rt.isReservedListing}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("UpdatedListing",it==null?void 0:it.logs)[0].args.listingId,receipt:it}}async cancelListing(_e){return{receipt:await this.contractWrapper.sendTransaction("cancelListing",[_e])}}async buyFromListing(_e,tt,rt){const nt=await this.validateListing(BigNumber.from(_e)),{valid:it,error:at}=await this.isStillValidListing(nt,tt);if(!it)throw new Error(`Listing ${_e} is no longer valid. ${at}`);const st=rt||await this.contractWrapper.getSignerAddress(),ot=BigNumber.from(tt),ct=BigNumber.from(nt.pricePerToken).mul(ot),lt=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ct,nt.currencyContractAddress,lt),{receipt:await this.contractWrapper.sendTransaction("buyFromListing",[_e,st,ot,nt.currencyContractAddress,ct],lt)}}async approveBuyerForReservedListing(_e,tt){if(await this.isBuyerApprovedForListing(_e,tt))throw new Error(`Buyer ${tt} already approved for listing ${_e}.`);return{receipt:await this.contractWrapper.sendTransaction("approveBuyerForListing",[_e,tt,!0])}}async revokeBuyerApprovalForReservedListing(_e,tt){if(await this.isBuyerApprovedForListing(_e,tt))return{receipt:await this.contractWrapper.sendTransaction("approveBuyerForListing",[_e,tt,!1])};throw new Error(`Buyer ${tt} not approved for listing ${_e}.`)}async approveCurrencyForListing(_e,tt,rt){const nt=await this.validateListing(BigNumber.from(_e));tt===nt.currencyContractAddress&&invariant(rt===nt.pricePerToken,"Approving listing currency with a different price.");const it=await this.contractWrapper.readContract.currencyPriceForListing(_e,tt);return invariant(rt===it,"Currency already approved with this price."),{receipt:await this.contractWrapper.sendTransaction("approveCurrencyForListing",[_e,tt,rt])}}async revokeCurrencyApprovalForListing(_e,tt){const rt=await this.validateListing(BigNumber.from(_e));if(tt===rt.currencyContractAddress)throw new Error("Can't revoke approval for main listing currency.");const nt=await this.contractWrapper.readContract.currencyPriceForListing(_e,tt);return invariant(!nt.isZero(),"Currency not approved."),{receipt:await this.contractWrapper.sendTransaction("approveCurrencyForListing",[_e,tt,BigNumber.from(0)])}}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){let tt=Status.UNSET;const nt=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;switch(_e.status){case 1:tt=BigNumber.from(_e.startTimestamp).gt(nt)?Status.Created:BigNumber.from(_e.endTimestamp).lt(nt)?Status.Expired:Status.Active;break;case 2:tt=Status.Completed;break;case 3:tt=Status.Cancelled;break}return{assetContractAddress:_e.assetContract,currencyContractAddress:_e.currency,pricePerToken:_e.pricePerToken.toString(),currencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.pricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId.toString(),quantity:_e.quantity.toString(),startTimeInSeconds:BigNumber.from(_e.startTimestamp).toNumber(),asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),endTimeInSeconds:BigNumber.from(_e.endTimestamp).toNumber(),creatorAddress:_e.listingCreator,isReservedListing:_e.reserved,status:tt}}async isStillValidListing(_e,tt){if(!await isTokenApprovedForTransfer(this.contractWrapper.getProvider(),this.getAddress(),_e.assetContractAddress,_e.tokenId,_e.creatorAddress))return{valid:!1,error:`Token '${_e.tokenId}' from contract '${_e.assetContractAddress}' is not approved for transfer`};const nt=this.contractWrapper.getProvider(),it=new Contract(_e.assetContractAddress,ERC165Abi,nt),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ct=(await new Contract(_e.assetContractAddress,Erc721Abi,nt).ownerOf(_e.tokenId)).toLowerCase()===_e.creatorAddress.toLowerCase();return{valid:ct,error:ct?void 0:`Seller is not the owner of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} anymore'`}}else if(st){const lt=(await new Contract(_e.assetContractAddress,Erc1155Abi,nt).balanceOf(_e.creatorAddress,_e.tokenId)).gte(tt||_e.quantity);return{valid:lt,error:lt?void 0:`Seller does not have enough balance of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} to fulfill the listing`}}else return{valid:!1,error:"Contract does not implement ERC 1155 or ERC 721."}}applyFilter(_e,tt){let rt=[..._e];return tt&&(tt.seller&&(rt=rt.filter(nt=>{var it;return nt.listingCreator.toString().toLowerCase()===((it=tt==null?void 0:tt.seller)==null?void 0:it.toString().toLowerCase())})),tt.tokenContract&&(rt=rt.filter(nt=>{var it;return nt.assetContract.toString().toLowerCase()===((it=tt==null?void 0:tt.tokenContract)==null?void 0:it.toString().toLowerCase())})),tt.tokenId!==void 0&&(rt=rt.filter(nt=>{var it;return nt.tokenId.toString()===((it=tt==null?void 0:tt.tokenId)==null?void 0:it.toString())}))),(tt==null?void 0:tt.count)&&tt.count<rt.length?rt.slice(0,tt.count):rt}}const EnglishAuctionInputParamsSchema=z$6.object({assetContractAddress:AddressSchema,tokenId:BigNumberishSchema,quantity:BigNumberishSchema.default(1),currencyContractAddress:AddressSchema.default(NATIVE_TOKEN_ADDRESS),minimumBidAmount:AmountSchema,buyoutBidAmount:AmountSchema,timeBufferInSeconds:BigNumberishSchema.default(900),bidBufferBps:BigNumberishSchema.default(500),startTimestamp:RawDateSchema$1.default(new Date),endTimestamp:EndDateSchema});class MarketplaceV3EnglishAuctions{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_ENGLISH_AUCTIONS.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"interceptor",void 0),_defineProperty$3(this,"encoder",void 0),_defineProperty$3(this,"estimator",void 0),this.contractWrapper=_e,this.storage=tt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async getTotalCount(){return await this.contractWrapper.readContract.totalAuctions()}async getAll(_e){const tt=await this.getTotalCount();let rt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),nt=tt.toNumber();if(nt===0)throw new Error("No auctions exist on the contract.");let it=[];it=(await getAllInBatches(rt,nt,this.contractWrapper.readContract.getAllAuctions)).flat();const st=this.applyFilter(it,_e);return await Promise.all(st.map(ot=>this.mapAuction(ot)))}async getAllValid(_e){const tt=await this.getTotalCount();let rt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),nt=tt.toNumber();if(nt===0)throw new Error("No auctions exist on the contract.");let it=[];it=(await getAllInBatches(rt,nt,this.contractWrapper.readContract.getAllValidAuctions)).flat();const st=this.applyFilter(it,_e);return await Promise.all(st.map(ot=>this.mapAuction(ot)))}async getAuction(_e){const tt=await this.contractWrapper.readContract.getAuction(_e);return await this.mapAuction(tt)}async getWinningBid(_e){await this.validateAuction(BigNumber.from(_e));const tt=await this.contractWrapper.readContract.getWinningBid(_e);if(tt._bidder!==AddressZero)return await this.mapBid(_e.toString(),tt._bidder,tt._currency,tt._bidAmount.toString())}async isWinningBid(_e,tt){return await this.contractWrapper.readContract.isNewWinningBid(_e,tt)}async getWinner(_e){const tt=await this.validateAuction(BigNumber.from(_e)),rt=await this.contractWrapper.readContract.getWinningBid(_e),nt=BigNumber.from(Math.floor(Date.now()/1e3)),it=BigNumber.from(tt.endTimeInSeconds);if(nt.gt(it)&&rt._bidder!==AddressZero)return rt._bidder;const st=(await this.contractWrapper.readContract.queryFilter(this.contractWrapper.readContract.filters.AuctionClosed())).find(ot=>ot.args.auctionId.eq(BigNumber.from(_e)));if(!st)throw new Error(`Could not find auction with ID ${_e} in closed auctions`);return st.args.winningBidder}async createAuction(_e){const tt=EnglishAuctionInputParamsSchema.parse(_e);await handleTokenApproval(this.contractWrapper,this.getAddress(),tt.assetContractAddress,tt.tokenId,await this.contractWrapper.getSignerAddress());const rt=await normalizePriceValue(this.contractWrapper.getProvider(),tt.buyoutBidAmount,tt.currencyContractAddress),nt=await normalizePriceValue(this.contractWrapper.getProvider(),tt.minimumBidAmount,tt.currencyContractAddress),at=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;tt.startTimestamp.lt(at)&&(tt.startTimestamp=BigNumber.from(at));const st=await this.contractWrapper.sendTransaction("createAuction",[{assetContract:tt.assetContractAddress,tokenId:tt.tokenId,quantity:tt.quantity,currency:cleanCurrencyAddress(tt.currencyContractAddress),minimumBidAmount:nt,buyoutBidAmount:rt,timeBufferInSeconds:tt.timeBufferInSeconds,bidBufferBps:tt.bidBufferBps,startTimestamp:tt.startTimestamp,endTimestamp:tt.endTimestamp}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("NewAuction",st==null?void 0:st.logs)[0].args.auctionId,receipt:st}}async buyoutAuction(_e){const tt=await this.validateAuction(BigNumber.from(_e)),rt=await fetchCurrencyMetadata(this.contractWrapper.getProvider(),tt.currencyContractAddress);return this.makeBid(_e,formatUnits(tt.buyoutBidAmount,rt.decimals))}async makeBid(_e,tt){const rt=await this.validateAuction(BigNumber.from(_e)),nt=await normalizePriceValue(this.contractWrapper.getProvider(),tt,rt.currencyContractAddress);if(nt.eq(BigNumber.from(0)))throw new Error("Cannot make a bid with 0 value");if(BigNumber.from(rt.buyoutBidAmount).gt(0)&&nt.gt(rt.buyoutBidAmount))throw new Error("Bid amount must be less than or equal to buyoutBidAmount");if(await this.getWinningBid(_e)){const st=await this.isWinningBid(_e,nt);invariant(st,"Bid price is too low based on the current winning bid and the bid buffer")}else{const st=nt,ot=BigNumber.from(rt.minimumBidAmount);invariant(st.gte(ot),"Bid price is too low based on minimum bid amount")}const at=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,nt,rt.currencyContractAddress,at),{receipt:await this.contractWrapper.sendTransaction("bidInAuction",[_e,nt],at)}}async cancelAuction(_e){if(await this.getWinningBid(_e))throw new Error("Bids already made.");return{receipt:await this.contractWrapper.sendTransaction("cancelAuction",[_e])}}async closeAuctionForBidder(_e,tt){tt||(tt=await this.contractWrapper.getSignerAddress());const rt=await this.validateAuction(BigNumber.from(_e));try{return{receipt:await this.contractWrapper.sendTransaction("collectAuctionTokens",[BigNumber.from(_e)])}}catch(nt){throw nt.message.includes("Marketplace: auction still active.")?new AuctionHasNotEndedError(_e.toString(),rt.endTimeInSeconds.toString()):nt}}async closeAuctionForSeller(_e){const tt=await this.validateAuction(BigNumber.from(_e));try{return{receipt:await this.contractWrapper.sendTransaction("collectAuctionPayout",[BigNumber.from(_e)])}}catch(rt){throw rt.message.includes("Marketplace: auction still active.")?new AuctionHasNotEndedError(_e.toString(),tt.endTimeInSeconds.toString()):rt}}async executeSale(_e){const tt=await this.validateAuction(BigNumber.from(_e));try{const rt=await this.getWinningBid(_e);invariant(rt,"No winning bid found");const nt=this.encoder.encode("collectAuctionPayout",[_e]),it=this.encoder.encode("collectAuctionTokens",[_e]);return await this.contractWrapper.multiCall([nt,it])}catch(rt){throw rt.message.includes("Marketplace: auction still active.")?new AuctionHasNotEndedError(_e.toString(),tt.endTimeInSeconds.toString()):rt}}async getBidBufferBps(_e){return(await this.getAuction(_e)).bidBufferBps}async getMinimumNextBid(_e){const[tt,rt,nt]=await Promise.all([this.getBidBufferBps(_e),this.getWinningBid(_e),await this.validateAuction(BigNumber.from(_e))]),it=rt?BigNumber.from(rt.bidAmount):BigNumber.from(nt.minimumBidAmount),at=it.add(it.mul(tt).div(1e4));return fetchCurrencyValue(this.contractWrapper.getProvider(),nt.currencyContractAddress,at)}async validateAuction(_e){try{return await this.getAuction(_e)}catch(tt){throw console.error(`Error getting the auction with id ${_e}`),tt}}async mapAuction(_e){let tt=Status.UNSET;const nt=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;switch(_e.status){case 1:tt=BigNumber.from(_e.startTimestamp).gt(nt)?Status.Created:BigNumber.from(_e.endTimestamp).lt(nt)?Status.Expired:Status.Active;break;case 2:tt=Status.Completed;break;case 3:tt=Status.Cancelled;break}return{id:_e.auctionId.toString(),creatorAddress:_e.auctionCreator,assetContractAddress:_e.assetContract,tokenId:_e.tokenId.toString(),quantity:_e.quantity.toString(),currencyContractAddress:_e.currency,minimumBidAmount:_e.minimumBidAmount.toString(),minimumBidCurrencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.minimumBidAmount),buyoutBidAmount:_e.buyoutBidAmount.toString(),buyoutCurrencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutBidAmount),timeBufferInSeconds:BigNumber.from(_e.timeBufferInSeconds).toNumber(),bidBufferBps:BigNumber.from(_e.bidBufferBps).toNumber(),startTimeInSeconds:BigNumber.from(_e.startTimestamp).toNumber(),endTimeInSeconds:BigNumber.from(_e.endTimestamp).toNumber(),asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),status:tt}}async mapBid(_e,tt,rt,nt){return{auctionId:_e,bidderAddress:tt,currencyContractAddress:rt,bidAmount:nt,bidAmountCurrencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),rt,nt)}}applyFilter(_e,tt){let rt=[..._e];return tt&&(tt.seller&&(rt=rt.filter(nt=>{var it;return nt.auctionCreator.toString().toLowerCase()===((it=tt==null?void 0:tt.seller)==null?void 0:it.toString().toLowerCase())})),tt.tokenContract&&(rt=rt.filter(nt=>{var it;return nt.assetContract.toString().toLowerCase()===((it=tt==null?void 0:tt.tokenContract)==null?void 0:it.toString().toLowerCase())})),tt.tokenId!==void 0&&(rt=rt.filter(nt=>{var it;return nt.tokenId.toString()===((it=tt==null?void 0:tt.tokenId)==null?void 0:it.toString())}))),(tt==null?void 0:tt.count)&&tt.count<rt.length?rt.slice(0,tt.count):rt}}const OfferInputParamsSchema=z$6.object({assetContractAddress:AddressSchema,tokenId:BigNumberishSchema,quantity:BigNumberishSchema.default(1),currencyContractAddress:AddressSchema.default(NATIVE_TOKEN_ADDRESS),totalPrice:AmountSchema,endTimestamp:EndDateSchema});class MarketplaceV3Offers{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_OFFERS.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"interceptor",void 0),_defineProperty$3(this,"encoder",void 0),_defineProperty$3(this,"estimator",void 0),this.contractWrapper=_e,this.storage=tt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}getAddress(){return this.contractWrapper.readContract.address}async getTotalCount(){return await this.contractWrapper.readContract.totalOffers()}async getAll(_e){const tt=await this.getTotalCount();let rt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),nt=tt.toNumber();if(nt===0)throw new Error("No offers exist on the contract.");let it=[];it=(await getAllInBatches(rt,nt,this.contractWrapper.readContract.getAllOffers)).flat();const st=this.applyFilter(it,_e);return await Promise.all(st.map(ot=>this.mapOffer(ot)))}async getAllValid(_e){const tt=await this.getTotalCount();let rt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),nt=tt.toNumber();if(nt===0)throw new Error("No offers exist on the contract.");let it=[];it=(await getAllInBatches(rt,nt,this.contractWrapper.readContract.getAllValidOffers)).flat();const st=this.applyFilter(it,_e);return await Promise.all(st.map(ot=>this.mapOffer(ot)))}async getOffer(_e){const tt=await this.contractWrapper.readContract.getOffer(_e);return await this.mapOffer(tt)}async makeOffer(_e){const tt=OfferInputParamsSchema.parse(_e),rt=await this.contractWrapper.getChainID(),nt=isNativeToken(tt.currencyContractAddress)?NATIVE_TOKENS[rt].wrapped.address:tt.currencyContractAddress,it=await normalizePriceValue(this.contractWrapper.getProvider(),tt.totalPrice,nt),at=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,it,nt,at);const st=await this.contractWrapper.sendTransaction("makeOffer",[{assetContract:tt.assetContractAddress,tokenId:tt.tokenId,quantity:tt.quantity,currency:nt,totalPrice:it,expirationTimestamp:tt.endTimestamp}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("NewOffer",st==null?void 0:st.logs)[0].args.offerId,receipt:st}}async cancelOffer(_e){return{receipt:await this.contractWrapper.sendTransaction("cancelOffer",[_e])}}async acceptOffer(_e){const tt=await this.validateOffer(BigNumber.from(_e)),{valid:rt,error:nt}=await this.isStillValidOffer(tt);if(!rt)throw new Error(`Offer ${_e} is no longer valid. ${nt}`);const it=await this.contractWrapper.getCallOverrides()||{};return await handleTokenApproval(this.contractWrapper,this.getAddress(),tt.assetContractAddress,tt.tokenId,await this.contractWrapper.getSignerAddress()),{receipt:await this.contractWrapper.sendTransaction("acceptOffer",[_e],it)}}async validateOffer(_e){try{return await this.getOffer(_e)}catch(tt){throw console.error(`Error getting the offer with id ${_e}`),tt}}async mapOffer(_e){let tt=Status.UNSET;const nt=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;switch(_e.status){case 1:tt=BigNumber.from(_e.expirationTimestamp).lt(nt)?Status.Expired:Status.Active;break;case 2:tt=Status.Completed;break;case 3:tt=Status.Cancelled;break}return{id:_e.offerId.toString(),offerorAddress:_e.offeror,assetContractAddress:_e.assetContract,currencyContractAddress:_e.currency,tokenId:_e.tokenId.toString(),quantity:_e.quantity.toString(),totalPrice:_e.totalPrice.toString(),currencyValue:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.totalPrice),asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),endTimeInSeconds:BigNumber.from(_e.expirationTimestamp).toNumber(),status:tt}}async isStillValidOffer(_e){if(BigNumber.from(Math.floor(Date.now()/1e3)).gt(_e.endTimeInSeconds))return{valid:!1,error:`Offer with ID ${_e.id} has expired`};const rt=await this.contractWrapper.getChainID(),nt=isNativeToken(_e.currencyContractAddress)?NATIVE_TOKENS[rt].wrapped.address:_e.currencyContractAddress,it=this.contractWrapper.getProvider(),at=new ContractWrapper(it,nt,ERC20Abi,{});return(await at.readContract.balanceOf(_e.offerorAddress)).lt(_e.totalPrice)?{valid:!1,error:`Offeror ${_e.offerorAddress} doesn't have enough balance of token ${nt}`}:(await at.readContract.allowance(_e.offerorAddress,this.getAddress())).lt(_e.totalPrice)?{valid:!1,error:`Offeror ${_e.offerorAddress} hasn't approved enough amount of token ${nt}`}:{valid:!0,error:""}}applyFilter(_e,tt){let rt=[..._e];return tt&&(tt.offeror&&(rt=rt.filter(nt=>{var it;return nt.offeror.toString().toLowerCase()===((it=tt==null?void 0:tt.offeror)==null?void 0:it.toString().toLowerCase())})),tt.tokenContract&&(rt=rt.filter(nt=>{var it;return nt.assetContract.toString().toLowerCase()===((it=tt==null?void 0:tt.tokenContract)==null?void 0:it.toString().toLowerCase())})),tt.tokenId!==void 0&&(rt=rt.filter(nt=>{var it;return nt.tokenId.toString()===((it=tt==null?void 0:tt.tokenId)==null?void 0:it.toString())}))),(tt==null?void 0:tt.count)&&tt.count<rt.length?rt.slice(0,tt.count):rt}}async function getCompositePluginABI(et,_e,tt,rt,nt){let it=[];try{const at=isFeatureEnabled(AbiSchema.parse(_e),"PluginRouter");if(isFeatureEnabled(AbiSchema.parse(_e),"ExtensionRouter")){const lt=(await new ContractWrapper(tt,et,getAllExtensionsAbi,rt).call("getAllExtensions")).map(ut=>ut.metadata.implementation);it=await getPluginABI(lt,tt,nt)}else if(at){const lt=(await new ContractWrapper(tt,et,getAllPluginsAbi,rt).call("getAllPlugins")).map(dt=>dt.pluginAddress),ut=Array.from(new Set(lt));it=await getPluginABI(ut,tt,nt)}}catch{}return it.length>0?joinABIs([_e,...it]):_e}async function getPluginABI(et,_e,tt){return(await Promise.all(et.map(rt=>fetchContractMetadataFromAddress(rt,_e,tt).catch(nt=>(console.error(`Failed to fetch plug-in for ${rt}`,nt),{abi:[]}))))).map(rt=>rt.abi)}function joinABIs(et){const _e=et.map(nt=>AbiSchema.parse(nt)).flat(),rt=unique(_e,(nt,it)=>nt.name===it.name&&nt.type===it.type&&nt.inputs.length===it.inputs.length).filter(nt=>nt.type!=="constructor");return AbiSchema.parse(rt)}const DropErc20ContractInput=CommonContractSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractOutput=CommonContractOutputSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractDeploy=DropErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc20ContractSchema={deploy:DropErc20ContractDeploy,output:DropErc20ContractOutput,input:DropErc20ContractInput},MultiwrapContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractDeploy=MultiwrapContractInput.merge(CommonTrustedForwarderSchema),MultiwrapContractSchema={deploy:MultiwrapContractDeploy,output:MultiwrapContractOutput,input:MultiwrapContractInput},EditionDropInitializer={name:"DropERC1155",contractType:"edition-drop",schema:DropErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([await EditionDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./edition-drop-a4b39999.esm.c41f7c87.js"),[]),st.getNetwork()]);return new ct.EditionDrop(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>2?(await __vitePreload(()=>import("./DropERC1155.3c83bf03.js"),[])).default:(await __vitePreload(()=>import("./DropERC1155_V2.928f548a.js"),[])).default}},EditionInitializer={name:"TokenERC1155",contractType:"edition",schema:TokenErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([EditionInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./edition-d3c2c908.esm.1f521f47.js"),[]),st.getNetwork()]);return new ct.Edition(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC1155.b23e2d4d.js"),[])).default}},MarketplaceInitializer={name:"Marketplace",contractType:"marketplace",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([MarketplaceInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./marketplace-d4dfb5b7.esm.a2147f7b.js"),[]),st.getNetwork()]);return new ct.Marketplace(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Marketplace.5f69a33b.js"),[])).default}},MarketplaceV3Initializer={name:"MarketplaceRouter",contractType:"marketplace-v3",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([MarketplaceV3Initializer.getAbi(nt,st,it),__vitePreload(()=>import("./marketplacev3-d3217f02.esm.c51ea2e3.js"),[]),st.getNetwork()]);return new ct.MarketplaceV3(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return await getCompositePluginABI(et,rt,_e,{},tt);const nt=(await __vitePreload(()=>import("./MarketplaceV3.68abc9f3.js"),[])).default;return await getCompositePluginABI(et,nt,_e,{},tt)}},MultiwrapInitializer={name:"Multiwrap",contractType:"multiwrap",schema:MultiwrapContractSchema,roles:["admin","transfer","minter","unwrap","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([MultiwrapInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./multiwrap-8bba1486.esm.eb7ae4b5.js"),[]),st.getNetwork()]);return new ct.Multiwrap(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Multiwrap.08c3df31.js"),[])).default}},NFTCollectionInitializer={name:"TokenERC721",contractType:"nft-collection",schema:TokenErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([NFTCollectionInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./nft-collection-9c884935.esm.97d42e18.js"),[]),st.getNetwork()]);return new ct.NFTCollection(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC721.0de5da1c.js"),[])).default}},NFTDropInitializer={name:"DropERC721",contractType:"nft-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([NFTDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./nft-drop-8e38ae16.esm.d5afa06d.js"),[]),st.getNetwork()]);return new ct.NFTDrop(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>3?(await __vitePreload(()=>import("./DropERC721.d7b1b99a.js"),[])).default:(await __vitePreload(()=>import("./DropERC721_V3.8d3d3fb1.js"),[])).default}},PackInitializer={name:"Pack",contractType:"pack",schema:PackContractSchema,roles:["admin","minter","asset","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([PackInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./pack-0bcaca69.esm.15b67d86.js"),[]),st.getNetwork()]);return new ct.Pack(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Pack.f42377f3.js"),[])).default}},SignatureDropInitializer={name:"SignatureDrop",contractType:"signature-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([SignatureDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./signature-drop-e5f1829e.esm.bd73918e.js"),[]),st.getNetwork()]);return new ct.SignatureDrop(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>4?(await __vitePreload(()=>import("./SignatureDrop.2ed03b38.js"),[])).default:(await __vitePreload(()=>import("./SignatureDrop_V4.61df71f5.js"),[])).default}},SplitInitializer={name:"Split",contractType:"split",schema:SplitsContractSchema,roles:["admin"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([SplitInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./split-cc64330a.esm.5060467e.js"),[]),st.getNetwork()]);return new ct.Split(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Split.77087d36.js"),[])).default}},TokenDropInitializer={name:"DropERC20",contractType:"token-drop",schema:DropErc20ContractSchema,roles:["admin","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([TokenDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./token-drop-92db4df4.esm.585fed7f.js"),[]),st.getNetwork()]);return new ct.TokenDrop(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>2?(await __vitePreload(()=>import("./DropERC20.262e2d28.js"),[])).default:(await __vitePreload(()=>import("./DropERC20_V2.a19f0e78.js"),[])).default}},TokenInitializer={name:"TokenERC20",contractType:"token",schema:TokenErc20ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([TokenInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./token-97d07107.esm.0454d860.js"),[]),st.getNetwork()]);return new ct.Token(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC20.f34516e4.js"),[])).default}},VoteInitializer={name:"VoteERC20",contractType:"vote",schema:VoteContractSchema,roles:[],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ot,ct,lt]=await Promise.all([VoteInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./vote-cc8908d9.esm.bd27a283.js"),[]),st.getNetwork()]);return new ct.Vote(rt,nt,it,at,ot,lt.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./VoteERC20.db780dba.js"),[])).default}};async function getContractInfo(et,_e){try{return await getPrebuiltInfo(et,_e)}catch{return}}const PREBUILT_CONTRACTS_MAP={[EditionDropInitializer.contractType]:EditionDropInitializer,[EditionInitializer.contractType]:EditionInitializer,[MarketplaceInitializer.contractType]:MarketplaceInitializer,[MarketplaceV3Initializer.contractType]:MarketplaceV3Initializer,[MultiwrapInitializer.contractType]:MultiwrapInitializer,[NFTCollectionInitializer.contractType]:NFTCollectionInitializer,[NFTDropInitializer.contractType]:NFTDropInitializer,[PackInitializer.contractType]:PackInitializer,[SignatureDropInitializer.contractType]:SignatureDropInitializer,[SplitInitializer.contractType]:SplitInitializer,[TokenDropInitializer.contractType]:TokenDropInitializer,[TokenInitializer.contractType]:TokenInitializer,[VoteInitializer.contractType]:VoteInitializer},PREBUILT_CONTRACTS_APPURI_MAP={[EditionDropInitializer.contractType]:"ipfs://QmNm3wRzpKYWo1SRtJfgfxtvudp5p2nXD6EttcsQJHwTmk",[EditionInitializer.contractType]:"",[MarketplaceInitializer.contractType]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/marketplace.html",[MarketplaceV3Initializer.contractType]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/marketplace-v3.html",[MultiwrapInitializer.contractType]:"",[NFTCollectionInitializer.contractType]:"",[NFTDropInitializer.contractType]:"ipfs://QmZptmVipc6SGFbKAyXcxGgohzTwYRXZ9LauRX5ite1xDK",[PackInitializer.contractType]:"",[SignatureDropInitializer.contractType]:"ipfs://QmZptmVipc6SGFbKAyXcxGgohzTwYRXZ9LauRX5ite1xDK",[SplitInitializer.contractType]:"",[TokenDropInitializer.contractType]:"ipfs://QmbAgC8YwY36n8H2kuvSWsRisxDZ15QZw3xGZyk9aDvcv7/erc20.html",[TokenInitializer.contractType]:"",[VoteInitializer.contractType]:""},SmartContract$1={name:"SmartContract",contractType:"custom",schema:{},roles:ALL_ROLES},CONTRACTS_MAP={...PREBUILT_CONTRACTS_MAP,[SmartContract$1.contractType]:SmartContract$1};function getContractTypeForRemoteName(et){var _e;return((_e=Object.values(CONTRACTS_MAP).find(tt=>tt.name===et))==null?void 0:_e.contractType)||"custom"}function getContractName(et){var _e;return(_e=Object.values(CONTRACTS_MAP).find(tt=>tt.contractType===et))==null?void 0:_e.name}async function getDeployArguments(et,_e,tt,rt){const nt=await rt.getChainId(),it=await rt.getAddress();let at=et===PackInitializer.contractType?[]:getDefaultTrustedForwarders(nt);switch(_e.trusted_forwarders&&_e.trusted_forwarders.length>0&&(at=_e.trusted_forwarders),et){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const st=NFTDropInitializer.schema.deploy.parse(_e);return[it,st.name,st.symbol,tt,at,st.primary_sale_recipient,st.fee_recipient,st.seller_fee_basis_points,st.platform_fee_basis_points,st.platform_fee_recipient];case SignatureDropInitializer.contractType:const ot=SignatureDropInitializer.schema.deploy.parse(_e);return[it,ot.name,ot.symbol,tt,at,ot.primary_sale_recipient,ot.fee_recipient,ot.seller_fee_basis_points,ot.platform_fee_basis_points,ot.platform_fee_recipient];case MultiwrapInitializer.contractType:const ct=MultiwrapInitializer.schema.deploy.parse(_e);return[it,ct.name,ct.symbol,tt,at,ct.fee_recipient,ct.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const lt=EditionDropInitializer.schema.deploy.parse(_e);return[it,lt.name,lt.symbol,tt,at,lt.primary_sale_recipient,lt.fee_recipient,lt.seller_fee_basis_points,lt.platform_fee_basis_points,lt.platform_fee_recipient];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ut=TokenInitializer.schema.deploy.parse(_e);return[it,ut.name,ut.symbol,tt,at,ut.primary_sale_recipient,ut.platform_fee_recipient,ut.platform_fee_basis_points];case VoteInitializer.contractType:const dt=VoteInitializer.schema.deploy.parse(_e);return[dt.name,tt,at,dt.voting_token_address,dt.voting_delay_in_blocks,dt.voting_period_in_blocks,BigNumber.from(dt.proposal_token_threshold),dt.voting_quorum_fraction];case SplitInitializer.contractType:const mt=SplitInitializer.schema.deploy.parse(_e);return[it,tt,at,mt.recipients.map(ht=>ht.address),mt.recipients.map(ht=>BigNumber.from(ht.sharesBps))];case MarketplaceInitializer.contractType:case MarketplaceV3Initializer.contractType:const gt=MarketplaceInitializer.schema.deploy.parse(_e);return[it,tt,at,gt.platform_fee_recipient,gt.platform_fee_basis_points];case PackInitializer.contractType:const bt=PackInitializer.schema.deploy.parse(_e);return[it,bt.name,bt.symbol,tt,at,bt.fee_recipient,bt.seller_fee_basis_points];default:return[]}}function createStorage(et,_e){return et||(_e!=null&&_e.gatewayUrls?new ThirdwebStorage({gatewayUrls:_e.gatewayUrls}):new ThirdwebStorage)}class ContractAppURI{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_APPURI.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.metadata=tt,this.storage=rt}async get(){return detectContractFeature(this.contractWrapper,"AppURI")?await this.contractWrapper.readContract.appURI():replaceGatewayUrlWithScheme((await this.metadata.get()).app_uri||"",this.storage.gatewayUrls)}async set(_e){return detectContractFeature(this.contractWrapper,"AppURI")?{receipt:await this.contractWrapper.sendTransaction("setAppURI",[_e])}:await this.metadata.update({app_uri:_e})}}class ContractPlatformFee{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_PLATFORM_FEE.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async get(){const[_e,tt]=await this.contractWrapper.readContract.getPlatformFeeInfo();return CommonPlatformFeeSchema.parse({platform_fee_recipient:_e,platform_fee_basis_points:tt})}async set(_e){const tt=CommonPlatformFeeSchema.parse(_e);return{receipt:await this.contractWrapper.sendTransaction("setPlatformFeeInfo",[tt.platform_fee_recipient,tt.platform_fee_basis_points])}}}class ContractPublishedMetadata{constructor(_e,tt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_cachedMetadata",void 0),this.contractWrapper=_e,this.storage=tt}async get(){return this._cachedMetadata?this._cachedMetadata:(this._cachedMetadata=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage),this._cachedMetadata)}async extractFunctions(){let _e;try{_e=await this.get()}catch{}return extractFunctionsFromAbi(AbiSchema.parse(this.contractWrapper.abi),_e==null?void 0:_e.metadata)}async extractEvents(){let _e;try{_e=await this.get()}catch{}return extractEventsFromAbi(AbiSchema.parse(this.contractWrapper.abi),_e==null?void 0:_e.metadata)}}class SmartContract{get royalties(){return assertEnabled(this.detectRoyalties(),FEATURE_ROYALTY)}get roles(){return assertEnabled(this.detectRoles(),FEATURE_PERMISSIONS)}get sales(){return assertEnabled(this.detectPrimarySales(),FEATURE_PRIMARY_SALE)}get platformFees(){return assertEnabled(this.detectPlatformFees(),FEATURE_PLATFORM_FEE)}get owner(){return assertEnabled(this.detectOwnable(),FEATURE_OWNER)}get erc20(){return assertEnabled(this.detectErc20(),FEATURE_TOKEN)}get erc721(){return assertEnabled(this.detectErc721(),FEATURE_NFT)}get erc1155(){return assertEnabled(this.detectErc1155(),FEATURE_EDITION)}get app(){return assertEnabled(this.detectApp(),FEATURE_APPURI)}get chainId(){return this._chainId}constructor(_e,tt,rt,nt){let it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},at=arguments.length>5?arguments[5]:void 0,st=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new ContractWrapper(_e,tt,rt,it);_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"interceptor",void 0),_defineProperty$3(this,"encoder",void 0),_defineProperty$3(this,"estimator",void 0),_defineProperty$3(this,"publishedMetadata",void 0),_defineProperty$3(this,"abi",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"_chainId",void 0),this._chainId=at,this.storage=nt,this.contractWrapper=st,this.abi=rt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper),this.publishedMetadata=new ContractPublishedMetadata(this.contractWrapper,this.storage),this.metadata=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage)}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}prepare(_e,tt,rt){return Transaction.fromContractWrapper({contractWrapper:this.contractWrapper,method:_e,args:tt,overrides:rt})}async call(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];return this.contractWrapper.call(_e,...rt)}detectRoyalties(){if(detectContractFeature(this.contractWrapper,"Royalty")){const _e=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);return new ContractRoyalty(this.contractWrapper,_e)}}detectRoles(){if(detectContractFeature(this.contractWrapper,"Permissions"))return new ContractRoles(this.contractWrapper,ALL_ROLES)}detectPrimarySales(){if(detectContractFeature(this.contractWrapper,"PrimarySale"))return new ContractPrimarySale(this.contractWrapper)}detectPlatformFees(){if(detectContractFeature(this.contractWrapper,"PlatformFee"))return new ContractPlatformFee(this.contractWrapper)}detectErc20(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if(detectContractFeature(this.contractWrapper,"ERC721"))return new Erc721(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if(detectContractFeature(this.contractWrapper,"ERC1155"))return new Erc1155(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if(detectContractFeature(this.contractWrapper,"Ownable"))return new ContractOwner(this.contractWrapper)}detectApp(){const _e=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);if(detectContractFeature(this.contractWrapper,"AppURI"))return new ContractAppURI(this.contractWrapper,_e,this.storage);if(detectContractFeature(this.contractWrapper,"ContractMetadata"))return new ContractAppURI(this.contractWrapper,_e,this.storage)}}class ContractPublisher extends RPCConnectionHandler{constructor(_e,tt,rt){super(_e,tt),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"publisher",void 0),_defineProperty$3(this,"updatePublisherProfile",buildTransactionFunction(async nt=>{const it=this.getSigner();invariant(it,"A signer is required");const at=await it.getAddress(),st=await this.storage.upload(nt);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"setPublisherProfileUri",args:[at,st]})})),_defineProperty$3(this,"publish",buildTransactionFunction(async(nt,it)=>{const at=this.getSigner();invariant(at,"A signer is required");const st=await at.getAddress(),ot=await fetchRawPredeployMetadata(nt,this.storage),ct=await this.getLatest(st,ot.name);if(ct&&ct.metadataUri){const yt=(await this.fetchPublishedContractInfo(ct)).publishedMetadata.version;if(!isIncrementalVersion(yt,it.version))throw Error(`Version ${it.version} is not greater than ${yt}`)}const lt=await(await this.storage.download(ot.bytecodeUri)).text(),ut=lt.startsWith("0x")?lt:`0x${lt}`,dt=keccak256(["bytes"],[ut]),mt=ot.name,gt=FullPublishMetadataSchemaInput.parse({...it,metadataUri:ot.metadataUri,bytecodeUri:ot.bytecodeUri,name:ot.name,analytics:ot.analytics,publisher:st}),bt=await this.storage.upload(gt);return Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"publishContract",args:[st,mt,bt,ot.metadataUri,dt,AddressZero],parse:ht=>{const yt=this.publisher.parseLogs("ContractPublished",ht.logs);if(yt.length<1)throw new Error("No ContractPublished event found");const wt=yt[0].args.publishedContract;return{receipt:ht,data:async()=>this.toPublishedContract(wt)}}})})),_defineProperty$3(this,"unpublish",buildTransactionFunction(async(nt,it)=>Transaction.fromContractWrapper({contractWrapper:this.publisher,method:"unpublishContract",args:[nt,it]}))),this.storage=rt,this.publisher=new ContractWrapper(_e,getContractPublisherAddress(),ContractPublisherAbi,tt)}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.publisher.updateSignerOrProvider(_e)}async extractConstructorParams(_e){return extractConstructorParams(_e,this.storage)}async extractFunctions(_e){return extractFunctions(_e,this.storage)}async fetchCompilerMetadataFromPredeployURI(_e){return fetchPreDeployMetadata(_e,this.storage)}async fetchPrePublishMetadata(_e,tt){const rt=await fetchPreDeployMetadata(_e,this.storage),nt=tt?await this.getLatest(tt,rt.name):void 0,it=nt?await this.fetchPublishedContractInfo(nt):void 0;return{preDeployMetadata:rt,latestPublishedContractMetadata:it}}async fetchCompilerMetadataFromAddress(_e){return fetchContractMetadataFromAddress(_e,this.getProvider(),this.storage)}async fetchPublishedContractInfo(_e){return{name:_e.id,publishedTimestamp:_e.timestamp,publishedMetadata:await this.fetchFullPublishMetadata(_e.metadataUri)}}async fetchFullPublishMetadata(_e){return fetchExtendedReleaseMetadata(_e,this.storage)}async resolvePublishMetadataFromCompilerMetadata(_e){const tt=await this.publisher.readContract.getPublishedUriFromCompilerUri(_e);if(tt.length===0)throw Error(`Could not resolve published metadata URI from ${_e}`);return await Promise.all(tt.filter(rt=>rt.length>0).map(rt=>this.fetchFullPublishMetadata(rt)))}async resolveContractUriFromAddress(_e){const tt=await resolveContractUriFromAddress(_e,this.getProvider());return invariant(tt,"Could not resolve contract URI from address"),tt}async fetchContractSourcesFromAddress(_e){const tt=await this.fetchCompilerMetadataFromAddress(_e);return await fetchSourceFilesFromMetadata(tt,this.storage)}async getPublisherProfile(_e){const tt=await this.publisher.readContract.getPublisherProfileUri(_e);return!tt||tt.length===0?{}:ProfileSchemaOutput.parse(await this.storage.downloadJSON(tt))}async getAll(_e){const rt=(await this.publisher.readContract.getAllPublishedContracts(_e)).reduce((nt,it)=>(nt[it.contractId]=it,nt),{});return Object.entries(rt).map(nt=>{let[,it]=nt;return this.toPublishedContract(it)})}async getAllVersions(_e,tt){const rt=await this.publisher.readContract.getPublishedContractVersions(_e,tt);if(rt.length===0)throw Error("Not found");return rt.map(nt=>this.toPublishedContract(nt))}async getVersion(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";if(rt==="latest")return this.getLatest(_e,tt);const nt=await this.getAllVersions(_e,tt),at=(await Promise.all(nt.map(st=>this.fetchPublishedContractInfo(st)))).find(st=>st.publishedMetadata.version===rt);return invariant(at,"Contract version not found"),nt.find(st=>st.timestamp===at.publishedTimestamp)}async getLatest(_e,tt){const rt=await this.publisher.readContract.getPublishedContract(_e,tt);if(rt&&rt.publishMetadataUri)return this.toPublishedContract(rt)}toPublishedContract(_e){return PublishedContractSchema.parse({id:_e.contractId,timestamp:_e.publishTimestamp,metadataUri:_e.publishMetadataUri})}}class MultichainRegistry{constructor(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_defineProperty$3(this,"registryLogic",void 0),_defineProperty$3(this,"registryRouter",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"addContract",buildTransactionFunction(async nt=>await this.addContracts.prepare([nt]))),_defineProperty$3(this,"addContracts",buildTransactionFunction(async nt=>{const it=await this.registryRouter.getSignerAddress(),at=[];return nt.forEach(st=>{at.push(this.registryLogic.readContract.interface.encodeFunctionData("add",[it,st.address,st.chainId,st.metadataURI||""]))}),Transaction.fromContractWrapper({contractWrapper:this.registryRouter,method:"multicall",args:[at]})})),_defineProperty$3(this,"removeContract",buildTransactionFunction(async nt=>await this.removeContracts.prepare([nt]))),_defineProperty$3(this,"removeContracts",buildTransactionFunction(async nt=>{const it=await this.registryRouter.getSignerAddress(),at=[];return nt.forEach(st=>{at.push(this.registryLogic.readContract.interface.encodeFunctionData("remove",[it,st.address,st.chainId]))}),Transaction.fromContractWrapper({contractWrapper:this.registryRouter,method:"multicall",args:[at]})})),this.storage=tt,this.registryLogic=new ContractWrapper(_e,getMultichainRegistryAddress(),TWRegistryABI,rt),this.registryRouter=new ContractWrapper(_e,getMultichainRegistryAddress(),TWRegistryRouterABI,rt)}async updateSigner(_e){this.registryLogic.updateSignerOrProvider(_e),this.registryRouter.updateSignerOrProvider(_e)}async getContractMetadataURI(_e,tt){return await this.registryLogic.readContract.getMetadataUri(_e,tt)}async getContractMetadata(_e,tt){const rt=await this.getContractMetadataURI(_e,tt);if(!rt)throw new Error(`No metadata URI found for contract ${tt} on chain ${_e}`);return await this.storage.downloadJSON(rt)}async getContractAddresses(_e){return(await this.registryLogic.readContract.getAll(_e)).filter(tt=>isAddress(tt.deploymentAddress)&&tt.deploymentAddress.toLowerCase()!==AddressZero).map(tt=>({address:tt.deploymentAddress,chainId:tt.chainId.toNumber()}))}}class UserWallet{constructor(_e,tt){_defineProperty$3(this,"connection",void 0),_defineProperty$3(this,"options",void 0),_defineProperty$3(this,"events",new EventEmitter$1$1),this.connection=new RPCConnectionHandler(_e,tt),this.options=tt,this.events=new EventEmitter$1$1}connect(_e){this.connection.updateSignerOrProvider(_e),this.events.emit("signerChanged",this.connection.getSigner())}async transfer(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NATIVE_TOKEN_ADDRESS;const nt=this.requireWallet(),it=await normalizePriceValue(this.connection.getProvider(),tt,rt);if(isNativeToken(rt)){const at=await nt.getAddress();return{receipt:await(await nt.sendTransaction({from:at,to:_e,value:it})).wait()}}else return{receipt:await this.createErc20(rt).sendTransaction("transfer",[_e,it])}}async balance(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NATIVE_TOKEN_ADDRESS;this.requireWallet();const tt=this.connection.getProvider();let rt;return isNativeToken(_e)?rt=await tt.getBalance(await this.getAddress()):rt=await this.createErc20(_e).readContract.balanceOf(await this.getAddress()),await fetchCurrencyValue(tt,_e,rt)}async getAddress(){return await this.requireWallet().getAddress()}async getChainId(){return await this.requireWallet().getChainId()}isConnected(){try{return this.requireWallet(),!0}catch{return!1}}async sign(_e){return await this.requireWallet().signMessage(_e)}async signTypedData(_e,tt,rt){return await signTypedDataInternal(this.requireWallet(),_e,tt,rt)}recoverAddress(_e,tt){const rt=hashMessage(_e),nt=arrayify(rt);return recoverAddress(nt,tt)}async sendRawTransaction(_e){return{receipt:await(await this.requireWallet().sendTransaction(_e)).wait()}}async requestFunds(_e){const tt=await this.getChainId();if(tt===ChainId$1.Localhost||tt===ChainId$1.Hardhat)return new UserWallet(new Wallet(LOCAL_NODE_PKEY,getChainProvider(tt,this.options)),this.options).transfer(await this.getAddress(),_e);throw new Error(`Requesting funds is not supported on chain: '${tt}'.`)}requireWallet(){const _e=this.connection.getSigner();return invariant(_e,"This action requires a connected wallet. Please pass a valid signer to the SDK."),_e}createErc20(_e){return new ContractWrapper(this.connection.getSignerOrProvider(),_e,ERC20Abi,this.options)}}class ThirdwebSDK extends RPCConnectionHandler{static async fromWallet(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3?arguments[3]:void 0;const it=await _e.getSigner();return ThirdwebSDK.fromSigner(it,tt,rt,nt)}static fromSigner(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3?arguments[3]:void 0,it=_e;if(tt&&!_e.provider){const st=getChainProvider(tt,rt);it=_e.connect(st)}const at=new ThirdwebSDK(tt||it,rt,nt);return at.updateSignerOrProvider(it),at}static fromPrivateKey(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3?arguments[3]:void 0;const it=getChainProvider(tt,rt),at=new Wallet(_e,it);return new ThirdwebSDK(at,rt,nt)}constructor(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2?arguments[2]:void 0;isChainConfig(_e)&&(tt={...tt,supportedChains:[_e,...tt.supportedChains||[]]}),super(_e,tt),_defineProperty$3(this,"contractCache",new Map),_defineProperty$3(this,"_publisher",void 0),_defineProperty$3(this,"storageHandler",void 0),_defineProperty$3(this,"deployer",void 0),_defineProperty$3(this,"multiChainRegistry",void 0),_defineProperty$3(this,"wallet",void 0),_defineProperty$3(this,"storage",void 0),setSupportedChains(tt==null?void 0:tt.supportedChains);const nt=createStorage(rt,tt);this.storage=nt,this.storageHandler=nt,this.wallet=new UserWallet(_e,tt),this.deployer=new ContractDeployer(_e,tt,nt),this.multiChainRegistry=new MultichainRegistry(_e,this.storageHandler,this.options),this._publisher=new ContractPublisher(_e,this.options,this.storageHandler)}get auth(){throw new Error(`The sdk.auth namespace has been moved to the @thirdweb-dev/auth package and is no longer available after @thirdweb-dev/sdk >= 3.7.0. 
      Please visit https://portal.thirdweb.com/auth for instructions on how to switch to using the new auth package (@thirdweb-dev/auth@3.0.0).
      
      If you still want to use the old @thirdweb-dev/auth@2.0.0 package, you can downgrade the SDK to version 3.6.0.`)}async getNFTDrop(_e){return await this.getContract(_e,"nft-drop")}async getSignatureDrop(_e){return await this.getContract(_e,"signature-drop")}async getNFTCollection(_e){return await this.getContract(_e,"nft-collection")}async getEditionDrop(_e){return await this.getContract(_e,"edition-drop")}async getEdition(_e){return await this.getContract(_e,"edition")}async getTokenDrop(_e){return await this.getContract(_e,"token-drop")}async getToken(_e){return await this.getContract(_e,"token")}async getVote(_e){return await this.getContract(_e,"vote")}async getSplit(_e){return await this.getContract(_e,"split")}async getMarketplace(_e){return await this.getContract(_e,"marketplace")}async getMarketplaceV3(_e){return await this.getContract(_e,"marketplace-v3")}async getPack(_e){return await this.getContract(_e,"pack")}async getMultiwrap(_e){return await this.getContract(_e,"multiwrap")}async getContract(_e,tt){if(this.contractCache.has(_e))return this.contractCache.get(_e);let rt;if(!tt||tt==="custom")try{const nt=await this.getPublisher().fetchCompilerMetadataFromAddress(_e);rt=await this.getContractFromAbi(_e,nt.abi)}catch{const it=await this.resolveContractType(_e);if(it&&it!=="custom"){const at=await PREBUILT_CONTRACTS_MAP[it].getAbi(_e,this.getProvider(),this.storage);rt=await this.getContractFromAbi(_e,at)}else{const at=(await this.getProvider().getNetwork()).chainId;throw new Error(`No ABI found for this contract. Try importing it by visiting: https://thirdweb.com/${at}/${_e}`)}}else typeof tt=="string"&&tt in PREBUILT_CONTRACTS_MAP?rt=await PREBUILT_CONTRACTS_MAP[tt].initialize(this.getSignerOrProvider(),_e,this.storage,this.options):rt=await this.getContractFromAbi(_e,tt);return this.contractCache.set(_e,rt),rt}async getBuiltInContract(_e,tt){return await this.getContract(_e,tt)}async resolveContractType(_e){try{const tt=new Contract(_e,IThirdwebContractABI,this.getProvider()),rt=toUtf8String(await tt.contractType()).replace(/\x00/g,"");return getContractTypeForRemoteName(rt)}catch{return"custom"}}async getContractList(_e){var nt;const tt=await((nt=await this.deployer.getRegistry())==null?void 0:nt.getContractAddresses(_e))||[],rt=(await this.getProvider().getNetwork()).chainId;return await Promise.all(tt.map(async it=>({address:it,chainId:rt,contractType:()=>this.resolveContractType(it),metadata:async()=>(await this.getContract(it)).metadata.get(),extensions:async()=>getAllDetectedFeatureNames((await this.getContract(it)).abi)})))}async getMultichainContractList(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultChains$1;const rt=await this.multiChainRegistry.getContractAddresses(_e),nt=tt.reduce((at,st)=>(at[st.chainId]=st,at),{}),it={};return rt.map(at=>{let{address:st,chainId:ot}=at;if(!nt[ot])return{address:st,chainId:ot,contractType:async()=>"custom",metadata:async()=>({}),extensions:async()=>[]};try{let ct=it[ot];return ct||(ct=new ThirdwebSDK(ot,{...this.options,readonlySettings:void 0,supportedChains:tt}),it[ot]=ct),{address:st,chainId:ot,contractType:()=>ct.resolveContractType(st),metadata:async()=>(await ct.getContract(st)).metadata.get(),extensions:async()=>getAllDetectedFeatureNames((await ct.getContract(st)).abi)}}catch{return{address:st,chainId:ot,contractType:async()=>"custom",metadata:async()=>({}),extensions:async()=>[]}}})}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){this.wallet.connect(this.getSignerOrProvider()),this.deployer.updateSignerOrProvider(this.getSignerOrProvider()),this._publisher.updateSignerOrProvider(this.getSignerOrProvider()),this.multiChainRegistry.updateSigner(this.getSignerOrProvider());for(const[,_e]of this.contractCache)_e.onNetworkUpdated(this.getSignerOrProvider())}async getContractFromAbi(_e,tt){if(this.contractCache.has(_e))return this.contractCache.get(_e);const[,rt]=getSignerAndProvider(this.getSignerOrProvider(),this.options),nt=typeof tt=="string"?JSON.parse(tt):tt,it=new SmartContract(this.getSignerOrProvider(),_e,await getCompositePluginABI(_e,AbiSchema.parse(nt),rt,this.options,this.storage),this.storageHandler,this.options,(await rt.getNetwork()).chainId);return this.contractCache.set(_e,it),it}async getBalance(_e){return fetchCurrencyValue(this.getProvider(),NATIVE_TOKEN_ADDRESS,await this.getProvider().getBalance(_e))}getPublisher(){return this._publisher}}class ContractFactory extends ContractWrapper{constructor(_e,tt,rt,nt){super(tt,_e,TWFactoryAbi,nt),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"DEFAULT_VERSION_MAP",{[NFTDropInitializer.contractType]:3,[NFTCollectionInitializer.contractType]:1,[SignatureDropInitializer.contractType]:4,[MultiwrapInitializer.contractType]:1,[EditionDropInitializer.contractType]:2,[EditionInitializer.contractType]:1,[TokenDropInitializer.contractType]:2,[TokenInitializer.contractType]:1,[VoteInitializer.contractType]:1,[SplitInitializer.contractType]:1,[MarketplaceInitializer.contractType]:2,[MarketplaceV3Initializer.contractType]:1,[PackInitializer.contractType]:2}),this.storage=rt}async deploy(_e,tt,rt,nt){const it=PREBUILT_CONTRACTS_MAP[_e],at=it.schema.deploy.parse(tt),st=await this.storage.upload(at),ot=await this.getImplementation(it,nt);if(!ot||ot===AddressZero)throw new Error(`No implementation found for ${_e}`);const ct=await it.getAbi(ot,this.getProvider(),this.storage),lt=this.getSigner();invariant(lt,"A signer is required to deploy contracts");const ut=await getDeployArguments(_e,at,st,lt),dt=Contract.getInterface(ct).encodeFunctionData("initialize",ut),mt=await this.getProvider().getBlockNumber(),gt=formatBytes32String(mt.toString()),bt=await this.sendTransaction("deployProxyByImplementation",[ot,dt,gt]),ht=this.parseLogs("ProxyDeployed",bt.logs);if(ht.length<1)throw new Error("No ProxyDeployed event found");const yt=ht[0].args.proxy;return rt.emit("contractDeployed",{status:"completed",contractAddress:yt,transactionHash:bt.transactionHash}),yt}async deployProxyByImplementation(_e,tt,rt,nt,it){const at=Contract.getInterface(tt).encodeFunctionData(rt,nt),st=await this.getProvider().getBlockNumber(),ot=await this.sendTransaction("deployProxyByImplementation",[_e,at,formatBytes32String(st.toString())]),ct=this.parseLogs("ProxyDeployed",ot.logs);if(ct.length<1)throw new Error("No ProxyDeployed event found");const lt=ct[0].args.proxy;return it.emit("contractDeployed",{status:"completed",contractAddress:lt,transactionHash:ot.transactionHash}),lt}async getDeployArguments(_e,tt,rt){let nt=_e===PackInitializer.contractType?[]:await this.getDefaultTrustedForwarders();switch(tt.trusted_forwarders&&tt.trusted_forwarders.length>0&&(nt=tt.trusted_forwarders),_e){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const it=NFTDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),it.name,it.symbol,rt,nt,it.primary_sale_recipient,it.fee_recipient,it.seller_fee_basis_points,it.platform_fee_basis_points,it.platform_fee_recipient];case SignatureDropInitializer.contractType:const at=SignatureDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),at.name,at.symbol,rt,nt,at.primary_sale_recipient,at.fee_recipient,at.seller_fee_basis_points,at.platform_fee_basis_points,at.platform_fee_recipient];case MultiwrapInitializer.contractType:const st=MultiwrapInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),st.name,st.symbol,rt,nt,st.fee_recipient,st.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const ot=EditionDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ot.name,ot.symbol,rt,nt,ot.primary_sale_recipient,ot.fee_recipient,ot.seller_fee_basis_points,ot.platform_fee_basis_points,ot.platform_fee_recipient];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ct=TokenInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ct.name,ct.symbol,rt,nt,ct.primary_sale_recipient,ct.platform_fee_recipient,ct.platform_fee_basis_points];case VoteInitializer.contractType:const lt=VoteInitializer.schema.deploy.parse(tt);return[lt.name,rt,nt,lt.voting_token_address,lt.voting_delay_in_blocks,lt.voting_period_in_blocks,BigNumber.from(lt.proposal_token_threshold),lt.voting_quorum_fraction];case SplitInitializer.contractType:const ut=SplitInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,ut.recipients.map(bt=>bt.address),ut.recipients.map(bt=>BigNumber.from(bt.sharesBps))];case MarketplaceInitializer.contractType:const dt=MarketplaceInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,dt.platform_fee_recipient,dt.platform_fee_basis_points];case MarketplaceV3Initializer.contractType:const mt=MarketplaceV3Initializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,mt.platform_fee_recipient,mt.platform_fee_basis_points];case PackInitializer.contractType:const gt=PackInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),gt.name,gt.symbol,rt,nt,gt.fee_recipient,gt.seller_fee_basis_points];default:return[]}}async getDefaultTrustedForwarders(){const _e=await this.getChainID();return getDefaultTrustedForwarders(_e)}async getImplementation(_e,tt){const rt=formatBytes32String(_e.name),nt=await this.getChainID(),it=getApprovedImplementation(nt,_e.contractType);return it&&it.length>0&&tt===void 0?it:this.readContract.getImplementation(rt,tt!==void 0?tt:this.DEFAULT_VERSION_MAP[_e.contractType])}async getLatestVersion(_e){const tt=getContractName(_e);if(!tt)throw new Error(`Invalid contract type ${_e}`);const rt=formatBytes32String(tt);return this.readContract.currentVersion(rt)}}class ContractRegistry extends ContractWrapper{constructor(_e,tt,rt){super(tt,_e,TWRegistryABI$1,rt),_defineProperty$3(this,"addContract",buildTransactionFunction(async nt=>await this.addContracts.prepare([nt]))),_defineProperty$3(this,"addContracts",buildTransactionFunction(async nt=>{const it=await this.getSignerAddress(),at=[];return nt.forEach(st=>{at.push(this.readContract.interface.encodeFunctionData("add",[it,st]))}),Transaction.fromContractWrapper({contractWrapper:this,method:"multicall",args:[at]})})),_defineProperty$3(this,"removeContract",buildTransactionFunction(async nt=>await this.removeContracts.prepare([nt]))),_defineProperty$3(this,"removeContracts",buildTransactionFunction(async nt=>{const it=await this.getSignerAddress(),at=[];return nt.forEach(st=>{at.push(this.readContract.interface.encodeFunctionData("remove",[it,st]))}),Transaction.fromContractWrapper({contractWrapper:this,method:"multicall",args:[at]})}))}async getContractAddresses(_e){return(await this.readContract.getAll(_e)).filter(tt=>isAddress(tt)&&tt.toLowerCase()!==AddressZero)}}const THIRDWEB_DEPLOYER="0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024";class ContractDeployer extends RPCConnectionHandler{constructor(_e,tt,rt){super(_e,tt),_defineProperty$3(this,"_factory",void 0),_defineProperty$3(this,"_registry",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"deployMetadataCache",{}),_defineProperty$3(this,"transactionListener",nt=>{nt.status==="submitted"&&this.events.emit("contractDeployed",{status:"submitted",transactionHash:nt.transactionHash})}),this.storage=rt,this.events=new EventEmitter$1$1,this.getFactory(),this.getRegistry()}async deployNFTCollection(_e){return await this.deployBuiltInContract(NFTCollectionInitializer.contractType,_e)}async deployNFTDrop(_e){return await this.deployBuiltInContract(NFTDropInitializer.contractType,_e)}async deploySignatureDrop(_e){return await this.deployBuiltInContract(SignatureDropInitializer.contractType,_e)}async deployMultiwrap(_e){return await this.deployBuiltInContract(MultiwrapInitializer.contractType,_e)}async deployEdition(_e){return await this.deployBuiltInContract(EditionInitializer.contractType,_e)}async deployEditionDrop(_e){return await this.deployBuiltInContract(EditionDropInitializer.contractType,_e)}async deployToken(_e){return await this.deployBuiltInContract(TokenInitializer.contractType,_e)}async deployTokenDrop(_e){return await this.deployBuiltInContract(TokenDropInitializer.contractType,_e)}async deployMarketplace(_e){return await this.deployBuiltInContract(MarketplaceInitializer.contractType,_e)}async deployMarketplaceV3(_e){return await this.deployBuiltInContract(MarketplaceV3Initializer.contractType,_e)}async deployPack(_e){return await this.deployBuiltInContract(PackInitializer.contractType,_e)}async deploySplit(_e){return await this.deployBuiltInContract(SplitInitializer.contractType,_e)}async deployVote(_e){return await this.deployBuiltInContract(VoteInitializer.contractType,_e)}async deployBuiltInContract(_e,tt){var mt,gt,bt;let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const nt=this.getSigner();invariant(nt,"A signer is required to deploy contracts");const it={app_uri:PREBUILT_CONTRACTS_APPURI_MAP[_e],...PREBUILT_CONTRACTS_MAP[_e].schema.deploy.parse(tt)};if(this.hasLocalFactory()){let ht;try{ht=parseInt(rt),isNaN(ht)&&(ht=void 0)}catch{ht=void 0}const yt=await this.getFactory();if(!yt)throw new Error("Factory not found");yt.on(EventType.Transaction,this.transactionListener);const wt=await yt.deploy(_e,it,this.events,ht);return yt.off(EventType.Transaction,this.transactionListener),wt}const at=getContractName(_e);invariant(at,"Contract name not found");const st=await this.storage.upload(it),ot=await getDeployArguments(_e,it,st,nt),ct=(await this.getProvider().getNetwork()).chainId,lt=await this.fetchPublishedContractFromPolygon(THIRDWEB_DEPLOYER,at,rt),ut=await this.fetchAndCacheDeployMetadata(lt.metadataUri);let dt=(bt=(gt=(mt=ut.extendedMetadata)==null?void 0:mt.factoryDeploymentData)==null?void 0:gt.implementationAddresses)==null?void 0:bt[ct];return dt?this.deployContractFromUri(lt.metadataUri,ot):(dt=await this.deployContractFromUri(lt.metadataUri,this.getConstructorParamsForImplementation(_e,ct),{forceDirectDeploy:!0}),this.deployProxy(dt,ut.compilerMetadata.abi,"initialize",ot))}async getLatestBuiltInContractVersion(_e){const tt=await this.getFactory();if(!tt)throw new Error("Factory not found");return await tt.getLatestVersion(_e)}async deployReleasedContract(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest",it=arguments.length>4?arguments[4]:void 0;const at=await this.fetchPublishedContractFromPolygon(_e,tt,nt);return await this.deployContractFromUri(at.metadataUri,rt,it)}async deployViaFactory(_e,tt,rt,nt,it){const at=this.getSigner();invariant(at,"signer is required");const st=new ContractFactory(_e,this.getSignerOrProvider(),this.storage,this.options);st.on(EventType.Transaction,this.transactionListener);const ot=await st.deployProxyByImplementation(tt,rt,nt,it,this.events);return st.off(EventType.Transaction,this.transactionListener),ot}async deployProxy(_e,tt,rt,nt){const it=Contract.getInterface(tt).encodeFunctionData(rt,nt),{TWProxy__factory:at}=await __vitePreload(()=>import("./thirdweb-dev-contracts-js-factories-TWProxy__factory.esm.aa47e44b.js"),[]);return this.deployContractWithAbi(at.abi,at.bytecode,[_e,it])}async getRegistry(){return this._registry?this._registry:this._registry=this.getProvider().getNetwork().then(async _e=>{let{chainId:tt}=_e;const rt=getContractAddressByChainId(tt,"twRegistry");if(!!rt)return new ContractRegistry(rt,this.getSignerOrProvider(),this.options)})}async getFactory(){return this._factory?this._factory:this._factory=this.getProvider().getNetwork().then(async _e=>{let{chainId:tt}=_e;const rt=getContractAddressByChainId(tt,"twFactory");return rt?new ContractFactory(rt,this.getSignerOrProvider(),this.storage,this.options):void 0})}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){var _e,tt;(_e=this._factory)==null||_e.then(rt=>{rt==null||rt.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{}),(tt=this._registry)==null||tt.then(rt=>{rt==null||rt.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{})}async deployContractFromUri(_e,tt,rt){const nt=this.getSigner();invariant(nt,"A signer is required");const{compilerMetadata:it,extendedMetadata:at}=await this.fetchAndCacheDeployMetadata(_e),st=(rt==null?void 0:rt.forceDirectDeploy)||!1;if(at&&at.factoryDeploymentData&&(at.isDeployableViaProxy||at.isDeployableViaFactory)&&!st){const ut=(await this.getProvider().getNetwork()).chainId;invariant(at.factoryDeploymentData.implementationAddresses,"implementationAddresses is required");const dt=at.factoryDeploymentData.implementationAddresses[ut];invariant(dt,`implementationAddress not found for chainId '${ut}'`),invariant(at.factoryDeploymentData.implementationInitializerFunction,"implementationInitializerFunction not set'");const mt=extractFunctionParamsFromAbi(it.abi,at.factoryDeploymentData.implementationInitializerFunction).map(bt=>bt.type),gt=this.convertParamValues(mt,tt);if(at.isDeployableViaFactory){invariant(at.factoryDeploymentData.factoryAddresses,"isDeployableViaFactory is true so factoryAddresses is required");const bt=at.factoryDeploymentData.factoryAddresses[ut];return invariant(bt,`isDeployableViaFactory is true and factoryAddress not found for chainId '${ut}'`),await this.deployViaFactory(bt,dt,it.abi,at.factoryDeploymentData.implementationInitializerFunction,gt)}else if(at.isDeployableViaProxy)return await this.deployProxy(dt,it.abi,at.factoryDeploymentData.implementationInitializerFunction,gt)}const ot=it.bytecode.startsWith("0x")?it.bytecode:`0x${it.bytecode}`;if(!isHexString$4(ot))throw new Error(`Contract bytecode is invalid.

${ot}`);const ct=extractConstructorParamsFromAbi(it.abi).map(ut=>ut.type),lt=this.convertParamValues(ct,tt);return this.deployContractWithAbi(it.abi,ot,lt)}async deployContractWithAbi(_e,tt,rt){const nt=this.getSigner();invariant(nt,"Signer is required to deploy contracts");const it=await new ContractFactory$1(_e,tt).connect(nt).deploy(...rt);this.events.emit("contractDeployed",{status:"submitted",transactionHash:it.deployTransaction.hash});const at=await it.deployed();return this.events.emit("contractDeployed",{status:"completed",contractAddress:at.address,transactionHash:at.deployTransaction.hash}),at.address}addDeployListener(_e){this.events.on("contractDeployed",_e)}removeDeployListener(_e){this.events.off("contractDeployed",_e)}removeAllDeployListeners(){this.events.removeAllListeners("contractDeployed")}async fetchAndCacheDeployMetadata(_e){if(this.deployMetadataCache[_e])return this.deployMetadataCache[_e];const tt=await fetchPreDeployMetadata(_e,this.storage);let rt;try{rt=await fetchExtendedReleaseMetadata(_e,this.storage)}catch{}const nt={compilerMetadata:tt,extendedMetadata:rt};return this.deployMetadataCache[_e]=nt,nt}async fetchPublishedContractFromPolygon(_e,tt,rt){const nt=await new ThirdwebSDK("polygon").getPublisher().getVersion(_e,tt,rt);if(!nt)throw new Error(`No published contract found for '${tt}' at version '${rt}' by '${_e}'`);return nt}getConstructorParamsForImplementation(_e,tt){switch(_e){case MarketplaceInitializer.contractType:case MultiwrapInitializer.contractType:return[getNativeTokenByChainId(ChainId$1.Hardhat).wrapped.address];case PackInitializer.contractType:return[getNativeTokenByChainId(tt).wrapped.address,AddressZero];default:return[]}}hasLocalFactory(){return{}.factoryAddress!==void 0}convertParamValues(_e,tt){if(_e.length!==tt.length)throw Error(`Passed the wrong number of constructor arguments: ${tt.length}, expected ${_e.length}`);return _e.map((rt,nt)=>rt==="tuple"||rt.endsWith("[]")?typeof tt[nt]=="string"?JSON.parse(tt[nt]):tt[nt]:rt==="bytes32"?(invariant(isHexString$4(tt[nt]),`Could not parse bytes32 value. Expected valid hex string but got "${tt[nt]}".`),hexZeroPad(tt[nt],32)):rt.startsWith("bytes")?(invariant(isHexString$4(tt[nt]),`Could not parse bytes value. Expected valid hex string but got "${tt[nt]}".`),tt[nt]):rt.startsWith("uint")||rt.startsWith("int")?BigNumber.from(tt[nt].toString()):tt[nt])}}class ContractOwner{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_OWNER.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async get(){return this.contractWrapper.readContract.owner()}async set(_e){return{receipt:await this.contractWrapper.sendTransaction("setOwner",[_e])}}}const metadataCache={},polygonSDK=new ThirdwebSDK("polygon");function getCacheKey(et,_e){return`${et}-${_e}`}function putInCache(et,_e,tt){metadataCache[getCacheKey(et,_e)]=tt}function getFromCache(et,_e){return metadataCache[getCacheKey(et,_e)]}async function fetchContractMetadataFromAddress(et,_e,tt){const rt=(await _e.getNetwork()).chainId,nt=getFromCache(et,rt);if(nt)return nt;let it;try{const at=await resolveContractUriFromAddress(et,_e);if(!at)throw new Error(`Could not resolve metadata for contract at ${et}`);it=await fetchContractMetadata(at,tt)}catch{try{const st=await polygonSDK.multiChainRegistry.getContractMetadataURI(rt,et);if(!st)throw new Error(`Could not resolve metadata for contract at ${et}`);it=await fetchContractMetadata(st,tt)}catch{throw new Error(`Could not resolve metadata for contract at ${et}`)}}if(!it)throw new Error(`Could not resolve metadata for contract at ${et}`);return putInCache(et,rt,it),it}async function fetchAbiFromAddress(et,_e,tt){try{const rt=await fetchContractMetadataFromAddress(et,_e,tt);if(rt&&rt.abi)return rt.abi}catch{}}async function fetchContractMetadata(et,_e){const tt=await _e.downloadJSON(et);if(!tt||!tt.output)throw new Error(`Could not resolve metadata for contract at ${et}`);const rt=AbiSchema.parse(tt.output.abi),nt=tt.settings.compilationTarget,it=Object.keys(nt),at=nt[it[0]],st=ContractInfoSchema.parse({title:tt.output.devdoc.title,author:tt.output.devdoc.author,details:tt.output.devdoc.detail,notice:tt.output.userdoc.notice}),ot=[...new Set(Object.entries(tt.sources).map(ct=>{let[,lt]=ct;return lt.license}))];return{name:at,abi:rt,metadata:tt,info:st,licenses:ot}}async function fetchSourceFilesFromMetadata(et,_e){return await Promise.all(Object.entries(et.metadata.sources).map(async tt=>{let[rt,nt]=tt;const it=nt.urls,at=it?it.find(st=>st.includes("ipfs")):void 0;if(at){const st=at.split("ipfs/")[1],ot=new Promise((lt,ut)=>setTimeout(()=>ut("timeout"),3e3)),ct=await Promise.race([(await _e.download(`ipfs://${st}`)).text(),ot]);return{filename:rt,source:ct}}else return{filename:rt,source:nt.content||"Could not find source for this contract"}}))}const MAX_LENGTH=256,NUMERIC_IDENTIFIER="0|[1-9]\\d*",MAIN_VERSION_IDENTIFIER=`(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})`,REGEX_MAIN_VERSION=new RegExp(MAIN_VERSION_IDENTIFIER);function toSemver(et){if(et.length>MAX_LENGTH)throw new Error(`version is longer than ${MAX_LENGTH} characters`);const _e=et.trim().match(REGEX_MAIN_VERSION);if(!_e||(_e==null?void 0:_e.length)!==4)throw new Error(`${et} is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`);const tt=Number(_e[1]),rt=Number(_e[2]),nt=Number(_e[3]),it=[tt,rt,nt].join(".");return{major:tt,minor:rt,patch:nt,versionString:it}}function isIncrementalVersion(et,_e){const tt=toSemver(et),rt=toSemver(_e);if(rt.major>tt.major)return!0;const nt=rt.major===tt.major;if(nt&&rt.minor>tt.minor)return!0;const it=rt.minor===tt.minor;return nt&&it&&rt.patch>tt.patch}const BYOCContractMetadataSchema=CommonContractSchema.catchall(z$6.union([BigNumberTransformSchema,z$6.unknown()])),CustomContractInput=BYOCContractMetadataSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractDeploy=CustomContractInput.merge(CommonPlatformFeeSchema.merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema).partial()),CustomContractSchema={deploy:CustomContractDeploy,output:CustomContractOutput,input:CustomContractInput},AbiTypeBaseSchema=z$6.object({type:z$6.string(),name:z$6.string()}).catchall(z$6.any()),AbiTypeSchema=AbiTypeBaseSchema.extend({stateMutability:z$6.string().optional(),components:z$6.array(AbiTypeBaseSchema).optional()}).catchall(z$6.any()),AbiObjectSchema=z$6.object({type:z$6.string(),name:z$6.string().default(""),inputs:z$6.array(AbiTypeSchema).default([]),outputs:z$6.array(AbiTypeSchema).default([])}).catchall(z$6.any()),AbiSchema=z$6.array(AbiObjectSchema),PreDeployMetadata=z$6.object({name:z$6.string(),metadataUri:z$6.string(),bytecodeUri:z$6.string(),analytics:z$6.any().optional()}).catchall(z$6.any()),ChainIdToAddressSchema=z$6.record(z$6.string(),z$6.string()),FactoryDeploymentSchema=z$6.object({implementationAddresses:ChainIdToAddressSchema,implementationInitializerFunction:z$6.string().default("initialize"),factoryAddresses:ChainIdToAddressSchema.optional()}),ExtraPublishMetadataSchemaInput=z$6.object({version:z$6.string().refine(et=>{try{return toSemver(et),!0}catch{return!1}},et=>({message:`'${et}' is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`})),displayName:z$6.string().optional(),description:z$6.string().optional(),readme:z$6.string().optional(),license:z$6.string().optional(),changelog:z$6.string().optional(),tags:z$6.array(z$6.string()).optional(),audit:FileOrBufferOrStringSchema.nullable().optional(),logo:FileOrBufferOrStringSchema.nullable().optional(),isDeployableViaFactory:z$6.boolean().optional(),isDeployableViaProxy:z$6.boolean().optional(),factoryDeploymentData:FactoryDeploymentSchema.optional(),constructorParams:z$6.record(z$6.string(),z$6.object({displayName:z$6.string().optional(),description:z$6.string().optional(),defaultValue:z$6.string().optional()}).catchall(z$6.any())).optional()}).catchall(z$6.any()),ExtraPublishMetadataSchemaOutput=ExtraPublishMetadataSchemaInput.extend({audit:z$6.string().nullable().optional(),logo:z$6.string().nullable().optional()}),FullPublishMetadataSchemaInput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaInput).extend({publisher:AddressSchema.optional()}),FullPublishMetadataSchemaOutput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaOutput).extend({publisher:AddressSchema.optional()}),ProfileSchemaInput=z$6.object({name:z$6.string().optional(),bio:z$6.string().optional(),avatar:FileOrBufferOrStringSchema.nullable().optional(),website:z$6.string().optional(),twitter:z$6.string().optional(),telegram:z$6.string().optional(),facebook:z$6.string().optional(),github:z$6.string().optional(),medium:z$6.string().optional(),linkedin:z$6.string().optional(),reddit:z$6.string().optional(),discord:z$6.string().optional()}),ProfileSchemaOutput=ProfileSchemaInput.extend({avatar:z$6.string().nullable().optional()}),PublishedContractSchema=z$6.object({id:z$6.string(),timestamp:BigNumberishSchema,metadataUri:z$6.string()}),ContractInfoSchema=z$6.object({title:z$6.string().optional(),author:z$6.string().optional(),details:z$6.string().optional(),notice:z$6.string().optional()}),CompilerMetadataFetchedSchema=z$6.object({name:z$6.string(),abi:AbiSchema,metadata:z$6.record(z$6.string(),z$6.any()),info:ContractInfoSchema,licenses:z$6.array(z$6.string().optional()).default([]).transform(et=>et.filter(_e=>_e!==void 0))}),PreDeployMetadataFetchedSchema=PreDeployMetadata.merge(CompilerMetadataFetchedSchema).extend({bytecode:z$6.string()}),PAPER_API_BASE="https://paper.xyz/api",PAPER_API_VERSION="2022-08-12",PAPER_API_URL=`${PAPER_API_BASE}/${PAPER_API_VERSION}/platform/thirdweb`,PAPER_CHAIN_ID_MAP={[ChainId$1.Mainnet]:"Ethereum",[ChainId$1.Goerli]:"Goerli",[ChainId$1.Polygon]:"Polygon",[ChainId$1.Mumbai]:"Mumbai",[ChainId$1.Avalanche]:"Avalanche"};function parseChainIdToPaperChain(et){return invariant(et in PAPER_CHAIN_ID_MAP,`chainId not supported by paper: ${et}`),PAPER_CHAIN_ID_MAP[et]}async function fetchRegisteredCheckoutId(et,_e){const tt=parseChainIdToPaperChain(_e),nt=await(await fetch(`${PAPER_API_URL}/register-contract?contractAddress=${et}&chain=${tt}`)).json();return invariant(nt.result.id,"Contract is not registered with paper"),nt.result.id}const DEFAULT_PARAMS={expiresInMinutes:15,feeBearer:"BUYER",sendEmailOnSuccess:!0,redirectAfterPayment:!1};async function createCheckoutLinkIntent(et,_e){const rt=await(await fetch(`${PAPER_API_URL}/checkout-link-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractId:et,...DEFAULT_PARAMS,..._e,metadata:{..._e.metadata,via_platform:"thirdweb"},hideNativeMint:!0,hidePaperWallet:!!_e.walletAddress,hideExternalWallet:!0,hidePayWithCrypto:!0,usePaperKey:!1})})).json();return invariant(rt.checkoutLinkIntentUrl,"Failed to create checkout link intent"),rt.checkoutLinkIntentUrl}class PaperCheckout{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async getCheckoutId(){return fetchRegisteredCheckoutId(this.contractWrapper.readContract.address,await this.contractWrapper.getChainID())}async isEnabled(){try{return!!await this.getCheckoutId()}catch{return!1}}async createLinkIntent(_e){return await createCheckoutLinkIntent(await this.getCheckoutId(),_e)}}new ThirdwebStorage;function _toPrimitive(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$1(et,_e,tt){return _e=_toPropertyKey(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}z$6.string().refine(et=>isAddress(et),et=>({message:`${et} is not a valid address`}));const RawDateSchema=z$6.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3))),AccountTypeSchema=z$6.union([z$6.literal("evm"),z$6.literal("solana")]),literalSchema=z$6.union([z$6.string(),z$6.number(),z$6.boolean(),z$6.null()]),JsonSchema=z$6.lazy(()=>z$6.union([literalSchema,z$6.array(JsonSchema),z$6.record(JsonSchema)]),{invalid_type_error:"Provided value was not valid JSON"}),LoginOptionsSchema=z$6.object({domain:z$6.string().optional(),statement:z$6.string().optional(),uri:z$6.string().optional(),version:z$6.string().optional(),chainId:z$6.string().optional(),nonce:z$6.string().optional(),expirationTime:z$6.date().optional(),invalidBefore:z$6.date().optional(),resources:z$6.array(z$6.string()).optional()}).optional(),LoginPayloadDataSchema=z$6.object({type:AccountTypeSchema,domain:z$6.string(),address:z$6.string(),statement:z$6.string().default("Please ensure that the domain above matches the URL of the current website."),uri:z$6.string().optional(),version:z$6.string().default("1"),chain_id:z$6.string().optional(),nonce:z$6.string().default(v4()),issued_at:z$6.date().default(new Date).transform(et=>et.toISOString()),expiration_time:z$6.date().transform(et=>et.toISOString()),invalid_before:z$6.date().default(new Date).transform(et=>et.toISOString()),resources:z$6.array(z$6.string()).optional()}),LoginPayloadSchema=z$6.object({payload:LoginPayloadDataSchema,signature:z$6.string()}),VerifyOptionsSchemaRequired=z$6.object({domain:z$6.string().optional(),statement:z$6.string().optional(),uri:z$6.string().optional(),version:z$6.string().optional(),chainId:z$6.string().optional(),validateNonce:z$6.function().args(z$6.string()).optional(),resources:z$6.array(z$6.string()).optional()}),VerifyOptionsSchema=VerifyOptionsSchemaRequired.optional(),GenerateOptionsSchema=z$6.object({domain:z$6.string().optional(),tokenId:z$6.string().optional(),expirationTime:z$6.date().optional(),invalidBefore:z$6.date().optional(),session:z$6.union([JsonSchema,z$6.function().args(z$6.string())]).optional(),verifyOptions:VerifyOptionsSchemaRequired.omit({domain:!0}).optional()}).optional(),AuthenticationPayloadDataSchema=z$6.object({iss:z$6.string(),sub:z$6.string(),aud:z$6.string(),exp:RawDateSchema.transform(et=>et.toNumber()),nbf:RawDateSchema.transform(et=>et.toNumber()),iat:RawDateSchema.transform(et=>et.toNumber()),jti:z$6.string().default(v4()),ctx:JsonSchema.optional()});z$6.object({payload:AuthenticationPayloadDataSchema,signature:z$6.string()});const AuthenticateOptionsSchema=z$6.object({domain:z$6.string().optional(),validateTokenId:z$6.function().args(z$6.string()).optional()}).optional();LoginPayloadSchema.extend({payload:LoginPayloadDataSchema.extend({issued_at:z$6.string(),expiration_time:z$6.string(),invalid_before:z$6.string()})});const isBrowser$2=()=>typeof window<"u";class ThirdwebAuth{constructor(_e,tt){_defineProperty$1(this,"domain",void 0),_defineProperty$1(this,"wallet",void 0),this.wallet=_e,this.domain=tt}updateWallet(_e){this.wallet=_e}async login(_e){const tt=LoginOptionsSchema.parse(_e);let rt=tt==null?void 0:tt.chainId;if(!rt&&this.wallet.getChainId)try{rt=(await this.wallet.getChainId()).toString()}catch{}const nt=LoginPayloadDataSchema.parse({type:this.wallet.type,domain:(tt==null?void 0:tt.domain)||this.domain,address:await this.wallet.getAddress(),statement:tt==null?void 0:tt.statement,version:tt==null?void 0:tt.version,uri:(tt==null?void 0:tt.uri)||(isBrowser$2()?window.location.origin:void 0),chain_id:rt,nonce:tt==null?void 0:tt.nonce,expiration_time:(tt==null?void 0:tt.expirationTime)||new Date(Date.now()+1e3*60*5),invalid_before:tt==null?void 0:tt.invalidBefore,resources:tt==null?void 0:tt.resources}),it=this.generateMessage(nt),at=await this.wallet.signMessage(it);return{payload:nt,signature:at}}async verify(_e,tt){const rt=VerifyOptionsSchema.parse(tt);if(_e.payload.type!==this.wallet.type)throw new Error(`Expected chain type '${this.wallet.type}' does not match chain type on payload '${_e.payload.type}'`);const nt=(rt==null?void 0:rt.domain)||this.domain;if(_e.payload.domain!==nt)throw new Error(`Expected domain '${nt}' does not match domain on payload '${_e.payload.domain}'`);if(rt!=null&&rt.statement&&_e.payload.statement!==rt.statement)throw new Error(`Expected statement '${rt.statement}' does not match statement on payload '${_e.payload.statement}'`);if(rt!=null&&rt.uri&&_e.payload.uri!==rt.uri)throw new Error(`Expected URI '${rt.uri}' does not match URI on payload '${_e.payload.uri}'`);if(rt!=null&&rt.version&&_e.payload.version!==rt.version)throw new Error(`Expected version '${rt.version}' does not match version on payload '${_e.payload.version}'`);if(rt!=null&&rt.chainId&&_e.payload.chain_id!==rt.chainId)throw new Error(`Expected chain ID '${rt.chainId}' does not match chain ID on payload '${_e.payload.chain_id}'`);if((rt==null?void 0:rt.validateNonce)!==void 0)try{await rt.validateNonce(_e.payload.nonce)}catch{throw new Error("Login request nonce is invalid")}const it=new Date;if(it<new Date(_e.payload.invalid_before))throw new Error("Login request is not yet valid");if(it>new Date(_e.payload.expiration_time))throw new Error("Login request has expired");if(rt!=null&&rt.resources){const ct=rt.resources.filter(lt=>{var ut;return!((ut=_e.payload.resources)!=null&&ut.includes(lt))});if(ct.length>0)throw new Error(`Login request is missing required resources: ${ct.join(", ")}`)}const at=this.generateMessage(_e.payload),st=this.wallet.type==="evm"&&_e.payload.chain_id?parseInt(_e.payload.chain_id):void 0;if(!await this.verifySignature(at,_e.signature,_e.payload.address,st))throw new Error(`Signer address does not match payload address '${_e.payload.address.toLowerCase()}'`);return _e.payload.address}async generate(_e,tt){if(isBrowser$2())throw new Error("Authentication tokens should not be generated in the browser, as they must be signed by a server-side admin wallet.");const rt=GenerateOptionsSchema.parse(tt),nt=(rt==null?void 0:rt.domain)||this.domain,it=await this.verify(_e,{domain:nt,...rt==null?void 0:rt.verifyOptions});let at;if(typeof(rt==null?void 0:rt.session)=="function"){const ht=await rt.session(it);ht&&(at=ht)}else at=rt==null?void 0:rt.session;const st=await this.wallet.getAddress(),ot=AuthenticationPayloadDataSchema.parse({iss:st,sub:it,aud:nt,nbf:(rt==null?void 0:rt.invalidBefore)||new Date,exp:(rt==null?void 0:rt.expirationTime)||new Date(Date.now()+1e3*60*60*5),iat:new Date,jti:rt==null?void 0:rt.tokenId,ctx:at}),ct=JSON.stringify(ot),lt=await this.wallet.signMessage(ct),ut={alg:"ES256",typ:"JWT"},dt=Buffer.from(JSON.stringify(ut)).toString("base64"),mt=Buffer.from(JSON.stringify(ot)).toString("base64").replace(/=/g,""),gt=Buffer.from(lt).toString("base64");return`${dt}.${mt}.${gt}`}async authenticate(_e,tt){if(isBrowser$2())throw new Error("Should not authenticate tokens in the browser, as they must be verified by the server-side admin wallet.");const rt=AuthenticateOptionsSchema.parse(tt),nt=(rt==null?void 0:rt.domain)||this.domain,it=_e.split(".")[1],at=_e.split(".")[2],st=JSON.parse(Buffer.from(it,"base64").toString()),ot=Buffer.from(at,"base64").toString();if((rt==null?void 0:rt.validateTokenId)!==void 0)try{await rt.validateTokenId(st.jti)}catch{throw new Error("Token ID is invalid")}if(st.aud!==nt)throw new Error(`Expected token to be for the domain '${nt}', but found token with domain '${st.aud}'`);const ct=Math.floor(new Date().getTime()/1e3);if(ct<st.nbf)throw new Error(`This token is invalid before epoch time '${st.nbf}', current epoch time is '${ct}'`);if(ct>st.exp)throw new Error(`This token expired at epoch time '${st.exp}', current epoch time is '${ct}'`);const lt=await this.wallet.getAddress();if(lt.toLowerCase()!==st.iss.toLowerCase())throw new Error(`Expected the connected wallet address '${lt}' to match the token issuer address '${st.iss}'`);let ut;if(this.wallet.getChainId)try{ut=await this.wallet.getChainId()}catch{}if(!await this.verifySignature(JSON.stringify(st),ot,lt,ut))throw new Error(`The connected wallet address '${lt}' did not sign the token`);return{address:st.sub,session:st.ctx}}async verifySignature(_e,tt,rt,nt){return this.wallet.verifySignature(_e,tt,rt,nt)}generateMessage(_e){const tt=_e.type==="evm"?"Ethereum":"Solana";let nt=[`${_e.domain} wants you to sign in with your ${tt} account:`,_e.address].join(`
`);nt=[nt,_e.statement].join(`

`),_e.statement&&(nt+=`
`);const it=[];if(_e.uri){const ut=`URI: ${_e.uri}`;it.push(ut)}const at=`Version: ${_e.version}`;if(it.push(at),_e.chain_id){const ut="Chain ID: "+_e.chain_id||"1";it.push(ut)}const st=`Nonce: ${_e.nonce}`;it.push(st);const ot=`Issued At: ${_e.issued_at}`;it.push(ot);const ct=`Expiration Time: ${_e.expiration_time}`;if(it.push(ct),_e.invalid_before){const ut=`Not Before: ${_e.invalid_before}`;it.push(ut)}_e.resources&&it.push(["Resources:",..._e.resources.map(ut=>`- ${ut}`)].join(`
`));const lt=it.join(`
`);return[nt,lt].join(`
`)}}function _checkPrivateRedeclaration$1(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$1(et,_e,tt){_checkPrivateRedeclaration$1(et,_e),_e.set(et,tt)}function _classApplyDescriptorGet$1(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor$1(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet$1(et,_e){var tt=_classExtractFieldDescriptor$1(et,_e,"get");return _classApplyDescriptorGet$1(et,tt)}function _classApplyDescriptorSet$1(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet$1(et,_e,tt){var rt=_classExtractFieldDescriptor$1(et,_e,"set");return _classApplyDescriptorSet$1(et,rt,tt),tt}const arbitrum={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}},arbitrumGoerli={id:421613,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-goerli.g.alchemy.com/v2"],webSocket:["wss://arb-goerli.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-goerli.infura.io/v3"],webSocket:["wss://arbitrum-goerli.infura.io/ws/v3"]},default:{http:["https://goerli-rollup.arbitrum.io/rpc"]},public:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"},default:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0},avalanche={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}},avalancheFuji={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0},bsc={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]},public:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}},bscTestnet={id:97,name:"Binance Smart Chain Testnet",network:"bsc-testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://bsc-testnet.public.blastapi.io"]},public:{http:["https://bsc-testnet.public.blastapi.io"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://testnet.bscscan.com"},default:{name:"BscScan",url:"https://testnet.bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0},fantom={id:250,name:"Fantom",network:"fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]},public:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://ftmscan.com"},default:{name:"FTMScan",url:"https://ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}},fantomTestnet={id:4002,name:"Fantom Testnet",network:"fantom-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]},public:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://testnet.ftmscan.com"},default:{name:"FTMScan",url:"https://testnet.ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}}},goerli={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},mainnet={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},optimism={id:10,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Etherscan",url:"https://optimistic.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}}},optimismGoerli={id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461}},testnet:!0},polygon={id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}},polygonMumbai={id:80001,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mumbai.g.alchemy.com/v2"],webSocket:["wss://polygon-mumbai.g.alchemy.com/v2"]},infura:{http:["https://polygon-mumbai.infura.io/v3"],webSocket:["wss://polygon-mumbai.infura.io/ws/v3"]},default:{http:["https://matic-mumbai.chainstacklabs.com"]},public:{http:["https://matic-mumbai.chainstacklabs.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0};let ChainId;(function(et){et[et.Mainnet=1]="Mainnet",et[et.Goerli=5]="Goerli",et[et.Polygon=137]="Polygon",et[et.Mumbai=80001]="Mumbai",et[et.Fantom=250]="Fantom",et[et.FantomTestnet=4002]="FantomTestnet",et[et.Avalanche=43114]="Avalanche",et[et.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",et[et.Optimism=10]="Optimism",et[et.OptimismGoerli=420]="OptimismGoerli",et[et.Arbitrum=42161]="Arbitrum",et[et.ArbitrumGoerli=421613]="ArbitrumGoerli",et[et.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",et[et.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(ChainId||(ChainId={}));ChainId.Mainnet,ChainId.Goerli,ChainId.Polygon,ChainId.Mumbai,ChainId.Fantom,ChainId.FantomTestnet,ChainId.Avalanche,ChainId.AvalancheFujiTestnet,ChainId.Optimism,ChainId.OptimismGoerli,ChainId.Arbitrum,ChainId.ArbitrumGoerli,ChainId.BinanceSmartChainMainnet,ChainId.BinanceSmartChainTestnet;const DEFAULT_API_KEY$2="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1";function getRpcUrl$1(et){return`https://${et}.rpc.thirdweb.com/${DEFAULT_API_KEY$2}`}function enhanceChain(et){var tt;const _e=getRpcUrl$1(et.id);return{...et,rpcUrls:{...et.rpcUrls,default:{...et.rpcUrls.default,http:[_e,...et.rpcUrls.default.http]},public:{...et.rpcUrls.public,http:[_e,...((tt=et.rpcUrls.public)==null?void 0:tt.http)||[]]}}}}const supportedChains={[ChainId.Mainnet]:enhanceChain(mainnet),[ChainId.Goerli]:enhanceChain(goerli),[ChainId.Polygon]:enhanceChain(polygon),[ChainId.Mumbai]:enhanceChain(polygonMumbai),[ChainId.Avalanche]:enhanceChain(avalanche),[ChainId.AvalancheFujiTestnet]:enhanceChain(avalancheFuji),[ChainId.Fantom]:enhanceChain(fantom),[ChainId.FantomTestnet]:enhanceChain(fantomTestnet),[ChainId.Arbitrum]:enhanceChain(arbitrum),[ChainId.ArbitrumGoerli]:enhanceChain(arbitrumGoerli),[ChainId.Optimism]:enhanceChain(optimism),[ChainId.OptimismGoerli]:enhanceChain(optimismGoerli),[ChainId.BinanceSmartChainMainnet]:enhanceChain(bsc),[ChainId.BinanceSmartChainTestnet]:enhanceChain(bscTestnet)};Object.values(supportedChains);const EIP1271_ABI=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],EIP1271_MAGICVALUE="0x1626ba7e",checkContractWalletSignature=async(et,_e,tt,rt)=>{var ot;const nt=(ot=supportedChains[rt])==null?void 0:ot.rpcUrls.default.http[0];if(!nt)return!1;const it=new JsonRpcProvider$1(nt),at=new Contract(tt,EIP1271_ABI,it),st=hashMessage(et);try{return await at.isValidSignature(st,_e)===EIP1271_MAGICVALUE}catch{return!1}};var _signer=new WeakMap;class SignerWallet{constructor(_e){_defineProperty$1(this,"type","evm"),_classPrivateFieldInitSpec$1(this,_signer,{writable:!0,value:void 0}),_classPrivateFieldSet$1(this,_signer,_e)}async getAddress(){return _classPrivateFieldGet$1(this,_signer).getAddress()}async getChainId(){return _classPrivateFieldGet$1(this,_signer).getChainId()}async signMessage(_e){return await _classPrivateFieldGet$1(this,_signer).signMessage(_e)}async verifySignature(_e,tt,rt,nt){const it=hashMessage(_e),at=arrayify(it);if(recoverAddress(at,tt)===rt)return!0;if(nt!==void 0)try{return await checkContractWalletSignature(_e,tt,rt,nt||1)}catch{}return!1}}new SignerWallet(Wallet.createRandom());globalThis.global=globalThis;const DEFAULT_API_KEY$1="fb52f0ca630bdd02f0d5210d9e8e3568272ac765dd0709272918eefb29d3ac9e",ThirdwebConfigContext=react.exports.createContext({chains:defaultChains$1}),ThirdwebConfigProvider=et=>{let{value:_e,children:tt}=et;return jsx(ThirdwebConfigContext.Provider,{value:_e,children:tt})};function useThirdwebConfigContext(){return react.exports.useContext(ThirdwebConfigContext)}const INITIAL_CONTEXT_VALUE={wallet:void 0,address:void 0,chainId:void 0,signer:void 0},ThirdwebConnectedWalletContext=react.exports.createContext(INITIAL_CONTEXT_VALUE),ThirdwebConnectedWalletProvider=et=>{let{signer:_e,children:tt}=et;const{chains:rt,thirdwebApiKey:nt,alchemyApiKey:it,infuraApiKey:at}=useThirdwebConfigContext(),[st,ot]=react.exports.useState({...INITIAL_CONTEXT_VALUE,signer:_e||void 0});return react.exports.useEffect(()=>{ot(ct=>({...ct,signer:_e||void 0}))},[_e]),react.exports.useEffect(()=>{let ct=_e;return _e?Promise.all([_e.getAddress(),_e.getChainId()]).then(lt=>{let[ut,dt]=lt;const mt=rt.find(bt=>bt.chainId===dt);let gt;if(mt)try{gt=getChainRPC(mt,{thirdwebApiKey:nt,alchemyApiKey:it,infuraApiKey:at})}catch{}if(_e===ct){const bt=new UserWallet(_e,{readonlySettings:gt?{rpcUrl:gt,chainId:dt}:void 0});ot({wallet:bt,address:ut,chainId:dt,signer:_e})}}).catch(lt=>{}):ot(INITIAL_CONTEXT_VALUE),()=>{ct=void 0}},[_e,nt,it,at]),jsx(ThirdwebConnectedWalletContext.Provider,{value:st,children:tt})};function useThirdwebConnectedWalletContext(){return react.exports.useContext(ThirdwebConnectedWalletContext)}function useSigner$1(){return useThirdwebConnectedWalletContext().signer}const ThirdwebAuthContext=react.exports.createContext(void 0),ThirdwebAuthProvider=et=>{let{value:_e,children:tt}=et;const rt=useSigner$1(),nt=react.exports.useMemo(()=>{var at;if(!_e)return;const it={..._e,authUrl:(at=_e.authUrl)==null?void 0:at.replace(/\/$/,""),auth:void 0};return rt&&(it.auth=new ThirdwebAuth(new SignerWallet(rt),_e.domain)),it},[_e,rt]);return jsx(ThirdwebAuthContext.Provider,{value:nt,children:tt})},ThirdwebSDKContext=react.exports.createContext({}),WrappedThirdwebSDKProvider=et=>{let{sdkOptions:_e={},storageInterface:tt,supportedChains:rt=defaultChains$1,activeChain:nt,signer:it,children:at,thirdwebApiKey:st,infuraApiKey:ot,alchemyApiKey:ct}=et;const lt=react.exports.useMemo(()=>{var mt,gt;return nt?typeof nt=="number"?nt:typeof nt=="string"?(gt=rt.find(bt=>bt.slug===nt))==null?void 0:gt.chainId:nt.chainId:(mt=rt[0])==null?void 0:mt.chainId},[nt,rt]),ut=react.exports.useMemo(()=>{if(typeof window>"u")return;let mt=lt;const gt=rt.find(wt=>wt.chainId===mt);!gt&&mt!==void 0&&(console.warn(`The chainId ${mt} is not in the configured chains, please add it to the ThirdwebProvider`),mt=void 0);let bt;if(gt&&gt.rpc.length>0)try{const wt=getChainRPC(gt,{thirdwebApiKey:st,infuraApiKey:ot,alchemyApiKey:ct});bt={chainId:gt.chainId,rpcUrl:wt}}catch{}const ht={readonlySettings:bt,..._e,supportedChains:rt};let yt;if(mt&&(yt=new ThirdwebSDK(mt,{...ht,infuraApiKey:ot,alchemyApiKey:ct,thirdwebApiKey:st},tt)),!yt)if(rt.length>0)mt=rt[0].chainId,yt=new ThirdwebSDK(mt,ht,tt);else{console.error("No chains configured, please pass a chain or chains to the ThirdwebProvider");return}return yt._chainId=mt,yt},[lt,ct,ot,rt,_e,tt,st]);react.exports.useEffect(()=>{ut&&ut._chainId===lt&&(it?ut.updateSignerOrProvider(it):lt&&ut.updateSignerOrProvider(lt))},[ut,ut==null?void 0:ut._chainId,it,lt]);const dt=react.exports.useMemo(()=>({sdk:ut&&ut._chainId===lt?ut:void 0,_inProvider:!0}),[lt,ut]);return jsx(ThirdwebSDKContext.Provider,{value:dt,children:at})},ThirdwebSDKProvider=et=>{let{signer:_e,children:tt,queryClient:rt,authConfig:nt,supportedChains:it=defaultChains$1,activeChain:at,thirdwebApiKey:st=DEFAULT_API_KEY$1,alchemyApiKey:ot,infuraApiKey:ct,...lt}=et;const ut=react.exports.useMemo(()=>!at||typeof at=="string"||typeof at=="number"?it:[...it,at].filter((mt,gt,bt)=>gt===bt.findIndex(ht=>ht.chainId===mt.chainId)),[it,at]);return jsx(ThirdwebConfigProvider,{value:{chains:ut,thirdwebApiKey:st,alchemyApiKey:ot,infuraApiKey:ct},children:jsx(ThirdwebConnectedWalletProvider,{signer:_e,children:jsx(QueryClientProviderWithDefault,{queryClient:rt,children:jsx(ThirdwebAuthProvider,{value:nt,children:jsx(WrappedThirdwebSDKProvider,{signer:_e,supportedChains:ut,thirdwebApiKey:st,alchemyApiKey:ot,infuraApiKey:ct,activeChain:at,...lt,children:tt})})})})})};function useSDKContext(){const et=react.exports.useContext(ThirdwebSDKContext);return invariant(et._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),et}function useSDK(){const{sdk:et}=useSDKContext();return et}function useSDKChainId(){const et=useSDK();return et==null?void 0:et._chainId}const TW_CACHE_KEY_PREFIX="tw-cache";function enforceCachePrefix(et){return[TW_CACHE_KEY_PREFIX,...et.filter(_e=>typeof _e!="string"||_e!==TW_CACHE_KEY_PREFIX)]}function createContractCacheKey(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AddressZero,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return enforceCachePrefix(["contract",et,..._e])}function createCacheKeyWithNetwork(et,_e){return enforceCachePrefix(cacheKeys.network.active(_e).concat(et))}const cacheKeys={auth:{user:()=>enforceCachePrefix(["user"])},network:{active:et=>enforceCachePrefix(["chainId",et])},wallet:{balance:(et,_e,tt)=>enforceCachePrefix(createCacheKeyWithNetwork(enforceCachePrefix(["balance",{walletAddress:_e,tokenAddress:tt}]),et))},contract:{read:(et,_e)=>createContractCacheKey(et,["read",_e]),type:et=>createContractCacheKey(et,["contract-type"]),compilerMetadata:et=>createContractCacheKey(et,["publish-metadata"]),typeAndCompilerMetadata:et=>createContractCacheKey(et,["contract-type-and-metadata"]),metadata:et=>createContractCacheKey(et,["metadata"]),extractFunctions:et=>createContractCacheKey(et,["extractFunctions"]),call:(et,_e,tt)=>createContractCacheKey(et,["call",_e,tt]),app:{get:et=>createContractCacheKey(et,["appURI"])},events:{getEvents:(et,_e)=>createContractCacheKey(et,["events","getEvents",{eventName:_e}]),getAllEvents:et=>createContractCacheKey(et,["events","getAllEvents"])},nft:{get:(et,_e)=>createContractCacheKey(et,["get",{tokenId:_e}]),balanceOf:(et,_e,tt)=>createContractCacheKey(et,["balanceOf",{owner:_e,tokenId:tt}]),query:{all:(et,_e)=>createContractCacheKey(et,_e?["query","all",_e]:["query","all"]),totalCirculatingSupply:et=>createContractCacheKey(et,["query","totalCirculatingSupply"]),totalCount:et=>createContractCacheKey(et,["query","totalCount"]),owned:{all:(et,_e)=>createContractCacheKey(et,["query","owned","all",_e])}},drop:{getAllUnclaimed:(et,_e)=>createContractCacheKey(et,_e?["getAllUnclaimed",_e]:["getAllUnclaimed"]),getAllClaimed:(et,_e)=>createContractCacheKey(et,_e?["getAllClaimed",_e]:["getAllClaimed"]),totalUnclaimedSupply:et=>createContractCacheKey(et,["totalUnclaimedSupply"]),totalClaimedSupply:et=>createContractCacheKey(et,["totalClaimedSupply"]),revealer:{getBatchesToReveal:(et,_e)=>createContractCacheKey(et,_e?["getBatchesToReveal",_e]:["getBatchesToReveal"])}}},token:{totalSupply:et=>createContractCacheKey(et,["totalSupply"]),decimals:et=>createContractCacheKey(et,["decimals"]),balanceOf:(et,_e)=>createContractCacheKey(et,["balanceOf",{walletAddress:_e}])},marketplace:{getListing:(et,_e)=>createContractCacheKey(et,["getListing",{listingId:_e}]),getAllListings:(et,_e)=>createContractCacheKey(et,_e?["getAllListings",_e]:["getAllListings"]),getTotalCount:et=>createContractCacheKey(et,["getTotalCount"]),getActiveListings:(et,_e)=>createContractCacheKey(et,_e?["getActiveListings",_e]:["getActiveListings"]),getBidBufferBps:et=>createContractCacheKey(et,["getBidBufferBps"]),auction:{getWinningBid:(et,_e)=>createContractCacheKey(et,["auction","getWinningBid",{listingId:_e}]),getWinner:(et,_e)=>createContractCacheKey(et,["auction","getWinner",{listingId:_e}])},directListings:{getAll:(et,_e)=>createContractCacheKey(et,_e?["getAllDirectListings",_e]:["getAllDirectListings"]),getAllValid:(et,_e)=>createContractCacheKey(et,_e?["getAllValidDirectListings",_e]:["getAllValidDirectListings"]),getListing:(et,_e)=>createContractCacheKey(et,["getListing",{listingId:_e}]),getTotalCount:et=>createContractCacheKey(et,["getTotalDirectListingsCount"])},englishAuctions:{getAll:(et,_e)=>createContractCacheKey(et,_e?["getAllEnglishAuctions",_e]:["getAllEnglishAuctions"]),getAllValid:(et,_e)=>createContractCacheKey(et,_e?["getAllEValidEnglishAuctions",_e]:["getAllEValidEnglishAuctions"]),getAuction:(et,_e)=>createContractCacheKey(et,["getAuction",{auctionId:_e}]),getWinningBid:(et,_e)=>createContractCacheKey(et,["getWinningBid",{auctionId:_e}]),getTotalCount:et=>createContractCacheKey(et,["getTotalEnglishAuctionsCount"])}}},extensions:{claimConditions:{getActive:(et,_e,tt)=>createContractCacheKey(et,_e?["claimConditions","getActive",{tokenId:_e},tt]:["claimConditions","getActive",tt]),getAll:(et,_e,tt)=>createContractCacheKey(et,_e?["claimConditions","getAll",{tokenId:_e},tt]:["claimConditions","getAll",tt]),getClaimerProofs:(et,_e)=>createContractCacheKey(et,_e?["claimConditions","getClaimerProofs",{tokenId:_e}]:["claimConditions","getClaimerProofs"]),getClaimIneligibilityReasons:(et,_e,tt)=>createContractCacheKey(et,tt?["claimConditions","getIneligibilityReasons",{tokenId:tt},_e]:["claimConditions","getIneligibilityReasons",_e]),useActiveClaimConditionForWallet:(et,_e,tt)=>createContractCacheKey(et,tt?["claimConditions","useActiveClaimConditionForWallet",{tokenId:tt,walletAddress:_e},,]:["claimConditions","getIneligibilityReasons",{walletAddress:_e}])},sales:{getRecipient:et=>createContractCacheKey(et,["sales"])},royalties:{getDefaultRoyaltyInfo:et=>createContractCacheKey(et,["royalties"])},platformFees:{get:et=>createContractCacheKey(et,["platformFees"])},metadata:{get:et=>createContractCacheKey(et,["metadata"])},roles:{getAll:et=>createContractCacheKey(et,["roles"]),get:(et,_e)=>createContractCacheKey(et,["roles",{role:_e}])}}};function useQueryWithNetwork(et,_e,tt){const rt=useSDKChainId(),nt={...tt,enabled:!!(rt&&(tt==null?void 0:tt.enabled))};return useQuery(createCacheKeyWithNetwork(et,rt),_e,nt)}function useAddress(){return useThirdwebConnectedWalletContext().address}function useChainId(){return useThirdwebConnectedWalletContext().chainId}async function fetchContractType(et,_e){if(!et||!_e)return null;try{return await _e.resolveContractType(et)}catch(tt){return console.error("failed to resolve contract type",tt),"custom"}}function useContractType(et){const _e=useSDK();return useQueryWithNetwork(cacheKeys.contract.type(et),()=>fetchContractType(et,_e),{cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!_e})}const contractType={cacheKey:(et,_e)=>createCacheKeyWithNetwork(cacheKeys.contract.type(et),_e),useQuery:useContractType,fetchQuery:fetchContractType};function fetchCompilerMetadata(et,_e){if(!et||!_e)return null;try{return _e.getPublisher().fetchCompilerMetadataFromAddress(et)}catch{return null}}function useCompilerMetadata(et){const _e=useSDK();return useQueryWithNetwork(cacheKeys.contract.compilerMetadata(et),()=>fetchCompilerMetadata(et,_e),{cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!_e})}const compilerMetadata={cacheKey:(et,_e)=>createCacheKeyWithNetwork(cacheKeys.contract.compilerMetadata(et),_e),useQuery:useCompilerMetadata,fetchQuery:fetchCompilerMetadata};function useContract(et,_e){const tt=useSDK(),rt=useQueryClient(),nt=useSDKChainId(),it=useAddress(),at=useChainId(),st=tt==null?void 0:tt._constructedAt,ot=useQueryWithNetwork(neverPersist(["contract-instance",et,{wallet:it,walletChainId:at,sdkTimestamp:st}]),async()=>{var ct;if(requiredParamInvariant(et,"contract address is required"),invariant(tt,"SDK not initialized"),invariant(nt,"active chain id is required"),!_e||_e==="custom"){const lt=await rt.fetchQuery(contractType.cacheKey(et,nt),()=>contractType.fetchQuery(et,tt),{cacheTime:1/0,staleTime:1/0});let ut;return lt==="custom"&&(ut=(ct=await rt.fetchQuery(compilerMetadata.cacheKey(et,nt),()=>compilerMetadata.fetchQuery(et,tt),{cacheTime:1/0,staleTime:1/0,retry:0}))==null?void 0:ct.abi),invariant(lt,"failed to resolve contract type"),tt.getContract(et,ut||lt)}return tt.getContract(et,_e)},{keepPreviousData:!0,cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!tt&&!!nt,retry:0});return{...ot,data:ot.data,contract:ot.data}}function useContractWrite(et,_e){const tt=useSDKChainId(),rt=et==null?void 0:et.getAddress(),nt=useQueryClient();return useMutation(async it=>(requiredParamInvariant(et,"contract must be defined"),requiredParamInvariant(_e,"function name must be provided"),it!=null&&it.length?et.call(_e,...it):et.call(_e)),{onSettled:()=>nt.invalidateQueries(createCacheKeyWithNetwork(createContractCacheKey(rt),tt))})}var eventemitter3$2={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ot,ct,lt){this.fn=ot,this.context=ct,this.once=lt||!1}function it(ot,ct,lt,ut,dt){if(typeof lt!="function")throw new TypeError("The listener must be a function");var mt=new nt(lt,ut||ot,dt),gt=tt?tt+ct:ct;return ot._events[gt]?ot._events[gt].fn?ot._events[gt]=[ot._events[gt],mt]:ot._events[gt].push(mt):(ot._events[gt]=mt,ot._eventsCount++),ot}function at(ot,ct){--ot._eventsCount===0?ot._events=new rt:delete ot._events[ct]}function st(){this._events=new rt,this._eventsCount=0}st.prototype.eventNames=function(){var ct=[],lt,ut;if(this._eventsCount===0)return ct;for(ut in lt=this._events)_e.call(lt,ut)&&ct.push(tt?ut.slice(1):ut);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(lt)):ct},st.prototype.listeners=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];if(!ut)return[];if(ut.fn)return[ut.fn];for(var dt=0,mt=ut.length,gt=new Array(mt);dt<mt;dt++)gt[dt]=ut[dt].fn;return gt},st.prototype.listenerCount=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];return ut?ut.fn?1:ut.length:0},st.prototype.emit=function(ct,lt,ut,dt,mt,gt){var bt=tt?tt+ct:ct;if(!this._events[bt])return!1;var ht=this._events[bt],yt=arguments.length,wt,xt;if(ht.fn){switch(ht.once&&this.removeListener(ct,ht.fn,void 0,!0),yt){case 1:return ht.fn.call(ht.context),!0;case 2:return ht.fn.call(ht.context,lt),!0;case 3:return ht.fn.call(ht.context,lt,ut),!0;case 4:return ht.fn.call(ht.context,lt,ut,dt),!0;case 5:return ht.fn.call(ht.context,lt,ut,dt,mt),!0;case 6:return ht.fn.call(ht.context,lt,ut,dt,mt,gt),!0}for(xt=1,wt=new Array(yt-1);xt<yt;xt++)wt[xt-1]=arguments[xt];ht.fn.apply(ht.context,wt)}else{var At=ht.length,kt;for(xt=0;xt<At;xt++)switch(ht[xt].once&&this.removeListener(ct,ht[xt].fn,void 0,!0),yt){case 1:ht[xt].fn.call(ht[xt].context);break;case 2:ht[xt].fn.call(ht[xt].context,lt);break;case 3:ht[xt].fn.call(ht[xt].context,lt,ut);break;case 4:ht[xt].fn.call(ht[xt].context,lt,ut,dt);break;default:if(!wt)for(kt=1,wt=new Array(yt-1);kt<yt;kt++)wt[kt-1]=arguments[kt];ht[xt].fn.apply(ht[xt].context,wt)}}return!0},st.prototype.on=function(ct,lt,ut){return it(this,ct,lt,ut,!1)},st.prototype.once=function(ct,lt,ut){return it(this,ct,lt,ut,!0)},st.prototype.removeListener=function(ct,lt,ut,dt){var mt=tt?tt+ct:ct;if(!this._events[mt])return this;if(!lt)return at(this,mt),this;var gt=this._events[mt];if(gt.fn)gt.fn===lt&&(!dt||gt.once)&&(!ut||gt.context===ut)&&at(this,mt);else{for(var bt=0,ht=[],yt=gt.length;bt<yt;bt++)(gt[bt].fn!==lt||dt&&!gt[bt].once||ut&&gt[bt].context!==ut)&&ht.push(gt[bt]);ht.length?this._events[mt]=ht.length===1?ht[0]:ht:at(this,mt)}return this},st.prototype.removeAllListeners=function(ct){var lt;return ct?(lt=tt?tt+ct:ct,this._events[lt]&&at(this,lt)):(this._events=new rt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=tt,st.EventEmitter=st,et.exports=st})(eventemitter3$2);const EventEmitter$4=eventemitter3$2.exports;function _checkPrivateRedeclaration(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(et,_e,tt){_checkPrivateRedeclaration(et,_e),_e.set(et,tt)}function _defineProperty(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _classApplyDescriptorGet(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet(et,_e){var tt=_classExtractFieldDescriptor(et,_e,"get");return _classApplyDescriptorGet(et,tt)}function _classApplyDescriptorSet(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet(et,_e,tt){var rt=_classExtractFieldDescriptor(et,_e,"set");return _classApplyDescriptorSet(et,rt,tt),tt}const chain={mainnet:{id:1,name:"Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},ropsten:{id:3,name:"Ropsten",nativeCurrency:{name:"Ropsten Ether",symbol:"ropETH",decimals:18},rpcUrls:["https://ropsten.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://ropsten.etherscan.io"}],testnet:!0},rinkeby:{id:4,name:"Rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"rETH",decimals:18},rpcUrls:["https://rinkeby.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},gnosis:{id:100,name:"Gnosis Chain",nativeCurrency:{name:"xDai",symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.gnosischain.com"],blockExplorers:[{name:"Blockscout",url:"https://blockscout.com"}]},goerli:{id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"gETH",decimals:18},rpcUrls:["https://goerli.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},kovan:{id:42,name:"Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"kETH",decimals:18},rpcUrls:["https://kovan.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://kovan.etherscan.io"}],testnet:!0},optimism:{id:10,name:"Optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io"}]},optimismKovan:{id:69,name:"Optimism Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"KOR",decimals:18},rpcUrls:["https://kovan.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io"}],testnet:!0},polygonMainnet:{id:137,name:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:80001,name:"Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://mumbai.polygonscan.com"}],testnet:!0},arbitrumOne:{id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io"},{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io"}]},arbitrumRinkeby:{id:421611,name:"Arbitrum Rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ARETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorers:[{name:"Arbitrum Explorer",url:"https://rinkeby-explorer.arbitrum.io"}],testnet:!0},avalanche:{id:43114,name:"Avalanche Mainnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io"}],testnet:!1},avalancheFuji:{id:43113,name:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io"}],testnet:!0},localhost:{id:1337,name:"Localhost",rpcUrls:["https://127.0.0.1:8545"]},hardhat:{id:31337,name:"Hardhat",rpcUrls:["http://127.0.0.1:8545"]}},allChains=Object.values(chain),defaultChains=[chain.mainnet,chain.ropsten,chain.rinkeby,chain.goerli,chain.kovan];chain.gnosis,chain.optimism,chain.optimismKovan,chain.polygonMainnet,chain.polygonTestnetMumbai,chain.arbitrumOne,chain.arbitrumRinkeby;chain.localhost,chain.hardhat;const normalizeChainId=et=>typeof et=="string"?Number.parseInt(et,et.trim().substring(0,2)==="0x"?16:10):et;class AddChainError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","AddChainError"),_defineProperty(this,"message","Error adding chain")}}class ChainNotConfiguredError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ChainNotConfigured"),_defineProperty(this,"message","Chain not configured")}}class ConnectorAlreadyConnectedError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ConnectorAlreadyConnectedError"),_defineProperty(this,"message","Connector already connected")}}class ConnectorNotFoundError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ConnectorNotFoundError"),_defineProperty(this,"message","Connector not found")}}class SwitchChainError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","SwitchChainError"),_defineProperty(this,"message","Error switching chain")}}class UserRejectedRequestError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","UserRejectedRequestError"),_defineProperty(this,"message","User rejected request")}}class Connector$1 extends EventEmitter$4{constructor(_e){let{chains:tt=defaultChains,options:rt}=_e;super(),_defineProperty(this,"id",void 0),_defineProperty(this,"name",void 0),_defineProperty(this,"chains",void 0),_defineProperty(this,"options",void 0),_defineProperty(this,"ready",void 0),this.chains=tt,this.options=rt}isChainUnsupported(_e){return!this.chains.some(tt=>tt.id===_e)}}var utils$6={};const require$$0$3=getAugmentedNamespace(lib_esm$b),require$$1$1=getAugmentedNamespace(lib_esm$f),require$$2$2=getAugmentedNamespace(lib_esm$d),require$$3$2=getAugmentedNamespace(lib_esm$8),require$$4=getAugmentedNamespace(lib_esm$j),require$$5=getAugmentedNamespace(lib_esm$c),require$$6=getAugmentedNamespace(lib_esm$6),require$$7$1=getAugmentedNamespace(lib_esm$4),require$$8=getAugmentedNamespace(lib_esm$h),require$$9=getAugmentedNamespace(lib_esm$k),require$$10=getAugmentedNamespace(lib_esm$7),require$$11=getAugmentedNamespace(lib_esm$1),require$$12=getAugmentedNamespace(lib_esm$5),require$$13=getAugmentedNamespace(lib_esm$i),require$$14=getAugmentedNamespace(lib_esm$g),require$$15=getAugmentedNamespace(lib_esm$a),require$$16=getAugmentedNamespace(lib_esm$e),require$$17=getAugmentedNamespace(lib_esm$9),require$$18=getAugmentedNamespace(lib_esm),require$$19=getAugmentedNamespace(lib_esm$3),require$$20=getAugmentedNamespace(lib_esm$2);(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Et,It,Ct,vt){vt===void 0&&(vt=Ct),Object.defineProperty(Et,vt,{enumerable:!0,get:function(){return It[Ct]}})}:function(Et,It,Ct,vt){vt===void 0&&(vt=Ct),Et[vt]=It[Ct]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Et,It){Object.defineProperty(Et,"default",{enumerable:!0,value:It})}:function(Et,It){Et.default=It}),rt=commonjsGlobal&&commonjsGlobal.__importStar||function(Et){if(Et&&Et.__esModule)return Et;var It={};if(Et!=null)for(var Ct in Et)Ct!=="default"&&Object.prototype.hasOwnProperty.call(Et,Ct)&&_e(It,Et,Ct);return tt(It,Et),It};Object.defineProperty(et,"__esModule",{value:!0}),et.formatBytes32String=et.Utf8ErrorFuncs=et.toUtf8String=et.toUtf8CodePoints=et.toUtf8Bytes=et._toEscapedUtf8String=et.nameprep=et.hexDataSlice=et.hexDataLength=et.hexZeroPad=et.hexValue=et.hexStripZeros=et.hexConcat=et.isHexString=et.hexlify=et.base64=et.base58=et.TransactionDescription=et.LogDescription=et.Interface=et.SigningKey=et.HDNode=et.defaultPath=et.isBytesLike=et.isBytes=et.zeroPad=et.stripZeros=et.concat=et.arrayify=et.shallowCopy=et.resolveProperties=et.getStatic=et.defineReadOnly=et.deepCopy=et.checkProperties=et.poll=et.fetchJson=et._fetchData=et.RLP=et.Logger=et.checkResultErrors=et.FormatTypes=et.ParamType=et.FunctionFragment=et.EventFragment=et.ErrorFragment=et.ConstructorFragment=et.Fragment=et.defaultAbiCoder=et.AbiCoder=void 0,et.Indexed=et.Utf8ErrorReason=et.UnicodeNormalizationForm=et.SupportedAlgorithm=et.mnemonicToSeed=et.isValidMnemonic=et.entropyToMnemonic=et.mnemonicToEntropy=et.getAccountPath=et.verifyTypedData=et.verifyMessage=et.recoverPublicKey=et.computePublicKey=et.recoverAddress=et.computeAddress=et.getJsonWalletAddress=et.TransactionTypes=et.serializeTransaction=et.parseTransaction=et.accessListify=et.joinSignature=et.splitSignature=et.soliditySha256=et.solidityKeccak256=et.solidityPack=et.shuffled=et.randomBytes=et.sha512=et.sha256=et.ripemd160=et.keccak256=et.computeHmac=et.commify=et.parseUnits=et.formatUnits=et.parseEther=et.formatEther=et.isAddress=et.getCreate2Address=et.getContractAddress=et.getIcapAddress=et.getAddress=et._TypedDataEncoder=et.id=et.isValidName=et.namehash=et.hashMessage=et.dnsEncode=et.parseBytes32String=void 0;var nt=require$$0$3;Object.defineProperty(et,"AbiCoder",{enumerable:!0,get:function(){return nt.AbiCoder}}),Object.defineProperty(et,"checkResultErrors",{enumerable:!0,get:function(){return nt.checkResultErrors}}),Object.defineProperty(et,"ConstructorFragment",{enumerable:!0,get:function(){return nt.ConstructorFragment}}),Object.defineProperty(et,"defaultAbiCoder",{enumerable:!0,get:function(){return nt.defaultAbiCoder}}),Object.defineProperty(et,"ErrorFragment",{enumerable:!0,get:function(){return nt.ErrorFragment}}),Object.defineProperty(et,"EventFragment",{enumerable:!0,get:function(){return nt.EventFragment}}),Object.defineProperty(et,"FormatTypes",{enumerable:!0,get:function(){return nt.FormatTypes}}),Object.defineProperty(et,"Fragment",{enumerable:!0,get:function(){return nt.Fragment}}),Object.defineProperty(et,"FunctionFragment",{enumerable:!0,get:function(){return nt.FunctionFragment}}),Object.defineProperty(et,"Indexed",{enumerable:!0,get:function(){return nt.Indexed}}),Object.defineProperty(et,"Interface",{enumerable:!0,get:function(){return nt.Interface}}),Object.defineProperty(et,"LogDescription",{enumerable:!0,get:function(){return nt.LogDescription}}),Object.defineProperty(et,"ParamType",{enumerable:!0,get:function(){return nt.ParamType}}),Object.defineProperty(et,"TransactionDescription",{enumerable:!0,get:function(){return nt.TransactionDescription}});var it=require$$1$1;Object.defineProperty(et,"getAddress",{enumerable:!0,get:function(){return it.getAddress}}),Object.defineProperty(et,"getCreate2Address",{enumerable:!0,get:function(){return it.getCreate2Address}}),Object.defineProperty(et,"getContractAddress",{enumerable:!0,get:function(){return it.getContractAddress}}),Object.defineProperty(et,"getIcapAddress",{enumerable:!0,get:function(){return it.getIcapAddress}}),Object.defineProperty(et,"isAddress",{enumerable:!0,get:function(){return it.isAddress}});var at=rt(require$$2$2);et.base64=at;var st=require$$3$2;Object.defineProperty(et,"base58",{enumerable:!0,get:function(){return st.Base58}});var ot=require$$4;Object.defineProperty(et,"arrayify",{enumerable:!0,get:function(){return ot.arrayify}}),Object.defineProperty(et,"concat",{enumerable:!0,get:function(){return ot.concat}}),Object.defineProperty(et,"hexConcat",{enumerable:!0,get:function(){return ot.hexConcat}}),Object.defineProperty(et,"hexDataSlice",{enumerable:!0,get:function(){return ot.hexDataSlice}}),Object.defineProperty(et,"hexDataLength",{enumerable:!0,get:function(){return ot.hexDataLength}}),Object.defineProperty(et,"hexlify",{enumerable:!0,get:function(){return ot.hexlify}}),Object.defineProperty(et,"hexStripZeros",{enumerable:!0,get:function(){return ot.hexStripZeros}}),Object.defineProperty(et,"hexValue",{enumerable:!0,get:function(){return ot.hexValue}}),Object.defineProperty(et,"hexZeroPad",{enumerable:!0,get:function(){return ot.hexZeroPad}}),Object.defineProperty(et,"isBytes",{enumerable:!0,get:function(){return ot.isBytes}}),Object.defineProperty(et,"isBytesLike",{enumerable:!0,get:function(){return ot.isBytesLike}}),Object.defineProperty(et,"isHexString",{enumerable:!0,get:function(){return ot.isHexString}}),Object.defineProperty(et,"joinSignature",{enumerable:!0,get:function(){return ot.joinSignature}}),Object.defineProperty(et,"zeroPad",{enumerable:!0,get:function(){return ot.zeroPad}}),Object.defineProperty(et,"splitSignature",{enumerable:!0,get:function(){return ot.splitSignature}}),Object.defineProperty(et,"stripZeros",{enumerable:!0,get:function(){return ot.stripZeros}});var ct=require$$5;Object.defineProperty(et,"_TypedDataEncoder",{enumerable:!0,get:function(){return ct._TypedDataEncoder}}),Object.defineProperty(et,"dnsEncode",{enumerable:!0,get:function(){return ct.dnsEncode}}),Object.defineProperty(et,"hashMessage",{enumerable:!0,get:function(){return ct.hashMessage}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return ct.id}}),Object.defineProperty(et,"isValidName",{enumerable:!0,get:function(){return ct.isValidName}}),Object.defineProperty(et,"namehash",{enumerable:!0,get:function(){return ct.namehash}});var lt=require$$6;Object.defineProperty(et,"defaultPath",{enumerable:!0,get:function(){return lt.defaultPath}}),Object.defineProperty(et,"entropyToMnemonic",{enumerable:!0,get:function(){return lt.entropyToMnemonic}}),Object.defineProperty(et,"getAccountPath",{enumerable:!0,get:function(){return lt.getAccountPath}}),Object.defineProperty(et,"HDNode",{enumerable:!0,get:function(){return lt.HDNode}}),Object.defineProperty(et,"isValidMnemonic",{enumerable:!0,get:function(){return lt.isValidMnemonic}}),Object.defineProperty(et,"mnemonicToEntropy",{enumerable:!0,get:function(){return lt.mnemonicToEntropy}}),Object.defineProperty(et,"mnemonicToSeed",{enumerable:!0,get:function(){return lt.mnemonicToSeed}});var ut=require$$7$1;Object.defineProperty(et,"getJsonWalletAddress",{enumerable:!0,get:function(){return ut.getJsonWalletAddress}});var dt=require$$8;Object.defineProperty(et,"keccak256",{enumerable:!0,get:function(){return dt.keccak256}});var mt=require$$9;Object.defineProperty(et,"Logger",{enumerable:!0,get:function(){return mt.Logger}});var gt=require$$10;Object.defineProperty(et,"computeHmac",{enumerable:!0,get:function(){return gt.computeHmac}}),Object.defineProperty(et,"ripemd160",{enumerable:!0,get:function(){return gt.ripemd160}}),Object.defineProperty(et,"sha256",{enumerable:!0,get:function(){return gt.sha256}}),Object.defineProperty(et,"sha512",{enumerable:!0,get:function(){return gt.sha512}});var bt=require$$11;Object.defineProperty(et,"solidityKeccak256",{enumerable:!0,get:function(){return bt.keccak256}}),Object.defineProperty(et,"solidityPack",{enumerable:!0,get:function(){return bt.pack}}),Object.defineProperty(et,"soliditySha256",{enumerable:!0,get:function(){return bt.sha256}});var ht=require$$12;Object.defineProperty(et,"randomBytes",{enumerable:!0,get:function(){return ht.randomBytes}}),Object.defineProperty(et,"shuffled",{enumerable:!0,get:function(){return ht.shuffled}});var yt=require$$13;Object.defineProperty(et,"checkProperties",{enumerable:!0,get:function(){return yt.checkProperties}}),Object.defineProperty(et,"deepCopy",{enumerable:!0,get:function(){return yt.deepCopy}}),Object.defineProperty(et,"defineReadOnly",{enumerable:!0,get:function(){return yt.defineReadOnly}}),Object.defineProperty(et,"getStatic",{enumerable:!0,get:function(){return yt.getStatic}}),Object.defineProperty(et,"resolveProperties",{enumerable:!0,get:function(){return yt.resolveProperties}}),Object.defineProperty(et,"shallowCopy",{enumerable:!0,get:function(){return yt.shallowCopy}});var wt=rt(require$$14);et.RLP=wt;var xt=require$$15;Object.defineProperty(et,"computePublicKey",{enumerable:!0,get:function(){return xt.computePublicKey}}),Object.defineProperty(et,"recoverPublicKey",{enumerable:!0,get:function(){return xt.recoverPublicKey}}),Object.defineProperty(et,"SigningKey",{enumerable:!0,get:function(){return xt.SigningKey}});var At=require$$16;Object.defineProperty(et,"formatBytes32String",{enumerable:!0,get:function(){return At.formatBytes32String}}),Object.defineProperty(et,"nameprep",{enumerable:!0,get:function(){return At.nameprep}}),Object.defineProperty(et,"parseBytes32String",{enumerable:!0,get:function(){return At.parseBytes32String}}),Object.defineProperty(et,"_toEscapedUtf8String",{enumerable:!0,get:function(){return At._toEscapedUtf8String}}),Object.defineProperty(et,"toUtf8Bytes",{enumerable:!0,get:function(){return At.toUtf8Bytes}}),Object.defineProperty(et,"toUtf8CodePoints",{enumerable:!0,get:function(){return At.toUtf8CodePoints}}),Object.defineProperty(et,"toUtf8String",{enumerable:!0,get:function(){return At.toUtf8String}}),Object.defineProperty(et,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return At.Utf8ErrorFuncs}});var kt=require$$17;Object.defineProperty(et,"accessListify",{enumerable:!0,get:function(){return kt.accessListify}}),Object.defineProperty(et,"computeAddress",{enumerable:!0,get:function(){return kt.computeAddress}}),Object.defineProperty(et,"parseTransaction",{enumerable:!0,get:function(){return kt.parse}}),Object.defineProperty(et,"recoverAddress",{enumerable:!0,get:function(){return kt.recoverAddress}}),Object.defineProperty(et,"serializeTransaction",{enumerable:!0,get:function(){return kt.serialize}}),Object.defineProperty(et,"TransactionTypes",{enumerable:!0,get:function(){return kt.TransactionTypes}});var Ot=require$$18;Object.defineProperty(et,"commify",{enumerable:!0,get:function(){return Ot.commify}}),Object.defineProperty(et,"formatEther",{enumerable:!0,get:function(){return Ot.formatEther}}),Object.defineProperty(et,"parseEther",{enumerable:!0,get:function(){return Ot.parseEther}}),Object.defineProperty(et,"formatUnits",{enumerable:!0,get:function(){return Ot.formatUnits}}),Object.defineProperty(et,"parseUnits",{enumerable:!0,get:function(){return Ot.parseUnits}});var Wt=require$$19;Object.defineProperty(et,"verifyMessage",{enumerable:!0,get:function(){return Wt.verifyMessage}}),Object.defineProperty(et,"verifyTypedData",{enumerable:!0,get:function(){return Wt.verifyTypedData}});var Ht=require$$20;Object.defineProperty(et,"_fetchData",{enumerable:!0,get:function(){return Ht._fetchData}}),Object.defineProperty(et,"fetchJson",{enumerable:!0,get:function(){return Ht.fetchJson}}),Object.defineProperty(et,"poll",{enumerable:!0,get:function(){return Ht.poll}});var Zt=require$$10;Object.defineProperty(et,"SupportedAlgorithm",{enumerable:!0,get:function(){return Zt.SupportedAlgorithm}});var Lt=require$$16;Object.defineProperty(et,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Lt.UnicodeNormalizationForm}}),Object.defineProperty(et,"Utf8ErrorReason",{enumerable:!0,get:function(){return Lt.Utf8ErrorReason}})})(utils$6);const getInjectedName=et=>et?et.isBraveWallet?"Brave Wallet":et.isMetaMask?"MetaMask":et.isCoinbaseWallet?"Coinbase Wallet":et.isFrame?"Frame":et.isTally?"Tally":"Injected":"Injected",shimKey="wagmi.shimDisconnect";var _provider$2=new WeakMap;class InjectedConnector extends Connector$1{constructor(_e){super({..._e,options:_e==null?void 0:_e.options}),_defineProperty(this,"id","injected"),_defineProperty(this,"name",void 0),_defineProperty(this,"ready",typeof window<"u"&&!!window.ethereum),_classPrivateFieldInitSpec(this,_provider$2,{writable:!0,value:void 0}),_defineProperty(this,"onAccountsChanged",rt=>{rt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(rt[0])})}),_defineProperty(this,"onChainChanged",rt=>{const nt=normalizeChainId(rt),it=this.isChainUnsupported(nt);this.emit("change",{chain:{id:nt,unsupported:it}})}),_defineProperty(this,"onDisconnect",()=>{var rt;this.emit("disconnect"),(rt=this.options)!==null&&rt!==void 0&&rt.shimDisconnect&&typeof localStorage<"u"&&localStorage.removeItem(shimKey)});let tt="Injected";typeof window<"u"&&(tt=getInjectedName(window.ethereum)),this.name=tt}async connect(){try{var _e;const rt=this.getProvider();if(!rt)throw new ConnectorNotFoundError;if(rt.on){var tt;rt.on("accountsChanged",this.onAccountsChanged),rt.on("chainChanged",this.onChainChanged),(tt=this.options)!==null&&tt!==void 0&&tt.shimChainChangedDisconnect||rt.on("disconnect",this.onDisconnect)}const nt=await this.getAccount(),it=await this.getChainId(),at=this.isChainUnsupported(it);return(_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage<"u"&&localStorage.setItem(shimKey,"true"),{account:nt,chain:{id:it,unsupported:at},provider:rt}}catch(rt){throw rt.code===4001?new UserRejectedRequestError:rt}}async disconnect(){var _e;const tt=this.getProvider();!(tt!=null&&tt.removeListener)||(tt.removeListener("accountsChanged",this.onAccountsChanged),tt.removeListener("chainChanged",this.onChainChanged),tt.removeListener("disconnect",this.onDisconnect),(_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage<"u"&&localStorage.removeItem(shimKey))}async getAccount(){const _e=this.getProvider();if(!_e)throw new ConnectorNotFoundError;const tt=await _e.request({method:"eth_requestAccounts"});return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();if(!_e)throw new ConnectorNotFoundError;return await _e.request({method:"eth_chainId"}).then(normalizeChainId)}getProvider(){return typeof window<"u"&&!!window.ethereum&&_classPrivateFieldSet(this,_provider$2,window.ethereum),_classPrivateFieldGet(this,_provider$2)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{var _e;if((_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage<"u"&&!localStorage.getItem(shimKey))return!1;const tt=this.getProvider();if(!tt)throw new ConnectorNotFoundError;return!!(await tt.request({method:"eth_accounts"}))[0]}catch{return!1}}async switchChain(_e){const tt=this.getProvider();if(!tt)throw new ConnectorNotFoundError;const rt=utils$6.hexValue(_e);try{return await tt.request({method:"wallet_switchEthereumChain",params:[{chainId:rt}]}),[...this.chains,...allChains].find(at=>at.id===_e)}catch(it){if(it.code===4902)try{var nt;const at=this.chains.find(st=>st.id===_e);if(!at)throw new ChainNotConfiguredError;return await tt.request({method:"wallet_addEthereumChain",params:[{chainId:rt,chainName:at.name,nativeCurrency:at.nativeCurrency,rpcUrls:at.rpcUrls,blockExplorerUrls:(nt=at.blockExplorers)===null||nt===void 0?void 0:nt.map(st=>st.url)}]}),at}catch{throw new AddChainError}else throw it.code===4001?new UserRejectedRequestError:new SwitchChainError}}async watchAsset(_e){let{address:tt,decimals:rt=18,image:nt,symbol:it}=_e;const at=this.getProvider();if(!at)throw new ConnectorNotFoundError;await at.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:tt,decimals:rt,image:nt,symbol:it}}})}}const useCacheBuster=()=>useContext().state.cacheBuster,useCancel=()=>{const et=react.exports.useRef(null);return react.exports.useEffect(()=>()=>{var tt;return(tt=et.current)===null||tt===void 0?void 0:tt.call(et)},[]),react.exports.useCallback(tt=>{var rt;(rt=et.current)===null||rt===void 0||rt.call(et),tt&&(et.current=tt)},[])},useLocalStorage=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const[tt,rt]=react.exports.useState(()=>{if(typeof localStorage>"u")return _e;const it=localStorage.getItem(et);try{return it?JSON.parse(it):_e}catch(at){return console.warn(at),_e}}),nt=react.exports.useCallback(it=>{if(it!==tt)if(rt(it),it===null?localStorage.removeItem(et):localStorage.setItem(et,JSON.stringify(it)),it===null)localStorage.removeItem(et);else try{localStorage.setItem(et,JSON.stringify(it))}catch(at){console.error(at)}},[tt,rt,et]);return[tt,nt]},initialState$9={loading:!1},useConnect$1=()=>{var et;const{state:_e,setState:tt,setLastUsedConnector:rt}=useContext(),[nt,it]=react.exports.useState(initialState$9),at=useCancel(),st=react.exports.useCallback(async ot=>{let ct=!1;at(()=>{ct=!0});try{const lt=_e==null?void 0:_e.connector;if(ot===lt)throw new ConnectorAlreadyConnectedError;it(dt=>({...dt,loading:!0,connector:ot,error:void 0}));const ut=await ot.connect();return ct||(tt(dt=>({...dt,connector:ot,data:ut})),rt(ot.name),it(dt=>({...dt,loading:!1}))),{data:ut,error:void 0}}catch(lt){const ut=lt;return ct||it(dt=>({...dt,connector:void 0,error:ut,loading:!1})),{data:void 0,error:ut}}},[at,_e.connector,tt,rt]);return react.exports.useEffect(()=>(it(ot=>({...ot,connector:_e.connector,error:void 0})),at),[at,_e.connector]),[{data:{connected:!!((et=_e.data)!==null&&et!==void 0&&et.account),connector:nt.connector,connectors:_e.connectors},error:nt.error,loading:nt.loading||_e.connecting},st]},initialState$7={data:void 0,error:void 0,loading:!1},useSigner=function(){let{skip:et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e=useCacheBuster(),{state:{connector:tt}}=useContext(),[rt,nt]=react.exports.useState(initialState$7),it=useCancel(),at=react.exports.useCallback(async()=>{let st=!1;it(()=>{st=!0});try{nt(ct=>({...ct,error:void 0,loading:!0}));const ot=await(tt==null?void 0:tt.getSigner());return st||nt(ct=>({...ct,data:ot,loading:!1})),ot}catch(ot){const ct=ot;st||nt(lt=>({...lt,data:void 0,error:ct,loading:!1}))}},[it,tt]);return react.exports.useEffect(()=>{if(!et)return at(),it},[_e,tt,it,et]),[rt,at]},Context$1=react.exports.createContext(null),Provider=et=>{var _e,tt,rt,nt,it,at;let{autoConnect:st=!1,children:ot,connectors:ct=[new InjectedConnector],connectorStorageKey:lt="wagmi.wallet",provider:ut=getDefaultProvider(),webSocketProvider:dt}=et;const[mt,gt]=useLocalStorage(lt),[bt,ht]=react.exports.useState({cacheBuster:1,connecting:st}),yt=react.exports.useMemo(()=>{var kt,Ot;return typeof ct!="function"?ct:ct({chainId:(kt=bt.data)===null||kt===void 0||(Ot=kt.chain)===null||Ot===void 0?void 0:Ot.id})},[ct,(_e=bt.data)===null||_e===void 0||(tt=_e.chain)===null||tt===void 0?void 0:tt.id]),wt=react.exports.useMemo(()=>{var kt,Ot;return typeof ut!="function"?ut:ut({chainId:(kt=bt.data)===null||kt===void 0||(Ot=kt.chain)===null||Ot===void 0?void 0:Ot.id,connector:bt.connector})},[ut,(rt=bt.data)===null||rt===void 0||(nt=rt.chain)===null||nt===void 0?void 0:nt.id,bt.connector]),xt=react.exports.useMemo(()=>{var kt,Ot;if(!!dt)return typeof dt!="function"?dt:dt({chainId:(kt=bt.data)===null||kt===void 0||(Ot=kt.chain)===null||Ot===void 0?void 0:Ot.id,connector:bt.connector})},[dt,(it=bt.data)===null||it===void 0||(at=it.chain)===null||at===void 0?void 0:at.id,bt.connector]);react.exports.useEffect(()=>{!st||(async()=>{ht(Ot=>({...Ot,connecting:!0}));const kt=mt?[...yt].sort(Ot=>Ot.name===mt?-1:1):yt;for(const Ot of kt){if(!Ot.ready||!Ot.isAuthorized||!await Ot.isAuthorized())continue;const Ht=await Ot.connect();ht(Zt=>({...Zt,connector:Ot,data:Ht}));break}ht(Ot=>({...Ot,connecting:!1}))})()},[]),react.exports.useEffect(()=>()=>{!bt.connector||bt.connector.disconnect()},[bt.connector]),react.exports.useEffect(()=>{if(!bt.connector)return;const kt=Ht=>ht(Zt=>({...Zt,cacheBuster:Zt.cacheBuster+1,data:{...Zt.data,...Ht}})),Ot=()=>ht({cacheBuster:1}),Wt=Ht=>ht(Zt=>({...Zt,error:Ht}));return bt.connector.on("change",kt),bt.connector.on("disconnect",Ot),bt.connector.on("error",Wt),()=>{!bt.connector||(bt.connector.off("change",kt),bt.connector.off("disconnect",Ot),bt.connector.off("error",Wt))}},[bt.connector]);const At={state:{cacheBuster:bt.cacheBuster,connecting:bt.connecting,connectors:yt,connector:bt.connector,data:bt.data,provider:wt,webSocketProvider:xt},setState:ht,setLastUsedConnector:gt};return jsx(Context$1.Provider,{value:At,children:ot})},useContext=()=>{const et=react.exports.useContext(Context$1);if(!et)throw Error("Must be used within Provider");return et};var dist$2={},CoinbaseWalletSDK$1={},walletLogo$1={};Object.defineProperty(walletLogo$1,"__esModule",{value:!0});walletLogo$1.walletLogo=void 0;const walletLogo=(et,_e)=>{let tt;switch(et){case"standard":return tt=_e,`data:image/svg+xml,%3Csvg width='${_e}' height='${tt}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return tt=_e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${_e}' height='${tt}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return tt=(.1*_e).toFixed(2),`data:image/svg+xml,%3Csvg width='${_e}' height='${tt}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return tt=(.25*_e).toFixed(2),`data:image/svg+xml,%3Csvg width='${_e}' height='${tt}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return tt=(.1*_e).toFixed(2),`data:image/svg+xml,%3Csvg width='${_e}' height='${tt}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return tt=(.25*_e).toFixed(2),`data:image/svg+xml,%3Csvg width='${_e}' height='${tt}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return tt=_e,`data:image/svg+xml,%3Csvg width='${_e}' height='${tt}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};walletLogo$1.walletLogo=walletLogo;var ScopedLocalStorage$1={};Object.defineProperty(ScopedLocalStorage$1,"__esModule",{value:!0});ScopedLocalStorage$1.ScopedLocalStorage=void 0;class ScopedLocalStorage{constructor(_e){this.scope=_e}setItem(_e,tt){localStorage.setItem(this.scopedKey(_e),tt)}getItem(_e){return localStorage.getItem(this.scopedKey(_e))}removeItem(_e){localStorage.removeItem(this.scopedKey(_e))}clear(){const _e=this.scopedKey(""),tt=[];for(let rt=0;rt<localStorage.length;rt++){const nt=localStorage.key(rt);typeof nt=="string"&&nt.startsWith(_e)&&tt.push(nt)}tt.forEach(rt=>localStorage.removeItem(rt))}scopedKey(_e){return`${this.scope}:${_e}`}}ScopedLocalStorage$1.ScopedLocalStorage=ScopedLocalStorage;var CoinbaseWalletProvider$1={},safeEventEmitter$1={},events={exports:{}},R$3=typeof Reflect=="object"?Reflect:null,ReflectApply$1=R$3&&typeof R$3.apply=="function"?R$3.apply:function et(_e,tt,rt){return Function.prototype.apply.call(_e,tt,rt)},ReflectOwnKeys;R$3&&typeof R$3.ownKeys=="function"?ReflectOwnKeys=R$3.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:ReflectOwnKeys=function(_e){return Object.getOwnPropertyNames(_e)};function ProcessEmitWarning(et){console&&console.warn&&console.warn(et)}var NumberIsNaN=Number.isNaN||function et(_e){return _e!==_e};function EventEmitter$3(){EventEmitter$3.init.call(this)}events.exports=EventEmitter$3;events.exports.once=once$2;EventEmitter$3.EventEmitter=EventEmitter$3;EventEmitter$3.prototype._events=void 0;EventEmitter$3.prototype._eventsCount=0;EventEmitter$3.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(et){if(typeof et!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof et)}Object.defineProperty(EventEmitter$3,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(et){if(typeof et!="number"||et<0||NumberIsNaN(et))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+et+".");defaultMaxListeners=et}});EventEmitter$3.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$3.prototype.setMaxListeners=function et(_e){if(typeof _e!="number"||_e<0||NumberIsNaN(_e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_e+".");return this._maxListeners=_e,this};function _getMaxListeners(et){return et._maxListeners===void 0?EventEmitter$3.defaultMaxListeners:et._maxListeners}EventEmitter$3.prototype.getMaxListeners=function et(){return _getMaxListeners(this)};EventEmitter$3.prototype.emit=function et(_e){for(var tt=[],rt=1;rt<arguments.length;rt++)tt.push(arguments[rt]);var nt=_e==="error",it=this._events;if(it!==void 0)nt=nt&&it.error===void 0;else if(!nt)return!1;if(nt){var at;if(tt.length>0&&(at=tt[0]),at instanceof Error)throw at;var st=new Error("Unhandled error."+(at?" ("+at.message+")":""));throw st.context=at,st}var ot=it[_e];if(ot===void 0)return!1;if(typeof ot=="function")ReflectApply$1(ot,this,tt);else for(var ct=ot.length,lt=arrayClone$2(ot,ct),rt=0;rt<ct;++rt)ReflectApply$1(lt[rt],this,tt);return!0};function _addListener(et,_e,tt,rt){var nt,it,at;if(checkListener(tt),it=et._events,it===void 0?(it=et._events=Object.create(null),et._eventsCount=0):(it.newListener!==void 0&&(et.emit("newListener",_e,tt.listener?tt.listener:tt),it=et._events),at=it[_e]),at===void 0)at=it[_e]=tt,++et._eventsCount;else if(typeof at=="function"?at=it[_e]=rt?[tt,at]:[at,tt]:rt?at.unshift(tt):at.push(tt),nt=_getMaxListeners(et),nt>0&&at.length>nt&&!at.warned){at.warned=!0;var st=new Error("Possible EventEmitter memory leak detected. "+at.length+" "+String(_e)+" listeners added. Use emitter.setMaxListeners() to increase limit");st.name="MaxListenersExceededWarning",st.emitter=et,st.type=_e,st.count=at.length,ProcessEmitWarning(st)}return et}EventEmitter$3.prototype.addListener=function et(_e,tt){return _addListener(this,_e,tt,!1)};EventEmitter$3.prototype.on=EventEmitter$3.prototype.addListener;EventEmitter$3.prototype.prependListener=function et(_e,tt){return _addListener(this,_e,tt,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(et,_e,tt){var rt={fired:!1,wrapFn:void 0,target:et,type:_e,listener:tt},nt=onceWrapper.bind(rt);return nt.listener=tt,rt.wrapFn=nt,nt}EventEmitter$3.prototype.once=function et(_e,tt){return checkListener(tt),this.on(_e,_onceWrap(this,_e,tt)),this};EventEmitter$3.prototype.prependOnceListener=function et(_e,tt){return checkListener(tt),this.prependListener(_e,_onceWrap(this,_e,tt)),this};EventEmitter$3.prototype.removeListener=function et(_e,tt){var rt,nt,it,at,st;if(checkListener(tt),nt=this._events,nt===void 0)return this;if(rt=nt[_e],rt===void 0)return this;if(rt===tt||rt.listener===tt)--this._eventsCount===0?this._events=Object.create(null):(delete nt[_e],nt.removeListener&&this.emit("removeListener",_e,rt.listener||tt));else if(typeof rt!="function"){for(it=-1,at=rt.length-1;at>=0;at--)if(rt[at]===tt||rt[at].listener===tt){st=rt[at].listener,it=at;break}if(it<0)return this;it===0?rt.shift():spliceOne(rt,it),rt.length===1&&(nt[_e]=rt[0]),nt.removeListener!==void 0&&this.emit("removeListener",_e,st||tt)}return this};EventEmitter$3.prototype.off=EventEmitter$3.prototype.removeListener;EventEmitter$3.prototype.removeAllListeners=function et(_e){var tt,rt,nt;if(rt=this._events,rt===void 0)return this;if(rt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):rt[_e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete rt[_e]),this;if(arguments.length===0){var it=Object.keys(rt),at;for(nt=0;nt<it.length;++nt)at=it[nt],at!=="removeListener"&&this.removeAllListeners(at);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(tt=rt[_e],typeof tt=="function")this.removeListener(_e,tt);else if(tt!==void 0)for(nt=tt.length-1;nt>=0;nt--)this.removeListener(_e,tt[nt]);return this};function _listeners(et,_e,tt){var rt=et._events;if(rt===void 0)return[];var nt=rt[_e];return nt===void 0?[]:typeof nt=="function"?tt?[nt.listener||nt]:[nt]:tt?unwrapListeners(nt):arrayClone$2(nt,nt.length)}EventEmitter$3.prototype.listeners=function et(_e){return _listeners(this,_e,!0)};EventEmitter$3.prototype.rawListeners=function et(_e){return _listeners(this,_e,!1)};EventEmitter$3.listenerCount=function(et,_e){return typeof et.listenerCount=="function"?et.listenerCount(_e):listenerCount.call(et,_e)};EventEmitter$3.prototype.listenerCount=listenerCount;function listenerCount(et){var _e=this._events;if(_e!==void 0){var tt=_e[et];if(typeof tt=="function")return 1;if(tt!==void 0)return tt.length}return 0}EventEmitter$3.prototype.eventNames=function et(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone$2(et,_e){for(var tt=new Array(_e),rt=0;rt<_e;++rt)tt[rt]=et[rt];return tt}function spliceOne(et,_e){for(;_e+1<et.length;_e++)et[_e]=et[_e+1];et.pop()}function unwrapListeners(et){for(var _e=new Array(et.length),tt=0;tt<_e.length;++tt)_e[tt]=et[tt].listener||et[tt];return _e}function once$2(et,_e){return new Promise(function(tt,rt){function nt(at){et.removeListener(_e,it),rt(at)}function it(){typeof et.removeListener=="function"&&et.removeListener("error",nt),tt([].slice.call(arguments))}eventTargetAgnosticAddListener(et,_e,it,{once:!0}),_e!=="error"&&addErrorHandlerIfEventEmitter(et,nt,{once:!0})})}function addErrorHandlerIfEventEmitter(et,_e,tt){typeof et.on=="function"&&eventTargetAgnosticAddListener(et,"error",_e,tt)}function eventTargetAgnosticAddListener(et,_e,tt,rt){if(typeof et.on=="function")rt.once?et.once(_e,tt):et.on(_e,tt);else if(typeof et.addEventListener=="function")et.addEventListener(_e,function nt(it){rt.once&&et.removeEventListener(_e,nt),tt(it)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof et)}Object.defineProperty(safeEventEmitter$1,"__esModule",{value:!0});const events_1=events.exports;function safeApply$1(et,_e,tt){try{Reflect.apply(et,_e,tt)}catch(rt){setTimeout(()=>{throw rt})}}function arrayClone$1(et){const _e=et.length,tt=new Array(_e);for(let rt=0;rt<_e;rt+=1)tt[rt]=et[rt];return tt}class SafeEventEmitter$4 extends events_1.EventEmitter{emit(_e,...tt){let rt=_e==="error";const nt=this._events;if(nt!==void 0)rt=rt&&nt.error===void 0;else if(!rt)return!1;if(rt){let at;if(tt.length>0&&([at]=tt),at instanceof Error)throw at;const st=new Error(`Unhandled error.${at?` (${at.message})`:""}`);throw st.context=at,st}const it=nt[_e];if(it===void 0)return!1;if(typeof it=="function")safeApply$1(it,this,tt);else{const at=it.length,st=arrayClone$1(it);for(let ot=0;ot<at;ot+=1)safeApply$1(st[ot],this,tt)}return!0}}safeEventEmitter$1.default=SafeEventEmitter$4;var dist$1={},classes={},fastSafeStringify=stringify$3;stringify$3.default=stringify$3;stringify$3.stable=deterministicStringify;stringify$3.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$3(et,_e,tt,rt){typeof rt>"u"&&(rt=defaultOptions()),decirc(et,"",0,[],void 0,0,rt);var nt;try{replacerStack.length===0?nt=JSON.stringify(et,_e,tt):nt=JSON.stringify(et,replaceGetterValues(_e),tt)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var it=arr.pop();it.length===4?Object.defineProperty(it[0],it[1],it[3]):it[0][it[1]]=it[2]}}return nt}function setReplace(et,_e,tt,rt){var nt=Object.getOwnPropertyDescriptor(rt,tt);nt.get!==void 0?nt.configurable?(Object.defineProperty(rt,tt,{value:et}),arr.push([rt,tt,_e,nt])):replacerStack.push([_e,tt,et]):(rt[tt]=et,arr.push([rt,tt,_e]))}function decirc(et,_e,tt,rt,nt,it,at){it+=1;var st;if(typeof et=="object"&&et!==null){for(st=0;st<rt.length;st++)if(rt[st]===et){setReplace(CIRCULAR_REPLACE_NODE,et,_e,nt);return}if(typeof at.depthLimit<"u"&&it>at.depthLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(typeof at.edgesLimit<"u"&&tt+1>at.edgesLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(rt.push(et),Array.isArray(et))for(st=0;st<et.length;st++)decirc(et[st],st,st,rt,et,it,at);else{var ot=Object.keys(et);for(st=0;st<ot.length;st++){var ct=ot[st];decirc(et[ct],ct,st,rt,et,it,at)}}rt.pop()}}function compareFunction(et,_e){return et<_e?-1:et>_e?1:0}function deterministicStringify(et,_e,tt,rt){typeof rt>"u"&&(rt=defaultOptions());var nt=deterministicDecirc(et,"",0,[],void 0,0,rt)||et,it;try{replacerStack.length===0?it=JSON.stringify(nt,_e,tt):it=JSON.stringify(nt,replaceGetterValues(_e),tt)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var at=arr.pop();at.length===4?Object.defineProperty(at[0],at[1],at[3]):at[0][at[1]]=at[2]}}return it}function deterministicDecirc(et,_e,tt,rt,nt,it,at){it+=1;var st;if(typeof et=="object"&&et!==null){for(st=0;st<rt.length;st++)if(rt[st]===et){setReplace(CIRCULAR_REPLACE_NODE,et,_e,nt);return}try{if(typeof et.toJSON=="function")return}catch{return}if(typeof at.depthLimit<"u"&&it>at.depthLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(typeof at.edgesLimit<"u"&&tt+1>at.edgesLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(rt.push(et),Array.isArray(et))for(st=0;st<et.length;st++)deterministicDecirc(et[st],st,st,rt,et,it,at);else{var ot={},ct=Object.keys(et).sort(compareFunction);for(st=0;st<ct.length;st++){var lt=ct[st];deterministicDecirc(et[lt],lt,st,rt,et,it,at),ot[lt]=et[lt]}if(typeof nt<"u")arr.push([nt,_e,et]),nt[_e]=ot;else return ot}rt.pop()}}function replaceGetterValues(et){return et=typeof et<"u"?et:function(_e,tt){return tt},function(_e,tt){if(replacerStack.length>0)for(var rt=0;rt<replacerStack.length;rt++){var nt=replacerStack[rt];if(nt[1]===_e&&nt[0]===tt){tt=nt[2],replacerStack.splice(rt,1);break}}return et.call(this,_e,tt)}}Object.defineProperty(classes,"__esModule",{value:!0});classes.EthereumProviderError=classes.EthereumRpcError=void 0;const fast_safe_stringify_1=fastSafeStringify;class EthereumRpcError extends Error{constructor(_e,tt,rt){if(!Number.isInteger(_e))throw new Error('"code" must be an integer.');if(!tt||typeof tt!="string")throw new Error('"message" must be a nonempty string.');super(tt),this.code=_e,rt!==void 0&&(this.data=rt)}serialize(){const _e={code:this.code,message:this.message};return this.data!==void 0&&(_e.data=this.data),this.stack&&(_e.stack=this.stack),_e}toString(){return fast_safe_stringify_1.default(this.serialize(),stringifyReplacer,2)}}classes.EthereumRpcError=EthereumRpcError;class EthereumProviderError extends EthereumRpcError{constructor(_e,tt,rt){if(!isValidEthProviderCode(_e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(_e,tt,rt)}}classes.EthereumProviderError=EthereumProviderError;function isValidEthProviderCode(et){return Number.isInteger(et)&&et>=1e3&&et<=4999}function stringifyReplacer(et,_e){if(_e!=="[Circular]")return _e}var utils$5={},errorConstants={};Object.defineProperty(errorConstants,"__esModule",{value:!0});errorConstants.errorValues=errorConstants.errorCodes=void 0;errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.serializeError=et.isValidCode=et.getMessageFromCode=et.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const _e=errorConstants,tt=classes,rt=_e.errorCodes.rpc.internal,nt="Unspecified error message. This is a bug, please report it.",it={code:rt,message:at(rt)};et.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function at(dt,mt=nt){if(Number.isInteger(dt)){const gt=dt.toString();if(ut(_e.errorValues,gt))return _e.errorValues[gt].message;if(ct(dt))return et.JSON_RPC_SERVER_ERROR_MESSAGE}return mt}et.getMessageFromCode=at;function st(dt){if(!Number.isInteger(dt))return!1;const mt=dt.toString();return!!(_e.errorValues[mt]||ct(dt))}et.isValidCode=st;function ot(dt,{fallbackError:mt=it,shouldIncludeStack:gt=!1}={}){var bt,ht;if(!mt||!Number.isInteger(mt.code)||typeof mt.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(dt instanceof tt.EthereumRpcError)return dt.serialize();const yt={};if(dt&&typeof dt=="object"&&!Array.isArray(dt)&&ut(dt,"code")&&st(dt.code)){const xt=dt;yt.code=xt.code,xt.message&&typeof xt.message=="string"?(yt.message=xt.message,ut(xt,"data")&&(yt.data=xt.data)):(yt.message=at(yt.code),yt.data={originalError:lt(dt)})}else{yt.code=mt.code;const xt=(bt=dt)===null||bt===void 0?void 0:bt.message;yt.message=xt&&typeof xt=="string"?xt:mt.message,yt.data={originalError:lt(dt)}}const wt=(ht=dt)===null||ht===void 0?void 0:ht.stack;return gt&&dt&&wt&&typeof wt=="string"&&(yt.stack=wt),yt}et.serializeError=ot;function ct(dt){return dt>=-32099&&dt<=-32e3}function lt(dt){return dt&&typeof dt=="object"&&!Array.isArray(dt)?Object.assign({},dt):dt}function ut(dt,mt){return Object.prototype.hasOwnProperty.call(dt,mt)}})(utils$5);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.ethErrors=void 0;const classes_1=classes,utils_1=utils$5,error_constants_1=errorConstants;errors.ethErrors={rpc:{parse:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse,et),invalidRequest:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest,et),invalidParams:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams,et),methodNotFound:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound,et),internal:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal,et),server:et=>{if(!et||typeof et!="object"||Array.isArray(et))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:_e}=et;if(!Number.isInteger(_e)||_e>-32005||_e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(_e,et)},invalidInput:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput,et),resourceNotFound:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound,et),resourceUnavailable:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable,et),transactionRejected:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected,et),methodNotSupported:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported,et),limitExceeded:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded,et)},provider:{userRejectedRequest:et=>getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest,et),unauthorized:et=>getEthProviderError(error_constants_1.errorCodes.provider.unauthorized,et),unsupportedMethod:et=>getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod,et),disconnected:et=>getEthProviderError(error_constants_1.errorCodes.provider.disconnected,et),chainDisconnected:et=>getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected,et),custom:et=>{if(!et||typeof et!="object"||Array.isArray(et))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:_e,message:tt,data:rt}=et;if(!tt||typeof tt!="string")throw new Error('"message" must be a nonempty string');return new classes_1.EthereumProviderError(_e,tt,rt)}}};function getEthJsonRpcError(et,_e){const[tt,rt]=parseOpts(_e);return new classes_1.EthereumRpcError(et,tt||utils_1.getMessageFromCode(et),rt)}function getEthProviderError(et,_e){const[tt,rt]=parseOpts(_e);return new classes_1.EthereumProviderError(et,tt||utils_1.getMessageFromCode(et),rt)}function parseOpts(et){if(et){if(typeof et=="string")return[et];if(typeof et=="object"&&!Array.isArray(et)){const{message:_e,data:tt}=et;if(_e&&typeof _e!="string")throw new Error("Must specify string message.");return[_e||void 0,tt]}}return[]}(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.getMessageFromCode=et.serializeError=et.EthereumProviderError=et.EthereumRpcError=et.ethErrors=et.errorCodes=void 0;const _e=classes;Object.defineProperty(et,"EthereumRpcError",{enumerable:!0,get:function(){return _e.EthereumRpcError}}),Object.defineProperty(et,"EthereumProviderError",{enumerable:!0,get:function(){return _e.EthereumProviderError}});const tt=utils$5;Object.defineProperty(et,"serializeError",{enumerable:!0,get:function(){return tt.serializeError}}),Object.defineProperty(et,"getMessageFromCode",{enumerable:!0,get:function(){return tt.getMessageFromCode}});const rt=errors;Object.defineProperty(et,"ethErrors",{enumerable:!0,get:function(){return rt.ethErrors}});const nt=errorConstants;Object.defineProperty(et,"errorCodes",{enumerable:!0,get:function(){return nt.errorCodes}})})(dist$1);var DiagnosticLogger={};Object.defineProperty(DiagnosticLogger,"__esModule",{value:!0});DiagnosticLogger.EVENTS=void 0;DiagnosticLogger.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Session$1={},sha_js={exports:{}},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(et,_e){var tt=buffer$2,rt=tt.Buffer;function nt(at,st){for(var ot in at)st[ot]=at[ot]}rt.from&&rt.alloc&&rt.allocUnsafe&&rt.allocUnsafeSlow?et.exports=tt:(nt(tt,_e),_e.Buffer=it);function it(at,st,ot){return rt(at,st,ot)}it.prototype=Object.create(rt.prototype),nt(rt,it),it.from=function(at,st,ot){if(typeof at=="number")throw new TypeError("Argument must not be a number");return rt(at,st,ot)},it.alloc=function(at,st,ot){if(typeof at!="number")throw new TypeError("Argument must be a number");var ct=rt(at);return st!==void 0?typeof ot=="string"?ct.fill(st,ot):ct.fill(st):ct.fill(0),ct},it.allocUnsafe=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return rt(at)},it.allocUnsafeSlow=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(at)}})(safeBuffer,safeBuffer.exports);var Buffer$9=safeBuffer.exports.Buffer;function Hash$6(et,_e){this._block=Buffer$9.alloc(et),this._finalSize=_e,this._blockSize=et,this._len=0}Hash$6.prototype.update=function(et,_e){typeof et=="string"&&(_e=_e||"utf8",et=Buffer$9.from(et,_e));for(var tt=this._block,rt=this._blockSize,nt=et.length,it=this._len,at=0;at<nt;){for(var st=it%rt,ot=Math.min(nt-at,rt-st),ct=0;ct<ot;ct++)tt[st+ct]=et[at+ct];it+=ot,at+=ot,it%rt===0&&this._update(tt)}return this._len+=nt,this};Hash$6.prototype.digest=function(et){var _e=this._len%this._blockSize;this._block[_e]=128,this._block.fill(0,_e+1),_e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var tt=this._len*8;if(tt<=4294967295)this._block.writeUInt32BE(tt,this._blockSize-4);else{var rt=(tt&4294967295)>>>0,nt=(tt-rt)/4294967296;this._block.writeUInt32BE(nt,this._blockSize-8),this._block.writeUInt32BE(rt,this._blockSize-4)}this._update(this._block);var it=this._hash();return et?it.toString(et):it};Hash$6.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$1=Hash$6,inherits$5=inherits_browser$1.exports,Hash$5=hash$1,Buffer$8=safeBuffer.exports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$6=new Array(80);function Sha(){this.init(),this._w=W$6,Hash$5.call(this,64,56)}inherits$5(Sha,Hash$5);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(et){return et<<5|et>>>27}function rotl30$1(et){return et<<30|et>>>2}function ft$1(et,_e,tt,rt){return et===0?_e&tt|~_e&rt:et===2?_e&tt|_e&rt|tt&rt:_e^tt^rt}Sha.prototype._update=function(et){for(var _e=this._w,tt=this._a|0,rt=this._b|0,nt=this._c|0,it=this._d|0,at=this._e|0,st=0;st<16;++st)_e[st]=et.readInt32BE(st*4);for(;st<80;++st)_e[st]=_e[st-3]^_e[st-8]^_e[st-14]^_e[st-16];for(var ot=0;ot<80;++ot){var ct=~~(ot/20),lt=rotl5$1(tt)+ft$1(ct,rt,nt,it)+at+_e[ot]+K$4[ct]|0;at=it,it=nt,nt=rotl30$1(rt),rt=tt,tt=lt}this._a=tt+this._a|0,this._b=rt+this._b|0,this._c=nt+this._c|0,this._d=it+this._d|0,this._e=at+this._e|0};Sha.prototype._hash=function(){var et=Buffer$8.allocUnsafe(20);return et.writeInt32BE(this._a|0,0),et.writeInt32BE(this._b|0,4),et.writeInt32BE(this._c|0,8),et.writeInt32BE(this._d|0,12),et.writeInt32BE(this._e|0,16),et};var sha=Sha,inherits$4=inherits_browser$1.exports,Hash$4=hash$1,Buffer$7=safeBuffer.exports.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha1(){this.init(),this._w=W$5,Hash$4.call(this,64,56)}inherits$4(Sha1,Hash$4);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(et){return et<<1|et>>>31}function rotl5(et){return et<<5|et>>>27}function rotl30(et){return et<<30|et>>>2}function ft(et,_e,tt,rt){return et===0?_e&tt|~_e&rt:et===2?_e&tt|_e&rt|tt&rt:_e^tt^rt}Sha1.prototype._update=function(et){for(var _e=this._w,tt=this._a|0,rt=this._b|0,nt=this._c|0,it=this._d|0,at=this._e|0,st=0;st<16;++st)_e[st]=et.readInt32BE(st*4);for(;st<80;++st)_e[st]=rotl1(_e[st-3]^_e[st-8]^_e[st-14]^_e[st-16]);for(var ot=0;ot<80;++ot){var ct=~~(ot/20),lt=rotl5(tt)+ft(ct,rt,nt,it)+at+_e[ot]+K$3[ct]|0;at=it,it=nt,nt=rotl30(rt),rt=tt,tt=lt}this._a=tt+this._a|0,this._b=rt+this._b|0,this._c=nt+this._c|0,this._d=it+this._d|0,this._e=at+this._e|0};Sha1.prototype._hash=function(){var et=Buffer$7.allocUnsafe(20);return et.writeInt32BE(this._a|0,0),et.writeInt32BE(this._b|0,4),et.writeInt32BE(this._c|0,8),et.writeInt32BE(this._d|0,12),et.writeInt32BE(this._e|0,16),et};var sha1=Sha1,inherits$3=inherits_browser$1.exports,Hash$3=hash$1,Buffer$6=safeBuffer.exports.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$4=new Array(64);function Sha256$1(){this.init(),this._w=W$4,Hash$3.call(this,64,56)}inherits$3(Sha256$1,Hash$3);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(et,_e,tt){return tt^et&(_e^tt)}function maj$1(et,_e,tt){return et&_e|tt&(et|_e)}function sigma0$1(et){return(et>>>2|et<<30)^(et>>>13|et<<19)^(et>>>22|et<<10)}function sigma1$1(et){return(et>>>6|et<<26)^(et>>>11|et<<21)^(et>>>25|et<<7)}function gamma0(et){return(et>>>7|et<<25)^(et>>>18|et<<14)^et>>>3}function gamma1(et){return(et>>>17|et<<15)^(et>>>19|et<<13)^et>>>10}Sha256$1.prototype._update=function(et){for(var _e=this._w,tt=this._a|0,rt=this._b|0,nt=this._c|0,it=this._d|0,at=this._e|0,st=this._f|0,ot=this._g|0,ct=this._h|0,lt=0;lt<16;++lt)_e[lt]=et.readInt32BE(lt*4);for(;lt<64;++lt)_e[lt]=gamma1(_e[lt-2])+_e[lt-7]+gamma0(_e[lt-15])+_e[lt-16]|0;for(var ut=0;ut<64;++ut){var dt=ct+sigma1$1(at)+ch(at,st,ot)+K$2[ut]+_e[ut]|0,mt=sigma0$1(tt)+maj$1(tt,rt,nt)|0;ct=ot,ot=st,st=at,at=it+dt|0,it=nt,nt=rt,rt=tt,tt=dt+mt|0}this._a=tt+this._a|0,this._b=rt+this._b|0,this._c=nt+this._c|0,this._d=it+this._d|0,this._e=at+this._e|0,this._f=st+this._f|0,this._g=ot+this._g|0,this._h=ct+this._h|0};Sha256$1.prototype._hash=function(){var et=Buffer$6.allocUnsafe(32);return et.writeInt32BE(this._a,0),et.writeInt32BE(this._b,4),et.writeInt32BE(this._c,8),et.writeInt32BE(this._d,12),et.writeInt32BE(this._e,16),et.writeInt32BE(this._f,20),et.writeInt32BE(this._g,24),et.writeInt32BE(this._h,28),et};var sha256=Sha256$1,inherits$2=inherits_browser$1.exports,Sha256=sha256,Hash$2=hash$1,Buffer$5=safeBuffer.exports.Buffer,W$3=new Array(64);function Sha224(){this.init(),this._w=W$3,Hash$2.call(this,64,56)}inherits$2(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var et=Buffer$5.allocUnsafe(28);return et.writeInt32BE(this._a,0),et.writeInt32BE(this._b,4),et.writeInt32BE(this._c,8),et.writeInt32BE(this._d,12),et.writeInt32BE(this._e,16),et.writeInt32BE(this._f,20),et.writeInt32BE(this._g,24),et};var sha224=Sha224,inherits$1=inherits_browser$1.exports,Hash$1=hash$1,Buffer$4=safeBuffer.exports.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$2=new Array(160);function Sha512(){this.init(),this._w=W$2,Hash$1.call(this,128,112)}inherits$1(Sha512,Hash$1);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(et,_e,tt){return tt^et&(_e^tt)}function maj(et,_e,tt){return et&_e|tt&(et|_e)}function sigma0(et,_e){return(et>>>28|_e<<4)^(_e>>>2|et<<30)^(_e>>>7|et<<25)}function sigma1(et,_e){return(et>>>14|_e<<18)^(et>>>18|_e<<14)^(_e>>>9|et<<23)}function Gamma0(et,_e){return(et>>>1|_e<<31)^(et>>>8|_e<<24)^et>>>7}function Gamma0l(et,_e){return(et>>>1|_e<<31)^(et>>>8|_e<<24)^(et>>>7|_e<<25)}function Gamma1(et,_e){return(et>>>19|_e<<13)^(_e>>>29|et<<3)^et>>>6}function Gamma1l(et,_e){return(et>>>19|_e<<13)^(_e>>>29|et<<3)^(et>>>6|_e<<26)}function getCarry(et,_e){return et>>>0<_e>>>0?1:0}Sha512.prototype._update=function(et){for(var _e=this._w,tt=this._ah|0,rt=this._bh|0,nt=this._ch|0,it=this._dh|0,at=this._eh|0,st=this._fh|0,ot=this._gh|0,ct=this._hh|0,lt=this._al|0,ut=this._bl|0,dt=this._cl|0,mt=this._dl|0,gt=this._el|0,bt=this._fl|0,ht=this._gl|0,yt=this._hl|0,wt=0;wt<32;wt+=2)_e[wt]=et.readInt32BE(wt*4),_e[wt+1]=et.readInt32BE(wt*4+4);for(;wt<160;wt+=2){var xt=_e[wt-30],At=_e[wt-15*2+1],kt=Gamma0(xt,At),Ot=Gamma0l(At,xt);xt=_e[wt-2*2],At=_e[wt-2*2+1];var Wt=Gamma1(xt,At),Ht=Gamma1l(At,xt),Zt=_e[wt-7*2],Lt=_e[wt-7*2+1],Et=_e[wt-16*2],It=_e[wt-16*2+1],Ct=Ot+Lt|0,vt=kt+Zt+getCarry(Ct,Ot)|0;Ct=Ct+Ht|0,vt=vt+Wt+getCarry(Ct,Ht)|0,Ct=Ct+It|0,vt=vt+Et+getCarry(Ct,It)|0,_e[wt]=vt,_e[wt+1]=Ct}for(var Tt=0;Tt<160;Tt+=2){vt=_e[Tt],Ct=_e[Tt+1];var Mt=maj(tt,rt,nt),Nt=maj(lt,ut,dt),$t=sigma0(tt,lt),St=sigma0(lt,tt),Dt=sigma1(at,gt),Rt=sigma1(gt,at),_t=K$1[Tt],Pt=K$1[Tt+1],Vt=Ch(at,st,ot),Bt=Ch(gt,bt,ht),qt=yt+Rt|0,Yt=ct+Dt+getCarry(qt,yt)|0;qt=qt+Bt|0,Yt=Yt+Vt+getCarry(qt,Bt)|0,qt=qt+Pt|0,Yt=Yt+_t+getCarry(qt,Pt)|0,qt=qt+Ct|0,Yt=Yt+vt+getCarry(qt,Ct)|0;var Xt=St+Nt|0,rr=$t+Mt+getCarry(Xt,St)|0;ct=ot,yt=ht,ot=st,ht=bt,st=at,bt=gt,gt=mt+qt|0,at=it+Yt+getCarry(gt,mt)|0,it=nt,mt=dt,nt=rt,dt=ut,rt=tt,ut=lt,lt=qt+Xt|0,tt=Yt+rr+getCarry(lt,qt)|0}this._al=this._al+lt|0,this._bl=this._bl+ut|0,this._cl=this._cl+dt|0,this._dl=this._dl+mt|0,this._el=this._el+gt|0,this._fl=this._fl+bt|0,this._gl=this._gl+ht|0,this._hl=this._hl+yt|0,this._ah=this._ah+tt+getCarry(this._al,lt)|0,this._bh=this._bh+rt+getCarry(this._bl,ut)|0,this._ch=this._ch+nt+getCarry(this._cl,dt)|0,this._dh=this._dh+it+getCarry(this._dl,mt)|0,this._eh=this._eh+at+getCarry(this._el,gt)|0,this._fh=this._fh+st+getCarry(this._fl,bt)|0,this._gh=this._gh+ot+getCarry(this._gl,ht)|0,this._hh=this._hh+ct+getCarry(this._hl,yt)|0};Sha512.prototype._hash=function(){var et=Buffer$4.allocUnsafe(64);function _e(tt,rt,nt){et.writeInt32BE(tt,nt),et.writeInt32BE(rt,nt+4)}return _e(this._ah,this._al,0),_e(this._bh,this._bl,8),_e(this._ch,this._cl,16),_e(this._dh,this._dl,24),_e(this._eh,this._el,32),_e(this._fh,this._fl,40),_e(this._gh,this._gl,48),_e(this._hh,this._hl,56),et};var sha512=Sha512,inherits=inherits_browser$1.exports,SHA512=sha512,Hash=hash$1,Buffer$3=safeBuffer.exports.Buffer,W$1=new Array(160);function Sha384(){this.init(),this._w=W$1,Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var et=Buffer$3.allocUnsafe(48);function _e(tt,rt,nt){et.writeInt32BE(tt,nt),et.writeInt32BE(rt,nt+4)}return _e(this._ah,this._al,0),_e(this._bh,this._bl,8),_e(this._ch,this._cl,16),_e(this._dh,this._dl,24),_e(this._eh,this._el,32),_e(this._fh,this._fl,40),et};var sha384=Sha384,exports=sha_js.exports=function et(_e){_e=_e.toLowerCase();var tt=exports[_e];if(!tt)throw new Error(_e+" is not supported (we accept pull requests)");return new tt};exports.sha=sha;exports.sha1=sha1;exports.sha224=sha224;exports.sha256=sha256;exports.sha384=sha384;exports.sha512=sha512;var util$5={},shams$1=function et(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _e={},tt=Symbol("test"),rt=Object(tt);if(typeof tt=="string"||Object.prototype.toString.call(tt)!=="[object Symbol]"||Object.prototype.toString.call(rt)!=="[object Symbol]")return!1;var nt=42;_e[tt]=nt;for(tt in _e)return!1;if(typeof Object.keys=="function"&&Object.keys(_e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_e).length!==0)return!1;var it=Object.getOwnPropertySymbols(_e);if(it.length!==1||it[0]!==tt||!Object.prototype.propertyIsEnumerable.call(_e,tt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var at=Object.getOwnPropertyDescriptor(_e,tt);if(at.value!==nt||at.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$2=function et(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$2=Array.prototype.slice,toStr$4=Object.prototype.toString,funcType="[object Function]",implementation$1=function et(_e){var tt=this;if(typeof tt!="function"||toStr$4.call(tt)!==funcType)throw new TypeError(ERROR_MESSAGE+tt);for(var rt=slice$2.call(arguments,1),nt,it=function(){if(this instanceof nt){var lt=tt.apply(this,rt.concat(slice$2.call(arguments)));return Object(lt)===lt?lt:this}else return tt.apply(_e,rt.concat(slice$2.call(arguments)))},at=Math.max(0,tt.length-rt.length),st=[],ot=0;ot<at;ot++)st.push("$"+ot);if(nt=Function("binder","return function ("+st.join(",")+"){ return binder.apply(this,arguments); }")(it),tt.prototype){var ct=function(){};ct.prototype=tt.prototype,nt.prototype=new ct,ct.prototype=null}return nt},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$2=functionBind,src=bind$2.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(et){try{return $Function('"use strict"; return ('+et+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols$2(),getProto$1=Object.getPrototypeOf||function(et){return et.__proto__},needsEval={},TypedArray=typeof Uint8Array>"u"?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};try{null.error}catch(et){var errorProto=getProto$1(getProto$1(et));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function et(_e){var tt;if(_e==="%AsyncFunction%")tt=getEvalledConstructor("async function () {}");else if(_e==="%GeneratorFunction%")tt=getEvalledConstructor("function* () {}");else if(_e==="%AsyncGeneratorFunction%")tt=getEvalledConstructor("async function* () {}");else if(_e==="%AsyncGenerator%"){var rt=et("%AsyncGeneratorFunction%");rt&&(tt=rt.prototype)}else if(_e==="%AsyncIteratorPrototype%"){var nt=et("%AsyncGenerator%");nt&&(tt=getProto$1(nt.prototype))}return INTRINSICS[_e]=tt,tt},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$1=src,$concat$1=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace$1=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),$exec=bind$1.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function et(_e){var tt=$strSlice(_e,0,1),rt=$strSlice(_e,-1);if(tt==="%"&&rt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(rt==="%"&&tt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var nt=[];return $replace$1(_e,rePropName,function(it,at,st,ot){nt[nt.length]=st?$replace$1(ot,reEscapeChar,"$1"):at||it}),nt},getBaseIntrinsic=function et(_e,tt){var rt=_e,nt;if(hasOwn$1(LEGACY_ALIASES,rt)&&(nt=LEGACY_ALIASES[rt],rt="%"+nt[0]+"%"),hasOwn$1(INTRINSICS,rt)){var it=INTRINSICS[rt];if(it===needsEval&&(it=doEval(rt)),typeof it>"u"&&!tt)throw new $TypeError$1("intrinsic "+_e+" exists, but is not available. Please file an issue!");return{alias:nt,name:rt,value:it}}throw new $SyntaxError("intrinsic "+_e+" does not exist!")},getIntrinsic=function et(_e,tt){if(typeof _e!="string"||_e.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof tt!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,_e)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var rt=stringToPath(_e),nt=rt.length>0?rt[0]:"",it=getBaseIntrinsic("%"+nt+"%",tt),at=it.name,st=it.value,ot=!1,ct=it.alias;ct&&(nt=ct[0],$spliceApply(rt,$concat$1([0,1],ct)));for(var lt=1,ut=!0;lt<rt.length;lt+=1){var dt=rt[lt],mt=$strSlice(dt,0,1),gt=$strSlice(dt,-1);if((mt==='"'||mt==="'"||mt==="`"||gt==='"'||gt==="'"||gt==="`")&&mt!==gt)throw new $SyntaxError("property names with quotes must have matching quotes");if((dt==="constructor"||!ut)&&(ot=!0),nt+="."+dt,at="%"+nt+"%",hasOwn$1(INTRINSICS,at))st=INTRINSICS[at];else if(st!=null){if(!(dt in st)){if(!tt)throw new $TypeError$1("base intrinsic for "+_e+" exists, but the property is not available.");return}if($gOPD$1&&lt+1>=rt.length){var bt=$gOPD$1(st,dt);ut=!!bt,ut&&"get"in bt&&!("originalValue"in bt.get)?st=bt.get:st=st[dt]}else ut=hasOwn$1(st,dt),st=st[dt];ut&&!ot&&(INTRINSICS[at]=st)}}return st},callBind$1={exports:{}};(function(et){var _e=functionBind,tt=getIntrinsic,rt=tt("%Function.prototype.apply%"),nt=tt("%Function.prototype.call%"),it=tt("%Reflect.apply%",!0)||_e.call(nt,rt),at=tt("%Object.getOwnPropertyDescriptor%",!0),st=tt("%Object.defineProperty%",!0),ot=tt("%Math.max%");if(st)try{st({},"a",{value:1})}catch{st=null}et.exports=function(ut){var dt=it(_e,nt,arguments);if(at&&st){var mt=at(dt,"length");mt.configurable&&st(dt,"length",{value:1+ot(0,ut.length-(arguments.length-1))})}return dt};var ct=function(){return it(_e,rt,arguments)};st?st(et.exports,"apply",{value:ct}):et.exports.apply=ct})(callBind$1);var GetIntrinsic$2=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$2("String.prototype.indexOf")),callBound$4=function et(_e,tt){var rt=GetIntrinsic$2(_e,!!tt);return typeof rt=="function"&&$indexOf$1(_e,".prototype.")>-1?callBind(rt):rt},hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice$2=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(et){return et.__proto__}:null);function addNumericSeparator(et,_e){if(et===1/0||et===-1/0||et!==et||et&&et>-1e3&&et<1e3||$test.call(/e/,_e))return _e;var tt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof et=="number"){var rt=et<0?-$floor(-et):$floor(et);if(rt!==et){var nt=String(rt),it=$slice$2.call(_e,nt.length+1);return $replace.call(nt,tt,"$&_")+"."+$replace.call($replace.call(it,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(_e,tt,"$&_")}var utilInspect=require$$0$5,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function et(_e,tt,rt,nt){var it=tt||{};if(has$3(it,"quoteStyle")&&it.quoteStyle!=="single"&&it.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(it,"maxStringLength")&&(typeof it.maxStringLength=="number"?it.maxStringLength<0&&it.maxStringLength!==1/0:it.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var at=has$3(it,"customInspect")?it.customInspect:!0;if(typeof at!="boolean"&&at!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(it,"indent")&&it.indent!==null&&it.indent!=="	"&&!(parseInt(it.indent,10)===it.indent&&it.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(it,"numericSeparator")&&typeof it.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var st=it.numericSeparator;if(typeof _e>"u")return"undefined";if(_e===null)return"null";if(typeof _e=="boolean")return _e?"true":"false";if(typeof _e=="string")return inspectString(_e,it);if(typeof _e=="number"){if(_e===0)return 1/0/_e>0?"0":"-0";var ot=String(_e);return st?addNumericSeparator(_e,ot):ot}if(typeof _e=="bigint"){var ct=String(_e)+"n";return st?addNumericSeparator(_e,ct):ct}var lt=typeof it.depth>"u"?5:it.depth;if(typeof rt>"u"&&(rt=0),rt>=lt&&lt>0&&typeof _e=="object")return isArray$7(_e)?"[Array]":"[Object]";var ut=getIndent(it,rt);if(typeof nt>"u")nt=[];else if(indexOf(nt,_e)>=0)return"[Circular]";function dt(Ct,vt,Tt){if(vt&&(nt=$arrSlice.call(nt),nt.push(vt)),Tt){var Mt={depth:it.depth};return has$3(it,"quoteStyle")&&(Mt.quoteStyle=it.quoteStyle),et(Ct,Mt,rt+1,nt)}return et(Ct,it,rt+1,nt)}if(typeof _e=="function"&&!isRegExp$1(_e)){var mt=nameOf(_e),gt=arrObjKeys(_e,dt);return"[Function"+(mt?": "+mt:" (anonymous)")+"]"+(gt.length>0?" { "+$join.call(gt,", ")+" }":"")}if(isSymbol(_e)){var bt=hasShammedSymbols?$replace.call(String(_e),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(_e);return typeof _e=="object"&&!hasShammedSymbols?markBoxed(bt):bt}if(isElement(_e)){for(var ht="<"+$toLowerCase.call(String(_e.nodeName)),yt=_e.attributes||[],wt=0;wt<yt.length;wt++)ht+=" "+yt[wt].name+"="+wrapQuotes(quote(yt[wt].value),"double",it);return ht+=">",_e.childNodes&&_e.childNodes.length&&(ht+="..."),ht+="</"+$toLowerCase.call(String(_e.nodeName))+">",ht}if(isArray$7(_e)){if(_e.length===0)return"[]";var xt=arrObjKeys(_e,dt);return ut&&!singleLineValues(xt)?"["+indentedJoin(xt,ut)+"]":"[ "+$join.call(xt,", ")+" ]"}if(isError(_e)){var At=arrObjKeys(_e,dt);return!("cause"in Error.prototype)&&"cause"in _e&&!isEnumerable.call(_e,"cause")?"{ ["+String(_e)+"] "+$join.call($concat.call("[cause]: "+dt(_e.cause),At),", ")+" }":At.length===0?"["+String(_e)+"]":"{ ["+String(_e)+"] "+$join.call(At,", ")+" }"}if(typeof _e=="object"&&at){if(inspectSymbol&&typeof _e[inspectSymbol]=="function"&&utilInspect)return utilInspect(_e,{depth:lt-rt});if(at!=="symbol"&&typeof _e.inspect=="function")return _e.inspect()}if(isMap(_e)){var kt=[];return mapForEach&&mapForEach.call(_e,function(Ct,vt){kt.push(dt(vt,_e,!0)+" => "+dt(Ct,_e))}),collectionOf("Map",mapSize.call(_e),kt,ut)}if(isSet(_e)){var Ot=[];return setForEach&&setForEach.call(_e,function(Ct){Ot.push(dt(Ct,_e))}),collectionOf("Set",setSize.call(_e),Ot,ut)}if(isWeakMap(_e))return weakCollectionOf("WeakMap");if(isWeakSet(_e))return weakCollectionOf("WeakSet");if(isWeakRef(_e))return weakCollectionOf("WeakRef");if(isNumber(_e))return markBoxed(dt(Number(_e)));if(isBigInt(_e))return markBoxed(dt(bigIntValueOf.call(_e)));if(isBoolean(_e))return markBoxed(booleanValueOf.call(_e));if(isString(_e))return markBoxed(dt(String(_e)));if(!isDate$1(_e)&&!isRegExp$1(_e)){var Wt=arrObjKeys(_e,dt),Ht=gPO?gPO(_e)===Object.prototype:_e instanceof Object||_e.constructor===Object,Zt=_e instanceof Object?"":"null prototype",Lt=!Ht&&toStringTag&&Object(_e)===_e&&toStringTag in _e?$slice$2.call(toStr$3(_e),8,-1):Zt?"Object":"",Et=Ht||typeof _e.constructor!="function"?"":_e.constructor.name?_e.constructor.name+" ":"",It=Et+(Lt||Zt?"["+$join.call($concat.call([],Lt||[],Zt||[]),": ")+"] ":"");return Wt.length===0?It+"{}":ut?It+"{"+indentedJoin(Wt,ut)+"}":It+"{ "+$join.call(Wt,", ")+" }"}return String(_e)};function wrapQuotes(et,_e,tt){var rt=(tt.quoteStyle||_e)==="double"?'"':"'";return rt+et+rt}function quote(et){return $replace.call(String(et),/"/g,"&quot;")}function isArray$7(et){return toStr$3(et)==="[object Array]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isDate$1(et){return toStr$3(et)==="[object Date]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isRegExp$1(et){return toStr$3(et)==="[object RegExp]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isError(et){return toStr$3(et)==="[object Error]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isString(et){return toStr$3(et)==="[object String]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isNumber(et){return toStr$3(et)==="[object Number]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isBoolean(et){return toStr$3(et)==="[object Boolean]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isSymbol(et){if(hasShammedSymbols)return et&&typeof et=="object"&&et instanceof Symbol;if(typeof et=="symbol")return!0;if(!et||typeof et!="object"||!symToString)return!1;try{return symToString.call(et),!0}catch{}return!1}function isBigInt(et){if(!et||typeof et!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(et),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(et){return et in this};function has$3(et,_e){return hasOwn.call(et,_e)}function toStr$3(et){return objectToString.call(et)}function nameOf(et){if(et.name)return et.name;var _e=$match.call(functionToString.call(et),/^function\s*([\w$]+)/);return _e?_e[1]:null}function indexOf(et,_e){if(et.indexOf)return et.indexOf(_e);for(var tt=0,rt=et.length;tt<rt;tt++)if(et[tt]===_e)return tt;return-1}function isMap(et){if(!mapSize||!et||typeof et!="object")return!1;try{mapSize.call(et);try{setSize.call(et)}catch{return!0}return et instanceof Map}catch{}return!1}function isWeakMap(et){if(!weakMapHas||!et||typeof et!="object")return!1;try{weakMapHas.call(et,weakMapHas);try{weakSetHas.call(et,weakSetHas)}catch{return!0}return et instanceof WeakMap}catch{}return!1}function isWeakRef(et){if(!weakRefDeref||!et||typeof et!="object")return!1;try{return weakRefDeref.call(et),!0}catch{}return!1}function isSet(et){if(!setSize||!et||typeof et!="object")return!1;try{setSize.call(et);try{mapSize.call(et)}catch{return!0}return et instanceof Set}catch{}return!1}function isWeakSet(et){if(!weakSetHas||!et||typeof et!="object")return!1;try{weakSetHas.call(et,weakSetHas);try{weakMapHas.call(et,weakMapHas)}catch{return!0}return et instanceof WeakSet}catch{}return!1}function isElement(et){return!et||typeof et!="object"?!1:typeof HTMLElement<"u"&&et instanceof HTMLElement?!0:typeof et.nodeName=="string"&&typeof et.getAttribute=="function"}function inspectString(et,_e){if(et.length>_e.maxStringLength){var tt=et.length-_e.maxStringLength,rt="... "+tt+" more character"+(tt>1?"s":"");return inspectString($slice$2.call(et,0,_e.maxStringLength),_e)+rt}var nt=$replace.call($replace.call(et,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(nt,"single",_e)}function lowbyte(et){var _e=et.charCodeAt(0),tt={8:"b",9:"t",10:"n",12:"f",13:"r"}[_e];return tt?"\\"+tt:"\\x"+(_e<16?"0":"")+$toUpperCase.call(_e.toString(16))}function markBoxed(et){return"Object("+et+")"}function weakCollectionOf(et){return et+" { ? }"}function collectionOf(et,_e,tt,rt){var nt=rt?indentedJoin(tt,rt):$join.call(tt,", ");return et+" ("+_e+") {"+nt+"}"}function singleLineValues(et){for(var _e=0;_e<et.length;_e++)if(indexOf(et[_e],`
`)>=0)return!1;return!0}function getIndent(et,_e){var tt;if(et.indent==="	")tt="	";else if(typeof et.indent=="number"&&et.indent>0)tt=$join.call(Array(et.indent+1)," ");else return null;return{base:tt,prev:$join.call(Array(_e+1),tt)}}function indentedJoin(et,_e){if(et.length===0)return"";var tt=`
`+_e.prev+_e.base;return tt+$join.call(et,","+tt)+`
`+_e.prev}function arrObjKeys(et,_e){var tt=isArray$7(et),rt=[];if(tt){rt.length=et.length;for(var nt=0;nt<et.length;nt++)rt[nt]=has$3(et,nt)?_e(et[nt],et):""}var it=typeof gOPS=="function"?gOPS(et):[],at;if(hasShammedSymbols){at={};for(var st=0;st<it.length;st++)at["$"+it[st]]=it[st]}for(var ot in et)!has$3(et,ot)||tt&&String(Number(ot))===ot&&ot<et.length||hasShammedSymbols&&at["$"+ot]instanceof Symbol||($test.call(/[^\w$]/,ot)?rt.push(_e(ot,et)+": "+_e(et[ot],et)):rt.push(ot+": "+_e(et[ot],et)));if(typeof gOPS=="function")for(var ct=0;ct<it.length;ct++)isEnumerable.call(et,it[ct])&&rt.push("["+_e(it[ct])+"]: "+_e(et[it[ct]],et));return rt}var GetIntrinsic$1=getIntrinsic,callBound$3=callBound$4,inspect=objectInspect,$TypeError=GetIntrinsic$1("%TypeError%"),$WeakMap=GetIntrinsic$1("%WeakMap%",!0),$Map=GetIntrinsic$1("%Map%",!0),$weakMapGet=callBound$3("WeakMap.prototype.get",!0),$weakMapSet=callBound$3("WeakMap.prototype.set",!0),$weakMapHas=callBound$3("WeakMap.prototype.has",!0),$mapGet=callBound$3("Map.prototype.get",!0),$mapSet=callBound$3("Map.prototype.set",!0),$mapHas=callBound$3("Map.prototype.has",!0),listGetNode=function(et,_e){for(var tt=et,rt;(rt=tt.next)!==null;tt=rt)if(rt.key===_e)return tt.next=rt.next,rt.next=et.next,et.next=rt,rt},listGet=function(et,_e){var tt=listGetNode(et,_e);return tt&&tt.value},listSet=function(et,_e,tt){var rt=listGetNode(et,_e);rt?rt.value=tt:et.next={key:_e,next:et.next,value:tt}},listHas=function(et,_e){return!!listGetNode(et,_e)},sideChannel=function et(){var _e,tt,rt,nt={assert:function(it){if(!nt.has(it))throw new $TypeError("Side channel does not contain "+inspect(it))},get:function(it){if($WeakMap&&it&&(typeof it=="object"||typeof it=="function")){if(_e)return $weakMapGet(_e,it)}else if($Map){if(tt)return $mapGet(tt,it)}else if(rt)return listGet(rt,it)},has:function(it){if($WeakMap&&it&&(typeof it=="object"||typeof it=="function")){if(_e)return $weakMapHas(_e,it)}else if($Map){if(tt)return $mapHas(tt,it)}else if(rt)return listHas(rt,it);return!1},set:function(it,at){$WeakMap&&it&&(typeof it=="object"||typeof it=="function")?(_e||(_e=new $WeakMap),$weakMapSet(_e,it,at)):$Map?(tt||(tt=new $Map),$mapSet(tt,it,at)):(rt||(rt={key:{},next:null}),listSet(rt,it,at))}};return nt},replace$1=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(et){return replace$1.call(et,percentTwenties,"+")},RFC3986:function(et){return String(et)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$6=Array.isArray,hexTable=function(){for(var et=[],_e=0;_e<256;++_e)et.push("%"+((_e<16?"0":"")+_e.toString(16)).toUpperCase());return et}(),compactQueue=function et(_e){for(;_e.length>1;){var tt=_e.pop(),rt=tt.obj[tt.prop];if(isArray$6(rt)){for(var nt=[],it=0;it<rt.length;++it)typeof rt[it]<"u"&&nt.push(rt[it]);tt.obj[tt.prop]=nt}}},arrayToObject=function et(_e,tt){for(var rt=tt&&tt.plainObjects?Object.create(null):{},nt=0;nt<_e.length;++nt)typeof _e[nt]<"u"&&(rt[nt]=_e[nt]);return rt},merge$2=function et(_e,tt,rt){if(!tt)return _e;if(typeof tt!="object"){if(isArray$6(_e))_e.push(tt);else if(_e&&typeof _e=="object")(rt&&(rt.plainObjects||rt.allowPrototypes)||!has$2.call(Object.prototype,tt))&&(_e[tt]=!0);else return[_e,tt];return _e}if(!_e||typeof _e!="object")return[_e].concat(tt);var nt=_e;return isArray$6(_e)&&!isArray$6(tt)&&(nt=arrayToObject(_e,rt)),isArray$6(_e)&&isArray$6(tt)?(tt.forEach(function(it,at){if(has$2.call(_e,at)){var st=_e[at];st&&typeof st=="object"&&it&&typeof it=="object"?_e[at]=et(st,it,rt):_e.push(it)}else _e[at]=it}),_e):Object.keys(tt).reduce(function(it,at){var st=tt[at];return has$2.call(it,at)?it[at]=et(it[at],st,rt):it[at]=st,it},nt)},assign$1=function et(_e,tt){return Object.keys(tt).reduce(function(rt,nt){return rt[nt]=tt[nt],rt},_e)},decode$1=function(et,_e,tt){var rt=et.replace(/\+/g," ");if(tt==="iso-8859-1")return rt.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(rt)}catch{return rt}},encode=function et(_e,tt,rt,nt,it){if(_e.length===0)return _e;var at=_e;if(typeof _e=="symbol"?at=Symbol.prototype.toString.call(_e):typeof _e!="string"&&(at=String(_e)),rt==="iso-8859-1")return escape(at).replace(/%u[0-9a-f]{4}/gi,function(lt){return"%26%23"+parseInt(lt.slice(2),16)+"%3B"});for(var st="",ot=0;ot<at.length;++ot){var ct=at.charCodeAt(ot);if(ct===45||ct===46||ct===95||ct===126||ct>=48&&ct<=57||ct>=65&&ct<=90||ct>=97&&ct<=122||it===formats$2.RFC1738&&(ct===40||ct===41)){st+=at.charAt(ot);continue}if(ct<128){st=st+hexTable[ct];continue}if(ct<2048){st=st+(hexTable[192|ct>>6]+hexTable[128|ct&63]);continue}if(ct<55296||ct>=57344){st=st+(hexTable[224|ct>>12]+hexTable[128|ct>>6&63]+hexTable[128|ct&63]);continue}ot+=1,ct=65536+((ct&1023)<<10|at.charCodeAt(ot)&1023),st+=hexTable[240|ct>>18]+hexTable[128|ct>>12&63]+hexTable[128|ct>>6&63]+hexTable[128|ct&63]}return st},compact=function et(_e){for(var tt=[{obj:{o:_e},prop:"o"}],rt=[],nt=0;nt<tt.length;++nt)for(var it=tt[nt],at=it.obj[it.prop],st=Object.keys(at),ot=0;ot<st.length;++ot){var ct=st[ot],lt=at[ct];typeof lt=="object"&&lt!==null&&rt.indexOf(lt)===-1&&(tt.push({obj:at,prop:ct}),rt.push(lt))}return compactQueue(tt),_e},isRegExp=function et(_e){return Object.prototype.toString.call(_e)==="[object RegExp]"},isBuffer=function et(_e){return!_e||typeof _e!="object"?!1:!!(_e.constructor&&_e.constructor.isBuffer&&_e.constructor.isBuffer(_e))},combine$1=function et(_e,tt){return[].concat(_e,tt)},maybeMap=function et(_e,tt){if(isArray$6(_e)){for(var rt=[],nt=0;nt<_e.length;nt+=1)rt.push(tt(_e[nt]));return rt}return tt(_e)},utils$4={arrayToObject,assign:assign$1,combine:combine$1,compact,decode:decode$1,encode,isBuffer,isRegExp,maybeMap,merge:merge$2},getSideChannel=sideChannel,utils$3=utils$4,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function et(_e){return _e+"[]"},comma:"comma",indices:function et(_e,tt){return _e+"["+tt+"]"},repeat:function et(_e){return _e}},isArray$5=Array.isArray,push=Array.prototype.push,pushToArray=function(et,_e){push.apply(et,isArray$5(_e)?_e:[_e])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$3.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function et(_e){return toISO.call(_e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function et(_e){return typeof _e=="string"||typeof _e=="number"||typeof _e=="boolean"||typeof _e=="symbol"||typeof _e=="bigint"},sentinel={},stringify$2=function et(_e,tt,rt,nt,it,at,st,ot,ct,lt,ut,dt,mt,gt,bt,ht){for(var yt=_e,wt=ht,xt=0,At=!1;(wt=wt.get(sentinel))!==void 0&&!At;){var kt=wt.get(_e);if(xt+=1,typeof kt<"u"){if(kt===xt)throw new RangeError("Cyclic object value");At=!0}typeof wt.get(sentinel)>"u"&&(xt=0)}if(typeof ot=="function"?yt=ot(tt,yt):yt instanceof Date?yt=ut(yt):rt==="comma"&&isArray$5(yt)&&(yt=utils$3.maybeMap(yt,function(Mt){return Mt instanceof Date?ut(Mt):Mt})),yt===null){if(it)return st&&!gt?st(tt,defaults$1.encoder,bt,"key",dt):tt;yt=""}if(isNonNullishPrimitive(yt)||utils$3.isBuffer(yt)){if(st){var Ot=gt?tt:st(tt,defaults$1.encoder,bt,"key",dt);return[mt(Ot)+"="+mt(st(yt,defaults$1.encoder,bt,"value",dt))]}return[mt(tt)+"="+mt(String(yt))]}var Wt=[];if(typeof yt>"u")return Wt;var Ht;if(rt==="comma"&&isArray$5(yt))gt&&st&&(yt=utils$3.maybeMap(yt,st)),Ht=[{value:yt.length>0?yt.join(",")||null:void 0}];else if(isArray$5(ot))Ht=ot;else{var Zt=Object.keys(yt);Ht=ct?Zt.sort(ct):Zt}for(var Lt=nt&&isArray$5(yt)&&yt.length===1?tt+"[]":tt,Et=0;Et<Ht.length;++Et){var It=Ht[Et],Ct=typeof It=="object"&&typeof It.value<"u"?It.value:yt[It];if(!(at&&Ct===null)){var vt=isArray$5(yt)?typeof rt=="function"?rt(Lt,It):Lt:Lt+(lt?"."+It:"["+It+"]");ht.set(_e,xt);var Tt=getSideChannel();Tt.set(sentinel,ht),pushToArray(Wt,et(Ct,vt,rt,nt,it,at,rt==="comma"&&gt&&isArray$5(yt)?null:st,ot,ct,lt,ut,dt,mt,gt,bt,Tt))}}return Wt},normalizeStringifyOptions=function et(_e){if(!_e)return defaults$1;if(_e.encoder!==null&&typeof _e.encoder<"u"&&typeof _e.encoder!="function")throw new TypeError("Encoder has to be a function.");var tt=_e.charset||defaults$1.charset;if(typeof _e.charset<"u"&&_e.charset!=="utf-8"&&_e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var rt=formats$1.default;if(typeof _e.format<"u"){if(!has$1.call(formats$1.formatters,_e.format))throw new TypeError("Unknown format option provided.");rt=_e.format}var nt=formats$1.formatters[rt],it=defaults$1.filter;return(typeof _e.filter=="function"||isArray$5(_e.filter))&&(it=_e.filter),{addQueryPrefix:typeof _e.addQueryPrefix=="boolean"?_e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:typeof _e.allowDots>"u"?defaults$1.allowDots:!!_e.allowDots,charset:tt,charsetSentinel:typeof _e.charsetSentinel=="boolean"?_e.charsetSentinel:defaults$1.charsetSentinel,delimiter:typeof _e.delimiter>"u"?defaults$1.delimiter:_e.delimiter,encode:typeof _e.encode=="boolean"?_e.encode:defaults$1.encode,encoder:typeof _e.encoder=="function"?_e.encoder:defaults$1.encoder,encodeValuesOnly:typeof _e.encodeValuesOnly=="boolean"?_e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:it,format:rt,formatter:nt,serializeDate:typeof _e.serializeDate=="function"?_e.serializeDate:defaults$1.serializeDate,skipNulls:typeof _e.skipNulls=="boolean"?_e.skipNulls:defaults$1.skipNulls,sort:typeof _e.sort=="function"?_e.sort:null,strictNullHandling:typeof _e.strictNullHandling=="boolean"?_e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(et,_e){var tt=et,rt=normalizeStringifyOptions(_e),nt,it;typeof rt.filter=="function"?(it=rt.filter,tt=it("",tt)):isArray$5(rt.filter)&&(it=rt.filter,nt=it);var at=[];if(typeof tt!="object"||tt===null)return"";var st;_e&&_e.arrayFormat in arrayPrefixGenerators?st=_e.arrayFormat:_e&&"indices"in _e?st=_e.indices?"indices":"repeat":st="indices";var ot=arrayPrefixGenerators[st];if(_e&&"commaRoundTrip"in _e&&typeof _e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var ct=ot==="comma"&&_e&&_e.commaRoundTrip;nt||(nt=Object.keys(tt)),rt.sort&&nt.sort(rt.sort);for(var lt=getSideChannel(),ut=0;ut<nt.length;++ut){var dt=nt[ut];rt.skipNulls&&tt[dt]===null||pushToArray(at,stringify$2(tt[dt],dt,ot,ct,rt.strictNullHandling,rt.skipNulls,rt.encode?rt.encoder:null,rt.filter,rt.sort,rt.allowDots,rt.serializeDate,rt.format,rt.formatter,rt.encodeValuesOnly,rt.charset,lt))}var mt=at.join(rt.delimiter),gt=rt.addQueryPrefix===!0?"?":"";return rt.charsetSentinel&&(rt.charset==="iso-8859-1"?gt+="utf8=%26%2310003%3B&":gt+="utf8=%E2%9C%93&"),mt.length>0?gt+mt:""},utils$2=utils$4,has=Object.prototype.hasOwnProperty,isArray$4=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$2.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(et){return et.replace(/&#(\d+);/g,function(_e,tt){return String.fromCharCode(parseInt(tt,10))})},parseArrayValue=function(et,_e){return et&&typeof et=="string"&&_e.comma&&et.indexOf(",")>-1?et.split(","):et},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function et(_e,tt){var rt={},nt=tt.ignoreQueryPrefix?_e.replace(/^\?/,""):_e,it=tt.parameterLimit===1/0?void 0:tt.parameterLimit,at=nt.split(tt.delimiter,it),st=-1,ot,ct=tt.charset;if(tt.charsetSentinel)for(ot=0;ot<at.length;++ot)at[ot].indexOf("utf8=")===0&&(at[ot]===charsetSentinel?ct="utf-8":at[ot]===isoSentinel&&(ct="iso-8859-1"),st=ot,ot=at.length);for(ot=0;ot<at.length;++ot)if(ot!==st){var lt=at[ot],ut=lt.indexOf("]="),dt=ut===-1?lt.indexOf("="):ut+1,mt,gt;dt===-1?(mt=tt.decoder(lt,defaults.decoder,ct,"key"),gt=tt.strictNullHandling?null:""):(mt=tt.decoder(lt.slice(0,dt),defaults.decoder,ct,"key"),gt=utils$2.maybeMap(parseArrayValue(lt.slice(dt+1),tt),function(bt){return tt.decoder(bt,defaults.decoder,ct,"value")})),gt&&tt.interpretNumericEntities&&ct==="iso-8859-1"&&(gt=interpretNumericEntities(gt)),lt.indexOf("[]=")>-1&&(gt=isArray$4(gt)?[gt]:gt),has.call(rt,mt)?rt[mt]=utils$2.combine(rt[mt],gt):rt[mt]=gt}return rt},parseObject=function(et,_e,tt,rt){for(var nt=rt?_e:parseArrayValue(_e,tt),it=et.length-1;it>=0;--it){var at,st=et[it];if(st==="[]"&&tt.parseArrays)at=[].concat(nt);else{at=tt.plainObjects?Object.create(null):{};var ot=st.charAt(0)==="["&&st.charAt(st.length-1)==="]"?st.slice(1,-1):st,ct=parseInt(ot,10);!tt.parseArrays&&ot===""?at={0:nt}:!isNaN(ct)&&st!==ot&&String(ct)===ot&&ct>=0&&tt.parseArrays&&ct<=tt.arrayLimit?(at=[],at[ct]=nt):ot!=="__proto__"&&(at[ot]=nt)}nt=at}return nt},parseKeys=function et(_e,tt,rt,nt){if(!!_e){var it=rt.allowDots?_e.replace(/\.([^.[]+)/g,"[$1]"):_e,at=/(\[[^[\]]*])/,st=/(\[[^[\]]*])/g,ot=rt.depth>0&&at.exec(it),ct=ot?it.slice(0,ot.index):it,lt=[];if(ct){if(!rt.plainObjects&&has.call(Object.prototype,ct)&&!rt.allowPrototypes)return;lt.push(ct)}for(var ut=0;rt.depth>0&&(ot=st.exec(it))!==null&&ut<rt.depth;){if(ut+=1,!rt.plainObjects&&has.call(Object.prototype,ot[1].slice(1,-1))&&!rt.allowPrototypes)return;lt.push(ot[1])}return ot&&lt.push("["+it.slice(ot.index)+"]"),parseObject(lt,tt,rt,nt)}},normalizeParseOptions=function et(_e){if(!_e)return defaults;if(_e.decoder!==null&&_e.decoder!==void 0&&typeof _e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _e.charset<"u"&&_e.charset!=="utf-8"&&_e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var tt=typeof _e.charset>"u"?defaults.charset:_e.charset;return{allowDots:typeof _e.allowDots>"u"?defaults.allowDots:!!_e.allowDots,allowPrototypes:typeof _e.allowPrototypes=="boolean"?_e.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof _e.allowSparse=="boolean"?_e.allowSparse:defaults.allowSparse,arrayLimit:typeof _e.arrayLimit=="number"?_e.arrayLimit:defaults.arrayLimit,charset:tt,charsetSentinel:typeof _e.charsetSentinel=="boolean"?_e.charsetSentinel:defaults.charsetSentinel,comma:typeof _e.comma=="boolean"?_e.comma:defaults.comma,decoder:typeof _e.decoder=="function"?_e.decoder:defaults.decoder,delimiter:typeof _e.delimiter=="string"||utils$2.isRegExp(_e.delimiter)?_e.delimiter:defaults.delimiter,depth:typeof _e.depth=="number"||_e.depth===!1?+_e.depth:defaults.depth,ignoreQueryPrefix:_e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _e.interpretNumericEntities=="boolean"?_e.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof _e.parameterLimit=="number"?_e.parameterLimit:defaults.parameterLimit,parseArrays:_e.parseArrays!==!1,plainObjects:typeof _e.plainObjects=="boolean"?_e.plainObjects:defaults.plainObjects,strictNullHandling:typeof _e.strictNullHandling=="boolean"?_e.strictNullHandling:defaults.strictNullHandling}},parse$2=function(et,_e){var tt=normalizeParseOptions(_e);if(et===""||et===null||typeof et>"u")return tt.plainObjects?Object.create(null):{};for(var rt=typeof et=="string"?parseValues(et,tt):et,nt=tt.plainObjects?Object.create(null):{},it=Object.keys(rt),at=0;at<it.length;++at){var st=it[at],ot=parseKeys(st,rt[st],tt,typeof et=="string");nt=utils$2.merge(nt,ot,tt)}return tt.allowSparse===!0?nt:utils$2.compact(nt)},stringify$1=stringify_1,parse$1=parse$2,formats=formats$3,lib$1={formats,parse:parse$1,stringify:stringify$1},types$2={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.ProviderType=et.RegExpString=et.IntNumber=et.BigIntString=et.AddressString=et.HexString=et.OpaqueType=void 0;function _e(){return rt=>rt}et.OpaqueType=_e,et.HexString=_e(),et.AddressString=_e(),et.BigIntString=_e();function tt(rt){return Math.floor(rt)}et.IntNumber=tt,et.RegExpString=_e(),function(rt){rt.CoinbaseWallet="CoinbaseWallet",rt.MetaMask="MetaMask",rt.Unselected=""}(et.ProviderType||(et.ProviderType={}))})(types$2);var __importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(util$5,"__esModule",{value:!0});util$5.isInIFrame=util$5.createQrUrl=util$5.getFavicon=util$5.range=util$5.isBigNumber=util$5.ensureParsedJSONObject=util$5.ensureBN=util$5.ensureRegExpString=util$5.ensureIntNumber=util$5.ensureBuffer=util$5.ensureAddressString=util$5.ensureEvenLengthHexString=util$5.ensureHexString=util$5.isHexString=util$5.prepend0x=util$5.strip0x=util$5.has0xPrefix=util$5.hexStringFromIntNumber=util$5.intNumberFromHexString=util$5.bigIntStringFromBN=util$5.hexStringFromBuffer=util$5.hexStringToUint8Array=util$5.uint8ArrayToHex=util$5.randomBytesHex=void 0;const bn_js_1$1=__importDefault$a(bn$1.exports),qs_1=lib$1,types_1$3=types$2,INT_STRING_REGEX=/^[0-9]*$/,HEXADECIMAL_STRING_REGEX=/^[a-f0-9]*$/;function randomBytesHex(et){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(et)))}util$5.randomBytesHex=randomBytesHex;function uint8ArrayToHex(et){return[...et].map(_e=>_e.toString(16).padStart(2,"0")).join("")}util$5.uint8ArrayToHex=uint8ArrayToHex;function hexStringToUint8Array(et){return new Uint8Array(et.match(/.{1,2}/g).map(_e=>parseInt(_e,16)))}util$5.hexStringToUint8Array=hexStringToUint8Array;function hexStringFromBuffer(et,_e=!1){const tt=et.toString("hex");return(0,types_1$3.HexString)(_e?"0x"+tt:tt)}util$5.hexStringFromBuffer=hexStringFromBuffer;function bigIntStringFromBN(et){return(0,types_1$3.BigIntString)(et.toString(10))}util$5.bigIntStringFromBN=bigIntStringFromBN;function intNumberFromHexString(et){return(0,types_1$3.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16).toNumber())}util$5.intNumberFromHexString=intNumberFromHexString;function hexStringFromIntNumber(et){return(0,types_1$3.HexString)("0x"+new bn_js_1$1.default(et).toString(16))}util$5.hexStringFromIntNumber=hexStringFromIntNumber;function has0xPrefix(et){return et.startsWith("0x")||et.startsWith("0X")}util$5.has0xPrefix=has0xPrefix;function strip0x(et){return has0xPrefix(et)?et.slice(2):et}util$5.strip0x=strip0x;function prepend0x(et){return has0xPrefix(et)?"0x"+et.slice(2):"0x"+et}util$5.prepend0x=prepend0x;function isHexString$3(et){if(typeof et!="string")return!1;const _e=strip0x(et).toLowerCase();return HEXADECIMAL_STRING_REGEX.test(_e)}util$5.isHexString=isHexString$3;function ensureHexString(et,_e=!1){if(typeof et=="string"){const tt=strip0x(et).toLowerCase();if(HEXADECIMAL_STRING_REGEX.test(tt))return(0,types_1$3.HexString)(_e?"0x"+tt:tt)}throw new Error(`"${String(et)}" is not a hexadecimal string`)}util$5.ensureHexString=ensureHexString;function ensureEvenLengthHexString(et,_e=!1){let tt=ensureHexString(et,!1);return tt.length%2===1&&(tt=(0,types_1$3.HexString)("0"+tt)),_e?(0,types_1$3.HexString)("0x"+tt):tt}util$5.ensureEvenLengthHexString=ensureEvenLengthHexString;function ensureAddressString(et){if(typeof et=="string"){const _e=strip0x(et).toLowerCase();if(isHexString$3(_e)&&_e.length===40)return(0,types_1$3.AddressString)(prepend0x(_e))}throw new Error(`Invalid Ethereum address: ${String(et)}`)}util$5.ensureAddressString=ensureAddressString;function ensureBuffer(et){if(Buffer.isBuffer(et))return et;if(typeof et=="string")if(isHexString$3(et)){const _e=ensureEvenLengthHexString(et,!1);return Buffer.from(_e,"hex")}else return Buffer.from(et,"utf8");throw new Error(`Not binary data: ${String(et)}`)}util$5.ensureBuffer=ensureBuffer;function ensureIntNumber(et){if(typeof et=="number"&&Number.isInteger(et))return(0,types_1$3.IntNumber)(et);if(typeof et=="string"){if(INT_STRING_REGEX.test(et))return(0,types_1$3.IntNumber)(Number(et));if(isHexString$3(et))return(0,types_1$3.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16).toNumber())}throw new Error(`Not an integer: ${String(et)}`)}util$5.ensureIntNumber=ensureIntNumber;function ensureRegExpString(et){if(et instanceof RegExp)return(0,types_1$3.RegExpString)(et.toString());throw new Error(`Not a RegExp: ${String(et)}`)}util$5.ensureRegExpString=ensureRegExpString;function ensureBN(et){if(et!==null&&(bn_js_1$1.default.isBN(et)||isBigNumber(et)))return new bn_js_1$1.default(et.toString(10),10);if(typeof et=="number")return new bn_js_1$1.default(ensureIntNumber(et));if(typeof et=="string"){if(INT_STRING_REGEX.test(et))return new bn_js_1$1.default(et,10);if(isHexString$3(et))return new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16)}throw new Error(`Not an integer: ${String(et)}`)}util$5.ensureBN=ensureBN;function ensureParsedJSONObject(et){if(typeof et=="string")return JSON.parse(et);if(typeof et=="object")return et;throw new Error(`Not a JSON string or an object: ${String(et)}`)}util$5.ensureParsedJSONObject=ensureParsedJSONObject;function isBigNumber(et){if(et==null||typeof et.constructor!="function")return!1;const{constructor:_e}=et;return typeof _e.config=="function"&&typeof _e.EUCLID=="number"}util$5.isBigNumber=isBigNumber;function range$1(et,_e){return Array.from({length:_e-et},(tt,rt)=>et+rt)}util$5.range=range$1;function getFavicon(){const et=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:_e,host:tt}=document.location,rt=et?et.getAttribute("href"):null;return!rt||rt.startsWith("javascript:")?null:rt.startsWith("http://")||rt.startsWith("https://")||rt.startsWith("data:")?rt:rt.startsWith("//")?_e+rt:`${_e}//${tt}${rt}`}util$5.getFavicon=getFavicon;function createQrUrl(et,_e,tt,rt,nt,it){const at=rt?"parent-id":"id",st=(0,qs_1.stringify)({[at]:et,secret:_e,server:tt,v:nt,chainId:it});return`${tt}/#/link?${st}`}util$5.createQrUrl=createQrUrl;function isInIFrame(){try{return window.frameElement!==null}catch{return!1}}util$5.isInIFrame=isInIFrame;Object.defineProperty(Session$1,"__esModule",{value:!0});Session$1.Session=void 0;const sha_js_1=sha_js.exports,util_1$7=util$5,STORAGE_KEY_SESSION_ID="session:id",STORAGE_KEY_SESSION_SECRET="session:secret",STORAGE_KEY_SESSION_LINKED="session:linked";class Session{constructor(_e,tt,rt,nt){this._storage=_e,this._id=tt||(0,util_1$7.randomBytesHex)(16),this._secret=rt||(0,util_1$7.randomBytesHex)(32),this._key=new sha_js_1.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!nt}static load(_e){const tt=_e.getItem(STORAGE_KEY_SESSION_ID),rt=_e.getItem(STORAGE_KEY_SESSION_LINKED),nt=_e.getItem(STORAGE_KEY_SESSION_SECRET);return tt&&nt?new Session(_e,tt,nt,rt==="1"):null}static hash(_e){return new sha_js_1.sha256().update(_e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(_e){this._linked=_e,this.persistLinked()}save(){return this._storage.setItem(STORAGE_KEY_SESSION_ID,this._id),this._storage.setItem(STORAGE_KEY_SESSION_SECRET,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(STORAGE_KEY_SESSION_LINKED,this._linked?"1":"0")}}Session$1.Session=Session;var WalletSDKRelayAbstract$1={};Object.defineProperty(WalletSDKRelayAbstract$1,"__esModule",{value:!0});WalletSDKRelayAbstract$1.WalletSDKRelayAbstract=WalletSDKRelayAbstract$1.APP_VERSION_KEY=WalletSDKRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY=WalletSDKRelayAbstract$1.WALLET_USER_NAME_KEY=void 0;const eth_rpc_errors_1$3=dist$1;WalletSDKRelayAbstract$1.WALLET_USER_NAME_KEY="walletUsername";WalletSDKRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";WalletSDKRelayAbstract$1.APP_VERSION_KEY="AppVersion";class WalletSDKRelayAbstract{async makeEthereumJSONRPCRequest(_e,tt){if(!tt)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(tt,{method:"POST",body:JSON.stringify(_e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(rt=>rt.json()).then(rt=>{if(!rt)throw eth_rpc_errors_1$3.ethErrors.rpc.parse({});const nt=rt,{error:it}=nt;if(it)throw(0,eth_rpc_errors_1$3.serializeError)(it);return nt})}}WalletSDKRelayAbstract$1.WalletSDKRelayAbstract=WalletSDKRelayAbstract;var readableBrowser={exports:{}},streamBrowser=events.exports.EventEmitter,buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function et(gt,bt){var ht=Object.keys(gt);if(Object.getOwnPropertySymbols){var yt=Object.getOwnPropertySymbols(gt);bt&&(yt=yt.filter(function(wt){return Object.getOwnPropertyDescriptor(gt,wt).enumerable})),ht.push.apply(ht,yt)}return ht}function _e(gt){for(var bt=1;bt<arguments.length;bt++){var ht=arguments[bt]!=null?arguments[bt]:{};bt%2?et(Object(ht),!0).forEach(function(yt){tt(gt,yt,ht[yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(ht)):et(Object(ht)).forEach(function(yt){Object.defineProperty(gt,yt,Object.getOwnPropertyDescriptor(ht,yt))})}return gt}function tt(gt,bt,ht){return bt=at(bt),bt in gt?Object.defineProperty(gt,bt,{value:ht,enumerable:!0,configurable:!0,writable:!0}):gt[bt]=ht,gt}function rt(gt,bt){if(!(gt instanceof bt))throw new TypeError("Cannot call a class as a function")}function nt(gt,bt){for(var ht=0;ht<bt.length;ht++){var yt=bt[ht];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(gt,at(yt.key),yt)}}function it(gt,bt,ht){return bt&&nt(gt.prototype,bt),ht&&nt(gt,ht),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function at(gt){var bt=st(gt,"string");return typeof bt=="symbol"?bt:String(bt)}function st(gt,bt){if(typeof gt!="object"||gt===null)return gt;var ht=gt[Symbol.toPrimitive];if(ht!==void 0){var yt=ht.call(gt,bt||"default");if(typeof yt!="object")return yt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(bt==="string"?String:Number)(gt)}var ot=buffer$2,ct=ot.Buffer,lt=require$$0$5,ut=lt.inspect,dt=ut&&ut.custom||"inspect";function mt(gt,bt,ht){ct.prototype.copy.call(gt,bt,ht)}return buffer_list=function(){function gt(){rt(this,gt),this.head=null,this.tail=null,this.length=0}return it(gt,[{key:"push",value:function(ht){var yt={data:ht,next:null};this.length>0?this.tail.next=yt:this.head=yt,this.tail=yt,++this.length}},{key:"unshift",value:function(ht){var yt={data:ht,next:this.head};this.length===0&&(this.tail=yt),this.head=yt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ht=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ht}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ht){if(this.length===0)return"";for(var yt=this.head,wt=""+yt.data;yt=yt.next;)wt+=ht+yt.data;return wt}},{key:"concat",value:function(ht){if(this.length===0)return ct.alloc(0);for(var yt=ct.allocUnsafe(ht>>>0),wt=this.head,xt=0;wt;)mt(wt.data,yt,xt),xt+=wt.data.length,wt=wt.next;return yt}},{key:"consume",value:function(ht,yt){var wt;return ht<this.head.data.length?(wt=this.head.data.slice(0,ht),this.head.data=this.head.data.slice(ht)):ht===this.head.data.length?wt=this.shift():wt=yt?this._getString(ht):this._getBuffer(ht),wt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ht){var yt=this.head,wt=1,xt=yt.data;for(ht-=xt.length;yt=yt.next;){var At=yt.data,kt=ht>At.length?At.length:ht;if(kt===At.length?xt+=At:xt+=At.slice(0,ht),ht-=kt,ht===0){kt===At.length?(++wt,yt.next?this.head=yt.next:this.head=this.tail=null):(this.head=yt,yt.data=At.slice(kt));break}++wt}return this.length-=wt,xt}},{key:"_getBuffer",value:function(ht){var yt=ct.allocUnsafe(ht),wt=this.head,xt=1;for(wt.data.copy(yt),ht-=wt.data.length;wt=wt.next;){var At=wt.data,kt=ht>At.length?At.length:ht;if(At.copy(yt,yt.length-ht,0,kt),ht-=kt,ht===0){kt===At.length?(++xt,wt.next?this.head=wt.next:this.head=this.tail=null):(this.head=wt,wt.data=At.slice(kt));break}++xt}return this.length-=xt,yt}},{key:dt,value:function(ht,yt){return ut(this,_e(_e({},yt),{},{depth:0,customInspect:!1}))}}]),gt}(),buffer_list}function destroy(et,_e){var tt=this,rt=this._readableState&&this._readableState.destroyed,nt=this._writableState&&this._writableState.destroyed;return rt||nt?(_e?_e(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,et)):process.nextTick(emitErrorNT,this,et)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(it){!_e&&it?tt._writableState?tt._writableState.errorEmitted?process.nextTick(emitCloseNT,tt):(tt._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,tt,it)):process.nextTick(emitErrorAndCloseNT,tt,it):_e?(process.nextTick(emitCloseNT,tt),_e(it)):process.nextTick(emitCloseNT,tt)}),this)}function emitErrorAndCloseNT(et,_e){emitErrorNT(et,_e),emitCloseNT(et)}function emitCloseNT(et){et._writableState&&!et._writableState.emitClose||et._readableState&&!et._readableState.emitClose||et.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(et,_e){et.emit("error",_e)}function errorOrDestroy(et,_e){var tt=et._readableState,rt=et._writableState;tt&&tt.autoDestroy||rt&&rt.autoDestroy?et.destroy(_e):et.emit("error",_e)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(et,_e){et.prototype=Object.create(_e.prototype),et.prototype.constructor=et,et.__proto__=_e}var codes={};function createErrorType(et,_e,tt){tt||(tt=Error);function rt(it,at,st){return typeof _e=="string"?_e:_e(it,at,st)}var nt=function(it){_inheritsLoose(at,it);function at(st,ot,ct){return it.call(this,rt(st,ot,ct))||this}return at}(tt);nt.prototype.name=tt.name,nt.prototype.code=et,codes[et]=nt}function oneOf(et,_e){if(Array.isArray(et)){var tt=et.length;return et=et.map(function(rt){return String(rt)}),tt>2?"one of ".concat(_e," ").concat(et.slice(0,tt-1).join(", "),", or ")+et[tt-1]:tt===2?"one of ".concat(_e," ").concat(et[0]," or ").concat(et[1]):"of ".concat(_e," ").concat(et[0])}else return"of ".concat(_e," ").concat(String(et))}function startsWith(et,_e,tt){return et.substr(!tt||tt<0?0:+tt,_e.length)===_e}function endsWith(et,_e,tt){return(tt===void 0||tt>et.length)&&(tt=et.length),et.substring(tt-_e.length,tt)===_e}function includes(et,_e,tt){return typeof tt!="number"&&(tt=0),tt+_e.length>et.length?!1:et.indexOf(_e,tt)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(et,_e){return'The value "'+_e+'" is invalid for option "'+et+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(et,_e,tt){var rt;typeof _e=="string"&&startsWith(_e,"not ")?(rt="must not be",_e=_e.replace(/^not /,"")):rt="must be";var nt;if(endsWith(et," argument"))nt="The ".concat(et," ").concat(rt," ").concat(oneOf(_e,"type"));else{var it=includes(et,".")?"property":"argument";nt='The "'.concat(et,'" ').concat(it," ").concat(rt," ").concat(oneOf(_e,"type"))}return nt+=". Received type ".concat(typeof tt),nt},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(et){return"The "+et+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(et){return"Cannot call "+et+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(et){return"Unknown encoding: "+et},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(et,_e,tt){return et.highWaterMark!=null?et.highWaterMark:_e?et[tt]:null}function getHighWaterMark(et,_e,tt,rt){var nt=highWaterMarkFrom(_e,rt,tt);if(nt!=null){if(!(isFinite(nt)&&Math.floor(nt)===nt)||nt<0){var it=rt?tt:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(it,nt)}return Math.floor(nt)}return et.objectMode?16:16*1024}var state={getHighWaterMark},browser$1=deprecate;function deprecate(et,_e){if(config$1("noDeprecation"))return et;var tt=!1;function rt(){if(!tt){if(config$1("throwDeprecation"))throw new Error(_e);config$1("traceDeprecation")?console.trace(_e):console.warn(_e),tt=!0}return et.apply(this,arguments)}return rt}function config$1(et){try{if(!globalThis.localStorage)return!1}catch{return!1}var _e=globalThis.localStorage[et];return _e==null?!1:String(_e).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=Ht;function et(qt){var Yt=this;this.next=null,this.entry=null,this.finish=function(){Bt(Yt,qt)}}var _e;Ht.WritableState=Ot;var tt={deprecate:browser$1},rt=streamBrowser,nt=buffer$2.Buffer,it=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function at(qt){return nt.from(qt)}function st(qt){return nt.isBuffer(qt)||qt instanceof it}var ot=destroy_1,ct=state,lt=ct.getHighWaterMark,ut=errorsBrowser.codes,dt=ut.ERR_INVALID_ARG_TYPE,mt=ut.ERR_METHOD_NOT_IMPLEMENTED,gt=ut.ERR_MULTIPLE_CALLBACK,bt=ut.ERR_STREAM_CANNOT_PIPE,ht=ut.ERR_STREAM_DESTROYED,yt=ut.ERR_STREAM_NULL_VALUES,wt=ut.ERR_STREAM_WRITE_AFTER_END,xt=ut.ERR_UNKNOWN_ENCODING,At=ot.errorOrDestroy;inherits_browser$1.exports(Ht,rt);function kt(){}function Ot(qt,Yt,Xt){_e=_e||require_stream_duplex(),qt=qt||{},typeof Xt!="boolean"&&(Xt=Yt instanceof _e),this.objectMode=!!qt.objectMode,Xt&&(this.objectMode=this.objectMode||!!qt.writableObjectMode),this.highWaterMark=lt(this,qt,"writableHighWaterMark",Xt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var rr=qt.decodeStrings===!1;this.decodeStrings=!rr,this.defaultEncoding=qt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(lr){Mt(Yt,lr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=qt.emitClose!==!1,this.autoDestroy=!!qt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new et(this)}Ot.prototype.getBuffer=function(){for(var Yt=this.bufferedRequest,Xt=[];Yt;)Xt.push(Yt),Yt=Yt.next;return Xt},function(){try{Object.defineProperty(Ot.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Wt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Wt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ht,Symbol.hasInstance,{value:function(Yt){return Wt.call(this,Yt)?!0:this!==Ht?!1:Yt&&Yt._writableState instanceof Ot}})):Wt=function(Yt){return Yt instanceof this};function Ht(qt){_e=_e||require_stream_duplex();var Yt=this instanceof _e;if(!Yt&&!Wt.call(Ht,this))return new Ht(qt);this._writableState=new Ot(qt,this,Yt),this.writable=!0,qt&&(typeof qt.write=="function"&&(this._write=qt.write),typeof qt.writev=="function"&&(this._writev=qt.writev),typeof qt.destroy=="function"&&(this._destroy=qt.destroy),typeof qt.final=="function"&&(this._final=qt.final)),rt.call(this)}Ht.prototype.pipe=function(){At(this,new bt)};function Zt(qt,Yt){var Xt=new wt;At(qt,Xt),process.nextTick(Yt,Xt)}function Lt(qt,Yt,Xt,rr){var lr;return Xt===null?lr=new yt:typeof Xt!="string"&&!Yt.objectMode&&(lr=new dt("chunk",["string","Buffer"],Xt)),lr?(At(qt,lr),process.nextTick(rr,lr),!1):!0}Ht.prototype.write=function(qt,Yt,Xt){var rr=this._writableState,lr=!1,Qt=!rr.objectMode&&st(qt);return Qt&&!nt.isBuffer(qt)&&(qt=at(qt)),typeof Yt=="function"&&(Xt=Yt,Yt=null),Qt?Yt="buffer":Yt||(Yt=rr.defaultEncoding),typeof Xt!="function"&&(Xt=kt),rr.ending?Zt(this,Xt):(Qt||Lt(this,rr,qt,Xt))&&(rr.pendingcb++,lr=It(this,rr,Qt,qt,Yt,Xt)),lr},Ht.prototype.cork=function(){this._writableState.corked++},Ht.prototype.uncork=function(){var qt=this._writableState;qt.corked&&(qt.corked--,!qt.writing&&!qt.corked&&!qt.bufferProcessing&&qt.bufferedRequest&&St(this,qt))},Ht.prototype.setDefaultEncoding=function(Yt){if(typeof Yt=="string"&&(Yt=Yt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Yt+"").toLowerCase())>-1))throw new xt(Yt);return this._writableState.defaultEncoding=Yt,this},Object.defineProperty(Ht.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Et(qt,Yt,Xt){return!qt.objectMode&&qt.decodeStrings!==!1&&typeof Yt=="string"&&(Yt=nt.from(Yt,Xt)),Yt}Object.defineProperty(Ht.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function It(qt,Yt,Xt,rr,lr,Qt){if(!Xt){var Kt=Et(Yt,rr,lr);rr!==Kt&&(Xt=!0,lr="buffer",rr=Kt)}var sr=Yt.objectMode?1:rr.length;Yt.length+=sr;var ir=Yt.length<Yt.highWaterMark;if(ir||(Yt.needDrain=!0),Yt.writing||Yt.corked){var hr=Yt.lastBufferedRequest;Yt.lastBufferedRequest={chunk:rr,encoding:lr,isBuf:Xt,callback:Qt,next:null},hr?hr.next=Yt.lastBufferedRequest:Yt.bufferedRequest=Yt.lastBufferedRequest,Yt.bufferedRequestCount+=1}else Ct(qt,Yt,!1,sr,rr,lr,Qt);return ir}function Ct(qt,Yt,Xt,rr,lr,Qt,Kt){Yt.writelen=rr,Yt.writecb=Kt,Yt.writing=!0,Yt.sync=!0,Yt.destroyed?Yt.onwrite(new ht("write")):Xt?qt._writev(lr,Yt.onwrite):qt._write(lr,Qt,Yt.onwrite),Yt.sync=!1}function vt(qt,Yt,Xt,rr,lr){--Yt.pendingcb,Xt?(process.nextTick(lr,rr),process.nextTick(Pt,qt,Yt),qt._writableState.errorEmitted=!0,At(qt,rr)):(lr(rr),qt._writableState.errorEmitted=!0,At(qt,rr),Pt(qt,Yt))}function Tt(qt){qt.writing=!1,qt.writecb=null,qt.length-=qt.writelen,qt.writelen=0}function Mt(qt,Yt){var Xt=qt._writableState,rr=Xt.sync,lr=Xt.writecb;if(typeof lr!="function")throw new gt;if(Tt(Xt),Yt)vt(qt,Xt,rr,Yt,lr);else{var Qt=Dt(Xt)||qt.destroyed;!Qt&&!Xt.corked&&!Xt.bufferProcessing&&Xt.bufferedRequest&&St(qt,Xt),rr?process.nextTick(Nt,qt,Xt,Qt,lr):Nt(qt,Xt,Qt,lr)}}function Nt(qt,Yt,Xt,rr){Xt||$t(qt,Yt),Yt.pendingcb--,rr(),Pt(qt,Yt)}function $t(qt,Yt){Yt.length===0&&Yt.needDrain&&(Yt.needDrain=!1,qt.emit("drain"))}function St(qt,Yt){Yt.bufferProcessing=!0;var Xt=Yt.bufferedRequest;if(qt._writev&&Xt&&Xt.next){var rr=Yt.bufferedRequestCount,lr=new Array(rr),Qt=Yt.corkedRequestsFree;Qt.entry=Xt;for(var Kt=0,sr=!0;Xt;)lr[Kt]=Xt,Xt.isBuf||(sr=!1),Xt=Xt.next,Kt+=1;lr.allBuffers=sr,Ct(qt,Yt,!0,Yt.length,lr,"",Qt.finish),Yt.pendingcb++,Yt.lastBufferedRequest=null,Qt.next?(Yt.corkedRequestsFree=Qt.next,Qt.next=null):Yt.corkedRequestsFree=new et(Yt),Yt.bufferedRequestCount=0}else{for(;Xt;){var ir=Xt.chunk,hr=Xt.encoding,er=Xt.callback,Ut=Yt.objectMode?1:ir.length;if(Ct(qt,Yt,!1,Ut,ir,hr,er),Xt=Xt.next,Yt.bufferedRequestCount--,Yt.writing)break}Xt===null&&(Yt.lastBufferedRequest=null)}Yt.bufferedRequest=Xt,Yt.bufferProcessing=!1}Ht.prototype._write=function(qt,Yt,Xt){Xt(new mt("_write()"))},Ht.prototype._writev=null,Ht.prototype.end=function(qt,Yt,Xt){var rr=this._writableState;return typeof qt=="function"?(Xt=qt,qt=null,Yt=null):typeof Yt=="function"&&(Xt=Yt,Yt=null),qt!=null&&this.write(qt,Yt),rr.corked&&(rr.corked=1,this.uncork()),rr.ending||Vt(this,rr,Xt),this},Object.defineProperty(Ht.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Dt(qt){return qt.ending&&qt.length===0&&qt.bufferedRequest===null&&!qt.finished&&!qt.writing}function Rt(qt,Yt){qt._final(function(Xt){Yt.pendingcb--,Xt&&At(qt,Xt),Yt.prefinished=!0,qt.emit("prefinish"),Pt(qt,Yt)})}function _t(qt,Yt){!Yt.prefinished&&!Yt.finalCalled&&(typeof qt._final=="function"&&!Yt.destroyed?(Yt.pendingcb++,Yt.finalCalled=!0,process.nextTick(Rt,qt,Yt)):(Yt.prefinished=!0,qt.emit("prefinish")))}function Pt(qt,Yt){var Xt=Dt(Yt);if(Xt&&(_t(qt,Yt),Yt.pendingcb===0&&(Yt.finished=!0,qt.emit("finish"),Yt.autoDestroy))){var rr=qt._readableState;(!rr||rr.autoDestroy&&rr.endEmitted)&&qt.destroy()}return Xt}function Vt(qt,Yt,Xt){Yt.ending=!0,Pt(qt,Yt),Xt&&(Yt.finished?process.nextTick(Xt):qt.once("finish",Xt)),Yt.ended=!0,qt.writable=!1}function Bt(qt,Yt,Xt){var rr=qt.entry;for(qt.entry=null;rr;){var lr=rr.callback;Yt.pendingcb--,lr(Xt),rr=rr.next}Yt.corkedRequestsFree.next=qt}return Object.defineProperty(Ht.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Yt){!this._writableState||(this._writableState.destroyed=Yt)}}),Ht.prototype.destroy=ot.destroy,Ht.prototype._undestroy=ot.undestroy,Ht.prototype._destroy=function(qt,Yt){Yt(qt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var et=Object.keys||function(ct){var lt=[];for(var ut in ct)lt.push(ut);return lt};_stream_duplex=at;var _e=require_stream_readable(),tt=require_stream_writable();inherits_browser$1.exports(at,_e);for(var rt=et(tt.prototype),nt=0;nt<rt.length;nt++){var it=rt[nt];at.prototype[it]||(at.prototype[it]=tt.prototype[it])}function at(ct){if(!(this instanceof at))return new at(ct);_e.call(this,ct),tt.call(this,ct),this.allowHalfOpen=!0,ct&&(ct.readable===!1&&(this.readable=!1),ct.writable===!1&&(this.writable=!1),ct.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",st)))}Object.defineProperty(at.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(at.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(at.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function st(){this._writableState.ended||process.nextTick(ot,this)}function ot(ct){ct.end()}return Object.defineProperty(at.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(lt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=lt,this._writableState.destroyed=lt)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var et=safeBuffer.exports.Buffer,_e=et.isEncoding||function(yt){switch(yt=""+yt,yt&&yt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function tt(yt){if(!yt)return"utf8";for(var wt;;)switch(yt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return yt;default:if(wt)return;yt=(""+yt).toLowerCase(),wt=!0}}function rt(yt){var wt=tt(yt);if(typeof wt!="string"&&(et.isEncoding===_e||!_e(yt)))throw new Error("Unknown encoding: "+yt);return wt||yt}string_decoder.StringDecoder=nt;function nt(yt){this.encoding=rt(yt);var wt;switch(this.encoding){case"utf16le":this.text=ut,this.end=dt,wt=4;break;case"utf8":this.fillLast=ot,wt=4;break;case"base64":this.text=mt,this.end=gt,wt=3;break;default:this.write=bt,this.end=ht;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=et.allocUnsafe(wt)}nt.prototype.write=function(yt){if(yt.length===0)return"";var wt,xt;if(this.lastNeed){if(wt=this.fillLast(yt),wt===void 0)return"";xt=this.lastNeed,this.lastNeed=0}else xt=0;return xt<yt.length?wt?wt+this.text(yt,xt):this.text(yt,xt):wt||""},nt.prototype.end=lt,nt.prototype.text=ct,nt.prototype.fillLast=function(yt){if(this.lastNeed<=yt.length)return yt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);yt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,yt.length),this.lastNeed-=yt.length};function it(yt){return yt<=127?0:yt>>5===6?2:yt>>4===14?3:yt>>3===30?4:yt>>6===2?-1:-2}function at(yt,wt,xt){var At=wt.length-1;if(At<xt)return 0;var kt=it(wt[At]);return kt>=0?(kt>0&&(yt.lastNeed=kt-1),kt):--At<xt||kt===-2?0:(kt=it(wt[At]),kt>=0?(kt>0&&(yt.lastNeed=kt-2),kt):--At<xt||kt===-2?0:(kt=it(wt[At]),kt>=0?(kt>0&&(kt===2?kt=0:yt.lastNeed=kt-3),kt):0))}function st(yt,wt,xt){if((wt[0]&192)!==128)return yt.lastNeed=0,"\uFFFD";if(yt.lastNeed>1&&wt.length>1){if((wt[1]&192)!==128)return yt.lastNeed=1,"\uFFFD";if(yt.lastNeed>2&&wt.length>2&&(wt[2]&192)!==128)return yt.lastNeed=2,"\uFFFD"}}function ot(yt){var wt=this.lastTotal-this.lastNeed,xt=st(this,yt);if(xt!==void 0)return xt;if(this.lastNeed<=yt.length)return yt.copy(this.lastChar,wt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);yt.copy(this.lastChar,wt,0,yt.length),this.lastNeed-=yt.length}function ct(yt,wt){var xt=at(this,yt,wt);if(!this.lastNeed)return yt.toString("utf8",wt);this.lastTotal=xt;var At=yt.length-(xt-this.lastNeed);return yt.copy(this.lastChar,0,At),yt.toString("utf8",wt,At)}function lt(yt){var wt=yt&&yt.length?this.write(yt):"";return this.lastNeed?wt+"\uFFFD":wt}function ut(yt,wt){if((yt.length-wt)%2===0){var xt=yt.toString("utf16le",wt);if(xt){var At=xt.charCodeAt(xt.length-1);if(At>=55296&&At<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=yt[yt.length-2],this.lastChar[1]=yt[yt.length-1],xt.slice(0,-1)}return xt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=yt[yt.length-1],yt.toString("utf16le",wt,yt.length-1)}function dt(yt){var wt=yt&&yt.length?this.write(yt):"";if(this.lastNeed){var xt=this.lastTotal-this.lastNeed;return wt+this.lastChar.toString("utf16le",0,xt)}return wt}function mt(yt,wt){var xt=(yt.length-wt)%3;return xt===0?yt.toString("base64",wt):(this.lastNeed=3-xt,this.lastTotal=3,xt===1?this.lastChar[0]=yt[yt.length-1]:(this.lastChar[0]=yt[yt.length-2],this.lastChar[1]=yt[yt.length-1]),yt.toString("base64",wt,yt.length-xt))}function gt(yt){var wt=yt&&yt.length?this.write(yt):"";return this.lastNeed?wt+this.lastChar.toString("base64",0,3-this.lastNeed):wt}function bt(yt){return yt.toString(this.encoding)}function ht(yt){return yt&&yt.length?this.write(yt):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(et){var _e=!1;return function(){if(!_e){_e=!0;for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];et.apply(this,rt)}}}function noop$3(){}function isRequest$1(et){return et.setHeader&&typeof et.abort=="function"}function eos$1(et,_e,tt){if(typeof _e=="function")return eos$1(et,null,_e);_e||(_e={}),tt=once$1(tt||noop$3);var rt=_e.readable||_e.readable!==!1&&et.readable,nt=_e.writable||_e.writable!==!1&&et.writable,it=function(){et.writable||st()},at=et._writableState&&et._writableState.finished,st=function(){nt=!1,at=!0,rt||tt.call(et)},ot=et._readableState&&et._readableState.endEmitted,ct=function(){rt=!1,ot=!0,nt||tt.call(et)},lt=function(gt){tt.call(et,gt)},ut=function(){var gt;if(rt&&!ot)return(!et._readableState||!et._readableState.ended)&&(gt=new ERR_STREAM_PREMATURE_CLOSE),tt.call(et,gt);if(nt&&!at)return(!et._writableState||!et._writableState.ended)&&(gt=new ERR_STREAM_PREMATURE_CLOSE),tt.call(et,gt)},dt=function(){et.req.on("finish",st)};return isRequest$1(et)?(et.on("complete",st),et.on("abort",ut),et.req?dt():et.on("request",dt)):nt&&!et._writableState&&(et.on("end",it),et.on("close",it)),et.on("end",ct),et.on("finish",st),_e.error!==!1&&et.on("error",lt),et.on("close",ut),function(){et.removeListener("complete",st),et.removeListener("abort",ut),et.removeListener("request",dt),et.req&&et.req.removeListener("finish",st),et.removeListener("end",it),et.removeListener("close",it),et.removeListener("finish",st),et.removeListener("end",ct),et.removeListener("error",lt),et.removeListener("close",ut)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var et;function _e(xt,At,kt){return At=tt(At),At in xt?Object.defineProperty(xt,At,{value:kt,enumerable:!0,configurable:!0,writable:!0}):xt[At]=kt,xt}function tt(xt){var At=rt(xt,"string");return typeof At=="symbol"?At:String(At)}function rt(xt,At){if(typeof xt!="object"||xt===null)return xt;var kt=xt[Symbol.toPrimitive];if(kt!==void 0){var Ot=kt.call(xt,At||"default");if(typeof Ot!="object")return Ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return(At==="string"?String:Number)(xt)}var nt=endOfStream,it=Symbol("lastResolve"),at=Symbol("lastReject"),st=Symbol("error"),ot=Symbol("ended"),ct=Symbol("lastPromise"),lt=Symbol("handlePromise"),ut=Symbol("stream");function dt(xt,At){return{value:xt,done:At}}function mt(xt){var At=xt[it];if(At!==null){var kt=xt[ut].read();kt!==null&&(xt[ct]=null,xt[it]=null,xt[at]=null,At(dt(kt,!1)))}}function gt(xt){process.nextTick(mt,xt)}function bt(xt,At){return function(kt,Ot){xt.then(function(){if(At[ot]){kt(dt(void 0,!0));return}At[lt](kt,Ot)},Ot)}}var ht=Object.getPrototypeOf(function(){}),yt=Object.setPrototypeOf((et={get stream(){return this[ut]},next:function(){var At=this,kt=this[st];if(kt!==null)return Promise.reject(kt);if(this[ot])return Promise.resolve(dt(void 0,!0));if(this[ut].destroyed)return new Promise(function(Zt,Lt){process.nextTick(function(){At[st]?Lt(At[st]):Zt(dt(void 0,!0))})});var Ot=this[ct],Wt;if(Ot)Wt=new Promise(bt(Ot,this));else{var Ht=this[ut].read();if(Ht!==null)return Promise.resolve(dt(Ht,!1));Wt=new Promise(this[lt])}return this[ct]=Wt,Wt}},_e(et,Symbol.asyncIterator,function(){return this}),_e(et,"return",function(){var At=this;return new Promise(function(kt,Ot){At[ut].destroy(null,function(Wt){if(Wt){Ot(Wt);return}kt(dt(void 0,!0))})})}),et),ht),wt=function(At){var kt,Ot=Object.create(yt,(kt={},_e(kt,ut,{value:At,writable:!0}),_e(kt,it,{value:null,writable:!0}),_e(kt,at,{value:null,writable:!0}),_e(kt,st,{value:null,writable:!0}),_e(kt,ot,{value:At._readableState.endEmitted,writable:!0}),_e(kt,lt,{value:function(Ht,Zt){var Lt=Ot[ut].read();Lt?(Ot[ct]=null,Ot[it]=null,Ot[at]=null,Ht(dt(Lt,!1))):(Ot[it]=Ht,Ot[at]=Zt)},writable:!0}),kt));return Ot[ct]=null,nt(At,function(Wt){if(Wt&&Wt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Ht=Ot[at];Ht!==null&&(Ot[ct]=null,Ot[it]=null,Ot[at]=null,Ht(Wt)),Ot[st]=Wt;return}var Zt=Ot[it];Zt!==null&&(Ot[ct]=null,Ot[it]=null,Ot[at]=null,Zt(dt(void 0,!0))),Ot[ot]=!0}),At.on("readable",gt.bind(null,Ot)),Ot};return async_iterator=wt,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Zt;var et;Zt.ReadableState=Ht,events.exports.EventEmitter;var _e=function(Kt,sr){return Kt.listeners(sr).length},tt=streamBrowser,rt=buffer$2.Buffer,nt=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function it(Qt){return rt.from(Qt)}function at(Qt){return rt.isBuffer(Qt)||Qt instanceof nt}var st=require$$0$5,ot;st&&st.debuglog?ot=st.debuglog("stream"):ot=function(){};var ct=requireBuffer_list(),lt=destroy_1,ut=state,dt=ut.getHighWaterMark,mt=errorsBrowser.codes,gt=mt.ERR_INVALID_ARG_TYPE,bt=mt.ERR_STREAM_PUSH_AFTER_EOF,ht=mt.ERR_METHOD_NOT_IMPLEMENTED,yt=mt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,wt,xt,At;inherits_browser$1.exports(Zt,tt);var kt=lt.errorOrDestroy,Ot=["error","close","destroy","pause","resume"];function Wt(Qt,Kt,sr){if(typeof Qt.prependListener=="function")return Qt.prependListener(Kt,sr);!Qt._events||!Qt._events[Kt]?Qt.on(Kt,sr):Array.isArray(Qt._events[Kt])?Qt._events[Kt].unshift(sr):Qt._events[Kt]=[sr,Qt._events[Kt]]}function Ht(Qt,Kt,sr){et=et||require_stream_duplex(),Qt=Qt||{},typeof sr!="boolean"&&(sr=Kt instanceof et),this.objectMode=!!Qt.objectMode,sr&&(this.objectMode=this.objectMode||!!Qt.readableObjectMode),this.highWaterMark=dt(this,Qt,"readableHighWaterMark",sr),this.buffer=new ct,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Qt.emitClose!==!1,this.autoDestroy=!!Qt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Qt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Qt.encoding&&(wt||(wt=requireString_decoder().StringDecoder),this.decoder=new wt(Qt.encoding),this.encoding=Qt.encoding)}function Zt(Qt){if(et=et||require_stream_duplex(),!(this instanceof Zt))return new Zt(Qt);var Kt=this instanceof et;this._readableState=new Ht(Qt,this,Kt),this.readable=!0,Qt&&(typeof Qt.read=="function"&&(this._read=Qt.read),typeof Qt.destroy=="function"&&(this._destroy=Qt.destroy)),tt.call(this)}Object.defineProperty(Zt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Kt){!this._readableState||(this._readableState.destroyed=Kt)}}),Zt.prototype.destroy=lt.destroy,Zt.prototype._undestroy=lt.undestroy,Zt.prototype._destroy=function(Qt,Kt){Kt(Qt)},Zt.prototype.push=function(Qt,Kt){var sr=this._readableState,ir;return sr.objectMode?ir=!0:typeof Qt=="string"&&(Kt=Kt||sr.defaultEncoding,Kt!==sr.encoding&&(Qt=rt.from(Qt,Kt),Kt=""),ir=!0),Lt(this,Qt,Kt,!1,ir)},Zt.prototype.unshift=function(Qt){return Lt(this,Qt,null,!0,!1)};function Lt(Qt,Kt,sr,ir,hr){ot("readableAddChunk",Kt);var er=Qt._readableState;if(Kt===null)er.reading=!1,Mt(Qt,er);else{var Ut;if(hr||(Ut=It(er,Kt)),Ut)kt(Qt,Ut);else if(er.objectMode||Kt&&Kt.length>0)if(typeof Kt!="string"&&!er.objectMode&&Object.getPrototypeOf(Kt)!==rt.prototype&&(Kt=it(Kt)),ir)er.endEmitted?kt(Qt,new yt):Et(Qt,er,Kt,!0);else if(er.ended)kt(Qt,new bt);else{if(er.destroyed)return!1;er.reading=!1,er.decoder&&!sr?(Kt=er.decoder.write(Kt),er.objectMode||Kt.length!==0?Et(Qt,er,Kt,!1):St(Qt,er)):Et(Qt,er,Kt,!1)}else ir||(er.reading=!1,St(Qt,er))}return!er.ended&&(er.length<er.highWaterMark||er.length===0)}function Et(Qt,Kt,sr,ir){Kt.flowing&&Kt.length===0&&!Kt.sync?(Kt.awaitDrain=0,Qt.emit("data",sr)):(Kt.length+=Kt.objectMode?1:sr.length,ir?Kt.buffer.unshift(sr):Kt.buffer.push(sr),Kt.needReadable&&Nt(Qt)),St(Qt,Kt)}function It(Qt,Kt){var sr;return!at(Kt)&&typeof Kt!="string"&&Kt!==void 0&&!Qt.objectMode&&(sr=new gt("chunk",["string","Buffer","Uint8Array"],Kt)),sr}Zt.prototype.isPaused=function(){return this._readableState.flowing===!1},Zt.prototype.setEncoding=function(Qt){wt||(wt=requireString_decoder().StringDecoder);var Kt=new wt(Qt);this._readableState.decoder=Kt,this._readableState.encoding=this._readableState.decoder.encoding;for(var sr=this._readableState.buffer.head,ir="";sr!==null;)ir+=Kt.write(sr.data),sr=sr.next;return this._readableState.buffer.clear(),ir!==""&&this._readableState.buffer.push(ir),this._readableState.length=ir.length,this};var Ct=1073741824;function vt(Qt){return Qt>=Ct?Qt=Ct:(Qt--,Qt|=Qt>>>1,Qt|=Qt>>>2,Qt|=Qt>>>4,Qt|=Qt>>>8,Qt|=Qt>>>16,Qt++),Qt}function Tt(Qt,Kt){return Qt<=0||Kt.length===0&&Kt.ended?0:Kt.objectMode?1:Qt!==Qt?Kt.flowing&&Kt.length?Kt.buffer.head.data.length:Kt.length:(Qt>Kt.highWaterMark&&(Kt.highWaterMark=vt(Qt)),Qt<=Kt.length?Qt:Kt.ended?Kt.length:(Kt.needReadable=!0,0))}Zt.prototype.read=function(Qt){ot("read",Qt),Qt=parseInt(Qt,10);var Kt=this._readableState,sr=Qt;if(Qt!==0&&(Kt.emittedReadable=!1),Qt===0&&Kt.needReadable&&((Kt.highWaterMark!==0?Kt.length>=Kt.highWaterMark:Kt.length>0)||Kt.ended))return ot("read: emitReadable",Kt.length,Kt.ended),Kt.length===0&&Kt.ended?Xt(this):Nt(this),null;if(Qt=Tt(Qt,Kt),Qt===0&&Kt.ended)return Kt.length===0&&Xt(this),null;var ir=Kt.needReadable;ot("need readable",ir),(Kt.length===0||Kt.length-Qt<Kt.highWaterMark)&&(ir=!0,ot("length less than watermark",ir)),Kt.ended||Kt.reading?(ir=!1,ot("reading or ended",ir)):ir&&(ot("do read"),Kt.reading=!0,Kt.sync=!0,Kt.length===0&&(Kt.needReadable=!0),this._read(Kt.highWaterMark),Kt.sync=!1,Kt.reading||(Qt=Tt(sr,Kt)));var hr;return Qt>0?hr=Yt(Qt,Kt):hr=null,hr===null?(Kt.needReadable=Kt.length<=Kt.highWaterMark,Qt=0):(Kt.length-=Qt,Kt.awaitDrain=0),Kt.length===0&&(Kt.ended||(Kt.needReadable=!0),sr!==Qt&&Kt.ended&&Xt(this)),hr!==null&&this.emit("data",hr),hr};function Mt(Qt,Kt){if(ot("onEofChunk"),!Kt.ended){if(Kt.decoder){var sr=Kt.decoder.end();sr&&sr.length&&(Kt.buffer.push(sr),Kt.length+=Kt.objectMode?1:sr.length)}Kt.ended=!0,Kt.sync?Nt(Qt):(Kt.needReadable=!1,Kt.emittedReadable||(Kt.emittedReadable=!0,$t(Qt)))}}function Nt(Qt){var Kt=Qt._readableState;ot("emitReadable",Kt.needReadable,Kt.emittedReadable),Kt.needReadable=!1,Kt.emittedReadable||(ot("emitReadable",Kt.flowing),Kt.emittedReadable=!0,process.nextTick($t,Qt))}function $t(Qt){var Kt=Qt._readableState;ot("emitReadable_",Kt.destroyed,Kt.length,Kt.ended),!Kt.destroyed&&(Kt.length||Kt.ended)&&(Qt.emit("readable"),Kt.emittedReadable=!1),Kt.needReadable=!Kt.flowing&&!Kt.ended&&Kt.length<=Kt.highWaterMark,qt(Qt)}function St(Qt,Kt){Kt.readingMore||(Kt.readingMore=!0,process.nextTick(Dt,Qt,Kt))}function Dt(Qt,Kt){for(;!Kt.reading&&!Kt.ended&&(Kt.length<Kt.highWaterMark||Kt.flowing&&Kt.length===0);){var sr=Kt.length;if(ot("maybeReadMore read 0"),Qt.read(0),sr===Kt.length)break}Kt.readingMore=!1}Zt.prototype._read=function(Qt){kt(this,new ht("_read()"))},Zt.prototype.pipe=function(Qt,Kt){var sr=this,ir=this._readableState;switch(ir.pipesCount){case 0:ir.pipes=Qt;break;case 1:ir.pipes=[ir.pipes,Qt];break;default:ir.pipes.push(Qt);break}ir.pipesCount+=1,ot("pipe count=%d opts=%j",ir.pipesCount,Kt);var hr=(!Kt||Kt.end!==!1)&&Qt!==process.stdout&&Qt!==process.stderr,er=hr?zt:gr;ir.endEmitted?process.nextTick(er):sr.once("end",er),Qt.on("unpipe",Ut);function Ut(Gt,Ft){ot("onunpipe"),Gt===sr&&Ft&&Ft.hasUnpiped===!1&&(Ft.hasUnpiped=!0,ur())}function zt(){ot("onend"),Qt.end()}var Jt=Rt(sr);Qt.on("drain",Jt);var nr=!1;function ur(){ot("cleanup"),Qt.removeListener("close",yr),Qt.removeListener("finish",Er),Qt.removeListener("drain",Jt),Qt.removeListener("error",mr),Qt.removeListener("unpipe",Ut),sr.removeListener("end",zt),sr.removeListener("end",gr),sr.removeListener("data",pr),nr=!0,ir.awaitDrain&&(!Qt._writableState||Qt._writableState.needDrain)&&Jt()}sr.on("data",pr);function pr(Gt){ot("ondata");var Ft=Qt.write(Gt);ot("dest.write",Ft),Ft===!1&&((ir.pipesCount===1&&ir.pipes===Qt||ir.pipesCount>1&&lr(ir.pipes,Qt)!==-1)&&!nr&&(ot("false write response, pause",ir.awaitDrain),ir.awaitDrain++),sr.pause())}function mr(Gt){ot("onerror",Gt),gr(),Qt.removeListener("error",mr),_e(Qt,"error")===0&&kt(Qt,Gt)}Wt(Qt,"error",mr);function yr(){Qt.removeListener("finish",Er),gr()}Qt.once("close",yr);function Er(){ot("onfinish"),Qt.removeListener("close",yr),gr()}Qt.once("finish",Er);function gr(){ot("unpipe"),sr.unpipe(Qt)}return Qt.emit("pipe",sr),ir.flowing||(ot("pipe resume"),sr.resume()),Qt};function Rt(Qt){return function(){var sr=Qt._readableState;ot("pipeOnDrain",sr.awaitDrain),sr.awaitDrain&&sr.awaitDrain--,sr.awaitDrain===0&&_e(Qt,"data")&&(sr.flowing=!0,qt(Qt))}}Zt.prototype.unpipe=function(Qt){var Kt=this._readableState,sr={hasUnpiped:!1};if(Kt.pipesCount===0)return this;if(Kt.pipesCount===1)return Qt&&Qt!==Kt.pipes?this:(Qt||(Qt=Kt.pipes),Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1,Qt&&Qt.emit("unpipe",this,sr),this);if(!Qt){var ir=Kt.pipes,hr=Kt.pipesCount;Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1;for(var er=0;er<hr;er++)ir[er].emit("unpipe",this,{hasUnpiped:!1});return this}var Ut=lr(Kt.pipes,Qt);return Ut===-1?this:(Kt.pipes.splice(Ut,1),Kt.pipesCount-=1,Kt.pipesCount===1&&(Kt.pipes=Kt.pipes[0]),Qt.emit("unpipe",this,sr),this)},Zt.prototype.on=function(Qt,Kt){var sr=tt.prototype.on.call(this,Qt,Kt),ir=this._readableState;return Qt==="data"?(ir.readableListening=this.listenerCount("readable")>0,ir.flowing!==!1&&this.resume()):Qt==="readable"&&!ir.endEmitted&&!ir.readableListening&&(ir.readableListening=ir.needReadable=!0,ir.flowing=!1,ir.emittedReadable=!1,ot("on readable",ir.length,ir.reading),ir.length?Nt(this):ir.reading||process.nextTick(Pt,this)),sr},Zt.prototype.addListener=Zt.prototype.on,Zt.prototype.removeListener=function(Qt,Kt){var sr=tt.prototype.removeListener.call(this,Qt,Kt);return Qt==="readable"&&process.nextTick(_t,this),sr},Zt.prototype.removeAllListeners=function(Qt){var Kt=tt.prototype.removeAllListeners.apply(this,arguments);return(Qt==="readable"||Qt===void 0)&&process.nextTick(_t,this),Kt};function _t(Qt){var Kt=Qt._readableState;Kt.readableListening=Qt.listenerCount("readable")>0,Kt.resumeScheduled&&!Kt.paused?Kt.flowing=!0:Qt.listenerCount("data")>0&&Qt.resume()}function Pt(Qt){ot("readable nexttick read 0"),Qt.read(0)}Zt.prototype.resume=function(){var Qt=this._readableState;return Qt.flowing||(ot("resume"),Qt.flowing=!Qt.readableListening,Vt(this,Qt)),Qt.paused=!1,this};function Vt(Qt,Kt){Kt.resumeScheduled||(Kt.resumeScheduled=!0,process.nextTick(Bt,Qt,Kt))}function Bt(Qt,Kt){ot("resume",Kt.reading),Kt.reading||Qt.read(0),Kt.resumeScheduled=!1,Qt.emit("resume"),qt(Qt),Kt.flowing&&!Kt.reading&&Qt.read(0)}Zt.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function qt(Qt){var Kt=Qt._readableState;for(ot("flow",Kt.flowing);Kt.flowing&&Qt.read()!==null;);}Zt.prototype.wrap=function(Qt){var Kt=this,sr=this._readableState,ir=!1;Qt.on("end",function(){if(ot("wrapped end"),sr.decoder&&!sr.ended){var Ut=sr.decoder.end();Ut&&Ut.length&&Kt.push(Ut)}Kt.push(null)}),Qt.on("data",function(Ut){if(ot("wrapped data"),sr.decoder&&(Ut=sr.decoder.write(Ut)),!(sr.objectMode&&Ut==null)&&!(!sr.objectMode&&(!Ut||!Ut.length))){var zt=Kt.push(Ut);zt||(ir=!0,Qt.pause())}});for(var hr in Qt)this[hr]===void 0&&typeof Qt[hr]=="function"&&(this[hr]=function(zt){return function(){return Qt[zt].apply(Qt,arguments)}}(hr));for(var er=0;er<Ot.length;er++)Qt.on(Ot[er],this.emit.bind(this,Ot[er]));return this._read=function(Ut){ot("wrapped _read",Ut),ir&&(ir=!1,Qt.resume())},this},typeof Symbol=="function"&&(Zt.prototype[Symbol.asyncIterator]=function(){return xt===void 0&&(xt=requireAsync_iterator()),xt(this)}),Object.defineProperty(Zt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Zt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Zt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Kt){this._readableState&&(this._readableState.flowing=Kt)}}),Zt._fromList=Yt,Object.defineProperty(Zt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Yt(Qt,Kt){if(Kt.length===0)return null;var sr;return Kt.objectMode?sr=Kt.buffer.shift():!Qt||Qt>=Kt.length?(Kt.decoder?sr=Kt.buffer.join(""):Kt.buffer.length===1?sr=Kt.buffer.first():sr=Kt.buffer.concat(Kt.length),Kt.buffer.clear()):sr=Kt.buffer.consume(Qt,Kt.decoder),sr}function Xt(Qt){var Kt=Qt._readableState;ot("endReadable",Kt.endEmitted),Kt.endEmitted||(Kt.ended=!0,process.nextTick(rr,Kt,Qt))}function rr(Qt,Kt){if(ot("endReadableNT",Qt.endEmitted,Qt.length),!Qt.endEmitted&&Qt.length===0&&(Qt.endEmitted=!0,Kt.readable=!1,Kt.emit("end"),Qt.autoDestroy)){var sr=Kt._writableState;(!sr||sr.autoDestroy&&sr.finished)&&Kt.destroy()}}typeof Symbol=="function"&&(Zt.from=function(Qt,Kt){return At===void 0&&(At=requireFromBrowser()),At(Zt,Qt,Kt)});function lr(Qt,Kt){for(var sr=0,ir=Qt.length;sr<ir;sr++)if(Qt[sr]===Kt)return sr;return-1}return _stream_readable}var _stream_transform=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browser$1.exports(Transform$3,Duplex);function afterTransform(et,_e){var tt=this._transformState;tt.transforming=!1;var rt=tt.writecb;if(rt===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);tt.writechunk=null,tt.writecb=null,_e!=null&&this.push(_e),rt(et);var nt=this._readableState;nt.reading=!1,(nt.needReadable||nt.length<nt.highWaterMark)&&this._read(nt.highWaterMark)}function Transform$3(et){if(!(this instanceof Transform$3))return new Transform$3(et);Duplex.call(this,et),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",prefinish)}function prefinish(){var et=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_e,tt){done(et,_e,tt)}):done(this,null,null)}Transform$3.prototype.push=function(et,_e){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,et,_e)};Transform$3.prototype._transform=function(et,_e,tt){tt(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(et,_e,tt){var rt=this._transformState;if(rt.writecb=tt,rt.writechunk=et,rt.writeencoding=_e,!rt.transforming){var nt=this._readableState;(rt.needTransform||nt.needReadable||nt.length<nt.highWaterMark)&&this._read(nt.highWaterMark)}};Transform$3.prototype._read=function(et){var _e=this._transformState;_e.writechunk!==null&&!_e.transforming?(_e.transforming=!0,this._transform(_e.writechunk,_e.writeencoding,_e.afterTransform)):_e.needTransform=!0};Transform$3.prototype._destroy=function(et,_e){Duplex.prototype._destroy.call(this,et,function(tt){_e(tt)})};function done(et,_e,tt){if(_e)return et.emit("error",_e);if(tt!=null&&et.push(tt),et._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(et._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return et.push(null)}var _stream_passthrough=PassThrough,Transform$2=_stream_transform;inherits_browser$1.exports(PassThrough,Transform$2);function PassThrough(et){if(!(this instanceof PassThrough))return new PassThrough(et);Transform$2.call(this,et)}PassThrough.prototype._transform=function(et,_e,tt){tt(null,et)};var eos;function once(et){var _e=!1;return function(){_e||(_e=!0,et.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$2(et){if(et)throw et}function isRequest(et){return et.setHeader&&typeof et.abort=="function"}function destroyer(et,_e,tt,rt){rt=once(rt);var nt=!1;et.on("close",function(){nt=!0}),eos===void 0&&(eos=endOfStream),eos(et,{readable:_e,writable:tt},function(at){if(at)return rt(at);nt=!0,rt()});var it=!1;return function(at){if(!nt&&!it){if(it=!0,isRequest(et))return et.abort();if(typeof et.destroy=="function")return et.destroy();rt(at||new ERR_STREAM_DESTROYED("pipe"))}}}function call(et){et()}function pipe$1(et,_e){return et.pipe(_e)}function popCallback(et){return!et.length||typeof et[et.length-1]!="function"?noop$2:et.pop()}function pipeline(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];var rt=popCallback(_e);if(Array.isArray(_e[0])&&(_e=_e[0]),_e.length<2)throw new ERR_MISSING_ARGS("streams");var nt,it=_e.map(function(at,st){var ot=st<_e.length-1,ct=st>0;return destroyer(at,ot,ct,function(lt){nt||(nt=lt),lt&&it.forEach(call),!ot&&(it.forEach(call),rt(nt))})});return _e.reduce(pipe$1)}var pipeline_1=pipeline;(function(et,_e){_e=et.exports=require_stream_readable(),_e.Stream=_e,_e.Readable=_e,_e.Writable=require_stream_writable(),_e.Duplex=require_stream_duplex(),_e.Transform=_stream_transform,_e.PassThrough=_stream_passthrough,_e.finished=endOfStream,_e.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);const{Transform:Transform$1}=readableBrowser.exports;var keccak$2=et=>class yn extends Transform$1{constructor(tt,rt,nt,it,at){super(at),this._rate=tt,this._capacity=rt,this._delimitedSuffix=nt,this._hashBitLength=it,this._options=at,this._state=new et,this._state.initialize(tt,rt),this._finalized=!1}_transform(tt,rt,nt){let it=null;try{this.update(tt,rt)}catch(at){it=at}nt(it)}_flush(tt){let rt=null;try{this.push(this.digest())}catch(nt){rt=nt}tt(rt)}update(tt,rt){if(!Buffer.isBuffer(tt)&&typeof tt!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(tt)||(tt=Buffer.from(tt,rt)),this._state.absorb(tt),this}digest(tt){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let rt=this._state.squeeze(this._hashBitLength/8);return tt!==void 0&&(rt=rt.toString(tt)),this._resetState(),rt}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const tt=new yn(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(tt._state),tt._finalized=this._finalized,tt}};const{Transform}=readableBrowser.exports;var shake=et=>class gn extends Transform{constructor(tt,rt,nt,it){super(it),this._rate=tt,this._capacity=rt,this._delimitedSuffix=nt,this._options=it,this._state=new et,this._state.initialize(tt,rt),this._finalized=!1}_transform(tt,rt,nt){let it=null;try{this.update(tt,rt)}catch(at){it=at}nt(it)}_flush(){}_read(tt){this.push(this.squeeze(tt))}update(tt,rt){if(!Buffer.isBuffer(tt)&&typeof tt!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(tt)||(tt=Buffer.from(tt,rt)),this._state.absorb(tt),this}squeeze(tt,rt){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let nt=this._state.squeeze(tt);return rt!==void 0&&(nt=nt.toString(rt)),nt}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const tt=new gn(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(tt._state),tt._finalized=this._finalized,tt}};const createKeccak=keccak$2,createShake=shake;var api=function(et){const _e=createKeccak(et),tt=createShake(et);return function(rt,nt){switch(typeof rt=="string"?rt.toLowerCase():rt){case"keccak224":return new _e(1152,448,null,224,nt);case"keccak256":return new _e(1088,512,null,256,nt);case"keccak384":return new _e(832,768,null,384,nt);case"keccak512":return new _e(576,1024,null,512,nt);case"sha3-224":return new _e(1152,448,6,224,nt);case"sha3-256":return new _e(1088,512,6,256,nt);case"sha3-384":return new _e(832,768,6,384,nt);case"sha3-512":return new _e(576,1024,6,512,nt);case"shake128":return new tt(1344,256,31,nt);case"shake256":return new tt(1088,512,31,nt);default:throw new Error("Invald algorithm: "+rt)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(et){for(let _e=0;_e<24;++_e){const tt=et[0]^et[10]^et[20]^et[30]^et[40],rt=et[1]^et[11]^et[21]^et[31]^et[41],nt=et[2]^et[12]^et[22]^et[32]^et[42],it=et[3]^et[13]^et[23]^et[33]^et[43],at=et[4]^et[14]^et[24]^et[34]^et[44],st=et[5]^et[15]^et[25]^et[35]^et[45],ot=et[6]^et[16]^et[26]^et[36]^et[46],ct=et[7]^et[17]^et[27]^et[37]^et[47],lt=et[8]^et[18]^et[28]^et[38]^et[48],ut=et[9]^et[19]^et[29]^et[39]^et[49];let dt=lt^(nt<<1|it>>>31),mt=ut^(it<<1|nt>>>31);const gt=et[0]^dt,bt=et[1]^mt,ht=et[10]^dt,yt=et[11]^mt,wt=et[20]^dt,xt=et[21]^mt,At=et[30]^dt,kt=et[31]^mt,Ot=et[40]^dt,Wt=et[41]^mt;dt=tt^(at<<1|st>>>31),mt=rt^(st<<1|at>>>31);const Ht=et[2]^dt,Zt=et[3]^mt,Lt=et[12]^dt,Et=et[13]^mt,It=et[22]^dt,Ct=et[23]^mt,vt=et[32]^dt,Tt=et[33]^mt,Mt=et[42]^dt,Nt=et[43]^mt;dt=nt^(ot<<1|ct>>>31),mt=it^(ct<<1|ot>>>31);const $t=et[4]^dt,St=et[5]^mt,Dt=et[14]^dt,Rt=et[15]^mt,_t=et[24]^dt,Pt=et[25]^mt,Vt=et[34]^dt,Bt=et[35]^mt,qt=et[44]^dt,Yt=et[45]^mt;dt=at^(lt<<1|ut>>>31),mt=st^(ut<<1|lt>>>31);const Xt=et[6]^dt,rr=et[7]^mt,lr=et[16]^dt,Qt=et[17]^mt,Kt=et[26]^dt,sr=et[27]^mt,ir=et[36]^dt,hr=et[37]^mt,er=et[46]^dt,Ut=et[47]^mt;dt=ot^(tt<<1|rt>>>31),mt=ct^(rt<<1|tt>>>31);const zt=et[8]^dt,Jt=et[9]^mt,nr=et[18]^dt,ur=et[19]^mt,pr=et[28]^dt,mr=et[29]^mt,yr=et[38]^dt,Er=et[39]^mt,gr=et[48]^dt,Gt=et[49]^mt,Ft=gt,jt=bt,tr=yt<<4|ht>>>28,ar=ht<<4|yt>>>28,cr=wt<<3|xt>>>29,dr=xt<<3|wt>>>29,_r=kt<<9|At>>>23,xr=At<<9|kt>>>23,vr=Ot<<18|Wt>>>14,Fr=Wt<<18|Ot>>>14,br=Ht<<1|Zt>>>31,Ar=Zt<<1|Ht>>>31,Wr=Et<<12|Lt>>>20,$r=Lt<<12|Et>>>20,Sr=It<<10|Ct>>>22,Hr=Ct<<10|It>>>22,kr=Tt<<13|vt>>>19,Rr=vt<<13|Tt>>>19,zr=Mt<<2|Nt>>>30,Ir=Nt<<2|Mt>>>30,Pr=St<<30|$t>>>2,qr=$t<<30|St>>>2,Mr=Dt<<6|Rt>>>26,Cr=Rt<<6|Dt>>>26,jr=Pt<<11|_t>>>21,wr=_t<<11|Pt>>>21,Tr=Vt<<15|Bt>>>17,Vr=Bt<<15|Vt>>>17,Nr=Yt<<29|qt>>>3,Br=qt<<29|Yt>>>3,Xr=Xt<<28|rr>>>4,Or=rr<<28|Xt>>>4,Dr=Qt<<23|lr>>>9,Yr=lr<<23|Qt>>>9,Lr=Kt<<25|sr>>>7,Ur=sr<<25|Kt>>>7,Gr=ir<<21|hr>>>11,Kr=hr<<21|ir>>>11,Zr=Ut<<24|er>>>8,Qr=er<<24|Ut>>>8,Jr=zt<<27|Jt>>>5,tn=Jt<<27|zt>>>5,rn=nr<<20|ur>>>12,nn=ur<<20|nr>>>12,an=mr<<7|pr>>>25,sn=pr<<7|mr>>>25,on=yr<<8|Er>>>24,cn=Er<<8|yr>>>24,ln=gr<<14|Gt>>>18,un=Gt<<14|gr>>>18;et[0]=Ft^~Wr&jr,et[1]=jt^~$r&wr,et[10]=Xr^~rn&cr,et[11]=Or^~nn&dr,et[20]=br^~Mr&Lr,et[21]=Ar^~Cr&Ur,et[30]=Jr^~tr&Sr,et[31]=tn^~ar&Hr,et[40]=Pr^~Dr&an,et[41]=qr^~Yr&sn,et[2]=Wr^~jr&Gr,et[3]=$r^~wr&Kr,et[12]=rn^~cr&kr,et[13]=nn^~dr&Rr,et[22]=Mr^~Lr&on,et[23]=Cr^~Ur&cn,et[32]=tr^~Sr&Tr,et[33]=ar^~Hr&Vr,et[42]=Dr^~an&_r,et[43]=Yr^~sn&xr,et[4]=jr^~Gr&ln,et[5]=wr^~Kr&un,et[14]=cr^~kr&Nr,et[15]=dr^~Rr&Br,et[24]=Lr^~on&vr,et[25]=Ur^~cn&Fr,et[34]=Sr^~Tr&Zr,et[35]=Hr^~Vr&Qr,et[44]=an^~_r&zr,et[45]=sn^~xr&Ir,et[6]=Gr^~ln&Ft,et[7]=Kr^~un&jt,et[16]=kr^~Nr&Xr,et[17]=Rr^~Br&Or,et[26]=on^~vr&br,et[27]=cn^~Fr&Ar,et[36]=Tr^~Zr&Jr,et[37]=Vr^~Qr&tn,et[46]=_r^~zr&Pr,et[47]=xr^~Ir&qr,et[8]=ln^~Ft&Wr,et[9]=un^~jt&$r,et[18]=Nr^~Xr&rn,et[19]=Br^~Or&nn,et[28]=vr^~br&Mr,et[29]=Fr^~Ar&Cr,et[38]=Zr^~Jr&tr,et[39]=Qr^~tn&ar,et[48]=zr^~Pr&Dr,et[49]=Ir^~qr&Yr,et[0]^=P1600_ROUND_CONSTANTS[_e*2],et[1]^=P1600_ROUND_CONSTANTS[_e*2+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(et,_e){for(let tt=0;tt<50;++tt)this.state[tt]=0;this.blockSize=et/8,this.count=0,this.squeezing=!1};Keccak.prototype.absorb=function(et){for(let _e=0;_e<et.length;++_e)this.state[~~(this.count/4)]^=et[_e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)};Keccak.prototype.absorbLastFewBits=function(et){this.state[~~(this.count/4)]^=et<<8*(this.count%4),(et&128)!==0&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0};Keccak.prototype.squeeze=function(et){this.squeezing||this.absorbLastFewBits(1);const _e=Buffer.alloc(et);for(let tt=0;tt<et;++tt)_e[tt]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return _e};Keccak.prototype.copy=function(et){for(let _e=0;_e<50;++_e)et.state[_e]=this.state[_e];et.blockSize=this.blockSize,et.count=this.count,et.squeezing=this.squeezing};var keccak$1=Keccak,js=api(keccak$1);const createKeccakHash=js,BN$2=bn$1.exports;function zeros(et){return Buffer.allocUnsafe(et).fill(0)}function setLength(et,_e,tt){const rt=zeros(_e);return et=toBuffer(et),tt?et.length<_e?(et.copy(rt),rt):et.slice(0,_e):et.length<_e?(et.copy(rt,_e-et.length),rt):et.slice(-_e)}function setLengthRight(et,_e){return setLength(et,_e,!0)}function toBuffer(et){if(!Buffer.isBuffer(et))if(Array.isArray(et))et=Buffer.from(et);else if(typeof et=="string")isHexString$2(et)?et=Buffer.from(padToEven(stripHexPrefix(et)),"hex"):et=Buffer.from(et);else if(typeof et=="number")et=intToBuffer(et);else if(et==null)et=Buffer.allocUnsafe(0);else if(BN$2.isBN(et))et=et.toArrayLike(Buffer);else if(et.toArray)et=Buffer.from(et.toArray());else throw new Error("invalid type");return et}function bufferToHex$1(et){return et=toBuffer(et),"0x"+et.toString("hex")}function keccak(et,_e){return et=toBuffer(et),_e||(_e=256),createKeccakHash("keccak"+_e).update(et).digest()}function padToEven(et){return et.length%2?"0"+et:et}function isHexString$2(et){return typeof et=="string"&&et.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(et){return typeof et=="string"&&et.startsWith("0x")?et.slice(2):et}var util$4={zeros,setLength,setLengthRight,isHexString:isHexString$2,stripHexPrefix,toBuffer,bufferToHex:bufferToHex$1,keccak};const util$3=util$4,BN$1=bn$1.exports;function elementaryName(et){return et.startsWith("int[")?"int256"+et.slice(3):et==="int"?"int256":et.startsWith("uint[")?"uint256"+et.slice(4):et==="uint"?"uint256":et.startsWith("fixed[")?"fixed128x128"+et.slice(5):et==="fixed"?"fixed128x128":et.startsWith("ufixed[")?"ufixed128x128"+et.slice(6):et==="ufixed"?"ufixed128x128":et}function parseTypeN(et){return parseInt(/^\D+(\d+)$/.exec(et)[1],10)}function parseTypeNxM(et){var _e=/^\D+(\d+)x(\d+)$/.exec(et);return[parseInt(_e[1],10),parseInt(_e[2],10)]}function parseTypeArray(et){var _e=et.match(/(.*)\[(.*?)\]$/);return _e?_e[2]===""?"dynamic":parseInt(_e[2],10):null}function parseNumber(et){var _e=typeof et;if(_e==="string")return util$3.isHexString(et)?new BN$1(util$3.stripHexPrefix(et),16):new BN$1(et,10);if(_e==="number")return new BN$1(et);if(et.toArray)return et;throw new Error("Argument is not a number")}function encodeSingle(et,_e){var tt,rt,nt,it;if(et==="address")return encodeSingle("uint160",parseNumber(_e));if(et==="bool")return encodeSingle("uint8",_e?1:0);if(et==="string")return encodeSingle("bytes",new Buffer(_e,"utf8"));if(isArray$3(et)){if(typeof _e.length>"u")throw new Error("Not an array?");if(tt=parseTypeArray(et),tt!=="dynamic"&&tt!==0&&_e.length>tt)throw new Error("Elements exceed array size: "+tt);nt=[],et=et.slice(0,et.lastIndexOf("[")),typeof _e=="string"&&(_e=JSON.parse(_e));for(it in _e)nt.push(encodeSingle(et,_e[it]));if(tt==="dynamic"){var at=encodeSingle("uint256",_e.length);nt.unshift(at)}return Buffer.concat(nt)}else{if(et==="bytes")return _e=new Buffer(_e),nt=Buffer.concat([encodeSingle("uint256",_e.length),_e]),_e.length%32!==0&&(nt=Buffer.concat([nt,util$3.zeros(32-_e.length%32)])),nt;if(et.startsWith("bytes")){if(tt=parseTypeN(et),tt<1||tt>32)throw new Error("Invalid bytes<N> width: "+tt);return util$3.setLengthRight(_e,32)}else if(et.startsWith("uint")){if(tt=parseTypeN(et),tt%8||tt<8||tt>256)throw new Error("Invalid uint<N> width: "+tt);if(rt=parseNumber(_e),rt.bitLength()>tt)throw new Error("Supplied uint exceeds width: "+tt+" vs "+rt.bitLength());if(rt<0)throw new Error("Supplied uint is negative");return rt.toArrayLike(Buffer,"be",32)}else if(et.startsWith("int")){if(tt=parseTypeN(et),tt%8||tt<8||tt>256)throw new Error("Invalid int<N> width: "+tt);if(rt=parseNumber(_e),rt.bitLength()>tt)throw new Error("Supplied int exceeds width: "+tt+" vs "+rt.bitLength());return rt.toTwos(256).toArrayLike(Buffer,"be",32)}else if(et.startsWith("ufixed")){if(tt=parseTypeNxM(et),rt=parseNumber(_e),rt<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",rt.mul(new BN$1(2).pow(new BN$1(tt[1]))))}else if(et.startsWith("fixed"))return tt=parseTypeNxM(et),encodeSingle("int256",parseNumber(_e).mul(new BN$1(2).pow(new BN$1(tt[1]))))}throw new Error("Unsupported or invalid type: "+et)}function isDynamic(et){return et==="string"||et==="bytes"||parseTypeArray(et)==="dynamic"}function isArray$3(et){return et.lastIndexOf("]")===et.length-1}function rawEncode(et,_e){var tt=[],rt=[],nt=32*et.length;for(var it in et){var at=elementaryName(et[it]),st=_e[it],ot=encodeSingle(at,st);isDynamic(at)?(tt.push(encodeSingle("uint256",nt)),rt.push(ot),nt+=ot.length):tt.push(ot)}return Buffer.concat(tt.concat(rt))}function solidityPack(et,_e){if(et.length!==_e.length)throw new Error("Number of types are not matching the values");for(var tt,rt,nt=[],it=0;it<et.length;it++){var at=elementaryName(et[it]),st=_e[it];if(at==="bytes")nt.push(st);else if(at==="string")nt.push(new Buffer(st,"utf8"));else if(at==="bool")nt.push(new Buffer(st?"01":"00","hex"));else if(at==="address")nt.push(util$3.setLength(st,20));else if(at.startsWith("bytes")){if(tt=parseTypeN(at),tt<1||tt>32)throw new Error("Invalid bytes<N> width: "+tt);nt.push(util$3.setLengthRight(st,tt))}else if(at.startsWith("uint")){if(tt=parseTypeN(at),tt%8||tt<8||tt>256)throw new Error("Invalid uint<N> width: "+tt);if(rt=parseNumber(st),rt.bitLength()>tt)throw new Error("Supplied uint exceeds width: "+tt+" vs "+rt.bitLength());nt.push(rt.toArrayLike(Buffer,"be",tt/8))}else if(at.startsWith("int")){if(tt=parseTypeN(at),tt%8||tt<8||tt>256)throw new Error("Invalid int<N> width: "+tt);if(rt=parseNumber(st),rt.bitLength()>tt)throw new Error("Supplied int exceeds width: "+tt+" vs "+rt.bitLength());nt.push(rt.toTwos(tt).toArrayLike(Buffer,"be",tt/8))}else throw new Error("Unsupported or invalid type: "+at)}return Buffer.concat(nt)}function soliditySHA3(et,_e){return util$3.keccak(solidityPack(et,_e))}var abi$1={rawEncode,solidityPack,soliditySHA3};const util$2=util$4,abi=abi$1,TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData(et,_e,tt,rt=!0){const nt=["bytes32"],it=[this.hashType(et,tt)];if(rt){const at=(st,ot,ct)=>{if(tt[ot]!==void 0)return["bytes32",ct==null?"0x0000000000000000000000000000000000000000000000000000000000000000":util$2.keccak(this.encodeData(ot,ct,tt,rt))];if(ct===void 0)throw new Error(`missing value for field ${st} of type ${ot}`);if(ot==="bytes")return["bytes32",util$2.keccak(ct)];if(ot==="string")return typeof ct=="string"&&(ct=Buffer.from(ct,"utf8")),["bytes32",util$2.keccak(ct)];if(ot.lastIndexOf("]")===ot.length-1){const lt=ot.slice(0,ot.lastIndexOf("[")),ut=ct.map(dt=>at(st,lt,dt));return["bytes32",util$2.keccak(abi.rawEncode(ut.map(([dt])=>dt),ut.map(([,dt])=>dt)))]}return[ot,ct]};for(const st of tt[et]){const[ot,ct]=at(st.name,st.type,_e[st.name]);nt.push(ot),it.push(ct)}}else for(const at of tt[et]){let st=_e[at.name];if(st!==void 0)if(at.type==="bytes")nt.push("bytes32"),st=util$2.keccak(st),it.push(st);else if(at.type==="string")nt.push("bytes32"),typeof st=="string"&&(st=Buffer.from(st,"utf8")),st=util$2.keccak(st),it.push(st);else if(tt[at.type]!==void 0)nt.push("bytes32"),st=util$2.keccak(this.encodeData(at.type,st,tt,rt)),it.push(st);else{if(at.type.lastIndexOf("]")===at.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");nt.push(at.type),it.push(st)}}return abi.rawEncode(nt,it)},encodeType(et,_e){let tt="",rt=this.findTypeDependencies(et,_e).filter(nt=>nt!==et);rt=[et].concat(rt.sort());for(const nt of rt){if(!_e[nt])throw new Error("No type definition specified: "+nt);tt+=nt+"("+_e[nt].map(({name:at,type:st})=>st+" "+at).join(",")+")"}return tt},findTypeDependencies(et,_e,tt=[]){if(et=et.match(/^\w*/)[0],tt.includes(et)||_e[et]===void 0)return tt;tt.push(et);for(const rt of _e[et])for(const nt of this.findTypeDependencies(rt.type,_e,tt))!tt.includes(nt)&&tt.push(nt);return tt},hashStruct(et,_e,tt,rt=!0){return util$2.keccak(this.encodeData(et,_e,tt,rt))},hashType(et,_e){return util$2.keccak(this.encodeType(et,_e))},sanitizeData(et){const _e={};for(const tt in TYPED_MESSAGE_SCHEMA.properties)et[tt]&&(_e[tt]=et[tt]);return _e.types&&(_e.types=Object.assign({EIP712Domain:[]},_e.types)),_e},hash(et,_e=!0){const tt=this.sanitizeData(et),rt=[Buffer.from("1901","hex")];return rt.push(this.hashStruct("EIP712Domain",tt.domain,tt.types,_e)),tt.primaryType!=="EIP712Domain"&&rt.push(this.hashStruct(tt.primaryType,tt.message,tt.types,_e)),util$2.keccak(Buffer.concat(rt))}};var ethEip712Util={TYPED_MESSAGE_SCHEMA,TypedDataUtils,hashForSignTypedDataLegacy:function(et){return typedSignatureHashLegacy(et.data)},hashForSignTypedData_v3:function(et){return TypedDataUtils.hash(et.data,!1)},hashForSignTypedData_v4:function(et){return TypedDataUtils.hash(et.data)}};function typedSignatureHashLegacy(et){const _e=new Error("Expect argument to be non-empty array");if(typeof et!="object"||!et.length)throw _e;const tt=et.map(function(it){return it.type==="bytes"?util$2.toBuffer(it.value):it.value}),rt=et.map(function(it){return it.type}),nt=et.map(function(it){if(!it.name)throw _e;return it.type+" "+it.name});return abi.soliditySHA3(["bytes32","bytes32"],[abi.soliditySHA3(new Array(et.length).fill("string"),nt),abi.soliditySHA3(rt,tt)])}var FilterPolyfill$1={};Object.defineProperty(FilterPolyfill$1,"__esModule",{value:!0});FilterPolyfill$1.filterFromParam=FilterPolyfill$1.FilterPolyfill=void 0;const types_1$2=types$2,util_1$6=util$5,TIMEOUT=5*60*1e3,JSONRPC_TEMPLATE={jsonrpc:"2.0",id:0};class FilterPolyfill{constructor(_e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,types_1$2.IntNumber)(1),this.provider=_e}async newFilter(_e){const tt=filterFromParam(_e),rt=this.makeFilterId(),nt=await this.setInitialCursorPosition(rt,tt.fromBlock);return console.log(`Installing new log filter(${rt}):`,tt,"initial cursor position:",nt),this.logFilters.set(rt,tt),this.setFilterTimeout(rt),(0,util_1$6.hexStringFromIntNumber)(rt)}async newBlockFilter(){const _e=this.makeFilterId(),tt=await this.setInitialCursorPosition(_e,"latest");return console.log(`Installing new block filter (${_e}) with initial cursor position:`,tt),this.blockFilters.add(_e),this.setFilterTimeout(_e),(0,util_1$6.hexStringFromIntNumber)(_e)}async newPendingTransactionFilter(){const _e=this.makeFilterId(),tt=await this.setInitialCursorPosition(_e,"latest");return console.log(`Installing new block filter (${_e}) with initial cursor position:`,tt),this.pendingTransactionFilters.add(_e),this.setFilterTimeout(_e),(0,util_1$6.hexStringFromIntNumber)(_e)}uninstallFilter(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e);return console.log(`Uninstalling filter (${tt})`),this.deleteFilter(tt),!0}getFilterChanges(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e);return this.timeouts.has(tt)&&this.setFilterTimeout(tt),this.logFilters.has(tt)?this.getLogFilterChanges(tt):this.blockFilters.has(tt)?this.getBlockFilterChanges(tt):this.pendingTransactionFilters.has(tt)?this.getPendingTransactionFilterChanges(tt):Promise.resolve(filterNotFoundError())}async getFilterLogs(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e),rt=this.logFilters.get(tt);return rt?this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(rt)]})):filterNotFoundError()}makeFilterId(){return(0,types_1$2.IntNumber)(++this.nextFilterId)}sendAsyncPromise(_e){return new Promise((tt,rt)=>{this.provider.sendAsync(_e,(nt,it)=>{if(nt)return rt(nt);if(Array.isArray(it)||it==null)return rt(new Error(`unexpected response received: ${JSON.stringify(it)}`));tt(it)})})}deleteFilter(_e){console.log(`Deleting filter (${_e})`),this.logFilters.delete(_e),this.blockFilters.delete(_e),this.pendingTransactionFilters.delete(_e),this.cursors.delete(_e),this.timeouts.delete(_e)}async getLogFilterChanges(_e){const tt=this.logFilters.get(_e),rt=this.cursors.get(_e);if(!rt||!tt)return filterNotFoundError();const nt=await this.getCurrentBlockHeight(),it=tt.toBlock==="latest"?nt:tt.toBlock;if(rt>nt||rt>tt.toBlock)return emptyResult();console.log(`Fetching logs from ${rt} to ${it} for filter ${_e}`);const at=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},tt),{fromBlock:rt,toBlock:it}))]}));if(Array.isArray(at.result)){const st=at.result.map(ct=>(0,util_1$6.intNumberFromHexString)(ct.blockNumber||"0x0")),ot=Math.max(...st);if(ot&&ot>rt){const ct=(0,types_1$2.IntNumber)(ot+1);console.log(`Moving cursor position for filter (${_e}) from ${rt} to ${ct}`),this.cursors.set(_e,ct)}}return at}async getBlockFilterChanges(_e){const tt=this.cursors.get(_e);if(!tt)return filterNotFoundError();const rt=await this.getCurrentBlockHeight();if(tt>rt)return emptyResult();console.log(`Fetching blocks from ${tt} to ${rt} for filter (${_e})`);const nt=(await Promise.all((0,util_1$6.range)(tt,rt+1).map(at=>this.getBlockHashByNumber((0,types_1$2.IntNumber)(at))))).filter(at=>!!at),it=(0,types_1$2.IntNumber)(tt+nt.length);return console.log(`Moving cursor position for filter (${_e}) from ${tt} to ${it}`),this.cursors.set(_e,it),Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:nt})}async getPendingTransactionFilterChanges(_e){return Promise.resolve(emptyResult())}async setInitialCursorPosition(_e,tt){const rt=await this.getCurrentBlockHeight(),nt=typeof tt=="number"&&tt>rt?tt:rt;return this.cursors.set(_e,nt),nt}setFilterTimeout(_e){const tt=this.timeouts.get(_e);tt&&window.clearTimeout(tt);const rt=window.setTimeout(()=>{console.log(`Filter (${_e}) timed out`),this.deleteFilter(_e)},TIMEOUT);this.timeouts.set(_e,rt)}async getCurrentBlockHeight(){const{result:_e}=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_blockNumber",params:[]}));return(0,util_1$6.intNumberFromHexString)((0,util_1$6.ensureHexString)(_e))}async getBlockHashByNumber(_e){const tt=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getBlockByNumber",params:[(0,util_1$6.hexStringFromIntNumber)(_e),!1]}));return tt.result&&typeof tt.result.hash=="string"?(0,util_1$6.ensureHexString)(tt.result.hash):null}}FilterPolyfill$1.FilterPolyfill=FilterPolyfill;function filterFromParam(et){return{fromBlock:intBlockHeightFromHexBlockHeight(et.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(et.toBlock),addresses:et.address===void 0?null:Array.isArray(et.address)?et.address:[et.address],topics:et.topics||[]}}FilterPolyfill$1.filterFromParam=filterFromParam;function paramFromFilter(et){const _e={fromBlock:hexBlockHeightFromIntBlockHeight(et.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(et.toBlock),topics:et.topics};return et.addresses!==null&&(_e.address=et.addresses),_e}function intBlockHeightFromHexBlockHeight(et){if(et===void 0||et==="latest"||et==="pending")return"latest";if(et==="earliest")return(0,types_1$2.IntNumber)(0);if((0,util_1$6.isHexString)(et))return(0,util_1$6.intNumberFromHexString)(et);throw new Error(`Invalid block option: ${String(et)}`)}function hexBlockHeightFromIntBlockHeight(et){return et==="latest"?et:(0,util_1$6.hexStringFromIntNumber)(et)}function filterNotFoundError(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:[]})}var JSONRPC={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.JSONRPCMethod=void 0,function(_e){_e.eth_accounts="eth_accounts",_e.eth_coinbase="eth_coinbase",_e.net_version="net_version",_e.eth_chainId="eth_chainId",_e.eth_uninstallFilter="eth_uninstallFilter",_e.eth_requestAccounts="eth_requestAccounts",_e.eth_sign="eth_sign",_e.eth_ecRecover="eth_ecRecover",_e.personal_sign="personal_sign",_e.personal_ecRecover="personal_ecRecover",_e.eth_signTransaction="eth_signTransaction",_e.eth_sendRawTransaction="eth_sendRawTransaction",_e.eth_sendTransaction="eth_sendTransaction",_e.eth_signTypedData_v1="eth_signTypedData_v1",_e.eth_signTypedData_v2="eth_signTypedData_v2",_e.eth_signTypedData_v3="eth_signTypedData_v3",_e.eth_signTypedData_v4="eth_signTypedData_v4",_e.eth_signTypedData="eth_signTypedData",_e.cbWallet_arbitrary="walletlink_arbitrary",_e.wallet_addEthereumChain="wallet_addEthereumChain",_e.wallet_switchEthereumChain="wallet_switchEthereumChain",_e.wallet_watchAsset="wallet_watchAsset",_e.eth_subscribe="eth_subscribe",_e.eth_unsubscribe="eth_unsubscribe",_e.eth_newFilter="eth_newFilter",_e.eth_newBlockFilter="eth_newBlockFilter",_e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",_e.eth_getFilterChanges="eth_getFilterChanges",_e.eth_getFilterLogs="eth_getFilterLogs"}(et.JSONRPCMethod||(et.JSONRPCMethod={}))})(JSONRPC);var SubscriptionManager$1={};const processFn$1=(et,_e)=>function(){const tt=_e.promiseModule,rt=new Array(arguments.length);for(let nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return new tt((nt,it)=>{_e.errorFirst?rt.push(function(at,st){if(_e.multiArgs){const ot=new Array(arguments.length-1);for(let ct=1;ct<arguments.length;ct++)ot[ct-1]=arguments[ct];at?(ot.unshift(at),it(ot)):nt(ot)}else at?it(at):nt(st)}):rt.push(function(at){if(_e.multiArgs){const st=new Array(arguments.length-1);for(let ot=0;ot<arguments.length;ot++)st[ot]=arguments[ot];nt(st)}else nt(at)}),et.apply(this,rt)})};var pify$3=(et,_e)=>{_e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},_e);const tt=nt=>{const it=at=>typeof at=="string"?nt===at:at.test(nt);return _e.include?_e.include.some(it):!_e.exclude.some(it)};let rt;typeof et=="function"?rt=function(){return _e.excludeMain?et.apply(this,arguments):processFn$1(et,_e).apply(this,arguments)}:rt=Object.create(Object.getPrototypeOf(et));for(const nt in et){const it=et[nt];rt[nt]=typeof it=="function"&&tt(nt)?processFn$1(it,_e):it}return rt},immutable=extend$1,hasOwnProperty$2=Object.prototype.hasOwnProperty;function extend$1(){for(var et={},_e=0;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)hasOwnProperty$2.call(tt,rt)&&(et[rt]=tt[rt])}return et}var jsonRpcRandomId=IdIterator;function IdIterator(et){et=et||{};var _e=et.max||Number.MAX_SAFE_INTEGER,tt=typeof et.start<"u"?et.start:Math.floor(Math.random()*_e);return function(){return tt=tt%_e,tt++}}const extend=immutable,createRandomId=jsonRpcRandomId();var ethQuery=EthQuery$1;function EthQuery$1(et){const _e=this;_e.currentProvider=et}EthQuery$1.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance");EthQuery$1.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode");EthQuery$1.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount");EthQuery$1.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt");EthQuery$1.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call");EthQuery$1.prototype.protocolVersion=generateFnFor("eth_protocolVersion");EthQuery$1.prototype.syncing=generateFnFor("eth_syncing");EthQuery$1.prototype.coinbase=generateFnFor("eth_coinbase");EthQuery$1.prototype.mining=generateFnFor("eth_mining");EthQuery$1.prototype.hashrate=generateFnFor("eth_hashrate");EthQuery$1.prototype.gasPrice=generateFnFor("eth_gasPrice");EthQuery$1.prototype.accounts=generateFnFor("eth_accounts");EthQuery$1.prototype.blockNumber=generateFnFor("eth_blockNumber");EthQuery$1.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash");EthQuery$1.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber");EthQuery$1.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash");EthQuery$1.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber");EthQuery$1.prototype.sign=generateFnFor("eth_sign");EthQuery$1.prototype.sendTransaction=generateFnFor("eth_sendTransaction");EthQuery$1.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction");EthQuery$1.prototype.estimateGas=generateFnFor("eth_estimateGas");EthQuery$1.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash");EthQuery$1.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber");EthQuery$1.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash");EthQuery$1.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex");EthQuery$1.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex");EthQuery$1.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt");EthQuery$1.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex");EthQuery$1.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex");EthQuery$1.prototype.getCompilers=generateFnFor("eth_getCompilers");EthQuery$1.prototype.compileLLL=generateFnFor("eth_compileLLL");EthQuery$1.prototype.compileSolidity=generateFnFor("eth_compileSolidity");EthQuery$1.prototype.compileSerpent=generateFnFor("eth_compileSerpent");EthQuery$1.prototype.newFilter=generateFnFor("eth_newFilter");EthQuery$1.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter");EthQuery$1.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter");EthQuery$1.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter");EthQuery$1.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges");EthQuery$1.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs");EthQuery$1.prototype.getLogs=generateFnFor("eth_getLogs");EthQuery$1.prototype.getWork=generateFnFor("eth_getWork");EthQuery$1.prototype.submitWork=generateFnFor("eth_submitWork");EthQuery$1.prototype.submitHashrate=generateFnFor("eth_submitHashrate");EthQuery$1.prototype.sendAsync=function(et,_e){this.currentProvider.sendAsync(createPayload(et),function(rt,nt){if(!rt&&nt.error&&(rt=new Error("EthQuery - RPC Error - "+nt.error.message)),rt)return _e(rt);_e(null,nt.result)})};function generateFnFor(et){return function(){const _e=this;var tt=[].slice.call(arguments),rt=tt.pop();_e.sendAsync({method:et,params:tt},rt)}}function generateFnWithDefaultBlockFor(et,_e){return function(){const tt=this;var rt=[].slice.call(arguments),nt=rt.pop();rt.length<et&&rt.push("latest"),tt.sendAsync({method:_e,params:rt},nt)}}function createPayload(et){return extend({id:createRandomId(),jsonrpc:"2.0",params:[]},et)}var util$1={},types$1={},hasSymbols=shams$1,shams=function et(){return hasSymbols()&&!!Symbol.toStringTag},hasToStringTag$4=shams(),callBound$2=callBound$4,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function et(_e){return hasToStringTag$4&&_e&&typeof _e=="object"&&Symbol.toStringTag in _e?!1:$toString$2(_e)==="[object Arguments]"},isLegacyArguments=function et(_e){return isStandardArguments(_e)?!0:_e!==null&&typeof _e=="object"&&typeof _e.length=="number"&&_e.length>=0&&$toString$2(_e)!=="[object Array]"&&$toString$2(_e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function et(_e){if(typeof _e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(_e)))return!0;if(!hasToStringTag$3){var tt=toStr$2.call(_e);return tt==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var rt=getGeneratorFunc();GeneratorFunction=rt?getProto(rt):!1}return getProto(_e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(et){et!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function et(_e){try{var tt=fnToStr.call(_e);return constructorRegex.test(tt)}catch{return!1}},tryFunctionObject=function et(_e){try{return isES6ClassFn(_e)?!1:(fnToStr.call(_e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function et(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(_e){if((isIE68||!_e)&&(typeof _e>"u"||typeof _e=="object"))try{var tt=toStr$1.call(_e);return(tt===ddaClass||tt===ddaClass2||tt===ddaClass3||tt===objectClass)&&_e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function et(_e){if(isDDA(_e))return!0;if(!_e||typeof _e!="function"&&typeof _e!="object")return!1;try{reflectApply(_e,null,badArrayLike)}catch(tt){if(tt!==isCallableMarker)return!1}return!isES6ClassFn(_e)&&tryFunctionObject(_e)}:function et(_e){if(isDDA(_e))return!0;if(!_e||typeof _e!="function"&&typeof _e!="object")return!1;if(hasToStringTag$2)return tryFunctionObject(_e);if(isES6ClassFn(_e))return!1;var tt=toStr$1.call(_e);return tt!==fnClass&&tt!==genClass&&!/^\[object HTML/.test(tt)?!1:tryFunctionObject(_e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function et(_e,tt,rt){for(var nt=0,it=_e.length;nt<it;nt++)hasOwnProperty$1.call(_e,nt)&&(rt==null?tt(_e[nt],nt,_e):tt.call(rt,_e[nt],nt,_e))},forEachString=function et(_e,tt,rt){for(var nt=0,it=_e.length;nt<it;nt++)rt==null?tt(_e.charAt(nt),nt,_e):tt.call(rt,_e.charAt(nt),nt,_e)},forEachObject=function et(_e,tt,rt){for(var nt in _e)hasOwnProperty$1.call(_e,nt)&&(rt==null?tt(_e[nt],nt,_e):tt.call(rt,_e[nt],nt,_e))},forEach$2=function et(_e,tt,rt){if(!isCallable(tt))throw new TypeError("iterator must be a function");var nt;arguments.length>=3&&(nt=rt),toStr.call(_e)==="[object Array]"?forEachArray(_e,tt,nt):typeof _e=="string"?forEachString(_e,tt,nt):forEachObject(_e,tt,nt)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$8=globalThis,availableTypedArrays$2=function et(){for(var _e=[],tt=0;tt<possibleNames.length;tt++)typeof g$8[possibleNames[tt]]=="function"&&(_e[_e.length]=possibleNames[tt]);return _e},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd=$gOPD,forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$4,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),gOPD$1=gopd,g$7=globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function et(_e,tt){for(var rt=0;rt<_e.length;rt+=1)if(_e[rt]===tt)return rt;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(et){var _e=new g$7[et];if(Symbol.toStringTag in _e){var tt=getPrototypeOf$1(_e),rt=gOPD$1(tt,Symbol.toStringTag);if(!rt){var nt=getPrototypeOf$1(tt);rt=gOPD$1(nt,Symbol.toStringTag)}toStrTags$1[et]=rt.get}});var tryTypedArrays$1=function et(_e){var tt=!1;return forEach$1(toStrTags$1,function(rt,nt){if(!tt)try{tt=rt.call(_e)===nt}catch{}}),tt},isTypedArray$3=function et(_e){if(!_e||typeof _e!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in _e)){var tt=$slice$1($toString$1(_e),8,-1);return $indexOf(typedArrays$1,tt)>-1}return gOPD$1?tryTypedArrays$1(_e):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$4,gOPD=gopd,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$6=globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(et){if(typeof g$6[et]=="function"){var _e=new g$6[et];if(Symbol.toStringTag in _e){var tt=getPrototypeOf(_e),rt=gOPD(tt,Symbol.toStringTag);if(!rt){var nt=getPrototypeOf(tt);rt=gOPD(nt,Symbol.toStringTag)}toStrTags[et]=rt.get}}});var tryTypedArrays=function et(_e){var tt=!1;return forEach(toStrTags,function(rt,nt){if(!tt)try{var it=rt.call(_e);it===nt&&(tt=it)}catch{}}),tt},isTypedArray$2=isTypedArray$3,whichTypedArray=function et(_e){return isTypedArray$2(_e)?!hasToStringTag||!(Symbol.toStringTag in _e)?$slice($toString(_e),8,-1):tryTypedArrays(_e):!1};(function(et){var _e=isArguments,tt=isGeneratorFunction,rt=whichTypedArray,nt=isTypedArray$3;function it(Jt){return Jt.call.bind(Jt)}var at=typeof BigInt<"u",st=typeof Symbol<"u",ot=it(Object.prototype.toString),ct=it(Number.prototype.valueOf),lt=it(String.prototype.valueOf),ut=it(Boolean.prototype.valueOf);if(at)var dt=it(BigInt.prototype.valueOf);if(st)var mt=it(Symbol.prototype.valueOf);function gt(Jt,nr){if(typeof Jt!="object")return!1;try{return nr(Jt),!0}catch{return!1}}et.isArgumentsObject=_e,et.isGeneratorFunction=tt,et.isTypedArray=nt;function bt(Jt){return typeof Promise<"u"&&Jt instanceof Promise||Jt!==null&&typeof Jt=="object"&&typeof Jt.then=="function"&&typeof Jt.catch=="function"}et.isPromise=bt;function ht(Jt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Jt):nt(Jt)||Pt(Jt)}et.isArrayBufferView=ht;function yt(Jt){return rt(Jt)==="Uint8Array"}et.isUint8Array=yt;function wt(Jt){return rt(Jt)==="Uint8ClampedArray"}et.isUint8ClampedArray=wt;function xt(Jt){return rt(Jt)==="Uint16Array"}et.isUint16Array=xt;function At(Jt){return rt(Jt)==="Uint32Array"}et.isUint32Array=At;function kt(Jt){return rt(Jt)==="Int8Array"}et.isInt8Array=kt;function Ot(Jt){return rt(Jt)==="Int16Array"}et.isInt16Array=Ot;function Wt(Jt){return rt(Jt)==="Int32Array"}et.isInt32Array=Wt;function Ht(Jt){return rt(Jt)==="Float32Array"}et.isFloat32Array=Ht;function Zt(Jt){return rt(Jt)==="Float64Array"}et.isFloat64Array=Zt;function Lt(Jt){return rt(Jt)==="BigInt64Array"}et.isBigInt64Array=Lt;function Et(Jt){return rt(Jt)==="BigUint64Array"}et.isBigUint64Array=Et;function It(Jt){return ot(Jt)==="[object Map]"}It.working=typeof Map<"u"&&It(new Map);function Ct(Jt){return typeof Map>"u"?!1:It.working?It(Jt):Jt instanceof Map}et.isMap=Ct;function vt(Jt){return ot(Jt)==="[object Set]"}vt.working=typeof Set<"u"&&vt(new Set);function Tt(Jt){return typeof Set>"u"?!1:vt.working?vt(Jt):Jt instanceof Set}et.isSet=Tt;function Mt(Jt){return ot(Jt)==="[object WeakMap]"}Mt.working=typeof WeakMap<"u"&&Mt(new WeakMap);function Nt(Jt){return typeof WeakMap>"u"?!1:Mt.working?Mt(Jt):Jt instanceof WeakMap}et.isWeakMap=Nt;function $t(Jt){return ot(Jt)==="[object WeakSet]"}$t.working=typeof WeakSet<"u"&&$t(new WeakSet);function St(Jt){return $t(Jt)}et.isWeakSet=St;function Dt(Jt){return ot(Jt)==="[object ArrayBuffer]"}Dt.working=typeof ArrayBuffer<"u"&&Dt(new ArrayBuffer);function Rt(Jt){return typeof ArrayBuffer>"u"?!1:Dt.working?Dt(Jt):Jt instanceof ArrayBuffer}et.isArrayBuffer=Rt;function _t(Jt){return ot(Jt)==="[object DataView]"}_t.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_t(new DataView(new ArrayBuffer(1),0,1));function Pt(Jt){return typeof DataView>"u"?!1:_t.working?_t(Jt):Jt instanceof DataView}et.isDataView=Pt;var Vt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Bt(Jt){return ot(Jt)==="[object SharedArrayBuffer]"}function qt(Jt){return typeof Vt>"u"?!1:(typeof Bt.working>"u"&&(Bt.working=Bt(new Vt)),Bt.working?Bt(Jt):Jt instanceof Vt)}et.isSharedArrayBuffer=qt;function Yt(Jt){return ot(Jt)==="[object AsyncFunction]"}et.isAsyncFunction=Yt;function Xt(Jt){return ot(Jt)==="[object Map Iterator]"}et.isMapIterator=Xt;function rr(Jt){return ot(Jt)==="[object Set Iterator]"}et.isSetIterator=rr;function lr(Jt){return ot(Jt)==="[object Generator]"}et.isGeneratorObject=lr;function Qt(Jt){return ot(Jt)==="[object WebAssembly.Module]"}et.isWebAssemblyCompiledModule=Qt;function Kt(Jt){return gt(Jt,ct)}et.isNumberObject=Kt;function sr(Jt){return gt(Jt,lt)}et.isStringObject=sr;function ir(Jt){return gt(Jt,ut)}et.isBooleanObject=ir;function hr(Jt){return at&&gt(Jt,dt)}et.isBigIntObject=hr;function er(Jt){return st&&gt(Jt,mt)}et.isSymbolObject=er;function Ut(Jt){return Kt(Jt)||sr(Jt)||ir(Jt)||hr(Jt)||er(Jt)}et.isBoxedPrimitive=Ut;function zt(Jt){return typeof Uint8Array<"u"&&(Rt(Jt)||qt(Jt))}et.isAnyArrayBuffer=zt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Jt){Object.defineProperty(et,Jt,{enumerable:!1,value:function(){throw new Error(Jt+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function et(_e){return _e&&typeof _e=="object"&&typeof _e.copy=="function"&&typeof _e.fill=="function"&&typeof _e.readUInt8=="function"};(function(et){var _e=Object.getOwnPropertyDescriptors||function(Pt){for(var Vt=Object.keys(Pt),Bt={},qt=0;qt<Vt.length;qt++)Bt[Vt[qt]]=Object.getOwnPropertyDescriptor(Pt,Vt[qt]);return Bt},tt=/%[sdj%]/g;et.format=function(_t){if(!kt(_t)){for(var Pt=[],Vt=0;Vt<arguments.length;Vt++)Pt.push(at(arguments[Vt]));return Pt.join(" ")}for(var Vt=1,Bt=arguments,qt=Bt.length,Yt=String(_t).replace(tt,function(rr){if(rr==="%%")return"%";if(Vt>=qt)return rr;switch(rr){case"%s":return String(Bt[Vt++]);case"%d":return Number(Bt[Vt++]);case"%j":try{return JSON.stringify(Bt[Vt++])}catch{return"[Circular]"}default:return rr}}),Xt=Bt[Vt];Vt<qt;Xt=Bt[++Vt])wt(Xt)||!Zt(Xt)?Yt+=" "+Xt:Yt+=" "+at(Xt);return Yt},et.deprecate=function(_t,Pt){if(typeof process<"u"&&process.noDeprecation===!0)return _t;if(typeof process>"u")return function(){return et.deprecate(_t,Pt).apply(this,arguments)};var Vt=!1;function Bt(){if(!Vt){if(process.throwDeprecation)throw new Error(Pt);process.traceDeprecation?console.trace(Pt):console.error(Pt),Vt=!0}return _t.apply(this,arguments)}return Bt};var rt={},nt=/^$/;if({}.NODE_DEBUG){var it={}.NODE_DEBUG;it=it.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),nt=new RegExp("^"+it+"$","i")}et.debuglog=function(_t){if(_t=_t.toUpperCase(),!rt[_t])if(nt.test(_t)){var Pt=process.pid;rt[_t]=function(){var Vt=et.format.apply(et,arguments);console.error("%s %d: %s",_t,Pt,Vt)}}else rt[_t]=function(){};return rt[_t]};function at(_t,Pt){var Vt={seen:[],stylize:ot};return arguments.length>=3&&(Vt.depth=arguments[2]),arguments.length>=4&&(Vt.colors=arguments[3]),yt(Pt)?Vt.showHidden=Pt:Pt&&et._extend(Vt,Pt),Wt(Vt.showHidden)&&(Vt.showHidden=!1),Wt(Vt.depth)&&(Vt.depth=2),Wt(Vt.colors)&&(Vt.colors=!1),Wt(Vt.customInspect)&&(Vt.customInspect=!0),Vt.colors&&(Vt.stylize=st),lt(Vt,_t,Vt.depth)}et.inspect=at,at.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},at.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function st(_t,Pt){var Vt=at.styles[Pt];return Vt?"\x1B["+at.colors[Vt][0]+"m"+_t+"\x1B["+at.colors[Vt][1]+"m":_t}function ot(_t,Pt){return _t}function ct(_t){var Pt={};return _t.forEach(function(Vt,Bt){Pt[Vt]=!0}),Pt}function lt(_t,Pt,Vt){if(_t.customInspect&&Pt&&It(Pt.inspect)&&Pt.inspect!==et.inspect&&!(Pt.constructor&&Pt.constructor.prototype===Pt)){var Bt=Pt.inspect(Vt,_t);return kt(Bt)||(Bt=lt(_t,Bt,Vt)),Bt}var qt=ut(_t,Pt);if(qt)return qt;var Yt=Object.keys(Pt),Xt=ct(Yt);if(_t.showHidden&&(Yt=Object.getOwnPropertyNames(Pt)),Et(Pt)&&(Yt.indexOf("message")>=0||Yt.indexOf("description")>=0))return dt(Pt);if(Yt.length===0){if(It(Pt)){var rr=Pt.name?": "+Pt.name:"";return _t.stylize("[Function"+rr+"]","special")}if(Ht(Pt))return _t.stylize(RegExp.prototype.toString.call(Pt),"regexp");if(Lt(Pt))return _t.stylize(Date.prototype.toString.call(Pt),"date");if(Et(Pt))return dt(Pt)}var lr="",Qt=!1,Kt=["{","}"];if(ht(Pt)&&(Qt=!0,Kt=["[","]"]),It(Pt)){var sr=Pt.name?": "+Pt.name:"";lr=" [Function"+sr+"]"}if(Ht(Pt)&&(lr=" "+RegExp.prototype.toString.call(Pt)),Lt(Pt)&&(lr=" "+Date.prototype.toUTCString.call(Pt)),Et(Pt)&&(lr=" "+dt(Pt)),Yt.length===0&&(!Qt||Pt.length==0))return Kt[0]+lr+Kt[1];if(Vt<0)return Ht(Pt)?_t.stylize(RegExp.prototype.toString.call(Pt),"regexp"):_t.stylize("[Object]","special");_t.seen.push(Pt);var ir;return Qt?ir=mt(_t,Pt,Vt,Xt,Yt):ir=Yt.map(function(hr){return gt(_t,Pt,Vt,Xt,hr,Qt)}),_t.seen.pop(),bt(ir,lr,Kt)}function ut(_t,Pt){if(Wt(Pt))return _t.stylize("undefined","undefined");if(kt(Pt)){var Vt="'"+JSON.stringify(Pt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _t.stylize(Vt,"string")}if(At(Pt))return _t.stylize(""+Pt,"number");if(yt(Pt))return _t.stylize(""+Pt,"boolean");if(wt(Pt))return _t.stylize("null","null")}function dt(_t){return"["+Error.prototype.toString.call(_t)+"]"}function mt(_t,Pt,Vt,Bt,qt){for(var Yt=[],Xt=0,rr=Pt.length;Xt<rr;++Xt)$t(Pt,String(Xt))?Yt.push(gt(_t,Pt,Vt,Bt,String(Xt),!0)):Yt.push("");return qt.forEach(function(lr){lr.match(/^\d+$/)||Yt.push(gt(_t,Pt,Vt,Bt,lr,!0))}),Yt}function gt(_t,Pt,Vt,Bt,qt,Yt){var Xt,rr,lr;if(lr=Object.getOwnPropertyDescriptor(Pt,qt)||{value:Pt[qt]},lr.get?lr.set?rr=_t.stylize("[Getter/Setter]","special"):rr=_t.stylize("[Getter]","special"):lr.set&&(rr=_t.stylize("[Setter]","special")),$t(Bt,qt)||(Xt="["+qt+"]"),rr||(_t.seen.indexOf(lr.value)<0?(wt(Vt)?rr=lt(_t,lr.value,null):rr=lt(_t,lr.value,Vt-1),rr.indexOf(`
`)>-1&&(Yt?rr=rr.split(`
`).map(function(Qt){return"  "+Qt}).join(`
`).slice(2):rr=`
`+rr.split(`
`).map(function(Qt){return"   "+Qt}).join(`
`))):rr=_t.stylize("[Circular]","special")),Wt(Xt)){if(Yt&&qt.match(/^\d+$/))return rr;Xt=JSON.stringify(""+qt),Xt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Xt=Xt.slice(1,-1),Xt=_t.stylize(Xt,"name")):(Xt=Xt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Xt=_t.stylize(Xt,"string"))}return Xt+": "+rr}function bt(_t,Pt,Vt){var Bt=_t.reduce(function(qt,Yt){return Yt.indexOf(`
`)>=0,qt+Yt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Bt>60?Vt[0]+(Pt===""?"":Pt+`
 `)+" "+_t.join(`,
  `)+" "+Vt[1]:Vt[0]+Pt+" "+_t.join(", ")+" "+Vt[1]}et.types=types$1;function ht(_t){return Array.isArray(_t)}et.isArray=ht;function yt(_t){return typeof _t=="boolean"}et.isBoolean=yt;function wt(_t){return _t===null}et.isNull=wt;function xt(_t){return _t==null}et.isNullOrUndefined=xt;function At(_t){return typeof _t=="number"}et.isNumber=At;function kt(_t){return typeof _t=="string"}et.isString=kt;function Ot(_t){return typeof _t=="symbol"}et.isSymbol=Ot;function Wt(_t){return _t===void 0}et.isUndefined=Wt;function Ht(_t){return Zt(_t)&&vt(_t)==="[object RegExp]"}et.isRegExp=Ht,et.types.isRegExp=Ht;function Zt(_t){return typeof _t=="object"&&_t!==null}et.isObject=Zt;function Lt(_t){return Zt(_t)&&vt(_t)==="[object Date]"}et.isDate=Lt,et.types.isDate=Lt;function Et(_t){return Zt(_t)&&(vt(_t)==="[object Error]"||_t instanceof Error)}et.isError=Et,et.types.isNativeError=Et;function It(_t){return typeof _t=="function"}et.isFunction=It;function Ct(_t){return _t===null||typeof _t=="boolean"||typeof _t=="number"||typeof _t=="string"||typeof _t=="symbol"||typeof _t>"u"}et.isPrimitive=Ct,et.isBuffer=isBufferBrowser;function vt(_t){return Object.prototype.toString.call(_t)}function Tt(_t){return _t<10?"0"+_t.toString(10):_t.toString(10)}var Mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Nt(){var _t=new Date,Pt=[Tt(_t.getHours()),Tt(_t.getMinutes()),Tt(_t.getSeconds())].join(":");return[_t.getDate(),Mt[_t.getMonth()],Pt].join(" ")}et.log=function(){console.log("%s - %s",Nt(),et.format.apply(et,arguments))},et.inherits=inherits_browser$1.exports,et._extend=function(_t,Pt){if(!Pt||!Zt(Pt))return _t;for(var Vt=Object.keys(Pt),Bt=Vt.length;Bt--;)_t[Vt[Bt]]=Pt[Vt[Bt]];return _t};function $t(_t,Pt){return Object.prototype.hasOwnProperty.call(_t,Pt)}var St=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;et.promisify=function(Pt){if(typeof Pt!="function")throw new TypeError('The "original" argument must be of type Function');if(St&&Pt[St]){var Vt=Pt[St];if(typeof Vt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Vt,St,{value:Vt,enumerable:!1,writable:!1,configurable:!0}),Vt}function Vt(){for(var Bt,qt,Yt=new Promise(function(lr,Qt){Bt=lr,qt=Qt}),Xt=[],rr=0;rr<arguments.length;rr++)Xt.push(arguments[rr]);Xt.push(function(lr,Qt){lr?qt(lr):Bt(Qt)});try{Pt.apply(this,Xt)}catch(lr){qt(lr)}return Yt}return Object.setPrototypeOf(Vt,Object.getPrototypeOf(Pt)),St&&Object.defineProperty(Vt,St,{value:Vt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Vt,_e(Pt))},et.promisify.custom=St;function Dt(_t,Pt){if(!_t){var Vt=new Error("Promise was rejected with a falsy value");Vt.reason=_t,_t=Vt}return Pt(_t)}function Rt(_t){if(typeof _t!="function")throw new TypeError('The "original" argument must be of type Function');function Pt(){for(var Vt=[],Bt=0;Bt<arguments.length;Bt++)Vt.push(arguments[Bt]);var qt=Vt.pop();if(typeof qt!="function")throw new TypeError("The last argument must be of type Function");var Yt=this,Xt=function(){return qt.apply(Yt,arguments)};_t.apply(this,Vt).then(function(rr){process.nextTick(Xt.bind(null,null,rr))},function(rr){process.nextTick(Dt.bind(null,rr,Xt))})}return Object.setPrototypeOf(Pt,Object.getPrototypeOf(_t)),Object.defineProperties(Pt,_e(_t)),Pt}et.callbackify=Rt})(util$1);const util=util$1,EventEmitter$2=events.exports;var R$2=typeof Reflect=="object"?Reflect:null,ReflectApply=R$2&&typeof R$2.apply=="function"?R$2.apply:function et(_e,tt,rt){return Function.prototype.apply.call(_e,tt,rt)},safeEventEmitter=SafeEventEmitter$3;function SafeEventEmitter$3(){EventEmitter$2.call(this)}util.inherits(SafeEventEmitter$3,EventEmitter$2);SafeEventEmitter$3.prototype.emit=function(et){for(var _e=[],tt=1;tt<arguments.length;tt++)_e.push(arguments[tt]);var rt=et==="error",nt=this._events;if(nt!==void 0)rt=rt&&nt.error===void 0;else if(!rt)return!1;if(rt){var it;if(_e.length>0&&(it=_e[0]),it instanceof Error)throw it;var at=new Error("Unhandled error."+(it?" ("+it.message+")":""));throw at.context=it,at}var st=nt[et];if(st===void 0)return!1;if(typeof st=="function")safeApply(st,this,_e);else for(var ot=st.length,ct=arrayClone(st,ot),tt=0;tt<ot;++tt)safeApply(ct[tt],this,_e);return!0};function safeApply(et,_e,tt){try{ReflectApply(et,_e,tt)}catch(rt){setTimeout(()=>{throw rt})}}function arrayClone(et,_e){for(var tt=new Array(_e),rt=0;rt<_e;++rt)tt[rt]=et[rt];return tt}const SafeEventEmitter$2=safeEventEmitter,sec$1=1e3,calculateSum=(et,_e)=>et+_e,blockTrackerEvents=["sync","latest"];class BaseBlockTracker$1 extends SafeEventEmitter$2{constructor(_e={}){super(),this._blockResetDuration=_e.blockResetDuration||20*sec$1,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(tt=>this.once("latest",tt))}removeAllListeners(_e){_e?super.removeAllListeners(_e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(_e,tt){!blockTrackerEvents.includes(_e)||this._maybeStart()}_onRemoveListener(_e,tt){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return blockTrackerEvents.map(_e=>this.listenerCount(_e)).reduce(calculateSum)}_newPotentialLatest(_e){const tt=this._currentBlock;tt&&hexToInt$4(_e)<=hexToInt$4(tt)||this._setCurrentBlock(_e)}_setCurrentBlock(_e){const tt=this._currentBlock;this._currentBlock=_e,this.emit("latest",_e),this.emit("sync",{oldBlock:tt,newBlock:_e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var base=BaseBlockTracker$1;function hexToInt$4(et){return Number.parseInt(et,16)}const pify$2=pify$3,BaseBlockTracker=base,sec=1e3;class PollingBlockTracker$1 extends BaseBlockTracker{constructor(_e={}){if(!_e.provider)throw new Error("PollingBlockTracker - no provider specified.");const tt=_e.pollingInterval||20*sec,rt=_e.retryTimeout||tt/10,nt=_e.keepEventLoopActive!==void 0?_e.keepEventLoopActive:!0,it=_e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:tt},_e)),this._provider=_e.provider,this._pollingInterval=tt,this._retryTimeout=rt,this._keepEventLoopActive=nt,this._setSkipCacheFlag=it}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(_e=>this.emit("error",_e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await timeout$1(this._pollingInterval,!this._keepEventLoopActive)}catch(_e){const tt=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${_e.stack}`);try{this.emit("error",tt)}catch{console.error(tt)}await timeout$1(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const _e=await this._fetchLatestBlock();this._newPotentialLatest(_e)}async _fetchLatestBlock(){const _e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(_e.skipCache=!0);const tt=await pify$2(rt=>this._provider.sendAsync(_e,rt))();if(tt.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${tt.error}`);return tt.result}}var polling=PollingBlockTracker$1;function timeout$1(et,_e){return new Promise(tt=>{const rt=setTimeout(tt,et);rt.unref&&_e&&rt.unref()})}var dist={},idRemapMiddleware={},getUniqueId$1={};Object.defineProperty(getUniqueId$1,"__esModule",{value:!0});getUniqueId$1.getUniqueId=void 0;const MAX=4294967295;let idCounter=Math.floor(Math.random()*MAX);function getUniqueId(){return idCounter=(idCounter+1)%MAX,idCounter}getUniqueId$1.getUniqueId=getUniqueId;Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0});idRemapMiddleware.createIdRemapMiddleware=void 0;const getUniqueId_1=getUniqueId$1;function createIdRemapMiddleware(){return(et,_e,tt,rt)=>{const nt=et.id,it=getUniqueId_1.getUniqueId();et.id=it,_e.id=it,tt(at=>{et.id=nt,_e.id=nt,at()})}}idRemapMiddleware.createIdRemapMiddleware=createIdRemapMiddleware;var createAsyncMiddleware$3={};Object.defineProperty(createAsyncMiddleware$3,"__esModule",{value:!0});createAsyncMiddleware$3.createAsyncMiddleware=void 0;function createAsyncMiddleware$2(et){return async(_e,tt,rt,nt)=>{let it;const at=new Promise(lt=>{it=lt});let st=null,ot=!1;const ct=async()=>{ot=!0,rt(lt=>{st=lt,it()}),await at};try{await et(_e,tt,ct),ot?(await at,st(null)):nt(null)}catch(lt){st?st(lt):nt(lt)}}}createAsyncMiddleware$3.createAsyncMiddleware=createAsyncMiddleware$2;var createScaffoldMiddleware$3={};Object.defineProperty(createScaffoldMiddleware$3,"__esModule",{value:!0});createScaffoldMiddleware$3.createScaffoldMiddleware=void 0;function createScaffoldMiddleware$2(et){return(_e,tt,rt,nt)=>{const it=et[_e.method];return it===void 0?rt():typeof it=="function"?it(_e,tt,rt,nt):(tt.result=it,nt())}}createScaffoldMiddleware$3.createScaffoldMiddleware=createScaffoldMiddleware$2;var JsonRpcEngine$1={},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(JsonRpcEngine$1,"__esModule",{value:!0});JsonRpcEngine$1.JsonRpcEngine=void 0;const safe_event_emitter_1$1=__importDefault$9(safeEventEmitter$1),eth_rpc_errors_1$2=dist$1;class JsonRpcEngine extends safe_event_emitter_1$1.default{constructor(){super(),this._middleware=[]}push(_e){this._middleware.push(_e)}handle(_e,tt){if(tt&&typeof tt!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(_e)?tt?this._handleBatch(_e,tt):this._handleBatch(_e):tt?this._handle(_e,tt):this._promiseHandle(_e)}asMiddleware(){return async(_e,tt,rt,nt)=>{try{const[it,at,st]=await JsonRpcEngine._runAllMiddleware(_e,tt,this._middleware);return at?(await JsonRpcEngine._runReturnHandlers(st),nt(it)):rt(async ot=>{try{await JsonRpcEngine._runReturnHandlers(st)}catch(ct){return ot(ct)}return ot()})}catch(it){return nt(it)}}}async _handleBatch(_e,tt){try{const rt=await Promise.all(_e.map(this._promiseHandle.bind(this)));return tt?tt(null,rt):rt}catch(rt){if(tt)return tt(rt);throw rt}}_promiseHandle(_e){return new Promise(tt=>{this._handle(_e,(rt,nt)=>{tt(nt)})})}async _handle(_e,tt){if(!_e||Array.isArray(_e)||typeof _e!="object"){const at=new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof _e}`,{request:_e});return tt(at,{id:void 0,jsonrpc:"2.0",error:at})}if(typeof _e.method!="string"){const at=new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof _e.method}`,{request:_e});return tt(at,{id:_e.id,jsonrpc:"2.0",error:at})}const rt=Object.assign({},_e),nt={id:rt.id,jsonrpc:rt.jsonrpc};let it=null;try{await this._processRequest(rt,nt)}catch(at){it=at}return it&&(delete nt.result,nt.error||(nt.error=eth_rpc_errors_1$2.serializeError(it))),tt(it,nt)}async _processRequest(_e,tt){const[rt,nt,it]=await JsonRpcEngine._runAllMiddleware(_e,tt,this._middleware);if(JsonRpcEngine._checkForCompletion(_e,tt,nt),await JsonRpcEngine._runReturnHandlers(it),rt)throw rt}static async _runAllMiddleware(_e,tt,rt){const nt=[];let it=null,at=!1;for(const st of rt)if([it,at]=await JsonRpcEngine._runMiddleware(_e,tt,st,nt),at)break;return[it,at,nt.reverse()]}static _runMiddleware(_e,tt,rt,nt){return new Promise(it=>{const at=ot=>{const ct=ot||tt.error;ct&&(tt.error=eth_rpc_errors_1$2.serializeError(ct)),it([ct,!0])},st=ot=>{tt.error?at(tt.error):(ot&&(typeof ot!="function"&&at(new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof ot}" for request:
${jsonify(_e)}`,{request:_e})),nt.push(ot)),it([null,!1]))};try{rt(_e,tt,st,at)}catch(ot){at(ot)}})}static async _runReturnHandlers(_e){for(const tt of _e)await new Promise((rt,nt)=>{tt(it=>it?nt(it):rt())})}static _checkForCompletion(_e,tt,rt){if(!("result"in tt)&&!("error"in tt))throw new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jsonify(_e)}`,{request:_e});if(!rt)throw new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jsonify(_e)}`,{request:_e})}}JsonRpcEngine$1.JsonRpcEngine=JsonRpcEngine;function jsonify(et){return JSON.stringify(et,null,2)}var mergeMiddleware$1={};Object.defineProperty(mergeMiddleware$1,"__esModule",{value:!0});mergeMiddleware$1.mergeMiddleware=void 0;const JsonRpcEngine_1=JsonRpcEngine$1;function mergeMiddleware(et){const _e=new JsonRpcEngine_1.JsonRpcEngine;return et.forEach(tt=>_e.push(tt)),_e.asMiddleware()}mergeMiddleware$1.mergeMiddleware=mergeMiddleware;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(rt,nt,it,at){at===void 0&&(at=it),Object.defineProperty(rt,at,{enumerable:!0,get:function(){return nt[it]}})}:function(rt,nt,it,at){at===void 0&&(at=it),rt[at]=nt[it]}),tt=commonjsGlobal&&commonjsGlobal.__exportStar||function(rt,nt){for(var it in rt)it!=="default"&&!Object.prototype.hasOwnProperty.call(nt,it)&&_e(nt,rt,it)};Object.defineProperty(et,"__esModule",{value:!0}),tt(idRemapMiddleware,et),tt(createAsyncMiddleware$3,et),tt(createScaffoldMiddleware$3,et),tt(getUniqueId$1,et),tt(JsonRpcEngine$1,et),tt(mergeMiddleware$1,et)})(dist);var lib={},Mutex$2={},tslib={exports:{}};(function(et){var _e,tt,rt,nt,it,at,st,ot,ct,lt,ut,dt,mt,gt,bt,ht,yt,wt,xt,At,kt,Ot,Wt,Ht,Zt,Lt,Et,It,Ct;(function(vt){var Tt=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};vt(Mt(Tt,Mt(et.exports)));function Mt(Nt,$t){return Nt!==Tt&&(typeof Object.create=="function"?Object.defineProperty(Nt,"__esModule",{value:!0}):Nt.__esModule=!0),function(St,Dt){return Nt[St]=$t?$t(St,Dt):Dt}}})(function(vt){var Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,$t){Nt.__proto__=$t}||function(Nt,$t){for(var St in $t)Object.prototype.hasOwnProperty.call($t,St)&&(Nt[St]=$t[St])};_e=function(Nt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Class extends value "+String($t)+" is not a constructor or null");Tt(Nt,$t);function St(){this.constructor=Nt}Nt.prototype=$t===null?Object.create($t):(St.prototype=$t.prototype,new St)},tt=Object.assign||function(Nt){for(var $t,St=1,Dt=arguments.length;St<Dt;St++){$t=arguments[St];for(var Rt in $t)Object.prototype.hasOwnProperty.call($t,Rt)&&(Nt[Rt]=$t[Rt])}return Nt},rt=function(Nt,$t){var St={};for(var Dt in Nt)Object.prototype.hasOwnProperty.call(Nt,Dt)&&$t.indexOf(Dt)<0&&(St[Dt]=Nt[Dt]);if(Nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Rt=0,Dt=Object.getOwnPropertySymbols(Nt);Rt<Dt.length;Rt++)$t.indexOf(Dt[Rt])<0&&Object.prototype.propertyIsEnumerable.call(Nt,Dt[Rt])&&(St[Dt[Rt]]=Nt[Dt[Rt]]);return St},nt=function(Nt,$t,St,Dt){var Rt=arguments.length,_t=Rt<3?$t:Dt===null?Dt=Object.getOwnPropertyDescriptor($t,St):Dt,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(Nt,$t,St,Dt);else for(var Vt=Nt.length-1;Vt>=0;Vt--)(Pt=Nt[Vt])&&(_t=(Rt<3?Pt(_t):Rt>3?Pt($t,St,_t):Pt($t,St))||_t);return Rt>3&&_t&&Object.defineProperty($t,St,_t),_t},it=function(Nt,$t){return function(St,Dt){$t(St,Dt,Nt)}},at=function(Nt,$t,St,Dt,Rt,_t){function Pt(ir){if(ir!==void 0&&typeof ir!="function")throw new TypeError("Function expected");return ir}for(var Vt=Dt.kind,Bt=Vt==="getter"?"get":Vt==="setter"?"set":"value",qt=!$t&&Nt?Dt.static?Nt:Nt.prototype:null,Yt=$t||(qt?Object.getOwnPropertyDescriptor(qt,Dt.name):{}),Xt,rr=!1,lr=St.length-1;lr>=0;lr--){var Qt={};for(var Kt in Dt)Qt[Kt]=Kt==="access"?{}:Dt[Kt];for(var Kt in Dt.access)Qt.access[Kt]=Dt.access[Kt];Qt.addInitializer=function(ir){if(rr)throw new TypeError("Cannot add initializers after decoration has completed");_t.push(Pt(ir||null))};var sr=(0,St[lr])(Vt==="accessor"?{get:Yt.get,set:Yt.set}:Yt[Bt],Qt);if(Vt==="accessor"){if(sr===void 0)continue;if(sr===null||typeof sr!="object")throw new TypeError("Object expected");(Xt=Pt(sr.get))&&(Yt.get=Xt),(Xt=Pt(sr.set))&&(Yt.set=Xt),(Xt=Pt(sr.init))&&Rt.push(Xt)}else(Xt=Pt(sr))&&(Vt==="field"?Rt.push(Xt):Yt[Bt]=Xt)}qt&&Object.defineProperty(qt,Dt.name,Yt),rr=!0},st=function(Nt,$t,St){for(var Dt=arguments.length>2,Rt=0;Rt<$t.length;Rt++)St=Dt?$t[Rt].call(Nt,St):$t[Rt].call(Nt);return Dt?St:void 0},ot=function(Nt){return typeof Nt=="symbol"?Nt:"".concat(Nt)},ct=function(Nt,$t,St){return typeof $t=="symbol"&&($t=$t.description?"[".concat($t.description,"]"):""),Object.defineProperty(Nt,"name",{configurable:!0,value:St?"".concat(St," ",$t):$t})},lt=function(Nt,$t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Nt,$t)},ut=function(Nt,$t,St,Dt){function Rt(_t){return _t instanceof St?_t:new St(function(Pt){Pt(_t)})}return new(St||(St=Promise))(function(_t,Pt){function Vt(Yt){try{qt(Dt.next(Yt))}catch(Xt){Pt(Xt)}}function Bt(Yt){try{qt(Dt.throw(Yt))}catch(Xt){Pt(Xt)}}function qt(Yt){Yt.done?_t(Yt.value):Rt(Yt.value).then(Vt,Bt)}qt((Dt=Dt.apply(Nt,$t||[])).next())})},dt=function(Nt,$t){var St={label:0,sent:function(){if(_t[0]&1)throw _t[1];return _t[1]},trys:[],ops:[]},Dt,Rt,_t,Pt;return Pt={next:Vt(0),throw:Vt(1),return:Vt(2)},typeof Symbol=="function"&&(Pt[Symbol.iterator]=function(){return this}),Pt;function Vt(qt){return function(Yt){return Bt([qt,Yt])}}function Bt(qt){if(Dt)throw new TypeError("Generator is already executing.");for(;Pt&&(Pt=0,qt[0]&&(St=0)),St;)try{if(Dt=1,Rt&&(_t=qt[0]&2?Rt.return:qt[0]?Rt.throw||((_t=Rt.return)&&_t.call(Rt),0):Rt.next)&&!(_t=_t.call(Rt,qt[1])).done)return _t;switch(Rt=0,_t&&(qt=[qt[0]&2,_t.value]),qt[0]){case 0:case 1:_t=qt;break;case 4:return St.label++,{value:qt[1],done:!1};case 5:St.label++,Rt=qt[1],qt=[0];continue;case 7:qt=St.ops.pop(),St.trys.pop();continue;default:if(_t=St.trys,!(_t=_t.length>0&&_t[_t.length-1])&&(qt[0]===6||qt[0]===2)){St=0;continue}if(qt[0]===3&&(!_t||qt[1]>_t[0]&&qt[1]<_t[3])){St.label=qt[1];break}if(qt[0]===6&&St.label<_t[1]){St.label=_t[1],_t=qt;break}if(_t&&St.label<_t[2]){St.label=_t[2],St.ops.push(qt);break}_t[2]&&St.ops.pop(),St.trys.pop();continue}qt=$t.call(Nt,St)}catch(Yt){qt=[6,Yt],Rt=0}finally{Dt=_t=0}if(qt[0]&5)throw qt[1];return{value:qt[0]?qt[1]:void 0,done:!0}}},mt=function(Nt,$t){for(var St in Nt)St!=="default"&&!Object.prototype.hasOwnProperty.call($t,St)&&Ct($t,Nt,St)},Ct=Object.create?function(Nt,$t,St,Dt){Dt===void 0&&(Dt=St);var Rt=Object.getOwnPropertyDescriptor($t,St);(!Rt||("get"in Rt?!$t.__esModule:Rt.writable||Rt.configurable))&&(Rt={enumerable:!0,get:function(){return $t[St]}}),Object.defineProperty(Nt,Dt,Rt)}:function(Nt,$t,St,Dt){Dt===void 0&&(Dt=St),Nt[Dt]=$t[St]},gt=function(Nt){var $t=typeof Symbol=="function"&&Symbol.iterator,St=$t&&Nt[$t],Dt=0;if(St)return St.call(Nt);if(Nt&&typeof Nt.length=="number")return{next:function(){return Nt&&Dt>=Nt.length&&(Nt=void 0),{value:Nt&&Nt[Dt++],done:!Nt}}};throw new TypeError($t?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=function(Nt,$t){var St=typeof Symbol=="function"&&Nt[Symbol.iterator];if(!St)return Nt;var Dt=St.call(Nt),Rt,_t=[],Pt;try{for(;($t===void 0||$t-- >0)&&!(Rt=Dt.next()).done;)_t.push(Rt.value)}catch(Vt){Pt={error:Vt}}finally{try{Rt&&!Rt.done&&(St=Dt.return)&&St.call(Dt)}finally{if(Pt)throw Pt.error}}return _t},ht=function(){for(var Nt=[],$t=0;$t<arguments.length;$t++)Nt=Nt.concat(bt(arguments[$t]));return Nt},yt=function(){for(var Nt=0,$t=0,St=arguments.length;$t<St;$t++)Nt+=arguments[$t].length;for(var Dt=Array(Nt),Rt=0,$t=0;$t<St;$t++)for(var _t=arguments[$t],Pt=0,Vt=_t.length;Pt<Vt;Pt++,Rt++)Dt[Rt]=_t[Pt];return Dt},wt=function(Nt,$t,St){if(St||arguments.length===2)for(var Dt=0,Rt=$t.length,_t;Dt<Rt;Dt++)(_t||!(Dt in $t))&&(_t||(_t=Array.prototype.slice.call($t,0,Dt)),_t[Dt]=$t[Dt]);return Nt.concat(_t||Array.prototype.slice.call($t))},xt=function(Nt){return this instanceof xt?(this.v=Nt,this):new xt(Nt)},At=function(Nt,$t,St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt=St.apply(Nt,$t||[]),Rt,_t=[];return Rt={},Pt("next"),Pt("throw"),Pt("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt;function Pt(rr){Dt[rr]&&(Rt[rr]=function(lr){return new Promise(function(Qt,Kt){_t.push([rr,lr,Qt,Kt])>1||Vt(rr,lr)})})}function Vt(rr,lr){try{Bt(Dt[rr](lr))}catch(Qt){Xt(_t[0][3],Qt)}}function Bt(rr){rr.value instanceof xt?Promise.resolve(rr.value.v).then(qt,Yt):Xt(_t[0][2],rr)}function qt(rr){Vt("next",rr)}function Yt(rr){Vt("throw",rr)}function Xt(rr,lr){rr(lr),_t.shift(),_t.length&&Vt(_t[0][0],_t[0][1])}},kt=function(Nt){var $t,St;return $t={},Dt("next"),Dt("throw",function(Rt){throw Rt}),Dt("return"),$t[Symbol.iterator]=function(){return this},$t;function Dt(Rt,_t){$t[Rt]=Nt[Rt]?function(Pt){return(St=!St)?{value:xt(Nt[Rt](Pt)),done:!1}:_t?_t(Pt):Pt}:_t}},Ot=function(Nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $t=Nt[Symbol.asyncIterator],St;return $t?$t.call(Nt):(Nt=typeof gt=="function"?gt(Nt):Nt[Symbol.iterator](),St={},Dt("next"),Dt("throw"),Dt("return"),St[Symbol.asyncIterator]=function(){return this},St);function Dt(_t){St[_t]=Nt[_t]&&function(Pt){return new Promise(function(Vt,Bt){Pt=Nt[_t](Pt),Rt(Vt,Bt,Pt.done,Pt.value)})}}function Rt(_t,Pt,Vt,Bt){Promise.resolve(Bt).then(function(qt){_t({value:qt,done:Vt})},Pt)}},Wt=function(Nt,$t){return Object.defineProperty?Object.defineProperty(Nt,"raw",{value:$t}):Nt.raw=$t,Nt};var Mt=Object.create?function(Nt,$t){Object.defineProperty(Nt,"default",{enumerable:!0,value:$t})}:function(Nt,$t){Nt.default=$t};Ht=function(Nt){if(Nt&&Nt.__esModule)return Nt;var $t={};if(Nt!=null)for(var St in Nt)St!=="default"&&Object.prototype.hasOwnProperty.call(Nt,St)&&Ct($t,Nt,St);return Mt($t,Nt),$t},Zt=function(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}},Lt=function(Nt,$t,St,Dt){if(St==="a"&&!Dt)throw new TypeError("Private accessor was defined without a getter");if(typeof $t=="function"?Nt!==$t||!Dt:!$t.has(Nt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return St==="m"?Dt:St==="a"?Dt.call(Nt):Dt?Dt.value:$t.get(Nt)},Et=function(Nt,$t,St,Dt,Rt){if(Dt==="m")throw new TypeError("Private method is not writable");if(Dt==="a"&&!Rt)throw new TypeError("Private accessor was defined without a setter");if(typeof $t=="function"?Nt!==$t||!Rt:!$t.has(Nt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Dt==="a"?Rt.call(Nt,St):Rt?Rt.value=St:$t.set(Nt,St),St},It=function(Nt,$t){if($t===null||typeof $t!="object"&&typeof $t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Nt=="function"?$t===Nt:Nt.has($t)},vt("__extends",_e),vt("__assign",tt),vt("__rest",rt),vt("__decorate",nt),vt("__param",it),vt("__esDecorate",at),vt("__runInitializers",st),vt("__propKey",ot),vt("__setFunctionName",ct),vt("__metadata",lt),vt("__awaiter",ut),vt("__generator",dt),vt("__exportStar",mt),vt("__createBinding",Ct),vt("__values",gt),vt("__read",bt),vt("__spread",ht),vt("__spreadArrays",yt),vt("__spreadArray",wt),vt("__await",xt),vt("__asyncGenerator",At),vt("__asyncDelegator",kt),vt("__asyncValues",Ot),vt("__makeTemplateObject",Wt),vt("__importStar",Ht),vt("__importDefault",Zt),vt("__classPrivateFieldGet",Lt),vt("__classPrivateFieldSet",Et),vt("__classPrivateFieldIn",It)})})(tslib);var Semaphore$1={};Object.defineProperty(Semaphore$1,"__esModule",{value:!0});var tslib_1$2=tslib.exports,Semaphore=function(){function et(_e){if(this._maxConcurrency=_e,this._queue=[],_e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=_e}return et.prototype.acquire=function(){var _e=this,tt=this.isLocked(),rt=new Promise(function(nt){return _e._queue.push(nt)});return tt||this._dispatch(),rt},et.prototype.runExclusive=function(_e){return tslib_1$2.__awaiter(this,void 0,void 0,function(){var tt,rt,nt;return tslib_1$2.__generator(this,function(it){switch(it.label){case 0:return[4,this.acquire()];case 1:tt=it.sent(),rt=tt[0],nt=tt[1],it.label=2;case 2:return it.trys.push([2,,4,5]),[4,_e(rt)];case 3:return[2,it.sent()];case 4:return nt(),[7];case 5:return[2]}})})},et.prototype.isLocked=function(){return this._value<=0},et.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var _e=this._currentReleaser;this._currentReleaser=void 0,_e()}},et.prototype._dispatch=function(){var _e=this,tt=this._queue.shift();if(!!tt){var rt=!1;this._currentReleaser=function(){rt||(rt=!0,_e._value++,_e._dispatch())},tt([this._value--,this._currentReleaser])}},et}();Semaphore$1.default=Semaphore;Object.defineProperty(Mutex$2,"__esModule",{value:!0});var tslib_1$1=tslib.exports,Semaphore_1=Semaphore$1,Mutex$1=function(){function et(){this._semaphore=new Semaphore_1.default(1)}return et.prototype.acquire=function(){return tslib_1$1.__awaiter(this,void 0,void 0,function(){var _e,tt;return tslib_1$1.__generator(this,function(rt){switch(rt.label){case 0:return[4,this._semaphore.acquire()];case 1:return _e=rt.sent(),tt=_e[1],[2,tt]}})})},et.prototype.runExclusive=function(_e){return this._semaphore.runExclusive(function(){return _e()})},et.prototype.isLocked=function(){return this._semaphore.isLocked()},et.prototype.release=function(){this._semaphore.release()},et}();Mutex$2.default=Mutex$1;var withTimeout$1={};Object.defineProperty(withTimeout$1,"__esModule",{value:!0});withTimeout$1.withTimeout=void 0;var tslib_1=tslib.exports;function withTimeout(et,_e,tt){var rt=this;return tt===void 0&&(tt=new Error("timeout")),{acquire:function(){return new Promise(function(nt,it){return tslib_1.__awaiter(rt,void 0,void 0,function(){var at,st,ot;return tslib_1.__generator(this,function(ct){switch(ct.label){case 0:return at=!1,setTimeout(function(){at=!0,it(tt)},_e),[4,et.acquire()];case 1:return st=ct.sent(),at?(ot=Array.isArray(st)?st[1]:st,ot()):nt(st),[2]}})})})},runExclusive:function(nt){return tslib_1.__awaiter(this,void 0,void 0,function(){var it,at;return tslib_1.__generator(this,function(st){switch(st.label){case 0:it=function(){},st.label=1;case 1:return st.trys.push([1,,7,8]),[4,this.acquire()];case 2:return at=st.sent(),Array.isArray(at)?(it=at[1],[4,nt(at[0])]):[3,4];case 3:return[2,st.sent()];case 4:return it=at,[4,nt()];case 5:return[2,st.sent()];case 6:return[3,8];case 7:return it(),[7];case 8:return[2]}})})},release:function(){et.release()},isLocked:function(){return et.isLocked()}}}withTimeout$1.withTimeout=withTimeout;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.withTimeout=et.Semaphore=et.Mutex=void 0;var _e=Mutex$2;Object.defineProperty(et,"Mutex",{enumerable:!0,get:function(){return _e.default}});var tt=Semaphore$1;Object.defineProperty(et,"Semaphore",{enumerable:!0,get:function(){return tt.default}});var rt=withTimeout$1;Object.defineProperty(et,"withTimeout",{enumerable:!0,get:function(){return rt.withTimeout}})})(lib);const processFn=(et,_e,tt,rt)=>function(...nt){const it=_e.promiseModule;return new it((at,st)=>{_e.multiArgs?nt.push((...ct)=>{_e.errorFirst?ct[0]?st(ct):(ct.shift(),at(ct)):at(ct)}):_e.errorFirst?nt.push((ct,lt)=>{ct?st(ct):at(lt)}):nt.push(at),Reflect.apply(et,this===tt?rt:this,nt)})},filterCache=new WeakMap;var pify$1=(et,_e)=>{_e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,..._e};const tt=typeof et;if(!(et!==null&&(tt==="object"||tt==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${et===null?"null":tt}\``);const rt=(at,st)=>{let ot=filterCache.get(at);if(ot||(ot={},filterCache.set(at,ot)),st in ot)return ot[st];const ct=gt=>typeof gt=="string"||typeof st=="symbol"?st===gt:gt.test(st),lt=Reflect.getOwnPropertyDescriptor(at,st),ut=lt===void 0||lt.writable||lt.configurable,mt=(_e.include?_e.include.some(ct):!_e.exclude.some(ct))&&ut;return ot[st]=mt,mt},nt=new WeakMap,it=new Proxy(et,{apply(at,st,ot){const ct=nt.get(at);if(ct)return Reflect.apply(ct,st,ot);const lt=_e.excludeMain?at:processFn(at,_e,it,at);return nt.set(at,lt),Reflect.apply(lt,st,ot)},get(at,st){const ot=at[st];if(!rt(at,st)||ot===Function.prototype[st])return ot;const ct=nt.get(ot);if(ct)return ct;if(typeof ot=="function"){const lt=processFn(ot,_e,it,at);return nt.set(ot,lt),lt}return ot}});return it};const SafeEventEmitter$1=safeEventEmitter$1.default;class BaseFilter$3 extends SafeEventEmitter$1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(_e){this.updates=this.updates.concat(_e),_e.forEach(tt=>this.emit("update",tt))}addInitialResults(_e){}getChangesAndClear(){const _e=this.updates;return this.updates=[],_e}}var baseFilter=BaseFilter$3;const BaseFilter$2=baseFilter;class BaseFilterWithHistory$1 extends BaseFilter$2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(_e){this.allResults=this.allResults.concat(_e),super.addResults(_e)}addInitialResults(_e){this.allResults=this.allResults.concat(_e),super.addInitialResults(_e)}getAllResults(){return this.allResults}}var baseFilterHistory=BaseFilterWithHistory$1,hexUtils={minBlockRef:minBlockRef$1,maxBlockRef,sortBlockRefs,bnToHex:bnToHex$1,blockRefIsNumber:blockRefIsNumber$1,hexToInt:hexToInt$3,incrementHexInt:incrementHexInt$4,intToHex:intToHex$2,unsafeRandomBytes:unsafeRandomBytes$1};function minBlockRef$1(...et){return sortBlockRefs(et)[0]}function maxBlockRef(...et){const _e=sortBlockRefs(et);return _e[_e.length-1]}function sortBlockRefs(et){return et.sort((_e,tt)=>_e==="latest"||tt==="earliest"?1:tt==="latest"||_e==="earliest"?-1:hexToInt$3(_e)-hexToInt$3(tt))}function bnToHex$1(et){return"0x"+et.toString(16)}function blockRefIsNumber$1(et){return et&&!["earliest","latest","pending"].includes(et)}function hexToInt$3(et){return et==null?et:Number.parseInt(et,16)}function incrementHexInt$4(et){if(et==null)return et;const _e=hexToInt$3(et);return intToHex$2(_e+1)}function intToHex$2(et){if(et==null)return et;let _e=et.toString(16);return _e.length%2&&(_e="0"+_e),"0x"+_e}function unsafeRandomBytes$1(et){let _e="0x";for(let tt=0;tt<et;tt++)_e+=unsafeRandomNibble(),_e+=unsafeRandomNibble();return _e}function unsafeRandomNibble(){return Math.floor(Math.random()*16).toString(16)}const EthQuery=ethQuery,pify=pify$1,BaseFilterWithHistory=baseFilterHistory,{bnToHex,hexToInt:hexToInt$2,incrementHexInt:incrementHexInt$3,minBlockRef,blockRefIsNumber}=hexUtils;class LogFilter$1 extends BaseFilterWithHistory{constructor({provider:_e,params:tt}){super(),this.type="log",this.ethQuery=new EthQuery(_e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},tt),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(rt=>rt.toLowerCase()))}async initialize({currentBlock:_e}){let tt=this.params.fromBlock;["latest","pending"].includes(tt)&&(tt=_e),tt==="earliest"&&(tt="0x0"),this.params.fromBlock=tt;const rt=minBlockRef(this.params.toBlock,_e),nt=Object.assign({},this.params,{toBlock:rt}),it=await this._fetchLogs(nt);this.addInitialResults(it)}async update({oldBlock:_e,newBlock:tt}){const rt=tt;let nt;_e?nt=incrementHexInt$3(_e):nt=tt;const it=Object.assign({},this.params,{fromBlock:nt,toBlock:rt}),st=(await this._fetchLogs(it)).filter(ot=>this.matchLog(ot));this.addResults(st)}async _fetchLogs(_e){return await pify(rt=>this.ethQuery.getLogs(_e,rt))()}matchLog(_e){if(hexToInt$2(this.params.fromBlock)>=hexToInt$2(_e.blockNumber)||blockRefIsNumber(this.params.toBlock)&&hexToInt$2(this.params.toBlock)<=hexToInt$2(_e.blockNumber))return!1;const tt=_e.address&&_e.address.toLowerCase();return this.params.address&&tt&&!this.params.address.includes(tt)?!1:this.params.topics.every((nt,it)=>{let at=_e.topics[it];if(!at)return!1;at=at.toLowerCase();let st=Array.isArray(nt)?nt:[nt];return st.includes(null)?!0:(st=st.map(lt=>lt.toLowerCase()),st.includes(at))})}}var logFilter=LogFilter$1,getBlocksForRange_1=getBlocksForRange$3;async function getBlocksForRange$3({provider:et,fromBlock:_e,toBlock:tt}){_e||(_e=tt);const rt=hexToInt$1(_e),it=hexToInt$1(tt)-rt+1,at=Array(it).fill().map((ot,ct)=>rt+ct).map(intToHex$1);return await Promise.all(at.map(ot=>query(et,"eth_getBlockByNumber",[ot,!1])))}function hexToInt$1(et){return et==null?et:Number.parseInt(et,16)}function intToHex$1(et){return et==null?et:"0x"+et.toString(16)}function sendAsync(et,_e){return new Promise((tt,rt)=>{et.sendAsync(_e,(nt,it)=>{nt?rt(nt):it.error?rt(it.error):it.result?tt(it.result):rt(new Error("Result was empty"))})})}async function query(et,_e,tt){for(let rt=0;rt<3;rt++)try{return await sendAsync(et,{id:1,jsonrpc:"2.0",method:_e,params:tt})}catch(nt){console.error(`provider.sendAsync failed: ${nt.stack||nt.message||nt}`)}throw new Error(`Block not found for params: ${JSON.stringify(tt)}`)}const BaseFilter$1=baseFilter,getBlocksForRange$2=getBlocksForRange_1,{incrementHexInt:incrementHexInt$2}=hexUtils;class BlockFilter$1 extends BaseFilter$1{constructor({provider:_e,params:tt}){super(),this.type="block",this.provider=_e}async update({oldBlock:_e,newBlock:tt}){const rt=tt,nt=incrementHexInt$2(_e),at=(await getBlocksForRange$2({provider:this.provider,fromBlock:nt,toBlock:rt})).map(st=>st.hash);this.addResults(at)}}var blockFilter=BlockFilter$1;const BaseFilter=baseFilter,getBlocksForRange$1=getBlocksForRange_1,{incrementHexInt:incrementHexInt$1}=hexUtils;class TxFilter$1 extends BaseFilter{constructor({provider:_e}){super(),this.type="tx",this.provider=_e}async update({oldBlock:_e}){const tt=_e,rt=incrementHexInt$1(_e),nt=await getBlocksForRange$1({provider:this.provider,fromBlock:rt,toBlock:tt}),it=[];for(const at of nt)it.push(...at.transactions);this.addResults(it)}}var txFilter=TxFilter$1;const Mutex=lib.Mutex,{createAsyncMiddleware:createAsyncMiddleware$1,createScaffoldMiddleware:createScaffoldMiddleware$1}=dist,LogFilter=logFilter,BlockFilter=blockFilter,TxFilter=txFilter,{intToHex,hexToInt}=hexUtils;var ethJsonRpcFilters=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:et,provider:_e}){let tt=0,rt={};const nt=new Mutex,it=mutexMiddlewareWrapper({mutex:nt}),at=createScaffoldMiddleware$1({eth_newFilter:it(toFilterCreationMiddleware(ot)),eth_newBlockFilter:it(toFilterCreationMiddleware(ct)),eth_newPendingTransactionFilter:it(toFilterCreationMiddleware(lt)),eth_uninstallFilter:it(toAsyncRpcMiddleware(mt)),eth_getFilterChanges:it(toAsyncRpcMiddleware(ut)),eth_getFilterLogs:it(toAsyncRpcMiddleware(dt))}),st=async({oldBlock:wt,newBlock:xt})=>{if(rt.length===0)return;const At=await nt.acquire();try{await Promise.all(objValues(rt).map(async kt=>{try{await kt.update({oldBlock:wt,newBlock:xt})}catch(Ot){console.error(Ot)}}))}catch(kt){console.error(kt)}At()};return at.newLogFilter=ot,at.newBlockFilter=ct,at.newPendingTransactionFilter=lt,at.uninstallFilter=mt,at.getFilterChanges=ut,at.getFilterLogs=dt,at.destroy=()=>{ht()},at;async function ot(wt){const xt=new LogFilter({provider:_e,params:wt});return await gt(xt),xt}async function ct(){const wt=new BlockFilter({provider:_e});return await gt(wt),wt}async function lt(){const wt=new TxFilter({provider:_e});return await gt(wt),wt}async function ut(wt){const xt=hexToInt(wt),At=rt[xt];if(!At)throw new Error(`No filter for index "${xt}"`);return At.getChangesAndClear()}async function dt(wt){const xt=hexToInt(wt),At=rt[xt];if(!At)throw new Error(`No filter for index "${xt}"`);let kt=[];return At.type==="log"&&(kt=At.getAllResults()),kt}async function mt(wt){const xt=hexToInt(wt),At=rt[xt],kt=Boolean(At);return kt&&await bt(xt),kt}async function gt(wt){const xt=objValues(rt).length,At=await et.getLatestBlock();await wt.initialize({currentBlock:At}),tt++,rt[tt]=wt,wt.id=tt,wt.idHex=intToHex(tt);const kt=objValues(rt).length;return yt({prevFilterCount:xt,newFilterCount:kt}),tt}async function bt(wt){const xt=objValues(rt).length;delete rt[wt];const At=objValues(rt).length;yt({prevFilterCount:xt,newFilterCount:At})}async function ht(){const wt=objValues(rt).length;rt={},yt({prevFilterCount:wt,newFilterCount:0})}function yt({prevFilterCount:wt,newFilterCount:xt}){if(wt===0&&xt>0){et.on("sync",st);return}if(wt>0&&xt===0){et.removeListener("sync",st);return}}}function toFilterCreationMiddleware(et){return toAsyncRpcMiddleware(async(..._e)=>{const tt=await et(..._e);return intToHex(tt.id)})}function toAsyncRpcMiddleware(et){return createAsyncMiddleware$1(async(_e,tt)=>{const rt=await et.apply(null,_e.params);tt.result=rt})}function mutexMiddlewareWrapper({mutex:et}){return _e=>async(tt,rt,nt,it)=>{(await et.acquire())(),_e(tt,rt,nt,it)}}function objValues(et,_e){const tt=[];for(let rt in et)tt.push(et[rt]);return tt}const SafeEventEmitter=safeEventEmitter$1.default,{createAsyncMiddleware,createScaffoldMiddleware}=dist,createFilterMiddleware=ethJsonRpcFilters,{unsafeRandomBytes,incrementHexInt}=hexUtils,getBlocksForRange=getBlocksForRange_1;var subscriptionManager=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:et,provider:_e}){const tt={},rt=createFilterMiddleware({blockTracker:et,provider:_e});let nt=!1;const it=new SafeEventEmitter,at=createScaffoldMiddleware({eth_subscribe:createAsyncMiddleware(st),eth_unsubscribe:createAsyncMiddleware(ot)});return at.destroy=lt,{events:it,middleware:at};async function st(ut,dt){if(nt)throw new Error("SubscriptionManager - attempting to use after destroying");const mt=ut.params[0],gt=unsafeRandomBytes(16);let bt;switch(mt){case"newHeads":bt=ht({subId:gt});break;case"logs":const wt=ut.params[1],xt=await rt.newLogFilter(wt);bt=yt({subId:gt,filter:xt});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${mt}"`)}tt[gt]=bt,dt.result=gt;return;function ht({subId:wt}){const xt={type:mt,destroy:async()=>{et.removeListener("sync",xt.update)},update:async({oldBlock:At,newBlock:kt})=>{const Ot=kt,Wt=incrementHexInt(At);(await getBlocksForRange({provider:_e,fromBlock:Wt,toBlock:Ot})).map(normalizeBlock).filter(Lt=>Lt!==null).forEach(Lt=>{ct(wt,Lt)})}};return et.on("sync",xt.update),xt}function yt({subId:wt,filter:xt}){return xt.on("update",kt=>ct(wt,kt)),{type:mt,destroy:async()=>await rt.uninstallFilter(xt.idHex)}}}async function ot(ut,dt){if(nt)throw new Error("SubscriptionManager - attempting to use after destroying");const mt=ut.params[0],gt=tt[mt];if(!gt){dt.result=!1;return}delete tt[mt],await gt.destroy(),dt.result=!0}function ct(ut,dt){it.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:ut,result:dt}})}function lt(){it.removeAllListeners();for(const ut in tt)tt[ut].destroy(),delete tt[ut];nt=!0}}function normalizeBlock(et){return et==null?null:{hash:et.hash,parentHash:et.parentHash,sha3Uncles:et.sha3Uncles,miner:et.miner,stateRoot:et.stateRoot,transactionsRoot:et.transactionsRoot,receiptsRoot:et.receiptsRoot,logsBloom:et.logsBloom,difficulty:et.difficulty,number:et.number,gasLimit:et.gasLimit,gasUsed:et.gasUsed,nonce:et.nonce,mixHash:et.mixHash,timestamp:et.timestamp,extraData:et.extraData}}Object.defineProperty(SubscriptionManager$1,"__esModule",{value:!0});SubscriptionManager$1.SubscriptionManager=void 0;const PollingBlockTracker=polling,createSubscriptionManager=subscriptionManager,noop$1=()=>{};class SubscriptionManager{constructor(_e){const tt=new PollingBlockTracker({provider:_e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:rt,middleware:nt}=createSubscriptionManager({blockTracker:tt,provider:_e});this.events=rt,this.subscriptionMiddleware=nt}async handleRequest(_e){const tt={};return await this.subscriptionMiddleware(_e,tt,noop$1,noop$1),tt}destroy(){this.subscriptionMiddleware.destroy()}}SubscriptionManager$1.SubscriptionManager=SubscriptionManager;var __importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(CoinbaseWalletProvider$1,"__esModule",{value:!0});CoinbaseWalletProvider$1.CoinbaseWalletProvider=void 0;const safe_event_emitter_1=__importDefault$8(safeEventEmitter$1),bn_js_1=__importDefault$8(bn$1.exports),eth_rpc_errors_1$1=dist$1,DiagnosticLogger_1$2=DiagnosticLogger,Session_1$2=Session$1,WalletSDKRelayAbstract_1$1=WalletSDKRelayAbstract$1,util_1$5=util$5,eth_eip712_util_1=__importDefault$8(ethEip712Util),FilterPolyfill_1=FilterPolyfill$1,JSONRPC_1=JSONRPC,SubscriptionManager_1=SubscriptionManager$1,DEFAULT_CHAIN_ID_KEY="DefaultChainId",DEFAULT_JSON_RPC_URL="DefaultJsonRpcUrl";class CoinbaseWalletProvider extends safe_event_emitter_1.default{constructor(_e){var tt,rt;super(),this._filterPolyfill=new FilterPolyfill_1.FilterPolyfill(this),this._subscriptionManager=new SubscriptionManager_1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=_e.chainId,this._jsonRpcUrlFromOpts=_e.jsonRpcUrl,this._overrideIsMetaMask=_e.overrideIsMetaMask,this._relayProvider=_e.relayProvider,this._storage=_e.storage,this._relayEventManager=_e.relayEventManager,this.diagnostic=_e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(tt=_e.overrideIsCoinbaseWallet)!==null&&tt!==void 0?tt:!0,this.isCoinbaseBrowser=(rt=_e.overrideIsCoinbaseBrowser)!==null&&rt!==void 0?rt:!1,this.qrUrl=_e.qrUrl,this.supportsAddressSwitching=_e.supportsAddressSwitching,this.isLedger=_e.isLedger;const nt=this.getChainId(),it=(0,util_1$5.prepend0x)(nt.toString(16));this.emit("connect",{chainIdStr:it});const at=this._storage.getItem(WalletSDKRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY);if(at){const st=at.split(" ");st[0]!==""&&(this._addresses=st.map(ot=>(0,util_1$5.ensureAddressString)(ot)),this.emit("accountsChanged",st))}this._subscriptionManager.events.on("notification",st=>{this.emit("message",{type:st.method,data:st.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",st=>{var ot;if(!(st.origin!==location.origin||st.source!==window)&&st.data.type==="walletLinkMessage"){if(st.data.data.action==="defaultChainChanged"||st.data.data.action==="dappChainSwitched"){const ct=st.data.data.chainId,lt=(ot=st.data.data.jsonRpcUrl)!==null&&ot!==void 0?ot:this.jsonRpcUrl;this.updateProviderInfo(lt,Number(ct))}st.data.data.action==="addressChanged"&&this._setAddresses([st.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,util_1$5.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var _e;return(_e=this._storage.getItem(DEFAULT_JSON_RPC_URL))!==null&&_e!==void 0?_e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(_e){this._storage.setItem(DEFAULT_JSON_RPC_URL,_e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(_e,tt){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=tt,this._jsonRpcUrlFromOpts=_e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(_e,tt){this.jsonRpcUrl=_e;const rt=this.getChainId();this._storage.setItem(DEFAULT_CHAIN_ID_KEY,tt.toString(10)),((0,util_1$5.ensureIntNumber)(tt)!==rt||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(_e,tt,rt,nt,it,at){return!!(await(await this.initializeRelay()).watchAsset(_e,tt,rt,nt,it,at==null?void 0:at.toString()).promise).result}async addEthereumChain(_e,tt,rt,nt,it,at){var st,ot;if((0,util_1$5.ensureIntNumber)(_e)===this.getChainId())return!1;const ct=await this.initializeRelay(),lt=ct.inlineAddEthereumChain(_e.toString());!this._isAuthorized()&&!lt&&await ct.requestEthereumAccounts().promise;const ut=await ct.addEthereumChain(_e.toString(),tt,it,rt,nt,at).promise;return((st=ut.result)===null||st===void 0?void 0:st.isApproved)===!0&&this.updateProviderInfo(tt[0],_e),((ot=ut.result)===null||ot===void 0?void 0:ot.isApproved)===!0}async switchEthereumChain(_e){const rt=await(await this.initializeRelay()).switchEthereumChain(_e.toString(10),this.selectedAddress||void 0).promise;if(rt.errorCode)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:rt.errorCode});const nt=rt.result;nt.isApproved&&nt.rpcUrl.length>0&&this.updateProviderInfo(nt.rpcUrl,_e)}setAppInfo(_e,tt){this.initializeRelay().then(rt=>rt.setAppInfo(_e,tt))}async enable(){var _e;return(_e=this.diagnostic)===null||_e===void 0||_e.log(DiagnosticLogger_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(_e,tt){if(typeof _e=="string"){const nt=_e,it=Array.isArray(tt)?tt:tt!==void 0?[tt]:[],at={jsonrpc:"2.0",id:0,method:nt,params:it};return this._sendRequestAsync(at).then(st=>st.result)}if(typeof tt=="function"){const nt=_e,it=tt;return this._sendAsync(nt,it)}if(Array.isArray(_e))return _e.map(it=>this._sendRequest(it));const rt=_e;return this._sendRequest(rt)}async sendAsync(_e,tt){if(typeof tt!="function")throw new Error("callback is required");if(Array.isArray(_e)){const nt=tt;this._sendMultipleRequestsAsync(_e).then(it=>nt(null,it)).catch(it=>nt(it,null));return}const rt=tt;return this._sendRequestAsync(_e).then(nt=>rt(null,nt)).catch(nt=>rt(nt,null))}async request(_e){if(!_e||typeof _e!="object"||Array.isArray(_e))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:_e});const{method:tt,params:rt}=_e;if(typeof tt!="string"||tt.length===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:_e});if(rt!==void 0&&!Array.isArray(rt)&&(typeof rt!="object"||rt===null))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:_e});const nt=rt===void 0?[]:rt,it=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:tt,params:nt,jsonrpc:"2.0",id:it})).result}async scanQRCode(_e){const rt=await(await this.initializeRelay()).scanQRCode((0,util_1$5.ensureRegExpString)(_e)).promise;if(typeof rt.result!="string")throw new Error("result was not a string");return rt.result}async genericRequest(_e,tt){const nt=await(await this.initializeRelay()).genericRequest(_e,tt).promise;if(typeof nt.result!="string")throw new Error("result was not a string");return nt.result}async selectProvider(_e){const rt=await(await this.initializeRelay()).selectProvider(_e).promise;if(typeof rt.result!="string")throw new Error("result was not a string");return rt.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(_e){const tt={jsonrpc:"2.0",id:_e.id},{method:rt}=_e;if(tt.result=this._handleSynchronousMethods(_e),tt.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${rt} synchronously without a callback. Please provide a callback parameter to call ${rt} asynchronously.`);return tt}_setAddresses(_e,tt){if(!Array.isArray(_e))throw new Error("addresses is not an array");const rt=_e.map(nt=>(0,util_1$5.ensureAddressString)(nt));JSON.stringify(rt)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!tt||(this._addresses=rt,this.emit("accountsChanged",this._addresses),this._storage.setItem(WalletSDKRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY,rt.join(" "))))}_sendRequestAsync(_e){return new Promise((tt,rt)=>{try{const nt=this._handleSynchronousMethods(_e);if(nt!==void 0)return tt({jsonrpc:"2.0",id:_e.id,result:nt});const it=this._handleAsynchronousFilterMethods(_e);if(it!==void 0){it.then(st=>tt(Object.assign(Object.assign({},st),{id:_e.id}))).catch(st=>rt(st));return}const at=this._handleSubscriptionMethods(_e);if(at!==void 0){at.then(st=>tt({jsonrpc:"2.0",id:_e.id,result:st.result})).catch(st=>rt(st));return}}catch(nt){return rt(nt)}this._handleAsynchronousMethods(_e).then(nt=>nt&&tt(Object.assign(Object.assign({},nt),{id:_e.id}))).catch(nt=>rt(nt))})}_sendMultipleRequestsAsync(_e){return Promise.all(_e.map(tt=>this._sendRequestAsync(tt)))}_handleSynchronousMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_accounts:return this._eth_accounts();case JSONRPC_1.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(rt);case JSONRPC_1.JSONRPCMethod.net_version:return this._net_version();case JSONRPC_1.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case JSONRPC_1.JSONRPCMethod.eth_sign:return this._eth_sign(rt);case JSONRPC_1.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(rt);case JSONRPC_1.JSONRPCMethod.personal_sign:return this._personal_sign(rt);case JSONRPC_1.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(rt);case JSONRPC_1.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:case JSONRPC_1.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(rt);case JSONRPC_1.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(rt);case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(rt);case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(rt);case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(rt)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(_e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(rt);case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(rt);case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(rt)}}_handleSubscriptionMethods(_e){switch(_e.method){case JSONRPC_1.JSONRPCMethod.eth_subscribe:case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(_e)}}_isKnownAddress(_e){try{const tt=(0,util_1$5.ensureAddressString)(_e);return this._addresses.map(nt=>(0,util_1$5.ensureAddressString)(nt)).includes(tt)}catch{}return!1}_ensureKnownAddress(_e){var tt;if(!this._isKnownAddress(_e))throw(tt=this.diagnostic)===null||tt===void 0||tt.log(DiagnosticLogger_1$2.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(_e){const tt=_e.from?(0,util_1$5.ensureAddressString)(_e.from):this.selectedAddress;if(!tt)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(tt);const rt=_e.to?(0,util_1$5.ensureAddressString)(_e.to):null,nt=_e.value!=null?(0,util_1$5.ensureBN)(_e.value):new bn_js_1.default(0),it=_e.data?(0,util_1$5.ensureBuffer)(_e.data):Buffer.alloc(0),at=_e.nonce!=null?(0,util_1$5.ensureIntNumber)(_e.nonce):null,st=_e.gasPrice!=null?(0,util_1$5.ensureBN)(_e.gasPrice):null,ot=_e.maxFeePerGas!=null?(0,util_1$5.ensureBN)(_e.maxFeePerGas):null,ct=_e.maxPriorityFeePerGas!=null?(0,util_1$5.ensureBN)(_e.maxPriorityFeePerGas):null,lt=_e.gas!=null?(0,util_1$5.ensureBN)(_e.gas):null,ut=this.getChainId();return{fromAddress:tt,toAddress:rt,weiValue:nt,data:it,nonce:at,gasPriceInWei:st,maxFeePerGas:ot,maxPriorityFeePerGas:ct,gasLimit:lt,chainId:ut}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw eth_rpc_errors_1$1.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw eth_rpc_errors_1$1.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(_e,tt,rt,nt){this._ensureKnownAddress(tt);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(_e,tt,rt,nt).promise).result}}catch(it){throw typeof it.message=="string"&&it.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied message signature"):it}}async _ethereumAddressFromSignedMessage(_e,tt,rt){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(_e,tt,rt).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,util_1$5.hexStringFromIntNumber)(this.getChainId())}getChainId(){const _e=this._storage.getItem(DEFAULT_CHAIN_ID_KEY);if(!_e)return(0,util_1$5.ensureIntNumber)(this._chainIdFromOpts);const tt=parseInt(_e,10);return(0,util_1$5.ensureIntNumber)(tt)}async _eth_requestAccounts(){var _e;if((_e=this.diagnostic)===null||_e===void 0||_e.log(DiagnosticLogger_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let tt;try{tt=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied account authorization"):rt}if(!tt.result)throw new Error("accounts received is empty");return this._setAddresses(tt.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._signEthereumMessage(rt,tt,!1)}_eth_ecRecover(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._ethereumAddressFromSignedMessage(tt,rt,!1)}_personal_sign(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureAddressString)(_e[1]);return this._signEthereumMessage(tt,rt,!0)}_personal_ecRecover(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._ethereumAddressFromSignedMessage(tt,rt,!0)}async _eth_signTransaction(_e){this._requireAuthorization();const tt=this._prepareTransactionParams(_e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(tt).promise).result}}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):rt}}async _eth_sendRawTransaction(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(tt,this.getChainId()).promise).result}}async _eth_sendTransaction(_e){this._requireAuthorization();const tt=this._prepareTransactionParams(_e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(tt).promise).result}}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):rt}}async _eth_signTypedData_v1(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureParsedJSONObject)(_e[0]),rt=(0,util_1$5.ensureAddressString)(_e[1]);this._ensureKnownAddress(rt);const nt=eth_eip712_util_1.default.hashForSignTypedDataLegacy({data:tt}),it=JSON.stringify(tt,null,2);return this._signEthereumMessage(nt,rt,!1,it)}async _eth_signTypedData_v3(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureParsedJSONObject)(_e[1]);this._ensureKnownAddress(tt);const nt=eth_eip712_util_1.default.hashForSignTypedData_v3({data:rt}),it=JSON.stringify(rt,null,2);return this._signEthereumMessage(nt,tt,!1,it)}async _eth_signTypedData_v4(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureParsedJSONObject)(_e[1]);this._ensureKnownAddress(tt);const nt=eth_eip712_util_1.default.hashForSignTypedData_v4({data:rt}),it=JSON.stringify(rt,null,2);return this._signEthereumMessage(nt,tt,!1,it)}async _cbwallet_arbitrary(_e){const tt=_e[0],rt=_e[1];if(typeof rt!="string")throw new Error("parameter must be a string");if(typeof tt!="object"||tt===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(tt,rt)}}async _wallet_addEthereumChain(_e){var tt,rt,nt,it;const at=_e[0];if(((tt=at.rpcUrls)===null||tt===void 0?void 0:tt.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!at.chainName||at.chainName.trim()==="")throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!at.nativeCurrency)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const st=parseInt(at.chainId,16);return await this.addEthereumChain(st,(rt=at.rpcUrls)!==null&&rt!==void 0?rt:[],(nt=at.blockExplorerUrls)!==null&&nt!==void 0?nt:[],at.chainName,(it=at.iconUrls)!==null&&it!==void 0?it:[],at.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(_e){const tt=_e[0];return await this.switchEthereumChain(parseInt(tt.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(_e){const tt=Array.isArray(_e)?_e[0]:_e;if(!tt.type)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"Type is required"});if((tt==null?void 0:tt.type)!=="ERC20")throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:`Asset of type '${tt.type}' is not supported`});if(!(tt!=null&&tt.options))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(tt!=null&&tt.options.address))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"Address is required"});const rt=this.getChainId(),{address:nt,symbol:it,image:at,decimals:st}=tt.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(tt.type,nt,it,st,at,rt)}}_eth_uninstallFilter(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.uninstallFilter(tt)}async _eth_newFilter(_e){const tt=_e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(tt)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.getFilterChanges(tt)}_eth_getFilterLogs(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.getFilterLogs(tt)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(_e=>(_e.setAccountsCallback((tt,rt)=>this._setAddresses(tt,rt)),_e.setChainCallback((tt,rt)=>{this.updateProviderInfo(rt,parseInt(tt,10))}),_e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=_e,_e))}}CoinbaseWalletProvider$1.CoinbaseWalletProvider=CoinbaseWalletProvider;var WalletSDKUI$1={},LinkFlow$1={},n$2,l$3,u$4,i$4,t$4,r$5,o$3,f$5,e$4,c$4={},s$3=[],a$3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h$5(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function v$5(et){var _e=et.parentNode;_e&&_e.removeChild(et)}function y$5(et,_e,tt){var rt,nt,it,at={};for(it in _e)it=="key"?rt=_e[it]:it=="ref"?nt=_e[it]:at[it]=_e[it];if(arguments.length>2&&(at.children=arguments.length>3?n$2.call(arguments,2):tt),typeof et=="function"&&et.defaultProps!=null)for(it in et.defaultProps)at[it]===void 0&&(at[it]=et.defaultProps[it]);return p$5(et,at,rt,nt,null)}function p$5(et,_e,tt,rt,nt){var it={type:et,props:_e,key:tt,ref:rt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:nt==null?++u$4:nt};return nt==null&&l$3.vnode!=null&&l$3.vnode(it),it}function d$5(){return{current:null}}function _$5(et){return et.children}function k$5(et,_e){this.props=et,this.context=_e}function b$4(et,_e){if(_e==null)return et.__?b$4(et.__,et.__.__k.indexOf(et)+1):null;for(var tt;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null)return tt.__e;return typeof et.type=="function"?b$4(et):null}function g$5(et){var _e,tt;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,_e=0;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null){et.__e=et.__c.base=tt.__e;break}return g$5(et)}}function m$5(et){(!et.__d&&(et.__d=!0)&&t$4.push(et)&&!w$5.__r++||r$5!==l$3.debounceRendering)&&((r$5=l$3.debounceRendering)||o$3)(w$5)}function w$5(){var et,_e,tt,rt,nt,it,at,st;for(t$4.sort(f$5);et=t$4.shift();)et.__d&&(_e=t$4.length,rt=void 0,nt=void 0,at=(it=(tt=et).__v).__e,(st=tt.__P)&&(rt=[],(nt=h$5({},it)).__v=it.__v+1,L$3(st,it,nt,tt.__n,st.ownerSVGElement!==void 0,it.__h!=null?[at]:null,rt,at==null?b$4(it):at,it.__h),M$3(rt,it),it.__e!=at&&g$5(it)),t$4.length>_e&&t$4.sort(f$5));w$5.__r=0}function x$4(et,_e,tt,rt,nt,it,at,st,ot,ct){var lt,ut,dt,mt,gt,bt,ht,yt=rt&&rt.__k||s$3,wt=yt.length;for(tt.__k=[],lt=0;lt<_e.length;lt++)if((mt=tt.__k[lt]=(mt=_e[lt])==null||typeof mt=="boolean"||typeof mt=="function"?null:typeof mt=="string"||typeof mt=="number"||typeof mt=="bigint"?p$5(null,mt,null,null,mt):Array.isArray(mt)?p$5(_$5,{children:mt},null,null,null):mt.__b>0?p$5(mt.type,mt.props,mt.key,mt.ref?mt.ref:null,mt.__v):mt)!=null){if(mt.__=tt,mt.__b=tt.__b+1,(dt=yt[lt])===null||dt&&mt.key==dt.key&&mt.type===dt.type)yt[lt]=void 0;else for(ut=0;ut<wt;ut++){if((dt=yt[ut])&&mt.key==dt.key&&mt.type===dt.type){yt[ut]=void 0;break}dt=null}L$3(et,mt,dt=dt||c$4,nt,it,at,st,ot,ct),gt=mt.__e,(ut=mt.ref)&&dt.ref!=ut&&(ht||(ht=[]),dt.ref&&ht.push(dt.ref,null,mt),ht.push(ut,mt.__c||gt,mt)),gt!=null?(bt==null&&(bt=gt),typeof mt.type=="function"&&mt.__k===dt.__k?mt.__d=ot=A$6(mt,ot,et):ot=C$3(et,mt,dt,yt,gt,ot),typeof tt.type=="function"&&(tt.__d=ot)):ot&&dt.__e==ot&&ot.parentNode!=et&&(ot=b$4(dt))}for(tt.__e=bt,lt=wt;lt--;)yt[lt]!=null&&(typeof tt.type=="function"&&yt[lt].__e!=null&&yt[lt].__e==tt.__d&&(tt.__d=$$2(rt).nextSibling),S$2(yt[lt],yt[lt]));if(ht)for(lt=0;lt<ht.length;lt++)O$2(ht[lt],ht[++lt],ht[++lt])}function A$6(et,_e,tt){for(var rt,nt=et.__k,it=0;nt&&it<nt.length;it++)(rt=nt[it])&&(rt.__=et,_e=typeof rt.type=="function"?A$6(rt,_e,tt):C$3(tt,rt,rt,nt,rt.__e,_e));return _e}function P$4(et,_e){return _e=_e||[],et==null||typeof et=="boolean"||(Array.isArray(et)?et.some(function(tt){P$4(tt,_e)}):_e.push(et)),_e}function C$3(et,_e,tt,rt,nt,it){var at,st,ot;if(_e.__d!==void 0)at=_e.__d,_e.__d=void 0;else if(tt==null||nt!=it||nt.parentNode==null)e:if(it==null||it.parentNode!==et)et.appendChild(nt),at=null;else{for(st=it,ot=0;(st=st.nextSibling)&&ot<rt.length;ot+=1)if(st==nt)break e;et.insertBefore(nt,it),at=it}return at!==void 0?at:nt.nextSibling}function $$2(et){var _e,tt,rt;if(et.type==null||typeof et.type=="string")return et.__e;if(et.__k){for(_e=et.__k.length-1;_e>=0;_e--)if((tt=et.__k[_e])&&(rt=$$2(tt)))return rt}return null}function H$3(et,_e,tt,rt,nt){var it;for(it in tt)it==="children"||it==="key"||it in _e||T$5(et,it,null,tt[it],rt);for(it in _e)nt&&typeof _e[it]!="function"||it==="children"||it==="key"||it==="value"||it==="checked"||tt[it]===_e[it]||T$5(et,it,_e[it],tt[it],rt)}function I$3(et,_e,tt){_e[0]==="-"?et.setProperty(_e,tt==null?"":tt):et[_e]=tt==null?"":typeof tt!="number"||a$3.test(_e)?tt:tt+"px"}function T$5(et,_e,tt,rt,nt){var it;e:if(_e==="style")if(typeof tt=="string")et.style.cssText=tt;else{if(typeof rt=="string"&&(et.style.cssText=rt=""),rt)for(_e in rt)tt&&_e in tt||I$3(et.style,_e,"");if(tt)for(_e in tt)rt&&tt[_e]===rt[_e]||I$3(et.style,_e,tt[_e])}else if(_e[0]==="o"&&_e[1]==="n")it=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in et?_e.toLowerCase().slice(2):_e.slice(2),et.l||(et.l={}),et.l[_e+it]=tt,tt?rt||et.addEventListener(_e,it?z$5:j$3,it):et.removeEventListener(_e,it?z$5:j$3,it);else if(_e!=="dangerouslySetInnerHTML"){if(nt)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_e!=="width"&&_e!=="height"&&_e!=="href"&&_e!=="list"&&_e!=="form"&&_e!=="tabIndex"&&_e!=="download"&&_e in et)try{et[_e]=tt==null?"":tt;break e}catch{}typeof tt=="function"||(tt==null||tt===!1&&_e.indexOf("-")==-1?et.removeAttribute(_e):et.setAttribute(_e,tt))}}function j$3(et){return this.l[et.type+!1](l$3.event?l$3.event(et):et)}function z$5(et){return this.l[et.type+!0](l$3.event?l$3.event(et):et)}function L$3(et,_e,tt,rt,nt,it,at,st,ot){var ct,lt,ut,dt,mt,gt,bt,ht,yt,wt,xt,At,kt,Ot,Wt,Ht=_e.type;if(_e.constructor!==void 0)return null;tt.__h!=null&&(ot=tt.__h,st=_e.__e=tt.__e,_e.__h=null,it=[st]),(ct=l$3.__b)&&ct(_e);try{e:if(typeof Ht=="function"){if(ht=_e.props,yt=(ct=Ht.contextType)&&rt[ct.__c],wt=ct?yt?yt.props.value:ct.__:rt,tt.__c?bt=(lt=_e.__c=tt.__c).__=lt.__E:("prototype"in Ht&&Ht.prototype.render?_e.__c=lt=new Ht(ht,wt):(_e.__c=lt=new k$5(ht,wt),lt.constructor=Ht,lt.render=q$5),yt&&yt.sub(lt),lt.props=ht,lt.state||(lt.state={}),lt.context=wt,lt.__n=rt,ut=lt.__d=!0,lt.__h=[],lt._sb=[]),lt.__s==null&&(lt.__s=lt.state),Ht.getDerivedStateFromProps!=null&&(lt.__s==lt.state&&(lt.__s=h$5({},lt.__s)),h$5(lt.__s,Ht.getDerivedStateFromProps(ht,lt.__s))),dt=lt.props,mt=lt.state,lt.__v=_e,ut)Ht.getDerivedStateFromProps==null&&lt.componentWillMount!=null&&lt.componentWillMount(),lt.componentDidMount!=null&&lt.__h.push(lt.componentDidMount);else{if(Ht.getDerivedStateFromProps==null&&ht!==dt&&lt.componentWillReceiveProps!=null&&lt.componentWillReceiveProps(ht,wt),!lt.__e&&lt.shouldComponentUpdate!=null&&lt.shouldComponentUpdate(ht,lt.__s,wt)===!1||_e.__v===tt.__v){for(_e.__v!==tt.__v&&(lt.props=ht,lt.state=lt.__s,lt.__d=!1),lt.__e=!1,_e.__e=tt.__e,_e.__k=tt.__k,_e.__k.forEach(function(Zt){Zt&&(Zt.__=_e)}),xt=0;xt<lt._sb.length;xt++)lt.__h.push(lt._sb[xt]);lt._sb=[],lt.__h.length&&at.push(lt);break e}lt.componentWillUpdate!=null&&lt.componentWillUpdate(ht,lt.__s,wt),lt.componentDidUpdate!=null&&lt.__h.push(function(){lt.componentDidUpdate(dt,mt,gt)})}if(lt.context=wt,lt.props=ht,lt.__P=et,At=l$3.__r,kt=0,"prototype"in Ht&&Ht.prototype.render){for(lt.state=lt.__s,lt.__d=!1,At&&At(_e),ct=lt.render(lt.props,lt.state,lt.context),Ot=0;Ot<lt._sb.length;Ot++)lt.__h.push(lt._sb[Ot]);lt._sb=[]}else do lt.__d=!1,At&&At(_e),ct=lt.render(lt.props,lt.state,lt.context),lt.state=lt.__s;while(lt.__d&&++kt<25);lt.state=lt.__s,lt.getChildContext!=null&&(rt=h$5(h$5({},rt),lt.getChildContext())),ut||lt.getSnapshotBeforeUpdate==null||(gt=lt.getSnapshotBeforeUpdate(dt,mt)),Wt=ct!=null&&ct.type===_$5&&ct.key==null?ct.props.children:ct,x$4(et,Array.isArray(Wt)?Wt:[Wt],_e,tt,rt,nt,it,at,st,ot),lt.base=_e.__e,_e.__h=null,lt.__h.length&&at.push(lt),bt&&(lt.__E=lt.__=null),lt.__e=!1}else it==null&&_e.__v===tt.__v?(_e.__k=tt.__k,_e.__e=tt.__e):_e.__e=N$3(tt.__e,_e,tt,rt,nt,it,at,ot);(ct=l$3.diffed)&&ct(_e)}catch(Zt){_e.__v=null,(ot||it!=null)&&(_e.__e=st,_e.__h=!!ot,it[it.indexOf(st)]=null),l$3.__e(Zt,_e,tt)}}function M$3(et,_e){l$3.__c&&l$3.__c(_e,et),et.some(function(tt){try{et=tt.__h,tt.__h=[],et.some(function(rt){rt.call(tt)})}catch(rt){l$3.__e(rt,tt.__v)}})}function N$3(et,_e,tt,rt,nt,it,at,st){var ot,ct,lt,ut=tt.props,dt=_e.props,mt=_e.type,gt=0;if(mt==="svg"&&(nt=!0),it!=null){for(;gt<it.length;gt++)if((ot=it[gt])&&"setAttribute"in ot==!!mt&&(mt?ot.localName===mt:ot.nodeType===3)){et=ot,it[gt]=null;break}}if(et==null){if(mt===null)return document.createTextNode(dt);et=nt?document.createElementNS("http://www.w3.org/2000/svg",mt):document.createElement(mt,dt.is&&dt),it=null,st=!1}if(mt===null)ut===dt||st&&et.data===dt||(et.data=dt);else{if(it=it&&n$2.call(et.childNodes),ct=(ut=tt.props||c$4).dangerouslySetInnerHTML,lt=dt.dangerouslySetInnerHTML,!st){if(it!=null)for(ut={},gt=0;gt<et.attributes.length;gt++)ut[et.attributes[gt].name]=et.attributes[gt].value;(lt||ct)&&(lt&&(ct&&lt.__html==ct.__html||lt.__html===et.innerHTML)||(et.innerHTML=lt&&lt.__html||""))}if(H$3(et,dt,ut,nt,st),lt)_e.__k=[];else if(gt=_e.props.children,x$4(et,Array.isArray(gt)?gt:[gt],_e,tt,rt,nt&&mt!=="foreignObject",it,at,it?it[0]:tt.__k&&b$4(tt,0),st),it!=null)for(gt=it.length;gt--;)it[gt]!=null&&v$5(it[gt]);st||("value"in dt&&(gt=dt.value)!==void 0&&(gt!==et.value||mt==="progress"&&!gt||mt==="option"&&gt!==ut.value)&&T$5(et,"value",gt,ut.value,!1),"checked"in dt&&(gt=dt.checked)!==void 0&&gt!==et.checked&&T$5(et,"checked",gt,ut.checked,!1))}return et}function O$2(et,_e,tt){try{typeof et=="function"?et(_e):et.current=_e}catch(rt){l$3.__e(rt,tt)}}function S$2(et,_e,tt){var rt,nt;if(l$3.unmount&&l$3.unmount(et),(rt=et.ref)&&(rt.current&&rt.current!==et.__e||O$2(rt,null,_e)),(rt=et.__c)!=null){if(rt.componentWillUnmount)try{rt.componentWillUnmount()}catch(it){l$3.__e(it,_e)}rt.base=rt.__P=null,et.__c=void 0}if(rt=et.__k)for(nt=0;nt<rt.length;nt++)rt[nt]&&S$2(rt[nt],_e,tt||typeof et.type!="function");tt||et.__e==null||v$5(et.__e),et.__=et.__e=et.__d=void 0}function q$5(et,_e,tt){return this.constructor(et,tt)}function B$3(et,_e,tt){var rt,nt,it;l$3.__&&l$3.__(et,_e),nt=(rt=typeof tt=="function")?null:tt&&tt.__k||_e.__k,it=[],L$3(_e,et=(!rt&&tt||_e).__k=y$5(_$5,null,[et]),nt||c$4,c$4,_e.ownerSVGElement!==void 0,!rt&&tt?[tt]:nt?null:_e.firstChild?n$2.call(_e.childNodes):null,it,!rt&&tt?tt:nt?nt.__e:_e.firstChild,rt),M$3(it,et)}function D$3(et,_e){B$3(et,_e,D$3)}function E$4(et,_e,tt){var rt,nt,it,at=h$5({},et.props);for(it in _e)it=="key"?rt=_e[it]:it=="ref"?nt=_e[it]:at[it]=_e[it];return arguments.length>2&&(at.children=arguments.length>3?n$2.call(arguments,2):tt),p$5(et.type,at,rt||et.key,nt||et.ref,null)}function F$4(et,_e){var tt={__c:_e="__cC"+e$4++,__:et,Consumer:function(rt,nt){return rt.children(nt)},Provider:function(rt){var nt,it;return this.getChildContext||(nt=[],(it={})[_e]=this,this.getChildContext=function(){return it},this.shouldComponentUpdate=function(at){this.props.value!==at.value&&nt.some(function(st){st.__e=!0,m$5(st)})},this.sub=function(at){nt.push(at);var st=at.componentWillUnmount;at.componentWillUnmount=function(){nt.splice(nt.indexOf(at),1),st&&st.call(at)}}),rt.children}};return tt.Provider.__=tt.Consumer.contextType=tt}n$2=s$3.slice,l$3={__e:function(et,_e,tt,rt){for(var nt,it,at;_e=_e.__;)if((nt=_e.__c)&&!nt.__)try{if((it=nt.constructor)&&it.getDerivedStateFromError!=null&&(nt.setState(it.getDerivedStateFromError(et)),at=nt.__d),nt.componentDidCatch!=null&&(nt.componentDidCatch(et,rt||{}),at=nt.__d),at)return nt.__E=nt}catch(st){et=st}throw et}},u$4=0,i$4=function(et){return et!=null&&et.constructor===void 0},k$5.prototype.setState=function(et,_e){var tt;tt=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=h$5({},this.state),typeof et=="function"&&(et=et(h$5({},tt),this.props)),et&&h$5(tt,et),et!=null&&this.__v&&(_e&&this._sb.push(_e),m$5(this))},k$5.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),m$5(this))},k$5.prototype.render=_$5,t$4=[],o$3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$5=function(et,_e){return et.__v.__b-_e.__v.__b},w$5.__r=0,e$4=0;const preact_module=Object.freeze(Object.defineProperty({__proto__:null,Component:k$5,Fragment:_$5,cloneElement:E$4,createContext:F$4,createElement:y$5,createRef:d$5,h:y$5,hydrate:D$3,get isValidElement(){return i$4},get options(){return l$3},render:B$3,toChildArray:P$4},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(preact_module);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(et,_e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,rt){tt.__proto__=rt}||function(tt,rt){for(var nt in rt)rt.hasOwnProperty(nt)&&(tt[nt]=rt[nt])},extendStatics(et,_e)};function __extends(et,_e){extendStatics(et,_e);function tt(){this.constructor=et}et.prototype=_e===null?Object.create(_e):(tt.prototype=_e.prototype,new tt)}var __assign$1=function(){return __assign$1=Object.assign||function(_e){for(var tt,rt=1,nt=arguments.length;rt<nt;rt++){tt=arguments[rt];for(var it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&(_e[it]=tt[it])}return _e},__assign$1.apply(this,arguments)};function __rest$1(et,_e){var tt={};for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&_e.indexOf(rt)<0&&(tt[rt]=et[rt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(et);nt<rt.length;nt++)_e.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(et,rt[nt])&&(tt[rt[nt]]=et[rt[nt]]);return tt}function __decorate$1(et,_e,tt,rt){var nt=arguments.length,it=nt<3?_e:rt===null?rt=Object.getOwnPropertyDescriptor(_e,tt):rt,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(et,_e,tt,rt);else for(var st=et.length-1;st>=0;st--)(at=et[st])&&(it=(nt<3?at(it):nt>3?at(_e,tt,it):at(_e,tt))||it);return nt>3&&it&&Object.defineProperty(_e,tt,it),it}function __param(et,_e){return function(tt,rt){_e(tt,rt,et)}}function __metadata(et,_e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(et,_e)}function __awaiter(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(lt){try{ct(rt.next(lt))}catch(ut){at(ut)}}function ot(lt){try{ct(rt.throw(lt))}catch(ut){at(ut)}}function ct(lt){lt.done?it(lt.value):nt(lt.value).then(st,ot)}ct((rt=rt.apply(et,_e||[])).next())})}function __generator(et,_e){var tt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},rt,nt,it,at;return at={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function st(ct){return function(lt){return ot([ct,lt])}}function ot(ct){if(rt)throw new TypeError("Generator is already executing.");for(;tt;)try{if(rt=1,nt&&(it=ct[0]&2?nt.return:ct[0]?nt.throw||((it=nt.return)&&it.call(nt),0):nt.next)&&!(it=it.call(nt,ct[1])).done)return it;switch(nt=0,it&&(ct=[ct[0]&2,it.value]),ct[0]){case 0:case 1:it=ct;break;case 4:return tt.label++,{value:ct[1],done:!1};case 5:tt.label++,nt=ct[1],ct=[0];continue;case 7:ct=tt.ops.pop(),tt.trys.pop();continue;default:if(it=tt.trys,!(it=it.length>0&&it[it.length-1])&&(ct[0]===6||ct[0]===2)){tt=0;continue}if(ct[0]===3&&(!it||ct[1]>it[0]&&ct[1]<it[3])){tt.label=ct[1];break}if(ct[0]===6&&tt.label<it[1]){tt.label=it[1],it=ct;break}if(it&&tt.label<it[2]){tt.label=it[2],tt.ops.push(ct);break}it[2]&&tt.ops.pop(),tt.trys.pop();continue}ct=_e.call(et,tt)}catch(lt){ct=[6,lt],nt=0}finally{rt=it=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}}function __createBinding$1(et,_e,tt,rt){rt===void 0&&(rt=tt),et[rt]=_e[tt]}function __exportStar(et,_e){for(var tt in et)tt!=="default"&&!_e.hasOwnProperty(tt)&&(_e[tt]=et[tt])}function __values(et){var _e=typeof Symbol=="function"&&Symbol.iterator,tt=_e&&et[_e],rt=0;if(tt)return tt.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&rt>=et.length&&(et=void 0),{value:et&&et[rt++],done:!et}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(et,_e){var tt=typeof Symbol=="function"&&et[Symbol.iterator];if(!tt)return et;var rt=tt.call(et),nt,it=[],at;try{for(;(_e===void 0||_e-- >0)&&!(nt=rt.next()).done;)it.push(nt.value)}catch(st){at={error:st}}finally{try{nt&&!nt.done&&(tt=rt.return)&&tt.call(rt)}finally{if(at)throw at.error}}return it}function __spread(){for(var et=[],_e=0;_e<arguments.length;_e++)et=et.concat(__read(arguments[_e]));return et}function __spreadArrays$1(){for(var et=0,_e=0,tt=arguments.length;_e<tt;_e++)et+=arguments[_e].length;for(var rt=Array(et),nt=0,_e=0;_e<tt;_e++)for(var it=arguments[_e],at=0,st=it.length;at<st;at++,nt++)rt[nt]=it[at];return rt}function __await(et){return this instanceof __await?(this.v=et,this):new __await(et)}function __asyncGenerator(et,_e,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt=tt.apply(et,_e||[]),nt,it=[];return nt={},at("next"),at("throw"),at("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function at(dt){rt[dt]&&(nt[dt]=function(mt){return new Promise(function(gt,bt){it.push([dt,mt,gt,bt])>1||st(dt,mt)})})}function st(dt,mt){try{ot(rt[dt](mt))}catch(gt){ut(it[0][3],gt)}}function ot(dt){dt.value instanceof __await?Promise.resolve(dt.value.v).then(ct,lt):ut(it[0][2],dt)}function ct(dt){st("next",dt)}function lt(dt){st("throw",dt)}function ut(dt,mt){dt(mt),it.shift(),it.length&&st(it[0][0],it[0][1])}}function __asyncDelegator(et){var _e,tt;return _e={},rt("next"),rt("throw",function(nt){throw nt}),rt("return"),_e[Symbol.iterator]=function(){return this},_e;function rt(nt,it){_e[nt]=et[nt]?function(at){return(tt=!tt)?{value:__await(et[nt](at)),done:nt==="return"}:it?it(at):at}:it}}function __asyncValues(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e=et[Symbol.asyncIterator],tt;return _e?_e.call(et):(et=typeof __values=="function"?__values(et):et[Symbol.iterator](),tt={},rt("next"),rt("throw"),rt("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function rt(it){tt[it]=et[it]&&function(at){return new Promise(function(st,ot){at=et[it](at),nt(st,ot,at.done,at.value)})}}function nt(it,at,st,ot){Promise.resolve(ot).then(function(ct){it({value:ct,done:st})},at)}}function __makeTemplateObject(et,_e){return Object.defineProperty?Object.defineProperty(et,"raw",{value:_e}):et.raw=_e,et}function __importStar$1(et){if(et&&et.__esModule)return et;var _e={};if(et!=null)for(var tt in et)Object.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt]);return _e.default=et,_e}function __importDefault$7(et){return et&&et.__esModule?et:{default:et}}function __classPrivateFieldGet(et,_e){if(!_e.has(et))throw new TypeError("attempted to get private field on non-instance");return _e.get(et)}function __classPrivateFieldSet(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to set private field on non-instance");return _e.set(et,tt),tt}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,__extends,get __assign(){return __assign$1},__rest:__rest$1,__decorate:__decorate$1,__param,__metadata,__awaiter,__generator,__createBinding:__createBinding$1,__exportStar,__values,__read,__spread,__spreadArrays:__spreadArrays$1,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar:__importStar$1,__importDefault:__importDefault$7,__classPrivateFieldGet,__classPrivateFieldSet},Symbol.toStringTag,{value:"Module"}));function isFunction(et){return typeof et=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(et){if(et){var _e=new Error;""+_e.stack}_enable_super_gross_mode_that_will_cause_bad_things=et},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(et){setTimeout(function(){throw et},0)}var empty$1={closed:!0,next:function(et){},error:function(et){if(config.useDeprecatedSynchronousErrorHandling)throw et;hostReportError(et)},complete:function(){}},isArray$2=function(){return Array.isArray||function(et){return et&&typeof et.length=="number"}}();function isObject(et){return et!==null&&typeof et=="object"}var UnsubscriptionErrorImpl=function(){function et(_e){return Error.call(this),this.message=_e?_e.length+` errors occurred during unsubscription:
`+_e.map(function(tt,rt){return rt+1+") "+tt.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=_e,this}return et.prototype=Object.create(Error.prototype),et}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function et(_e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,_e&&(this._ctorUnsubscribe=!0,this._unsubscribe=_e)}return et.prototype.unsubscribe=function(){var _e;if(!this.closed){var tt=this,rt=tt._parentOrParents,nt=tt._ctorUnsubscribe,it=tt._unsubscribe,at=tt._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,rt instanceof et)rt.remove(this);else if(rt!==null)for(var st=0;st<rt.length;++st){var ot=rt[st];ot.remove(this)}if(isFunction(it)){nt&&(this._unsubscribe=void 0);try{it.call(this)}catch(ut){_e=ut instanceof UnsubscriptionError?flattenUnsubscriptionErrors(ut.errors):[ut]}}if(isArray$2(at))for(var st=-1,ct=at.length;++st<ct;){var lt=at[st];if(isObject(lt))try{lt.unsubscribe()}catch(dt){_e=_e||[],dt instanceof UnsubscriptionError?_e=_e.concat(flattenUnsubscriptionErrors(dt.errors)):_e.push(dt)}}if(_e)throw new UnsubscriptionError(_e)}},et.prototype.add=function(_e){var tt=_e;if(!_e)return et.EMPTY;switch(typeof _e){case"function":tt=new et(_e);case"object":if(tt===this||tt.closed||typeof tt.unsubscribe!="function")return tt;if(this.closed)return tt.unsubscribe(),tt;if(!(tt instanceof et)){var rt=tt;tt=new et,tt._subscriptions=[rt]}break;default:throw new Error("unrecognized teardown "+_e+" added to Subscription.")}var nt=tt._parentOrParents;if(nt===null)tt._parentOrParents=this;else if(nt instanceof et){if(nt===this)return tt;tt._parentOrParents=[nt,this]}else if(nt.indexOf(this)===-1)nt.push(this);else return tt;var it=this._subscriptions;return it===null?this._subscriptions=[tt]:it.push(tt),tt},et.prototype.remove=function(_e){var tt=this._subscriptions;if(tt){var rt=tt.indexOf(_e);rt!==-1&&tt.splice(rt,1)}},et.EMPTY=function(_e){return _e.closed=!0,_e}(new et),et}();function flattenUnsubscriptionErrors(et){return et.reduce(function(_e,tt){return _e.concat(tt instanceof UnsubscriptionError?tt.errors:tt)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;switch(it.syncErrorValue=null,it.syncErrorThrown=!1,it.syncErrorThrowable=!1,it.isStopped=!1,arguments.length){case 0:it.destination=empty$1;break;case 1:if(!tt){it.destination=empty$1;break}if(typeof tt=="object"){tt instanceof _e?(it.syncErrorThrowable=tt.syncErrorThrowable,it.destination=tt,tt.add(it)):(it.syncErrorThrowable=!0,it.destination=new SafeSubscriber(it,tt));break}default:it.syncErrorThrowable=!0,it.destination=new SafeSubscriber(it,tt,rt,nt);break}return it}return _e.prototype[rxSubscriber]=function(){return this},_e.create=function(tt,rt,nt){var it=new _e(tt,rt,nt);return it.syncErrorThrowable=!1,it},_e.prototype.next=function(tt){this.isStopped||this._next(tt)},_e.prototype.error=function(tt){this.isStopped||(this.isStopped=!0,this._error(tt))},_e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},_e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,et.prototype.unsubscribe.call(this))},_e.prototype._next=function(tt){this.destination.next(tt)},_e.prototype._error=function(tt){this.destination.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},_e.prototype._unsubscribeAndRecycle=function(){var tt=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=tt,this},_e}(Subscription),SafeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this)||this;at._parentSubscriber=tt;var st,ot=at;return isFunction(rt)?st=rt:rt&&(st=rt.next,nt=rt.error,it=rt.complete,rt!==empty$1&&(ot=Object.create(rt),isFunction(ot.unsubscribe)&&at.add(ot.unsubscribe.bind(ot)),ot.unsubscribe=at.unsubscribe.bind(at))),at._context=ot,at._next=st,at._error=nt,at._complete=it,at}return _e.prototype.next=function(tt){if(!this.isStopped&&this._next){var rt=this._parentSubscriber;!config.useDeprecatedSynchronousErrorHandling||!rt.syncErrorThrowable?this.__tryOrUnsub(this._next,tt):this.__tryOrSetError(rt,this._next,tt)&&this.unsubscribe()}},_e.prototype.error=function(tt){if(!this.isStopped){var rt=this._parentSubscriber,nt=config.useDeprecatedSynchronousErrorHandling;if(this._error)!nt||!rt.syncErrorThrowable?(this.__tryOrUnsub(this._error,tt),this.unsubscribe()):(this.__tryOrSetError(rt,this._error,tt),this.unsubscribe());else if(rt.syncErrorThrowable)nt?(rt.syncErrorValue=tt,rt.syncErrorThrown=!0):hostReportError(tt),this.unsubscribe();else{if(this.unsubscribe(),nt)throw tt;hostReportError(tt)}}},_e.prototype.complete=function(){var tt=this;if(!this.isStopped){var rt=this._parentSubscriber;if(this._complete){var nt=function(){return tt._complete.call(tt._context)};!config.useDeprecatedSynchronousErrorHandling||!rt.syncErrorThrowable?(this.__tryOrUnsub(nt),this.unsubscribe()):(this.__tryOrSetError(rt,nt),this.unsubscribe())}else this.unsubscribe()}},_e.prototype.__tryOrUnsub=function(tt,rt){try{tt.call(this._context,rt)}catch(nt){if(this.unsubscribe(),config.useDeprecatedSynchronousErrorHandling)throw nt;hostReportError(nt)}},_e.prototype.__tryOrSetError=function(tt,rt,nt){if(!config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{rt.call(this._context,nt)}catch(it){return config.useDeprecatedSynchronousErrorHandling?(tt.syncErrorValue=it,tt.syncErrorThrown=!0,!0):(hostReportError(it),!0)}return!1},_e.prototype._unsubscribe=function(){var tt=this._parentSubscriber;this._context=null,this._parentSubscriber=null,tt.unsubscribe()},_e}(Subscriber);function canReportError(et){for(;et;){var _e=et,tt=_e.closed,rt=_e.destination,nt=_e.isStopped;if(tt||nt)return!1;rt&&rt instanceof Subscriber?et=rt:et=null}return!0}function toSubscriber(et,_e,tt){if(et){if(et instanceof Subscriber)return et;if(et[rxSubscriber])return et[rxSubscriber]()}return!et&&!_e&&!tt?new Subscriber(empty$1):new Subscriber(et,_e,tt)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(et){return et}function pipe(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return pipeFromArray(et)}function pipeFromArray(et){return et.length===0?identity:et.length===1?et[0]:function(tt){return et.reduce(function(rt,nt){return nt(rt)},tt)}}var Observable=function(){function et(_e){this._isScalar=!1,_e&&(this._subscribe=_e)}return et.prototype.lift=function(_e){var tt=new et;return tt.source=this,tt.operator=_e,tt},et.prototype.subscribe=function(_e,tt,rt){var nt=this.operator,it=toSubscriber(_e,tt,rt);if(nt?it.add(nt.call(it,this.source)):it.add(this.source||config.useDeprecatedSynchronousErrorHandling&&!it.syncErrorThrowable?this._subscribe(it):this._trySubscribe(it)),config.useDeprecatedSynchronousErrorHandling&&it.syncErrorThrowable&&(it.syncErrorThrowable=!1,it.syncErrorThrown))throw it.syncErrorValue;return it},et.prototype._trySubscribe=function(_e){try{return this._subscribe(_e)}catch(tt){config.useDeprecatedSynchronousErrorHandling&&(_e.syncErrorThrown=!0,_e.syncErrorValue=tt),canReportError(_e)?_e.error(tt):console.warn(tt)}},et.prototype.forEach=function(_e,tt){var rt=this;return tt=getPromiseCtor(tt),new tt(function(nt,it){var at;at=rt.subscribe(function(st){try{_e(st)}catch(ot){it(ot),at&&at.unsubscribe()}},it,nt)})},et.prototype._subscribe=function(_e){var tt=this.source;return tt&&tt.subscribe(_e)},et.prototype[observable]=function(){return this},et.prototype.pipe=function(){for(var _e=[],tt=0;tt<arguments.length;tt++)_e[tt]=arguments[tt];return _e.length===0?this:pipeFromArray(_e)(this)},et.prototype.toPromise=function(_e){var tt=this;return _e=getPromiseCtor(_e),new _e(function(rt,nt){var it;tt.subscribe(function(at){return it=at},function(at){return nt(at)},function(){return rt(it)})})},et.create=function(_e){return new et(_e)},et}();function getPromiseCtor(et){if(et||(et=config.Promise||Promise),!et)throw new Error("no Promise impl found");return et}var ObjectUnsubscribedErrorImpl=function(){function et(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return et.prototype=Object.create(Error.prototype),et}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.subject=tt,nt.subscriber=rt,nt.closed=!1,nt}return _e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var tt=this.subject,rt=tt.observers;if(this.subject=null,!(!rt||rt.length===0||tt.isStopped||tt.closed)){var nt=rt.indexOf(this.subscriber);nt!==-1&&rt.splice(nt,1)}}},_e}(Subscription),SubjectSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.destination=tt,rt}return _e}(Subscriber),Subject=function(et){__extends(_e,et);function _e(){var tt=et.call(this)||this;return tt.observers=[],tt.closed=!1,tt.isStopped=!1,tt.hasError=!1,tt.thrownError=null,tt}return _e.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},_e.prototype.lift=function(tt){var rt=new AnonymousSubject(this,this);return rt.operator=tt,rt},_e.prototype.next=function(tt){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var rt=this.observers,nt=rt.length,it=rt.slice(),at=0;at<nt;at++)it[at].next(tt)},_e.prototype.error=function(tt){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=tt,this.isStopped=!0;for(var rt=this.observers,nt=rt.length,it=rt.slice(),at=0;at<nt;at++)it[at].error(tt);this.observers.length=0},_e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var tt=this.observers,rt=tt.length,nt=tt.slice(),it=0;it<rt;it++)nt[it].complete();this.observers.length=0},_e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},_e.prototype._trySubscribe=function(tt){if(this.closed)throw new ObjectUnsubscribedError;return et.prototype._trySubscribe.call(this,tt)},_e.prototype._subscribe=function(tt){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(tt.error(this.thrownError),Subscription.EMPTY):this.isStopped?(tt.complete(),Subscription.EMPTY):(this.observers.push(tt),new SubjectSubscription(this,tt))},_e.prototype.asObservable=function(){var tt=new Observable;return tt.source=this,tt},_e.create=function(tt,rt){return new AnonymousSubject(tt,rt)},_e}(Observable),AnonymousSubject=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.destination=tt,nt.source=rt,nt}return _e.prototype.next=function(tt){var rt=this.destination;rt&&rt.next&&rt.next(tt)},_e.prototype.error=function(tt){var rt=this.destination;rt&&rt.error&&this.destination.error(tt)},_e.prototype.complete=function(){var tt=this.destination;tt&&tt.complete&&this.destination.complete()},_e.prototype._subscribe=function(tt){var rt=this.source;return rt?this.source.subscribe(tt):Subscription.EMPTY},_e}(Subject);function refCount(){return function(_e){return _e.lift(new RefCountOperator(_e))}}var RefCountOperator=function(){function et(_e){this.connectable=_e}return et.prototype.call=function(_e,tt){var rt=this.connectable;rt._refCount++;var nt=new RefCountSubscriber(_e,rt),it=tt.subscribe(nt);return nt.closed||(nt.connection=rt.connect()),it},et}(),RefCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.connectable=rt,nt}return _e.prototype._unsubscribe=function(){var tt=this.connectable;if(!tt){this.connection=null;return}this.connectable=null;var rt=tt._refCount;if(rt<=0){this.connection=null;return}if(tt._refCount=rt-1,rt>1){this.connection=null;return}var nt=this.connection,it=tt._connection;this.connection=null,it&&(!nt||it===nt)&&it.unsubscribe()},_e}(Subscriber),ConnectableObservable=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.source=tt,nt.subjectFactory=rt,nt._refCount=0,nt._isComplete=!1,nt}return _e.prototype._subscribe=function(tt){return this.getSubject().subscribe(tt)},_e.prototype.getSubject=function(){var tt=this._subject;return(!tt||tt.isStopped)&&(this._subject=this.subjectFactory()),this._subject},_e.prototype.connect=function(){var tt=this._connection;return tt||(this._isComplete=!1,tt=this._connection=new Subscription,tt.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),tt.closed&&(this._connection=null,tt=Subscription.EMPTY)),tt},_e.prototype.refCount=function(){return refCount()(this)},_e}(Observable),connectableObservableDescriptor=function(){var et=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}}}(),ConnectableSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.connectable=rt,nt}return _e.prototype._error=function(tt){this._unsubscribe(),et.prototype._error.call(this,tt)},_e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){var tt=this.connectable;if(tt){this.connectable=null;var rt=tt._connection;tt._refCount=0,tt._subject=null,tt._connection=null,rt&&rt.unsubscribe()}},_e}(SubjectSubscriber);function groupBy(et,_e,tt,rt){return function(nt){return nt.lift(new GroupByOperator(et,_e,tt,rt))}}var GroupByOperator=function(){function et(_e,tt,rt,nt){this.keySelector=_e,this.elementSelector=tt,this.durationSelector=rt,this.subjectSelector=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new GroupBySubscriber(_e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},et}(),GroupBySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.keySelector=rt,st.elementSelector=nt,st.durationSelector=it,st.subjectSelector=at,st.groups=null,st.attemptedToUnsubscribe=!1,st.count=0,st}return _e.prototype._next=function(tt){var rt;try{rt=this.keySelector(tt)}catch(nt){this.error(nt);return}this._group(tt,rt)},_e.prototype._group=function(tt,rt){var nt=this.groups;nt||(nt=this.groups=new Map);var it=nt.get(rt),at;if(this.elementSelector)try{at=this.elementSelector(tt)}catch(ct){this.error(ct)}else at=tt;if(!it){it=this.subjectSelector?this.subjectSelector():new Subject,nt.set(rt,it);var st=new GroupedObservable(rt,it,this);if(this.destination.next(st),this.durationSelector){var ot=void 0;try{ot=this.durationSelector(new GroupedObservable(rt,it))}catch(ct){this.error(ct);return}this.add(ot.subscribe(new GroupDurationSubscriber(rt,it,this)))}}it.closed||it.next(at)},_e.prototype._error=function(tt){var rt=this.groups;rt&&(rt.forEach(function(nt,it){nt.error(tt)}),rt.clear()),this.destination.error(tt)},_e.prototype._complete=function(){var tt=this.groups;tt&&(tt.forEach(function(rt,nt){rt.complete()}),tt.clear()),this.destination.complete()},_e.prototype.removeGroup=function(tt){this.groups.delete(tt)},_e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&et.prototype.unsubscribe.call(this))},_e}(Subscriber),GroupDurationSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,rt)||this;return it.key=tt,it.group=rt,it.parent=nt,it}return _e.prototype._next=function(tt){this.complete()},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.parent,nt=tt.key;this.key=this.parent=null,rt&&rt.removeGroup(nt)},_e}(Subscriber),GroupedObservable=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;return it.key=tt,it.groupSubject=rt,it.refCountSubscription=nt,it}return _e.prototype._subscribe=function(tt){var rt=new Subscription,nt=this,it=nt.refCountSubscription,at=nt.groupSubject;return it&&!it.closed&&rt.add(new InnerRefCountSubscription(it)),rt.add(at.subscribe(tt)),rt},_e}(Observable),InnerRefCountSubscription=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt.parent=tt,tt.count++,rt}return _e.prototype.unsubscribe=function(){var tt=this.parent;!tt.closed&&!this.closed&&(et.prototype.unsubscribe.call(this),tt.count-=1,tt.count===0&&tt.attemptedToUnsubscribe&&tt.unsubscribe())},_e}(Subscription),BehaviorSubject=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt._value=tt,rt}return Object.defineProperty(_e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),_e.prototype._subscribe=function(tt){var rt=et.prototype._subscribe.call(this,tt);return rt&&!rt.closed&&tt.next(this._value),rt},_e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},_e.prototype.next=function(tt){et.prototype.next.call(this,this._value=tt)},_e}(Subject),Action=function(et){__extends(_e,et);function _e(tt,rt){return et.call(this)||this}return _e.prototype.schedule=function(tt,rt){return this},_e}(Subscription),AsyncAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt.pending=!1,nt}return _e.prototype.schedule=function(tt,rt){if(rt===void 0&&(rt=0),this.closed)return this;this.state=tt;var nt=this.id,it=this.scheduler;return nt!=null&&(this.id=this.recycleAsyncId(it,nt,rt)),this.pending=!0,this.delay=rt,this.id=this.id||this.requestAsyncId(it,this.id,rt),this},_e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),setInterval(tt.flush.bind(tt,this),nt)},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&this.delay===nt&&this.pending===!1)return rt;clearInterval(rt)},_e.prototype.execute=function(tt,rt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var nt=this._execute(tt,rt);if(nt)return nt;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},_e.prototype._execute=function(tt,rt){var nt=!1,it=void 0;try{this.work(tt)}catch(at){nt=!0,it=!!at&&at||new Error(at)}if(nt)return this.unsubscribe(),it},_e.prototype._unsubscribe=function(){var tt=this.id,rt=this.scheduler,nt=rt.actions,it=nt.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,it!==-1&&nt.splice(it,1),tt!=null&&(this.id=this.recycleAsyncId(rt,tt,null)),this.delay=null},_e}(Action),QueueAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.schedule=function(tt,rt){return rt===void 0&&(rt=0),rt>0?et.prototype.schedule.call(this,tt,rt):(this.delay=rt,this.state=tt,this.scheduler.flush(this),this)},_e.prototype.execute=function(tt,rt){return rt>0||this.closed?et.prototype.execute.call(this,tt,rt):this._execute(tt,rt)},_e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):tt.flush(this)},_e}(AsyncAction),Scheduler=function(){function et(_e,tt){tt===void 0&&(tt=et.now),this.SchedulerAction=_e,this.now=tt}return et.prototype.schedule=function(_e,tt,rt){return tt===void 0&&(tt=0),new this.SchedulerAction(this,_e).schedule(rt,tt)},et.now=function(){return Date.now()},et}(),AsyncScheduler=function(et){__extends(_e,et);function _e(tt,rt){rt===void 0&&(rt=Scheduler.now);var nt=et.call(this,tt,function(){return _e.delegate&&_e.delegate!==nt?_e.delegate.now():rt()})||this;return nt.actions=[],nt.active=!1,nt.scheduled=void 0,nt}return _e.prototype.schedule=function(tt,rt,nt){return rt===void 0&&(rt=0),_e.delegate&&_e.delegate!==this?_e.delegate.schedule(tt,rt,nt):et.prototype.schedule.call(this,tt,rt,nt)},_e.prototype.flush=function(tt){var rt=this.actions;if(this.active){rt.push(tt);return}var nt;this.active=!0;do if(nt=tt.execute(tt.state,tt.delay))break;while(tt=rt.shift());if(this.active=!1,nt){for(;tt=rt.shift();)tt.unsubscribe();throw nt}},_e}(Scheduler),QueueScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(et){return et.complete()});function empty(et){return et?emptyScheduled(et):EMPTY}function emptyScheduled(et){return new Observable(function(_e){return et.schedule(function(){return _e.complete()})})}function isScheduler(et){return et&&typeof et.schedule=="function"}var subscribeToArray=function(et){return function(_e){for(var tt=0,rt=et.length;tt<rt&&!_e.closed;tt++)_e.next(et[tt]);_e.complete()}};function scheduleArray(et,_e){return new Observable(function(tt){var rt=new Subscription,nt=0;return rt.add(_e.schedule(function(){if(nt===et.length){tt.complete();return}tt.next(et[nt++]),tt.closed||rt.add(this.schedule())})),rt})}function fromArray(et,_e){return _e?scheduleArray(et,_e):new Observable(subscribeToArray(et))}function of(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return isScheduler(tt)?(et.pop(),scheduleArray(et,tt)):fromArray(et)}function throwError(et,_e){return _e?new Observable(function(tt){return _e.schedule(dispatch$7,0,{error:et,subscriber:tt})}):new Observable(function(tt){return tt.error(et)})}function dispatch$7(et){var _e=et.error,tt=et.subscriber;tt.error(_e)}var NotificationKind;NotificationKind||(NotificationKind={});var Notification$1=function(){function et(_e,tt,rt){this.kind=_e,this.value=tt,this.error=rt,this.hasValue=_e==="N"}return et.prototype.observe=function(_e){switch(this.kind){case"N":return _e.next&&_e.next(this.value);case"E":return _e.error&&_e.error(this.error);case"C":return _e.complete&&_e.complete()}},et.prototype.do=function(_e,tt,rt){var nt=this.kind;switch(nt){case"N":return _e&&_e(this.value);case"E":return tt&&tt(this.error);case"C":return rt&&rt()}},et.prototype.accept=function(_e,tt,rt){return _e&&typeof _e.next=="function"?this.observe(_e):this.do(_e,tt,rt)},et.prototype.toObservable=function(){var _e=this.kind;switch(_e){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},et.createNext=function(_e){return typeof _e<"u"?new et("N",_e):et.undefinedValueNotification},et.createError=function(_e){return new et("E",void 0,_e)},et.createComplete=function(){return et.completeNotification},et.completeNotification=new et("C"),et.undefinedValueNotification=new et("N",void 0),et}();function observeOn(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new ObserveOnOperator(et,_e))}}var ObserveOnOperator=function(){function et(_e,tt){tt===void 0&&(tt=0),this.scheduler=_e,this.delay=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ObserveOnSubscriber(_e,this.scheduler,this.delay))},et}(),ObserveOnSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=0);var it=et.call(this,tt)||this;return it.scheduler=rt,it.delay=nt,it}return _e.dispatch=function(tt){var rt=tt.notification,nt=tt.destination;rt.observe(nt),this.unsubscribe()},_e.prototype.scheduleMessage=function(tt){var rt=this.destination;rt.add(this.scheduler.schedule(_e.dispatch,this.delay,new ObserveOnMessage(tt,this.destination)))},_e.prototype._next=function(tt){this.scheduleMessage(Notification$1.createNext(tt))},_e.prototype._error=function(tt){this.scheduleMessage(Notification$1.createError(tt)),this.unsubscribe()},_e.prototype._complete=function(){this.scheduleMessage(Notification$1.createComplete()),this.unsubscribe()},_e}(Subscriber),ObserveOnMessage=function(){function et(_e,tt){this.notification=_e,this.destination=tt}return et}(),ReplaySubject=function(et){__extends(_e,et);function _e(tt,rt,nt){tt===void 0&&(tt=Number.POSITIVE_INFINITY),rt===void 0&&(rt=Number.POSITIVE_INFINITY);var it=et.call(this)||this;return it.scheduler=nt,it._events=[],it._infiniteTimeWindow=!1,it._bufferSize=tt<1?1:tt,it._windowTime=rt<1?1:rt,rt===Number.POSITIVE_INFINITY?(it._infiniteTimeWindow=!0,it.next=it.nextInfiniteTimeWindow):it.next=it.nextTimeWindow,it}return _e.prototype.nextInfiniteTimeWindow=function(tt){if(!this.isStopped){var rt=this._events;rt.push(tt),rt.length>this._bufferSize&&rt.shift()}et.prototype.next.call(this,tt)},_e.prototype.nextTimeWindow=function(tt){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),tt)),this._trimBufferThenGetEvents()),et.prototype.next.call(this,tt)},_e.prototype._subscribe=function(tt){var rt=this._infiniteTimeWindow,nt=rt?this._events:this._trimBufferThenGetEvents(),it=this.scheduler,at=nt.length,st;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?st=Subscription.EMPTY:(this.observers.push(tt),st=new SubjectSubscription(this,tt)),it&&tt.add(tt=new ObserveOnSubscriber(tt,it)),rt)for(var ot=0;ot<at&&!tt.closed;ot++)tt.next(nt[ot]);else for(var ot=0;ot<at&&!tt.closed;ot++)tt.next(nt[ot].value);return this.hasError?tt.error(this.thrownError):this.isStopped&&tt.complete(),st},_e.prototype._getNow=function(){return(this.scheduler||queue).now()},_e.prototype._trimBufferThenGetEvents=function(){for(var tt=this._getNow(),rt=this._bufferSize,nt=this._windowTime,it=this._events,at=it.length,st=0;st<at&&!(tt-it[st].time<nt);)st++;return at>rt&&(st=Math.max(st,at-rt)),st>0&&it.splice(0,st),it},_e}(Subject),ReplayEvent=function(){function et(_e,tt){this.time=_e,this.value=tt}return et}(),AsyncSubject=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.value=null,tt.hasNext=!1,tt.hasCompleted=!1,tt}return _e.prototype._subscribe=function(tt){return this.hasError?(tt.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(tt.next(this.value),tt.complete(),Subscription.EMPTY):et.prototype._subscribe.call(this,tt)},_e.prototype.next=function(tt){this.hasCompleted||(this.value=tt,this.hasNext=!0)},_e.prototype.error=function(tt){this.hasCompleted||et.prototype.error.call(this,tt)},_e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&et.prototype.next.call(this,this.value),et.prototype.complete.call(this)},_e}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(et){return et in activeHandles?(delete activeHandles[et],!0):!1}var Immediate={setImmediate:function(et){var _e=nextHandle++;return activeHandles[_e]=!0,RESOLVED.then(function(){return findAndClearHandle(_e)&&et()}),_e},clearImmediate:function(et){findAndClearHandle(et)}},AsapAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=Immediate.setImmediate(tt.flush.bind(tt,null))))},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0)return et.prototype.recycleAsyncId.call(this,tt,rt,nt);tt.actions.length===0&&(Immediate.clearImmediate(rt),tt.scheduled=void 0)},_e}(AsyncAction),AsapScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.flush=function(tt){this.active=!0,this.scheduled=void 0;var rt=this.actions,nt,it=-1,at=rt.length;tt=tt||rt.shift();do if(nt=tt.execute(tt.state,tt.delay))break;while(++it<at&&(tt=rt.shift()));if(this.active=!1,nt){for(;++it<at&&(tt=rt.shift());)tt.unsubscribe();throw nt}},_e}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,AnimationFrameAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=requestAnimationFrame(function(){return tt.flush(null)})))},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0)return et.prototype.recycleAsyncId.call(this,tt,rt,nt);tt.actions.length===0&&(cancelAnimationFrame(rt),tt.scheduled=void 0)},_e}(AsyncAction),AnimationFrameScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.flush=function(tt){this.active=!0,this.scheduled=void 0;var rt=this.actions,nt,it=-1,at=rt.length;tt=tt||rt.shift();do if(nt=tt.execute(tt.state,tt.delay))break;while(++it<at&&(tt=rt.shift()));if(this.active=!1,nt){for(;++it<at&&(tt=rt.shift());)tt.unsubscribe();throw nt}},_e}(AsyncScheduler),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(et){__extends(_e,et);function _e(tt,rt){tt===void 0&&(tt=VirtualAction),rt===void 0&&(rt=Number.POSITIVE_INFINITY);var nt=et.call(this,tt,function(){return nt.frame})||this;return nt.maxFrames=rt,nt.frame=0,nt.index=-1,nt}return _e.prototype.flush=function(){for(var tt=this,rt=tt.actions,nt=tt.maxFrames,it,at;(at=rt[0])&&at.delay<=nt&&(rt.shift(),this.frame=at.delay,!(it=at.execute(at.state,at.delay))););if(it){for(;at=rt.shift();)at.unsubscribe();throw it}},_e.frameTimeFactor=10,_e}(AsyncScheduler),VirtualAction=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=tt.index+=1);var it=et.call(this,tt,rt)||this;return it.scheduler=tt,it.work=rt,it.index=nt,it.active=!0,it.index=tt.index=nt,it}return _e.prototype.schedule=function(tt,rt){if(rt===void 0&&(rt=0),!this.id)return et.prototype.schedule.call(this,tt,rt);this.active=!1;var nt=new _e(this.scheduler,this.work);return this.add(nt),nt.schedule(tt,rt)},_e.prototype.requestAsyncId=function(tt,rt,nt){nt===void 0&&(nt=0),this.delay=tt.frame+nt;var it=tt.actions;return it.push(this),it.sort(_e.sortActions),!0},_e.prototype.recycleAsyncId=function(tt,rt,nt){},_e.prototype._execute=function(tt,rt){if(this.active===!0)return et.prototype._execute.call(this,tt,rt)},_e.sortActions=function(tt,rt){return tt.delay===rt.delay?tt.index===rt.index?0:tt.index>rt.index?1:-1:tt.delay>rt.delay?1:-1},_e}(AsyncAction);function noop(){}function isObservable(et){return!!et&&(et instanceof Observable||typeof et.lift=="function"&&typeof et.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function et(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return et.prototype=Object.create(Error.prototype),et}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function et(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return et.prototype=Object.create(Error.prototype),et}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function et(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return et.prototype=Object.create(Error.prototype),et}(),TimeoutError=TimeoutErrorImpl;function map(et,_e){return function(rt){if(typeof et!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return rt.lift(new MapOperator(et,_e))}}var MapOperator=function(){function et(_e,tt){this.project=_e,this.thisArg=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MapSubscriber(_e,this.project,this.thisArg))},et}(),MapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.project=rt,it.count=0,it.thisArg=nt||it,it}return _e.prototype._next=function(tt){var rt;try{rt=this.project.call(this.thisArg,tt,this.count++)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(Subscriber);function bindCallback(et,_e,tt){if(_e)if(isScheduler(_e))tt=_e;else return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return bindCallback(et,tt).apply(void 0,rt).pipe(map(function(it){return isArray$2(it)?_e.apply(void 0,it):_e(it)}))};return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it=this,at,st={context:it,subject:at,callbackFunc:et,scheduler:tt};return new Observable(function(ot){if(tt){var lt={args:rt,subscriber:ot,params:st};return tt.schedule(dispatch$6,0,lt)}else{if(!at){at=new AsyncSubject;var ct=function(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut[dt]=arguments[dt];at.next(ut.length<=1?ut[0]:ut),at.complete()};try{et.apply(it,rt.concat([ct]))}catch(ut){canReportError(at)?at.error(ut):console.warn(ut)}}return at.subscribe(ot)}})}}function dispatch$6(et){var _e=this,tt=et.args,rt=et.subscriber,nt=et.params,it=nt.callbackFunc,at=nt.context,st=nt.scheduler,ot=nt.subject;if(!ot){ot=nt.subject=new AsyncSubject;var ct=function(){for(var lt=[],ut=0;ut<arguments.length;ut++)lt[ut]=arguments[ut];var dt=lt.length<=1?lt[0]:lt;_e.add(st.schedule(dispatchNext$3,0,{value:dt,subject:ot}))};try{it.apply(at,tt.concat([ct]))}catch(lt){ot.error(lt)}}this.add(ot.subscribe(rt))}function dispatchNext$3(et){var _e=et.value,tt=et.subject;tt.next(_e),tt.complete()}function bindNodeCallback(et,_e,tt){if(_e)if(isScheduler(_e))tt=_e;else return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return bindNodeCallback(et,tt).apply(void 0,rt).pipe(map(function(it){return isArray$2(it)?_e.apply(void 0,it):_e(it)}))};return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it={subject:void 0,args:rt,callbackFunc:et,scheduler:tt,context:this};return new Observable(function(at){var st=it.context,ot=it.subject;if(tt)return tt.schedule(dispatch$5,0,{params:it,subscriber:at,context:st});if(!ot){ot=it.subject=new AsyncSubject;var ct=function(){for(var lt=[],ut=0;ut<arguments.length;ut++)lt[ut]=arguments[ut];var dt=lt.shift();if(dt){ot.error(dt);return}ot.next(lt.length<=1?lt[0]:lt),ot.complete()};try{et.apply(st,rt.concat([ct]))}catch(lt){canReportError(ot)?ot.error(lt):console.warn(lt)}}return ot.subscribe(at)})}}function dispatch$5(et){var _e=this,tt=et.params,rt=et.subscriber,nt=et.context,it=tt.callbackFunc,at=tt.args,st=tt.scheduler,ot=tt.subject;if(!ot){ot=tt.subject=new AsyncSubject;var ct=function(){for(var lt=[],ut=0;ut<arguments.length;ut++)lt[ut]=arguments[ut];var dt=lt.shift();if(dt)_e.add(st.schedule(dispatchError,0,{err:dt,subject:ot}));else{var mt=lt.length<=1?lt[0]:lt;_e.add(st.schedule(dispatchNext$2,0,{value:mt,subject:ot}))}};try{it.apply(nt,at.concat([ct]))}catch(lt){this.add(st.schedule(dispatchError,0,{err:lt,subject:ot}))}}this.add(ot.subscribe(rt))}function dispatchNext$2(et){var _e=et.value,tt=et.subject;tt.next(_e),tt.complete()}function dispatchError(et){var _e=et.err,tt=et.subject;tt.error(_e)}var OuterSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.destination.next(rt)},_e.prototype.notifyError=function(tt,rt){this.destination.error(tt)},_e.prototype.notifyComplete=function(tt){this.destination.complete()},_e}(Subscriber),InnerSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;return it.parent=tt,it.outerValue=rt,it.outerIndex=nt,it.index=0,it}return _e.prototype._next=function(tt){this.parent.notifyNext(this.outerValue,tt,this.outerIndex,this.index++,this)},_e.prototype._error=function(tt){this.parent.notifyError(tt,this),this.unsubscribe()},_e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},_e}(Subscriber),subscribeToPromise=function(et){return function(_e){return et.then(function(tt){_e.closed||(_e.next(tt),_e.complete())},function(tt){return _e.error(tt)}).then(null,hostReportError),_e}};function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator(),subscribeToIterable=function(et){return function(_e){var tt=et[iterator]();do{var rt=void 0;try{rt=tt.next()}catch(nt){return _e.error(nt),_e}if(rt.done){_e.complete();break}if(_e.next(rt.value),_e.closed)break}while(!0);return typeof tt.return=="function"&&_e.add(function(){tt.return&&tt.return()}),_e}},subscribeToObservable=function(et){return function(_e){var tt=et[observable]();if(typeof tt.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return tt.subscribe(_e)}},isArrayLike=function(et){return et&&typeof et.length=="number"&&typeof et!="function"};function isPromise(et){return!!et&&typeof et.subscribe!="function"&&typeof et.then=="function"}var subscribeTo=function(et){if(!!et&&typeof et[observable]=="function")return subscribeToObservable(et);if(isArrayLike(et))return subscribeToArray(et);if(isPromise(et))return subscribeToPromise(et);if(!!et&&typeof et[iterator]=="function")return subscribeToIterable(et);var _e=isObject(et)?"an invalid object":"'"+et+"'",tt="You provided "+_e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(tt)};function subscribeToResult(et,_e,tt,rt,nt){if(nt===void 0&&(nt=new InnerSubscriber(et,tt,rt)),!nt.closed)return _e instanceof Observable?_e.subscribe(nt):subscribeTo(_e)(nt)}var NONE={};function combineLatest$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=void 0,rt=void 0;return isScheduler(et[et.length-1])&&(rt=et.pop()),typeof et[et.length-1]=="function"&&(tt=et.pop()),et.length===1&&isArray$2(et[0])&&(et=et[0]),fromArray(et,rt).lift(new CombineLatestOperator(tt))}var CombineLatestOperator=function(){function et(_e){this.resultSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new CombineLatestSubscriber(_e,this.resultSelector))},et}(),CombineLatestSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.resultSelector=rt,nt.active=0,nt.values=[],nt.observables=[],nt}return _e.prototype._next=function(tt){this.values.push(NONE),this.observables.push(tt)},_e.prototype._complete=function(){var tt=this.observables,rt=tt.length;if(rt===0)this.destination.complete();else{this.active=rt,this.toRespond=rt;for(var nt=0;nt<rt;nt++){var it=tt[nt];this.add(subscribeToResult(this,it,void 0,nt))}}},_e.prototype.notifyComplete=function(tt){(this.active-=1)===0&&this.destination.complete()},_e.prototype.notifyNext=function(tt,rt,nt){var it=this.values,at=it[nt],st=this.toRespond?at===NONE?--this.toRespond:this.toRespond:0;it[nt]=rt,st===0&&(this.resultSelector?this._tryResultSelector(it):this.destination.next(it.slice()))},_e.prototype._tryResultSelector=function(tt){var rt;try{rt=this.resultSelector.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(OuterSubscriber);function scheduleObservable(et,_e){return new Observable(function(tt){var rt=new Subscription;return rt.add(_e.schedule(function(){var nt=et[observable]();rt.add(nt.subscribe({next:function(it){rt.add(_e.schedule(function(){return tt.next(it)}))},error:function(it){rt.add(_e.schedule(function(){return tt.error(it)}))},complete:function(){rt.add(_e.schedule(function(){return tt.complete()}))}}))})),rt})}function schedulePromise(et,_e){return new Observable(function(tt){var rt=new Subscription;return rt.add(_e.schedule(function(){return et.then(function(nt){rt.add(_e.schedule(function(){tt.next(nt),rt.add(_e.schedule(function(){return tt.complete()}))}))},function(nt){rt.add(_e.schedule(function(){return tt.error(nt)}))})})),rt})}function scheduleIterable(et,_e){if(!et)throw new Error("Iterable cannot be null");return new Observable(function(tt){var rt=new Subscription,nt;return rt.add(function(){nt&&typeof nt.return=="function"&&nt.return()}),rt.add(_e.schedule(function(){nt=et[iterator](),rt.add(_e.schedule(function(){if(!tt.closed){var it,at;try{var st=nt.next();it=st.value,at=st.done}catch(ot){tt.error(ot);return}at?tt.complete():(tt.next(it),this.schedule())}}))})),rt})}function isInteropObservable(et){return et&&typeof et[observable]=="function"}function isIterable(et){return et&&typeof et[iterator]=="function"}function scheduled(et,_e){if(et!=null){if(isInteropObservable(et))return scheduleObservable(et,_e);if(isPromise(et))return schedulePromise(et,_e);if(isArrayLike(et))return scheduleArray(et,_e);if(isIterable(et)||typeof et=="string")return scheduleIterable(et,_e)}throw new TypeError((et!==null&&typeof et||et)+" is not observable")}function from$2(et,_e){return _e?scheduled(et,_e):et instanceof Observable?et:new Observable(subscribeTo(et))}var SimpleInnerSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt.parent=tt,rt}return _e.prototype._next=function(tt){this.parent.notifyNext(tt)},_e.prototype._error=function(tt){this.parent.notifyError(tt),this.unsubscribe()},_e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},_e}(Subscriber),SimpleOuterSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyError=function(tt){this.destination.error(tt)},_e.prototype.notifyComplete=function(){this.destination.complete()},_e}(Subscriber);function innerSubscribe(et,_e){if(!_e.closed){if(et instanceof Observable)return et.subscribe(_e);var tt;try{tt=subscribeTo(et)(_e)}catch(rt){_e.error(rt)}return tt}}function mergeMap(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),typeof _e=="function"?function(rt){return rt.pipe(mergeMap(function(nt,it){return from$2(et(nt,it)).pipe(map(function(at,st){return _e(nt,at,it,st)}))},tt))}:(typeof _e=="number"&&(tt=_e),function(rt){return rt.lift(new MergeMapOperator(et,tt))})}var MergeMapOperator=function(){function et(_e,tt){tt===void 0&&(tt=Number.POSITIVE_INFINITY),this.project=_e,this.concurrent=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MergeMapSubscriber(_e,this.project,this.concurrent))},et}(),MergeMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=Number.POSITIVE_INFINITY);var it=et.call(this,tt)||this;return it.project=rt,it.concurrent=nt,it.hasCompleted=!1,it.buffer=[],it.active=0,it.index=0,it}return _e.prototype._next=function(tt){this.active<this.concurrent?this._tryNext(tt):this.buffer.push(tt)},_e.prototype._tryNext=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this.active++,this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt.length>0?this._next(tt.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber),flatMap=mergeMap;function mergeAll(et){return et===void 0&&(et=Number.POSITIVE_INFINITY),mergeMap(identity,et)}function concatAll(){return mergeAll(1)}function concat$2(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return concatAll()(of.apply(void 0,et))}function defer(et){return new Observable(function(_e){var tt;try{tt=et()}catch(nt){_e.error(nt);return}var rt=tt?from$2(tt):empty();return rt.subscribe(_e)})}function forkJoin(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===1){var tt=et[0];if(isArray$2(tt))return forkJoinInternal(tt,null);if(isObject(tt)&&Object.getPrototypeOf(tt)===Object.prototype){var rt=Object.keys(tt);return forkJoinInternal(rt.map(function(it){return tt[it]}),rt)}}if(typeof et[et.length-1]=="function"){var nt=et.pop();return et=et.length===1&&isArray$2(et[0])?et[0]:et,forkJoinInternal(et,null).pipe(map(function(it){return nt.apply(void 0,it)}))}return forkJoinInternal(et,null)}function forkJoinInternal(et,_e){return new Observable(function(tt){var rt=et.length;if(rt===0){tt.complete();return}for(var nt=new Array(rt),it=0,at=0,st=function(ct){var lt=from$2(et[ct]),ut=!1;tt.add(lt.subscribe({next:function(dt){ut||(ut=!0,at++),nt[ct]=dt},error:function(dt){return tt.error(dt)},complete:function(){it++,(it===rt||!ut)&&(at===rt&&tt.next(_e?_e.reduce(function(dt,mt,gt){return dt[mt]=nt[gt],dt},{}):nt),tt.complete())}}))},ot=0;ot<rt;ot++)st(ot)})}function fromEvent(et,_e,tt,rt){return isFunction(tt)&&(rt=tt,tt=void 0),rt?fromEvent(et,_e,tt).pipe(map(function(nt){return isArray$2(nt)?rt.apply(void 0,nt):rt(nt)})):new Observable(function(nt){function it(at){arguments.length>1?nt.next(Array.prototype.slice.call(arguments)):nt.next(at)}setupSubscription(et,_e,it,nt,tt)})}function setupSubscription(et,_e,tt,rt,nt){var it;if(isEventTarget(et)){var at=et;et.addEventListener(_e,tt,nt),it=function(){return at.removeEventListener(_e,tt,nt)}}else if(isJQueryStyleEventEmitter(et)){var st=et;et.on(_e,tt),it=function(){return st.off(_e,tt)}}else if(isNodeStyleEventEmitter(et)){var ot=et;et.addListener(_e,tt),it=function(){return ot.removeListener(_e,tt)}}else if(et&&et.length)for(var ct=0,lt=et.length;ct<lt;ct++)setupSubscription(et[ct],_e,tt,rt,nt);else throw new TypeError("Invalid event target");rt.add(it)}function isNodeStyleEventEmitter(et){return et&&typeof et.addListener=="function"&&typeof et.removeListener=="function"}function isJQueryStyleEventEmitter(et){return et&&typeof et.on=="function"&&typeof et.off=="function"}function isEventTarget(et){return et&&typeof et.addEventListener=="function"&&typeof et.removeEventListener=="function"}function fromEventPattern(et,_e,tt){return tt?fromEventPattern(et,_e).pipe(map(function(rt){return isArray$2(rt)?tt.apply(void 0,rt):tt(rt)})):new Observable(function(rt){var nt=function(){for(var at=[],st=0;st<arguments.length;st++)at[st]=arguments[st];return rt.next(at.length===1?at[0]:at)},it;try{it=et(nt)}catch(at){rt.error(at);return}if(!!isFunction(_e))return function(){return _e(nt,it)}})}function generate(et,_e,tt,rt,nt){var it,at;if(arguments.length==1){var st=et;at=st.initialState,_e=st.condition,tt=st.iterate,it=st.resultSelector||identity,nt=st.scheduler}else rt===void 0||isScheduler(rt)?(at=et,it=identity,nt=rt):(at=et,it=rt);return new Observable(function(ot){var ct=at;if(nt)return nt.schedule(dispatch$4,0,{subscriber:ot,iterate:tt,condition:_e,resultSelector:it,state:ct});do{if(_e){var lt=void 0;try{lt=_e(ct)}catch(dt){ot.error(dt);return}if(!lt){ot.complete();break}}var ut=void 0;try{ut=it(ct)}catch(dt){ot.error(dt);return}if(ot.next(ut),ot.closed)break;try{ct=tt(ct)}catch(dt){ot.error(dt);return}}while(!0)})}function dispatch$4(et){var _e=et.subscriber,tt=et.condition;if(!_e.closed){if(et.needIterate)try{et.state=et.iterate(et.state)}catch(it){_e.error(it);return}else et.needIterate=!0;if(tt){var rt=void 0;try{rt=tt(et.state)}catch(it){_e.error(it);return}if(!rt){_e.complete();return}if(_e.closed)return}var nt;try{nt=et.resultSelector(et.state)}catch(it){_e.error(it);return}if(!_e.closed&&(_e.next(nt),!_e.closed))return this.schedule(et)}}function iif(et,_e,tt){return _e===void 0&&(_e=EMPTY),tt===void 0&&(tt=EMPTY),defer(function(){return et()?_e:tt})}function isNumeric(et){return!isArray$2(et)&&et-parseFloat(et)+1>=0}function interval(et,_e){return et===void 0&&(et=0),_e===void 0&&(_e=async),(!isNumeric(et)||et<0)&&(et=0),(!_e||typeof _e.schedule!="function")&&(_e=async),new Observable(function(tt){return tt.add(_e.schedule(dispatch$3,et,{subscriber:tt,counter:0,period:et})),tt})}function dispatch$3(et){var _e=et.subscriber,tt=et.counter,rt=et.period;_e.next(tt),this.schedule({subscriber:_e,counter:tt+1,period:rt},rt)}function merge$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=Number.POSITIVE_INFINITY,rt=null,nt=et[et.length-1];return isScheduler(nt)?(rt=et.pop(),et.length>1&&typeof et[et.length-1]=="number"&&(tt=et.pop())):typeof nt=="number"&&(tt=et.pop()),rt===null&&et.length===1&&et[0]instanceof Observable?et[0]:mergeAll(tt)(fromArray(et,rt))}var NEVER=new Observable(noop);function never(){return NEVER}function onErrorResumeNext$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===0)return EMPTY;var tt=et[0],rt=et.slice(1);return et.length===1&&isArray$2(tt)?onErrorResumeNext$1.apply(void 0,tt):new Observable(function(nt){var it=function(){return nt.add(onErrorResumeNext$1.apply(void 0,rt).subscribe(nt))};return from$2(tt).subscribe({next:function(at){nt.next(at)},error:it,complete:it})})}function pairs(et,_e){return _e?new Observable(function(tt){var rt=Object.keys(et),nt=new Subscription;return nt.add(_e.schedule(dispatch$2,0,{keys:rt,index:0,subscriber:tt,subscription:nt,obj:et})),nt}):new Observable(function(tt){for(var rt=Object.keys(et),nt=0;nt<rt.length&&!tt.closed;nt++){var it=rt[nt];et.hasOwnProperty(it)&&tt.next([it,et[it]])}tt.complete()})}function dispatch$2(et){var _e=et.keys,tt=et.index,rt=et.subscriber,nt=et.subscription,it=et.obj;if(!rt.closed)if(tt<_e.length){var at=_e[tt];rt.next([at,it[at]]),nt.add(this.schedule({keys:_e,index:tt+1,subscriber:rt,subscription:nt,obj:it}))}else rt.complete()}function not(et,_e){function tt(){return!tt.pred.apply(tt.thisArg,arguments)}return tt.pred=et,tt.thisArg=_e,tt}function filter(et,_e){return function(rt){return rt.lift(new FilterOperator(et,_e))}}var FilterOperator=function(){function et(_e,tt){this.predicate=_e,this.thisArg=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new FilterSubscriber(_e,this.predicate,this.thisArg))},et}(),FilterSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.thisArg=nt,it.count=0,it}return _e.prototype._next=function(tt){var rt;try{rt=this.predicate.call(this.thisArg,tt,this.count++)}catch(nt){this.destination.error(nt);return}rt&&this.destination.next(tt)},_e}(Subscriber);function partition$1(et,_e,tt){return[filter(_e,tt)(new Observable(subscribeTo(et))),filter(not(_e,tt))(new Observable(subscribeTo(et)))]}function race$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===1)if(isArray$2(et[0]))et=et[0];else return et[0];return fromArray(et,void 0).lift(new RaceOperator)}var RaceOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new RaceSubscriber(_e))},et}(),RaceSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasFirst=!1,rt.observables=[],rt.subscriptions=[],rt}return _e.prototype._next=function(tt){this.observables.push(tt)},_e.prototype._complete=function(){var tt=this.observables,rt=tt.length;if(rt===0)this.destination.complete();else{for(var nt=0;nt<rt&&!this.hasFirst;nt++){var it=tt[nt],at=subscribeToResult(this,it,void 0,nt);this.subscriptions&&this.subscriptions.push(at),this.add(at)}this.observables=null}},_e.prototype.notifyNext=function(tt,rt,nt){if(!this.hasFirst){this.hasFirst=!0;for(var it=0;it<this.subscriptions.length;it++)if(it!==nt){var at=this.subscriptions[it];at.unsubscribe(),this.remove(at)}this.subscriptions=null}this.destination.next(rt)},_e}(OuterSubscriber);function range(et,_e,tt){return et===void 0&&(et=0),new Observable(function(rt){_e===void 0&&(_e=et,et=0);var nt=0,it=et;if(tt)return tt.schedule(dispatch$1,0,{index:nt,count:_e,start:et,subscriber:rt});do{if(nt++>=_e){rt.complete();break}if(rt.next(it++),rt.closed)break}while(!0)})}function dispatch$1(et){var _e=et.start,tt=et.index,rt=et.count,nt=et.subscriber;if(tt>=rt){nt.complete();return}nt.next(_e),!nt.closed&&(et.index=tt+1,et.start=_e+1,this.schedule(et))}function timer(et,_e,tt){et===void 0&&(et=0);var rt=-1;return isNumeric(_e)?rt=Number(_e)<1&&1||Number(_e):isScheduler(_e)&&(tt=_e),isScheduler(tt)||(tt=async),new Observable(function(nt){var it=isNumeric(et)?et:+et-tt.now();return tt.schedule(dispatch,it,{index:0,period:rt,subscriber:nt})})}function dispatch(et){var _e=et.index,tt=et.period,rt=et.subscriber;if(rt.next(_e),!rt.closed){if(tt===-1)return rt.complete();et.index=_e+1,this.schedule(et,tt)}}function using(et,_e){return new Observable(function(tt){var rt;try{rt=et()}catch(st){tt.error(st);return}var nt;try{nt=_e(rt)}catch(st){tt.error(st);return}var it=nt?from$2(nt):EMPTY,at=it.subscribe(tt);return function(){at.unsubscribe(),rt&&rt.unsubscribe()}})}function zip$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return typeof tt=="function"&&et.pop(),fromArray(et,void 0).lift(new ZipOperator(tt))}var ZipOperator=function(){function et(_e){this.resultSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ZipSubscriber(_e,this.resultSelector))},et}(),ZipSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.resultSelector=rt,it.iterators=[],it.active=0,it.resultSelector=typeof rt=="function"?rt:void 0,it}return _e.prototype._next=function(tt){var rt=this.iterators;isArray$2(tt)?rt.push(new StaticArrayIterator(tt)):typeof tt[iterator]=="function"?rt.push(new StaticIterator(tt[iterator]())):rt.push(new ZipBufferIterator(this.destination,this,tt))},_e.prototype._complete=function(){var tt=this.iterators,rt=tt.length;if(this.unsubscribe(),rt===0){this.destination.complete();return}this.active=rt;for(var nt=0;nt<rt;nt++){var it=tt[nt];if(it.stillUnsubscribed){var at=this.destination;at.add(it.subscribe())}else this.active--}},_e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},_e.prototype.checkIterators=function(){for(var tt=this.iterators,rt=tt.length,nt=this.destination,it=0;it<rt;it++){var at=tt[it];if(typeof at.hasValue=="function"&&!at.hasValue())return}for(var st=!1,ot=[],it=0;it<rt;it++){var at=tt[it],ct=at.next();if(at.hasCompleted()&&(st=!0),ct.done){nt.complete();return}ot.push(ct.value)}this.resultSelector?this._tryresultSelector(ot):nt.next(ot),st&&nt.complete()},_e.prototype._tryresultSelector=function(tt){var rt;try{rt=this.resultSelector.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(Subscriber),StaticIterator=function(){function et(_e){this.iterator=_e,this.nextResult=_e.next()}return et.prototype.hasValue=function(){return!0},et.prototype.next=function(){var _e=this.nextResult;return this.nextResult=this.iterator.next(),_e},et.prototype.hasCompleted=function(){var _e=this.nextResult;return Boolean(_e&&_e.done)},et}(),StaticArrayIterator=function(){function et(_e){this.array=_e,this.index=0,this.length=0,this.length=_e.length}return et.prototype[iterator]=function(){return this},et.prototype.next=function(_e){var tt=this.index++,rt=this.array;return tt<this.length?{value:rt[tt],done:!1}:{value:null,done:!0}},et.prototype.hasValue=function(){return this.array.length>this.index},et.prototype.hasCompleted=function(){return this.array.length===this.index},et}(),ZipBufferIterator=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.parent=rt,it.observable=nt,it.stillUnsubscribed=!0,it.buffer=[],it.isComplete=!1,it}return _e.prototype[iterator]=function(){return this},_e.prototype.next=function(){var tt=this.buffer;return tt.length===0&&this.isComplete?{value:null,done:!0}:{value:tt.shift(),done:!1}},_e.prototype.hasValue=function(){return this.buffer.length>0},_e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},_e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},_e.prototype.notifyNext=function(tt){this.buffer.push(tt),this.parent.checkIterators()},_e.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},_e}(SimpleOuterSubscriber);const _esm5=Object.freeze(Object.defineProperty({__proto__:null,Observable,ConnectableObservable,GroupedObservable,observable,Subject,BehaviorSubject,ReplaySubject,AsyncSubject,asap,asapScheduler,async,asyncScheduler,queue,queueScheduler,animationFrame,animationFrameScheduler,VirtualTimeScheduler,VirtualAction,Scheduler,Subscription,Subscriber,Notification:Notification$1,get NotificationKind(){return NotificationKind},pipe,noop,identity,isObservable,ArgumentOutOfRangeError,EmptyError,ObjectUnsubscribedError,UnsubscriptionError,TimeoutError,bindCallback,bindNodeCallback,combineLatest:combineLatest$1,concat:concat$2,defer,empty,forkJoin,from:from$2,fromEvent,fromEventPattern,generate,iif,interval,merge:merge$1,never,of,onErrorResumeNext:onErrorResumeNext$1,pairs,partition:partition$1,race:race$1,range,throwError,timer,using,zip:zip$1,scheduled,EMPTY,NEVER,config},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(_esm5);var ConnectDialog$1={};function r$4(et){var _e,tt,rt="";if(typeof et=="string"||typeof et=="number")rt+=et;else if(typeof et=="object")if(Array.isArray(et))for(_e=0;_e<et.length;_e++)et[_e]&&(tt=r$4(et[_e]))&&(rt&&(rt+=" "),rt+=tt);else for(_e in et)et[_e]&&(rt&&(rt+=" "),rt+=_e);return rt}function clsx(){for(var et,_e,tt=0,rt="";tt<arguments.length;)(et=arguments[tt++])&&(_e=r$4(et))&&(rt&&(rt+=" "),rt+=_e);return rt}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(clsx_m);var t$3,r$3,u$3,i$3,o$2=0,f$4=[],c$3=[],e$3=l$3.__b,a$2=l$3.__r,v$4=l$3.diffed,l$2=l$3.__c,m$4=l$3.unmount;function d$4(et,_e){l$3.__h&&l$3.__h(r$3,et,o$2||_e),o$2=0;var tt=r$3.__H||(r$3.__H={__:[],__h:[]});return et>=tt.__.length&&tt.__.push({__V:c$3}),tt.__[et]}function h$4(et){return o$2=1,s$2(B$2,et)}function s$2(et,_e,tt){var rt=d$4(t$3++,2);if(rt.t=et,!rt.__c&&(rt.__=[tt?tt(_e):B$2(void 0,_e),function(st){var ot=rt.__N?rt.__N[0]:rt.__[0],ct=rt.t(ot,st);ot!==ct&&(rt.__N=[ct,rt.__[1]],rt.__c.setState({}))}],rt.__c=r$3,!r$3.u)){var nt=function(st,ot,ct){if(!rt.__c.__H)return!0;var lt=rt.__c.__H.__.filter(function(dt){return dt.__c});if(lt.every(function(dt){return!dt.__N}))return!it||it.call(this,st,ot,ct);var ut=!1;return lt.forEach(function(dt){if(dt.__N){var mt=dt.__[0];dt.__=dt.__N,dt.__N=void 0,mt!==dt.__[0]&&(ut=!0)}}),!(!ut&&rt.__c.props===st)&&(!it||it.call(this,st,ot,ct))};r$3.u=!0;var it=r$3.shouldComponentUpdate,at=r$3.componentWillUpdate;r$3.componentWillUpdate=function(st,ot,ct){if(this.__e){var lt=it;it=void 0,nt(st,ot,ct),it=lt}at&&at.call(this,st,ot,ct)},r$3.shouldComponentUpdate=nt}return rt.__N||rt.__}function p$4(et,_e){var tt=d$4(t$3++,3);!l$3.__s&&z$4(tt.__H,_e)&&(tt.__=et,tt.i=_e,r$3.__H.__h.push(tt))}function y$4(et,_e){var tt=d$4(t$3++,4);!l$3.__s&&z$4(tt.__H,_e)&&(tt.__=et,tt.i=_e,r$3.__h.push(tt))}function _$4(et){return o$2=5,F$3(function(){return{current:et}},[])}function A$5(et,_e,tt){o$2=6,y$4(function(){return typeof et=="function"?(et(_e()),function(){return et(null)}):et?(et.current=_e(),function(){return et.current=null}):void 0},tt==null?tt:tt.concat(et))}function F$3(et,_e){var tt=d$4(t$3++,7);return z$4(tt.__H,_e)?(tt.__V=et(),tt.i=_e,tt.__h=et,tt.__V):tt.__}function T$4(et,_e){return o$2=8,F$3(function(){return et},_e)}function q$4(et){var _e=r$3.context[et.__c],tt=d$4(t$3++,9);return tt.c=et,_e?(tt.__==null&&(tt.__=!0,_e.sub(r$3)),_e.props.value):et.__}function x$3(et,_e){l$3.useDebugValue&&l$3.useDebugValue(_e?_e(et):et)}function P$3(et){var _e=d$4(t$3++,10),tt=h$4();return _e.__=et,r$3.componentDidCatch||(r$3.componentDidCatch=function(rt,nt){_e.__&&_e.__(rt,nt),tt[1](rt)}),[tt[0],function(){tt[1](void 0)}]}function V$1(){var et=d$4(t$3++,11);if(!et.__){for(var _e=r$3.__v;_e!==null&&!_e.__m&&_e.__!==null;)_e=_e.__;var tt=_e.__m||(_e.__m=[0,0]);et.__="P"+tt[0]+"-"+tt[1]++}return et.__}function b$3(){for(var et;et=f$4.shift();)if(et.__P&&et.__H)try{et.__H.__h.forEach(k$4),et.__H.__h.forEach(w$4),et.__H.__h=[]}catch(_e){et.__H.__h=[],l$3.__e(_e,et.__v)}}l$3.__b=function(et){r$3=null,e$3&&e$3(et)},l$3.__r=function(et){a$2&&a$2(et),t$3=0;var _e=(r$3=et.__c).__H;_e&&(u$3===r$3?(_e.__h=[],r$3.__h=[],_e.__.forEach(function(tt){tt.__N&&(tt.__=tt.__N),tt.__V=c$3,tt.__N=tt.i=void 0})):(_e.__h.forEach(k$4),_e.__h.forEach(w$4),_e.__h=[])),u$3=r$3},l$3.diffed=function(et){v$4&&v$4(et);var _e=et.__c;_e&&_e.__H&&(_e.__H.__h.length&&(f$4.push(_e)!==1&&i$3===l$3.requestAnimationFrame||((i$3=l$3.requestAnimationFrame)||j$2)(b$3)),_e.__H.__.forEach(function(tt){tt.i&&(tt.__H=tt.i),tt.__V!==c$3&&(tt.__=tt.__V),tt.i=void 0,tt.__V=c$3})),u$3=r$3=null},l$3.__c=function(et,_e){_e.some(function(tt){try{tt.__h.forEach(k$4),tt.__h=tt.__h.filter(function(rt){return!rt.__||w$4(rt)})}catch(rt){_e.some(function(nt){nt.__h&&(nt.__h=[])}),_e=[],l$3.__e(rt,tt.__v)}}),l$2&&l$2(et,_e)},l$3.unmount=function(et){m$4&&m$4(et);var _e,tt=et.__c;tt&&tt.__H&&(tt.__H.__.forEach(function(rt){try{k$4(rt)}catch(nt){_e=nt}}),tt.__H=void 0,_e&&l$3.__e(_e,tt.__v))};var g$4=typeof requestAnimationFrame=="function";function j$2(et){var _e,tt=function(){clearTimeout(rt),g$4&&cancelAnimationFrame(_e),setTimeout(et)},rt=setTimeout(tt,100);g$4&&(_e=requestAnimationFrame(tt))}function k$4(et){var _e=r$3,tt=et.__c;typeof tt=="function"&&(et.__c=void 0,tt()),r$3=_e}function w$4(et){var _e=r$3;et.__c=et.__(),r$3=_e}function z$4(et,_e){return!et||et.length!==_e.length||_e.some(function(tt,rt){return tt!==et[rt]})}function B$2(et,_e){return typeof _e=="function"?_e(et):_e}const hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useCallback:T$4,useContext:q$4,useDebugValue:x$3,useEffect:p$4,useErrorBoundary:P$3,useId:V$1,useImperativeHandle:A$5,useLayoutEffect:y$4,useMemo:F$3,useReducer:s$2,useRef:_$4,useState:h$4},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module);var ConnectContent$1={},version$2={};Object.defineProperty(version$2,"__esModule",{value:!0});version$2.LIB_VERSION=void 0;version$2.LIB_VERSION="3.6.5";var CloseIcon$1={};Object.defineProperty(CloseIcon$1,"__esModule",{value:!0});CloseIcon$1.CloseIcon=void 0;const preact_1$b=require$$1;function CloseIcon(et){return(0,preact_1$b.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et),(0,preact_1$b.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}CloseIcon$1.CloseIcon=CloseIcon;var coinbaseRoundSvg={};Object.defineProperty(coinbaseRoundSvg,"__esModule",{value:!0});coinbaseRoundSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var coinbaseWalletRoundSvg={};Object.defineProperty(coinbaseWalletRoundSvg,"__esModule",{value:!0});coinbaseWalletRoundSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var QRCodeIcon$1={};Object.defineProperty(QRCodeIcon$1,"__esModule",{value:!0});QRCodeIcon$1.QRCodeIcon=void 0;const preact_1$a=require$$1;function QRCodeIcon(et){return(0,preact_1$a.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},et),(0,preact_1$a.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,preact_1$a.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,preact_1$a.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,preact_1$a.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,preact_1$a.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,preact_1$a.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,preact_1$a.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,preact_1$a.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,preact_1$a.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}QRCodeIcon$1.QRCodeIcon=QRCodeIcon;var QRLogoCoinbase={};Object.defineProperty(QRLogoCoinbase,"__esModule",{value:!0});const svg=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;QRLogoCoinbase.default=svg;var QRLogoWallet={};Object.defineProperty(QRLogoWallet,"__esModule",{value:!0});QRLogoWallet.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var StatusDotIcon$1={};Object.defineProperty(StatusDotIcon$1,"__esModule",{value:!0});StatusDotIcon$1.StatusDotIcon=void 0;const preact_1$9=require$$1;function StatusDotIcon(et){return(0,preact_1$9.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},et),(0,preact_1$9.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}StatusDotIcon$1.StatusDotIcon=StatusDotIcon;var QRCode$4={};function QR8bitByte(et){this.mode=QRMode.MODE_8BIT_BYTE,this.data=et,this.parsedData=[];for(var _e=0,tt=this.data.length;_e<tt;_e++){var rt=[],nt=this.data.charCodeAt(_e);nt>65536?(rt[0]=240|(nt&1835008)>>>18,rt[1]=128|(nt&258048)>>>12,rt[2]=128|(nt&4032)>>>6,rt[3]=128|nt&63):nt>2048?(rt[0]=224|(nt&61440)>>>12,rt[1]=128|(nt&4032)>>>6,rt[2]=128|nt&63):nt>128?(rt[0]=192|(nt&1984)>>>6,rt[1]=128|nt&63):rt[0]=nt,this.parsedData.push(rt)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}QR8bitByte.prototype={getLength:function(et){return this.parsedData.length},write:function(et){for(var _e=0,tt=this.parsedData.length;_e<tt;_e++)et.put(this.parsedData[_e],8)}};function QRCodeModel(et,_e){this.typeNumber=et,this.errorCorrectLevel=_e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}QRCodeModel.prototype={addData:function(et){var _e=new QR8bitByte(et);this.dataList.push(_e),this.dataCache=null},isDark:function(et,_e){if(et<0||this.moduleCount<=et||_e<0||this.moduleCount<=_e)throw new Error(et+","+_e);return this.modules[et][_e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(et,_e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var tt=0;tt<this.moduleCount;tt++){this.modules[tt]=new Array(this.moduleCount);for(var rt=0;rt<this.moduleCount;rt++)this.modules[tt][rt]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(et,_e),this.typeNumber>=7&&this.setupTypeNumber(et),this.dataCache==null&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_e)},setupPositionProbePattern:function(et,_e){for(var tt=-1;tt<=7;tt++)if(!(et+tt<=-1||this.moduleCount<=et+tt))for(var rt=-1;rt<=7;rt++)_e+rt<=-1||this.moduleCount<=_e+rt||(0<=tt&&tt<=6&&(rt==0||rt==6)||0<=rt&&rt<=6&&(tt==0||tt==6)||2<=tt&&tt<=4&&2<=rt&&rt<=4?this.modules[et+tt][_e+rt]=!0:this.modules[et+tt][_e+rt]=!1)},getBestMaskPattern:function(){for(var et=0,_e=0,tt=0;tt<8;tt++){this.makeImpl(!0,tt);var rt=QRUtil.getLostPoint(this);(tt==0||et>rt)&&(et=rt,_e=tt)}return _e},createMovieClip:function(et,_e,tt){var rt=et.createEmptyMovieClip(_e,tt),nt=1;this.make();for(var it=0;it<this.modules.length;it++)for(var at=it*nt,st=0;st<this.modules[it].length;st++){var ot=st*nt,ct=this.modules[it][st];ct&&(rt.beginFill(0,100),rt.moveTo(ot,at),rt.lineTo(ot+nt,at),rt.lineTo(ot+nt,at+nt),rt.lineTo(ot,at+nt),rt.endFill())}return rt},setupTimingPattern:function(){for(var et=8;et<this.moduleCount-8;et++)this.modules[et][6]==null&&(this.modules[et][6]=et%2==0);for(var _e=8;_e<this.moduleCount-8;_e++)this.modules[6][_e]==null&&(this.modules[6][_e]=_e%2==0)},setupPositionAdjustPattern:function(){for(var et=QRUtil.getPatternPosition(this.typeNumber),_e=0;_e<et.length;_e++)for(var tt=0;tt<et.length;tt++){var rt=et[_e],nt=et[tt];if(this.modules[rt][nt]==null)for(var it=-2;it<=2;it++)for(var at=-2;at<=2;at++)it==-2||it==2||at==-2||at==2||it==0&&at==0?this.modules[rt+it][nt+at]=!0:this.modules[rt+it][nt+at]=!1}},setupTypeNumber:function(et){for(var _e=QRUtil.getBCHTypeNumber(this.typeNumber),tt=0;tt<18;tt++){var rt=!et&&(_e>>tt&1)==1;this.modules[Math.floor(tt/3)][tt%3+this.moduleCount-8-3]=rt}for(var tt=0;tt<18;tt++){var rt=!et&&(_e>>tt&1)==1;this.modules[tt%3+this.moduleCount-8-3][Math.floor(tt/3)]=rt}},setupTypeInfo:function(et,_e){for(var tt=this.errorCorrectLevel<<3|_e,rt=QRUtil.getBCHTypeInfo(tt),nt=0;nt<15;nt++){var it=!et&&(rt>>nt&1)==1;nt<6?this.modules[nt][8]=it:nt<8?this.modules[nt+1][8]=it:this.modules[this.moduleCount-15+nt][8]=it}for(var nt=0;nt<15;nt++){var it=!et&&(rt>>nt&1)==1;nt<8?this.modules[8][this.moduleCount-nt-1]=it:nt<9?this.modules[8][15-nt-1+1]=it:this.modules[8][15-nt-1]=it}this.modules[this.moduleCount-8][8]=!et},mapData:function(et,_e){for(var tt=-1,rt=this.moduleCount-1,nt=7,it=0,at=this.moduleCount-1;at>0;at-=2)for(at==6&&at--;;){for(var st=0;st<2;st++)if(this.modules[rt][at-st]==null){var ot=!1;it<et.length&&(ot=(et[it]>>>nt&1)==1);var ct=QRUtil.getMask(_e,rt,at-st);ct&&(ot=!ot),this.modules[rt][at-st]=ot,nt--,nt==-1&&(it++,nt=7)}if(rt+=tt,rt<0||this.moduleCount<=rt){rt-=tt,tt=-tt;break}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(et,_e,tt){for(var rt=QRRSBlock.getRSBlocks(et,_e),nt=new QRBitBuffer,it=0;it<tt.length;it++){var at=tt[it];nt.put(at.mode,4),nt.put(at.getLength(),QRUtil.getLengthInBits(at.mode,et)),at.write(nt)}for(var st=0,it=0;it<rt.length;it++)st+=rt[it].dataCount;if(nt.getLengthInBits()>st*8)throw new Error("code length overflow. ("+nt.getLengthInBits()+">"+st*8+")");for(nt.getLengthInBits()+4<=st*8&&nt.put(0,4);nt.getLengthInBits()%8!=0;)nt.putBit(!1);for(;!(nt.getLengthInBits()>=st*8||(nt.put(QRCodeModel.PAD0,8),nt.getLengthInBits()>=st*8));)nt.put(QRCodeModel.PAD1,8);return QRCodeModel.createBytes(nt,rt)};QRCodeModel.createBytes=function(et,_e){for(var tt=0,rt=0,nt=0,it=new Array(_e.length),at=new Array(_e.length),st=0;st<_e.length;st++){var ot=_e[st].dataCount,ct=_e[st].totalCount-ot;rt=Math.max(rt,ot),nt=Math.max(nt,ct),it[st]=new Array(ot);for(var lt=0;lt<it[st].length;lt++)it[st][lt]=255&et.buffer[lt+tt];tt+=ot;var ut=QRUtil.getErrorCorrectPolynomial(ct),dt=new QRPolynomial(it[st],ut.getLength()-1),mt=dt.mod(ut);at[st]=new Array(ut.getLength()-1);for(var lt=0;lt<at[st].length;lt++){var gt=lt+mt.getLength()-at[st].length;at[st][lt]=gt>=0?mt.get(gt):0}}for(var bt=0,lt=0;lt<_e.length;lt++)bt+=_e[lt].totalCount;for(var ht=new Array(bt),yt=0,lt=0;lt<rt;lt++)for(var st=0;st<_e.length;st++)lt<it[st].length&&(ht[yt++]=it[st][lt]);for(var lt=0;lt<nt;lt++)for(var st=0;st<_e.length;st++)lt<at[st].length&&(ht[yt++]=at[st][lt]);return ht};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(et){for(var _e=et<<10;QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)_e^=QRUtil.G15<<QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G15);return(et<<10|_e)^QRUtil.G15_MASK},getBCHTypeNumber:function(et){for(var _e=et<<12;QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)_e^=QRUtil.G18<<QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G18);return et<<12|_e},getBCHDigit:function(et){for(var _e=0;et!=0;)_e++,et>>>=1;return _e},getPatternPosition:function(et){return QRUtil.PATTERN_POSITION_TABLE[et-1]},getMask:function(et,_e,tt){switch(et){case QRMaskPattern.PATTERN000:return(_e+tt)%2==0;case QRMaskPattern.PATTERN001:return _e%2==0;case QRMaskPattern.PATTERN010:return tt%3==0;case QRMaskPattern.PATTERN011:return(_e+tt)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(_e/2)+Math.floor(tt/3))%2==0;case QRMaskPattern.PATTERN101:return _e*tt%2+_e*tt%3==0;case QRMaskPattern.PATTERN110:return(_e*tt%2+_e*tt%3)%2==0;case QRMaskPattern.PATTERN111:return(_e*tt%3+(_e+tt)%2)%2==0;default:throw new Error("bad maskPattern:"+et)}},getErrorCorrectPolynomial:function(et){for(var _e=new QRPolynomial([1],0),tt=0;tt<et;tt++)_e=_e.multiply(new QRPolynomial([1,QRMath.gexp(tt)],0));return _e},getLengthInBits:function(et,_e){if(1<=_e&&_e<10)switch(et){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+et)}else if(_e<27)switch(et){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+et)}else if(_e<41)switch(et){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+et)}else throw new Error("type:"+_e)},getLostPoint:function(et){for(var _e=et.getModuleCount(),tt=0,rt=0;rt<_e;rt++)for(var nt=0;nt<_e;nt++){for(var it=0,at=et.isDark(rt,nt),st=-1;st<=1;st++)if(!(rt+st<0||_e<=rt+st))for(var ot=-1;ot<=1;ot++)nt+ot<0||_e<=nt+ot||st==0&&ot==0||at==et.isDark(rt+st,nt+ot)&&it++;it>5&&(tt+=3+it-5)}for(var rt=0;rt<_e-1;rt++)for(var nt=0;nt<_e-1;nt++){var ct=0;et.isDark(rt,nt)&&ct++,et.isDark(rt+1,nt)&&ct++,et.isDark(rt,nt+1)&&ct++,et.isDark(rt+1,nt+1)&&ct++,(ct==0||ct==4)&&(tt+=3)}for(var rt=0;rt<_e;rt++)for(var nt=0;nt<_e-6;nt++)et.isDark(rt,nt)&&!et.isDark(rt,nt+1)&&et.isDark(rt,nt+2)&&et.isDark(rt,nt+3)&&et.isDark(rt,nt+4)&&!et.isDark(rt,nt+5)&&et.isDark(rt,nt+6)&&(tt+=40);for(var nt=0;nt<_e;nt++)for(var rt=0;rt<_e-6;rt++)et.isDark(rt,nt)&&!et.isDark(rt+1,nt)&&et.isDark(rt+2,nt)&&et.isDark(rt+3,nt)&&et.isDark(rt+4,nt)&&!et.isDark(rt+5,nt)&&et.isDark(rt+6,nt)&&(tt+=40);for(var lt=0,nt=0;nt<_e;nt++)for(var rt=0;rt<_e;rt++)et.isDark(rt,nt)&&lt++;var ut=Math.abs(100*lt/_e/_e-50)/5;return tt+=ut*10,tt}},QRMath={glog:function(et){if(et<1)throw new Error("glog("+et+")");return QRMath.LOG_TABLE[et]},gexp:function(et){for(;et<0;)et+=255;for(;et>=256;)et-=255;return QRMath.EXP_TABLE[et]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i$2=0;i$2<8;i$2++)QRMath.EXP_TABLE[i$2]=1<<i$2;for(var i$2=8;i$2<256;i$2++)QRMath.EXP_TABLE[i$2]=QRMath.EXP_TABLE[i$2-4]^QRMath.EXP_TABLE[i$2-5]^QRMath.EXP_TABLE[i$2-6]^QRMath.EXP_TABLE[i$2-8];for(var i$2=0;i$2<255;i$2++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i$2]]=i$2;function QRPolynomial(et,_e){if(et.length==null)throw new Error(et.length+"/"+_e);for(var tt=0;tt<et.length&&et[tt]==0;)tt++;this.num=new Array(et.length-tt+_e);for(var rt=0;rt<et.length-tt;rt++)this.num[rt]=et[rt+tt]}QRPolynomial.prototype={get:function(et){return this.num[et]},getLength:function(){return this.num.length},multiply:function(et){for(var _e=new Array(this.getLength()+et.getLength()-1),tt=0;tt<this.getLength();tt++)for(var rt=0;rt<et.getLength();rt++)_e[tt+rt]^=QRMath.gexp(QRMath.glog(this.get(tt))+QRMath.glog(et.get(rt)));return new QRPolynomial(_e,0)},mod:function(et){if(this.getLength()-et.getLength()<0)return this;for(var _e=QRMath.glog(this.get(0))-QRMath.glog(et.get(0)),tt=new Array(this.getLength()),rt=0;rt<this.getLength();rt++)tt[rt]=this.get(rt);for(var rt=0;rt<et.getLength();rt++)tt[rt]^=QRMath.gexp(QRMath.glog(et.get(rt))+_e);return new QRPolynomial(tt,0).mod(et)}};function QRRSBlock(et,_e){this.totalCount=et,this.dataCount=_e}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(et,_e){var tt=QRRSBlock.getRsBlockTable(et,_e);if(tt==null)throw new Error("bad rs block @ typeNumber:"+et+"/errorCorrectLevel:"+_e);for(var rt=tt.length/3,nt=[],it=0;it<rt;it++)for(var at=tt[it*3+0],st=tt[it*3+1],ot=tt[it*3+2],ct=0;ct<at;ct++)nt.push(new QRRSBlock(st,ot));return nt};QRRSBlock.getRsBlockTable=function(et,_e){switch(_e){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+3];default:return}};function QRBitBuffer(){this.buffer=[],this.length=0}QRBitBuffer.prototype={get:function(et){var _e=Math.floor(et/8);return(this.buffer[_e]>>>7-et%8&1)==1},put:function(et,_e){for(var tt=0;tt<_e;tt++)this.putBit((et>>>_e-tt-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(et){var _e=Math.floor(this.length/8);this.buffer.length<=_e&&this.buffer.push(0),et&&(this.buffer[_e]|=128>>>this.length%8),this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode$3(et){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof et=="string"&&(et={content:et}),et)for(var _e in et)this.options[_e]=et[_e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function tt(ot){switch(ot){case"L":return QRErrorCorrectLevel.L;case"M":return QRErrorCorrectLevel.M;case"Q":return QRErrorCorrectLevel.Q;case"H":return QRErrorCorrectLevel.H;default:throw new Error("Unknwon error correction level: "+ot)}}function rt(ot,ct){for(var lt=nt(ot),ut=1,dt=0,mt=0,gt=QRCodeLimitLength.length;mt<=gt;mt++){var bt=QRCodeLimitLength[mt];if(!bt)throw new Error("Content too long: expected "+dt+" but got "+lt);switch(ct){case"L":dt=bt[0];break;case"M":dt=bt[1];break;case"Q":dt=bt[2];break;case"H":dt=bt[3];break;default:throw new Error("Unknwon error correction level: "+ct)}if(lt<=dt)break;ut++}if(ut>QRCodeLimitLength.length)throw new Error("Content too long");return ut}function nt(ot){var ct=encodeURI(ot).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return ct.length+(ct.length!=ot?3:0)}var it=this.options.content,at=rt(it,this.options.ecl),st=tt(this.options.ecl);this.qrcode=new QRCodeModel(at,st),this.qrcode.addData(it),this.qrcode.make()}QRCode$3.prototype.svg=function(et){var _e=this.options||{},tt=this.qrcode.modules;typeof et>"u"&&(et={container:_e.container||"svg"});for(var rt=typeof _e.pretty<"u"?!!_e.pretty:!0,nt=rt?"  ":"",it=rt?`\r
`:"",at=_e.width,st=_e.height,ot=tt.length,ct=at/(ot+2*_e.padding),lt=st/(ot+2*_e.padding),ut=typeof _e.join<"u"?!!_e.join:!1,dt=typeof _e.swap<"u"?!!_e.swap:!1,mt=typeof _e.xmlDeclaration<"u"?!!_e.xmlDeclaration:!0,gt=typeof _e.predefined<"u"?!!_e.predefined:!1,bt=gt?nt+'<defs><path id="qrmodule" d="M0 0 h'+lt+" v"+ct+' H0 z" style="fill:'+_e.color+';shape-rendering:crispEdges;" /></defs>'+it:"",ht=nt+'<rect x="0" y="0" width="'+at+'" height="'+st+'" style="fill:'+_e.background+';shape-rendering:crispEdges;"/>'+it,yt="",wt="",xt=0;xt<ot;xt++)for(var At=0;At<ot;At++){var kt=tt[At][xt];if(kt){var Ot=At*ct+_e.padding*ct,Wt=xt*lt+_e.padding*lt;if(dt){var Ht=Ot;Ot=Wt,Wt=Ht}if(ut){var Zt=ct+Ot,Lt=lt+Wt;Ot=Number.isInteger(Ot)?Number(Ot):Ot.toFixed(2),Wt=Number.isInteger(Wt)?Number(Wt):Wt.toFixed(2),Zt=Number.isInteger(Zt)?Number(Zt):Zt.toFixed(2),Lt=Number.isInteger(Lt)?Number(Lt):Lt.toFixed(2),wt+="M"+Ot+","+Wt+" V"+Lt+" H"+Zt+" V"+Wt+" H"+Ot+" Z "}else gt?yt+=nt+'<use x="'+Ot.toString()+'" y="'+Wt.toString()+'" href="#qrmodule" />'+it:yt+=nt+'<rect x="'+Ot.toString()+'" y="'+Wt.toString()+'" width="'+ct+'" height="'+lt+'" style="fill:'+_e.color+';shape-rendering:crispEdges;"/>'+it}}ut&&(yt=nt+'<path x="0" y="0" style="fill:'+_e.color+';shape-rendering:crispEdges;" d="'+wt+'" />');let Et="";if(this.options.image!==void 0&&this.options.image.svg){const Ct=at*this.options.image.width/100,vt=st*this.options.image.height/100,Tt=at/2-Ct/2,Mt=st/2-vt/2;Et+=`<svg x="${Tt}" y="${Mt}" width="${Ct}" height="${vt}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Et+=this.options.image.svg+it,Et+="</svg>"}var It="";switch(et.container){case"svg":mt&&(It+='<?xml version="1.0" standalone="yes"?>'+it),It+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+at+'" height="'+st+'">'+it,It+=bt+ht+yt,It+=Et,It+="</svg>";break;case"svg-viewbox":mt&&(It+='<?xml version="1.0" standalone="yes"?>'+it),It+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+at+" "+st+'">'+it,It+=bt+ht+yt,It+=Et,It+="</svg>";break;case"g":It+='<g width="'+at+'" height="'+st+'">'+it,It+=bt+ht+yt,It+=Et,It+="</g>";break;default:It+=(bt+ht+yt+Et).replace(/^\s+/,"");break}return It};var qrcodeSvg=QRCode$3,__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(QRCode$4,"__esModule",{value:!0});QRCode$4.QRCode=void 0;const preact_1$8=require$$1,hooks_1$3=require$$2,qrcode_svg_1=__importDefault$6(qrcodeSvg),QRCode$2=et=>{const[_e,tt]=(0,hooks_1$3.useState)("");return(0,hooks_1$3.useEffect)(()=>{var rt,nt;const it=new qrcode_svg_1.default({content:et.content,background:et.bgColor||"#ffffff",color:et.fgColor||"#000000",container:"svg",ecl:"M",width:(rt=et.width)!==null&&rt!==void 0?rt:256,height:(nt=et.height)!==null&&nt!==void 0?nt:256,padding:0,image:et.image}),at=Buffer.from(it.svg(),"utf8").toString("base64");tt(`data:image/svg+xml;base64,${at}`)}),_e?(0,preact_1$8.h)("img",{src:_e,alt:"QR Code"}):null};QRCode$4.QRCode=QRCode$2;var Spinner$1={},SpinnerCss={};Object.defineProperty(SpinnerCss,"__esModule",{value:!0});SpinnerCss.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Spinner$1,"__esModule",{value:!0});Spinner$1.Spinner=void 0;const preact_1$7=require$$1,Spinner_css_1=__importDefault$5(SpinnerCss),Spinner=et=>{var _e;const tt=(_e=et.size)!==null&&_e!==void 0?_e:64,rt=et.color||"#000";return(0,preact_1$7.h)("div",{class:"-cbwsdk-spinner"},(0,preact_1$7.h)("style",null,Spinner_css_1.default),(0,preact_1$7.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:tt,height:tt}},(0,preact_1$7.h)("circle",{style:{cx:50,cy:50,r:45,stroke:rt}})))};Spinner$1.Spinner=Spinner;var ConnectContentCss={};Object.defineProperty(ConnectContentCss,"__esModule",{value:!0});ConnectContentCss.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ConnectContent$1,"__esModule",{value:!0});ConnectContent$1.CoinbaseAppSteps=ConnectContent$1.CoinbaseWalletSteps=ConnectContent$1.ConnectItem=ConnectContent$1.ConnectContent=void 0;const clsx_1$2=__importDefault$4(require$$0$2),preact_1$6=require$$1,hooks_1$2=require$$2,util_1$4=util$5,version_1=version$2,CloseIcon_1=CloseIcon$1,coinbase_round_svg_1=__importDefault$4(coinbaseRoundSvg),coinbase_wallet_round_svg_1=__importDefault$4(coinbaseWalletRoundSvg),QRCodeIcon_1=QRCodeIcon$1,QRLogoCoinbase_1=__importDefault$4(QRLogoCoinbase),QRLogoWallet_1=__importDefault$4(QRLogoWallet),StatusDotIcon_1=StatusDotIcon$1,QRCode_1=QRCode$4,Spinner_1=Spinner$1,ConnectContent_css_1=__importDefault$4(ConnectContentCss),wallets={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:coinbase_wallet_round_svg_1.default,steps:CoinbaseWalletSteps},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:coinbase_round_svg_1.default,steps:CoinbaseAppSteps}},makeQrCodeImage=et=>{switch(et){case"coinbase-app":return QRLogoCoinbase_1.default;case"coinbase-wallet-app":default:return QRLogoWallet_1.default}},makeIconColor=et=>et==="light"?"#FFFFFF":"#0A0B0D";function ConnectContent(et){const{theme:_e}=et,[tt,rt]=(0,hooks_1$2.useState)("coinbase-wallet-app"),nt=(0,hooks_1$2.useCallback)(ct=>{rt(ct)},[]),it=(0,util_1$4.createQrUrl)(et.sessionId,et.sessionSecret,et.linkAPIUrl,et.isParentConnection,et.version,et.chainId),at=wallets[tt];if(!tt)return null;const st=at.steps,ot=tt==="coinbase-app";return(0,preact_1$6.h)("div",{"data-testid":"connect-content",class:(0,clsx_1$2.default)("-cbwsdk-connect-content",_e)},(0,preact_1$6.h)("style",null,ConnectContent_css_1.default),(0,preact_1$6.h)("div",{class:"-cbwsdk-connect-content-header"},(0,preact_1$6.h)("h2",{class:(0,clsx_1$2.default)("-cbwsdk-connect-content-heading",_e)},"Scan to connect with one of our mobile apps"),et.onCancel&&(0,preact_1$6.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:et.onCancel},(0,preact_1$6.h)(CloseIcon_1.CloseIcon,{fill:_e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,preact_1$6.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,preact_1$6.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,preact_1$6.h)("div",null,Object.entries(wallets).map(([ct,lt])=>(0,preact_1$6.h)(ConnectItem,{key:ct,title:lt.title,description:lt.description,icon:lt.icon,selected:tt===ct,onClick:()=>nt(ct),theme:_e}))),ot&&(0,preact_1$6.h)("div",{class:(0,clsx_1$2.default)("-cbwsdk-connect-content-update-app",_e)},"Don\u2019t see a ",(0,preact_1$6.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,preact_1$6.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,preact_1$6.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,preact_1$6.h)(QRCode_1.QRCode,{content:it,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:makeQrCodeImage(tt),width:25,height:25}}),(0,preact_1$6.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:version_1.LIB_VERSION}),(0,preact_1$6.h)("input",{type:"hidden",value:it})),(0,preact_1$6.h)(st,{theme:_e}),!et.isConnected&&(0,preact_1$6.h)("div",{"data-testid":"connecting-spinner",class:(0,clsx_1$2.default)("-cbwsdk-connect-content-qr-connecting",_e)},(0,preact_1$6.h)(Spinner_1.Spinner,{size:36,color:_e==="dark"?"#FFF":"#000"}),(0,preact_1$6.h)("p",null,"Connecting...")))))}ConnectContent$1.ConnectContent=ConnectContent;function ConnectItem({title:et,description:_e,icon:tt,selected:rt,theme:nt,onClick:it}){return(0,preact_1$6.h)("div",{onClick:it,class:(0,clsx_1$2.default)("-cbwsdk-connect-item",nt,{selected:rt})},(0,preact_1$6.h)("div",null,(0,preact_1$6.h)("img",{src:tt,alt:et})),(0,preact_1$6.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,preact_1$6.h)("h3",{class:"-cbwsdk-connect-item-title"},et),(0,preact_1$6.h)("p",{class:"-cbwsdk-connect-item-description"},_e)))}ConnectContent$1.ConnectItem=ConnectItem;function CoinbaseWalletSteps({theme:et}){return(0,preact_1$6.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,preact_1$6.h)("li",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-item",et)},(0,preact_1$6.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,preact_1$6.h)("li",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-item",et)},(0,preact_1$6.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,preact_1$6.h)("span",null,"Tap ",(0,preact_1$6.h)("strong",null,"Scan")," "),(0,preact_1$6.h)("span",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",et)},(0,preact_1$6.h)(QRCodeIcon_1.QRCodeIcon,{fill:makeIconColor(et)})))))}ConnectContent$1.CoinbaseWalletSteps=CoinbaseWalletSteps;function CoinbaseAppSteps({theme:et}){return(0,preact_1$6.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,preact_1$6.h)("li",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-item",et)},(0,preact_1$6.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,preact_1$6.h)("li",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-item",et)},(0,preact_1$6.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,preact_1$6.h)("span",null,"Tap ",(0,preact_1$6.h)("strong",null,"More")),(0,preact_1$6.h)("span",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",et)},(0,preact_1$6.h)(StatusDotIcon_1.StatusDotIcon,{fill:makeIconColor(et)})),(0,preact_1$6.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,preact_1$6.h)("strong",null,"Scan")),(0,preact_1$6.h)("span",{class:(0,clsx_1$2.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",et)},(0,preact_1$6.h)(QRCodeIcon_1.QRCodeIcon,{fill:makeIconColor(et)})))))}ConnectContent$1.CoinbaseAppSteps=CoinbaseAppSteps;var TryExtensionContent$1={},ArrowLeftIcon$1={};Object.defineProperty(ArrowLeftIcon$1,"__esModule",{value:!0});ArrowLeftIcon$1.ArrowLeftIcon=void 0;const preact_1$5=require$$1;function ArrowLeftIcon(et){return(0,preact_1$5.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},et),(0,preact_1$5.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}ArrowLeftIcon$1.ArrowLeftIcon=ArrowLeftIcon;var LaptopIcon$1={};Object.defineProperty(LaptopIcon$1,"__esModule",{value:!0});LaptopIcon$1.LaptopIcon=void 0;const preact_1$4=require$$1;function LaptopIcon(et){return(0,preact_1$4.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},et),(0,preact_1$4.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,preact_1$4.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}LaptopIcon$1.LaptopIcon=LaptopIcon;var SafeIcon$1={};Object.defineProperty(SafeIcon$1,"__esModule",{value:!0});SafeIcon$1.SafeIcon=void 0;const preact_1$3=require$$1;function SafeIcon(et){return(0,preact_1$3.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},et),(0,preact_1$3.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}SafeIcon$1.SafeIcon=SafeIcon;var TryExtensionContentCss={};Object.defineProperty(TryExtensionContentCss,"__esModule",{value:!0});TryExtensionContentCss.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(TryExtensionContent$1,"__esModule",{value:!0});TryExtensionContent$1.TryExtensionContent=void 0;const clsx_1$1=__importDefault$3(require$$0$2),preact_1$2=require$$1,hooks_1$1=require$$2,ArrowLeftIcon_1=ArrowLeftIcon$1,LaptopIcon_1=LaptopIcon$1,SafeIcon_1=SafeIcon$1,TryExtensionContent_css_1=__importDefault$3(TryExtensionContentCss);function TryExtensionContent({theme:et}){const[_e,tt]=(0,hooks_1$1.useState)(!1),rt=(0,hooks_1$1.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),nt=(0,hooks_1$1.useCallback)(()=>{_e?window.location.reload():(rt(),tt(!0))},[rt,_e]);return(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension",et)},(0,preact_1$2.h)("style",null,TryExtensionContent_css_1.default),(0,preact_1$2.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,preact_1$2.h)("h3",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension-heading",et)},"Or try the Coinbase Wallet browser extension"),(0,preact_1$2.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,preact_1$2.h)("button",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension-cta",et),onClick:nt},_e?"Refresh":"Install"),(0,preact_1$2.h)("div",null,!_e&&(0,preact_1$2.h)(ArrowLeftIcon_1.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:et==="light"?"#0052FF":"#588AF5"})))),(0,preact_1$2.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,preact_1$2.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,preact_1$2.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,preact_1$2.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,preact_1$2.h)("span",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension-list-item-icon",et)},(0,preact_1$2.h)(LaptopIcon_1.LaptopIcon,{fill:et==="light"?"#0A0B0D":"#FFFFFF"}))),(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension-list-item-copy",et)},"Connect with dapps with just one click on your desktop browser")),(0,preact_1$2.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,preact_1$2.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,preact_1$2.h)("span",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension-list-item-icon",et)},(0,preact_1$2.h)(SafeIcon_1.SafeIcon,{fill:et==="light"?"#0A0B0D":"#FFFFFF"}))),(0,preact_1$2.h)("div",{class:(0,clsx_1$1.default)("-cbwsdk-try-extension-list-item-copy",et)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}TryExtensionContent$1.TryExtensionContent=TryExtensionContent;var ConnectDialogCss={};Object.defineProperty(ConnectDialogCss,"__esModule",{value:!0});ConnectDialogCss.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ConnectDialog$1,"__esModule",{value:!0});ConnectDialog$1.ConnectDialog=void 0;const clsx_1=__importDefault$2(require$$0$2),preact_1$1=require$$1,hooks_1=require$$2,ConnectContent_1=ConnectContent$1,TryExtensionContent_1=TryExtensionContent$1,ConnectDialog_css_1=__importDefault$2(ConnectDialogCss),ConnectDialog=et=>{const{isOpen:_e,darkMode:tt}=et,[rt,nt]=(0,hooks_1.useState)(!_e),[it,at]=(0,hooks_1.useState)(!_e);(0,hooks_1.useEffect)(()=>{const ot=[window.setTimeout(()=>{at(!_e)},10)];return _e?nt(!1):ot.push(window.setTimeout(()=>{nt(!0)},360)),()=>{ot.forEach(window.clearTimeout)}},[et.isOpen]);const st=tt?"dark":"light";return(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-connect-dialog-container",rt&&"-cbwsdk-connect-dialog-container-hidden")},(0,preact_1$1.h)("style",null,ConnectDialog_css_1.default),(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-connect-dialog-backdrop",st,it&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,preact_1$1.h)("div",{class:"-cbwsdk-connect-dialog"},(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-connect-dialog-box",it&&"-cbwsdk-connect-dialog-box-hidden")},et.connectDisabled?null:(0,preact_1$1.h)(ConnectContent_1.ConnectContent,{theme:st,version:et.version,sessionId:et.sessionId,sessionSecret:et.sessionSecret,linkAPIUrl:et.linkAPIUrl,isConnected:et.isConnected,isParentConnection:et.isParentConnection,chainId:et.chainId,onCancel:et.onCancel}),(0,preact_1$1.h)(TryExtensionContent_1.TryExtensionContent,{theme:st}))))};ConnectDialog$1.ConnectDialog=ConnectDialog;Object.defineProperty(LinkFlow$1,"__esModule",{value:!0});LinkFlow$1.LinkFlow=void 0;const preact_1=require$$1,rxjs_1$2=require$$2$1,ConnectDialog_1=ConnectDialog$1;class LinkFlow{constructor(_e){this.extensionUI$=new rxjs_1$2.BehaviorSubject({}),this.subscriptions=new rxjs_1$2.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=_e.darkMode,this.version=_e.version,this.sessionId=_e.sessionId,this.sessionSecret=_e.sessionSecret,this.linkAPIUrl=_e.linkAPIUrl,this.isParentConnection=_e.isParentConnection,this.connected$=_e.connected$,this.chainId$=_e.chainId$}attach(_e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",_e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(tt=>{this.isConnected!==tt&&(this.isConnected=tt,this.render())})),this.subscriptions.add(this.chainId$.subscribe(tt=>{this.chainId!==tt&&(this.chainId=tt,this.render())}))}detach(){var _e;!this.root||(this.subscriptions.unsubscribe(),(0,preact_1.render)(null,this.root),(_e=this.root.parentElement)===null||_e===void 0||_e.removeChild(this.root))}setConnectDisabled(_e){this.connectDisabled=_e}open(_e){this.isOpen=!0,this.onCancel=_e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const _e=this.extensionUI$.subscribe(()=>{!this.root||(0,preact_1.render)((0,preact_1.h)(ConnectDialog_1.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(_e)}}LinkFlow$1.LinkFlow=LinkFlow;var Snackbar={},SnackbarCss={};Object.defineProperty(SnackbarCss,"__esModule",{value:!0});SnackbarCss.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(et){var _e=commonjsGlobal&&commonjsGlobal.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(et,"__esModule",{value:!0}),et.SnackbarInstance=et.SnackbarContainer=et.Snackbar=void 0;const tt=_e(require$$0$2),rt=require$$1,nt=require$$2,it=_e(SnackbarCss),at="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function st(ut){switch(ut){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class ot{constructor(dt){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=dt.darkMode}attach(dt){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",dt.appendChild(this.root),this.render()}presentItem(dt){const mt=this.nextItemKey++;return this.items.set(mt,dt),this.render(),()=>{this.items.delete(mt),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,rt.render)((0,rt.h)("div",null,(0,rt.h)(et.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([dt,mt])=>(0,rt.h)(et.SnackbarInstance,Object.assign({},mt,{key:dt}))))),this.root)}}et.Snackbar=ot;const ct=ut=>(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-container")},(0,rt.h)("style",null,it.default),(0,rt.h)("div",{class:"-cbwsdk-snackbar"},ut.children));et.SnackbarContainer=ct;const lt=({autoExpand:ut,message:dt,menuItems:mt,appSrc:gt})=>{const[bt,ht]=(0,nt.useState)(!0),[yt,wt]=(0,nt.useState)(ut!=null?ut:!1);(0,nt.useEffect)(()=>{const At=[window.setTimeout(()=>{ht(!1)},1),window.setTimeout(()=>{wt(!0)},1e4)];return()=>{At.forEach(window.clearTimeout)}});const xt=()=>{wt(!yt)};return(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-instance",bt&&"-cbwsdk-snackbar-instance-hidden",yt&&"-cbwsdk-snackbar-instance-expanded")},(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:xt},(0,rt.h)("img",{src:st(gt),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},dt),(0,rt.h)("div",{class:"-gear-container"},!yt&&(0,rt.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,rt.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,rt.h)("img",{src:at,class:"-gear-icon",title:"Expand"}))),mt&&mt.length>0&&(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},mt.map((At,kt)=>(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-instance-menu-item",At.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:At.onClick,key:kt},(0,rt.h)("svg",{width:At.svgWidth,height:At.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,rt.h)("path",{"fill-rule":At.defaultFillRule,"clip-rule":At.defaultClipRule,d:At.path,fill:"#AAAAAA"})),(0,rt.h)("span",{class:(0,tt.default)("-cbwsdk-snackbar-instance-menu-item-info",At.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},At.info)))))};et.SnackbarInstance=lt})(Snackbar);var cssReset={},cssResetCss={};Object.defineProperty(cssResetCss,"__esModule",{value:!0});cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(cssReset,"__esModule",{value:!0});cssReset.injectCssReset=void 0;const cssReset_css_1=__importDefault$1(cssResetCss);function injectCssReset(){const et=document.createElement("style");et.type="text/css",et.appendChild(document.createTextNode(cssReset_css_1.default)),document.documentElement.appendChild(et)}cssReset.injectCssReset=injectCssReset;Object.defineProperty(WalletSDKUI$1,"__esModule",{value:!0});WalletSDKUI$1.WalletSDKUI=void 0;const LinkFlow_1=LinkFlow$1,Snackbar_1=Snackbar,cssReset_1=cssReset;class WalletSDKUI{constructor(_e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new Snackbar_1.Snackbar({darkMode:_e.darkMode}),this.linkFlow=new LinkFlow_1.LinkFlow({darkMode:_e.darkMode,version:_e.version,sessionId:_e.session.id,sessionSecret:_e.session.secret,linkAPIUrl:_e.linkAPIUrl,connected$:_e.connected$,chainId$:_e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const _e=document.documentElement,tt=document.createElement("div");tt.className="-cbwsdk-css-reset",_e.appendChild(tt),this.linkFlow.attach(tt),this.snackbar.attach(tt),this.attached=!0,(0,cssReset_1.injectCssReset)()}setConnectDisabled(_e){this.linkFlow.setConnectDisabled(_e)}addEthereumChain(_e){}watchAsset(_e){}switchEthereumChain(_e){}requestEthereumAccounts(_e){this.linkFlow.open({onCancel:_e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(_e){}signEthereumTransaction(_e){}submitEthereumTransaction(_e){}ethereumAddressFromSignedMessage(_e){}showConnecting(_e){let tt;return _e.isUnlinkedErrorState?tt={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:_e.onResetConnection}]}:tt={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:_e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:_e.onResetConnection}]},this.snackbar.presentItem(tt)}setAppSrc(_e){this.appSrc=_e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(_e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(_e){this.standalone=_e}isStandalone(){var _e;return(_e=this.standalone)!==null&&_e!==void 0?_e:!1}}WalletSDKUI$1.WalletSDKUI=WalletSDKUI;var WalletSDKRelay$1={},bindDecorator={};Object.defineProperty(bindDecorator,"__esModule",{value:!0});var constants;(function(et){et.typeOfFunction="function",et.boolTrue=!0})(constants||(constants={}));function bind(et,_e,tt){if(!tt||typeof tt.value!==constants.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+_e+"> is not a method!");return{configurable:constants.boolTrue,get:function(){var rt=tt.value.bind(this);return Object.defineProperty(this,_e,{value:rt,configurable:constants.boolTrue,writable:constants.boolTrue}),rt}}}bindDecorator.bind=bind;bindDecorator.default=bind;function audit(et){return function(tt){return tt.lift(new AuditOperator(et))}}var AuditOperator=function(){function et(_e){this.durationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new AuditSubscriber(_e,this.durationSelector))},et}(),AuditSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.durationSelector=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){if(this.value=tt,this.hasValue=!0,!this.throttled){var rt=void 0;try{var nt=this.durationSelector;rt=nt(tt)}catch(at){return this.destination.error(at)}var it=innerSubscribe(rt,new SimpleInnerSubscriber(this));!it||it.closed?this.clearThrottle():this.add(this.throttled=it)}},_e.prototype.clearThrottle=function(){var tt=this,rt=tt.value,nt=tt.hasValue,it=tt.throttled;it&&(this.remove(it),this.throttled=void 0,it.unsubscribe()),nt&&(this.value=void 0,this.hasValue=!1,this.destination.next(rt))},_e.prototype.notifyNext=function(){this.clearThrottle()},_e.prototype.notifyComplete=function(){this.clearThrottle()},_e}(SimpleOuterSubscriber);function auditTime(et,_e){return _e===void 0&&(_e=async),audit(function(){return timer(et,_e)})}function buffer$1(et){return function(tt){return tt.lift(new BufferOperator(et))}}var BufferOperator=function(){function et(_e){this.closingNotifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferSubscriber(_e,this.closingNotifier))},et}(),BufferSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.buffer=[],nt.add(innerSubscribe(rt,new SimpleInnerSubscriber(nt))),nt}return _e.prototype._next=function(tt){this.buffer.push(tt)},_e.prototype.notifyNext=function(){var tt=this.buffer;this.buffer=[],this.destination.next(tt)},_e}(SimpleOuterSubscriber);function bufferCount(et,_e){return _e===void 0&&(_e=null),function(rt){return rt.lift(new BufferCountOperator(et,_e))}}var BufferCountOperator=function(){function et(_e,tt){this.bufferSize=_e,this.startBufferEvery=tt,!tt||_e===tt?this.subscriberClass=BufferCountSubscriber:this.subscriberClass=BufferSkipCountSubscriber}return et.prototype.call=function(_e,tt){return tt.subscribe(new this.subscriberClass(_e,this.bufferSize,this.startBufferEvery))},et}(),BufferCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.bufferSize=rt,nt.buffer=[],nt}return _e.prototype._next=function(tt){var rt=this.buffer;rt.push(tt),rt.length==this.bufferSize&&(this.destination.next(rt),this.buffer=[])},_e.prototype._complete=function(){var tt=this.buffer;tt.length>0&&this.destination.next(tt),et.prototype._complete.call(this)},_e}(Subscriber),BufferSkipCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.bufferSize=rt,it.startBufferEvery=nt,it.buffers=[],it.count=0,it}return _e.prototype._next=function(tt){var rt=this,nt=rt.bufferSize,it=rt.startBufferEvery,at=rt.buffers,st=rt.count;this.count++,st%it===0&&at.push([]);for(var ot=at.length;ot--;){var ct=at[ot];ct.push(tt),ct.length===nt&&(at.splice(ot,1),this.destination.next(ct))}},_e.prototype._complete=function(){for(var tt=this,rt=tt.buffers,nt=tt.destination;rt.length>0;){var it=rt.shift();it.length>0&&nt.next(it)}et.prototype._complete.call(this)},_e}(Subscriber);function bufferTime(et){var _e=arguments.length,tt=async;isScheduler(arguments[arguments.length-1])&&(tt=arguments[arguments.length-1],_e--);var rt=null;_e>=2&&(rt=arguments[1]);var nt=Number.POSITIVE_INFINITY;return _e>=3&&(nt=arguments[2]),function(at){return at.lift(new BufferTimeOperator(et,rt,nt,tt))}}var BufferTimeOperator=function(){function et(_e,tt,rt,nt){this.bufferTimeSpan=_e,this.bufferCreationInterval=tt,this.maxBufferSize=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferTimeSubscriber(_e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},et}(),Context=function(){function et(){this.buffer=[]}return et}(),BufferTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;st.bufferTimeSpan=rt,st.bufferCreationInterval=nt,st.maxBufferSize=it,st.scheduler=at,st.contexts=[];var ot=st.openContext();if(st.timespanOnly=nt==null||nt<0,st.timespanOnly){var ct={subscriber:st,context:ot,bufferTimeSpan:rt};st.add(ot.closeAction=at.schedule(dispatchBufferTimeSpanOnly,rt,ct))}else{var lt={subscriber:st,context:ot},ut={bufferTimeSpan:rt,bufferCreationInterval:nt,subscriber:st,scheduler:at};st.add(ot.closeAction=at.schedule(dispatchBufferClose,rt,lt)),st.add(at.schedule(dispatchBufferCreation,nt,ut))}return st}return _e.prototype._next=function(tt){for(var rt=this.contexts,nt=rt.length,it,at=0;at<nt;at++){var st=rt[at],ot=st.buffer;ot.push(tt),ot.length==this.maxBufferSize&&(it=st)}it&&this.onBufferFull(it)},_e.prototype._error=function(tt){this.contexts.length=0,et.prototype._error.call(this,tt)},_e.prototype._complete=function(){for(var tt=this,rt=tt.contexts,nt=tt.destination;rt.length>0;){var it=rt.shift();nt.next(it.buffer)}et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){this.contexts=null},_e.prototype.onBufferFull=function(tt){this.closeContext(tt);var rt=tt.closeAction;if(rt.unsubscribe(),this.remove(rt),!this.closed&&this.timespanOnly){tt=this.openContext();var nt=this.bufferTimeSpan,it={subscriber:this,context:tt,bufferTimeSpan:nt};this.add(tt.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,nt,it))}},_e.prototype.openContext=function(){var tt=new Context;return this.contexts.push(tt),tt},_e.prototype.closeContext=function(tt){this.destination.next(tt.buffer);var rt=this.contexts,nt=rt?rt.indexOf(tt):-1;nt>=0&&rt.splice(rt.indexOf(tt),1)},_e}(Subscriber);function dispatchBufferTimeSpanOnly(et){var _e=et.subscriber,tt=et.context;tt&&_e.closeContext(tt),_e.closed||(et.context=_e.openContext(),et.context.closeAction=this.schedule(et,et.bufferTimeSpan))}function dispatchBufferCreation(et){var _e=et.bufferCreationInterval,tt=et.bufferTimeSpan,rt=et.subscriber,nt=et.scheduler,it=rt.openContext(),at=this;rt.closed||(rt.add(it.closeAction=nt.schedule(dispatchBufferClose,tt,{subscriber:rt,context:it})),at.schedule(et,_e))}function dispatchBufferClose(et){var _e=et.subscriber,tt=et.context;_e.closeContext(tt)}function bufferToggle(et,_e){return function(rt){return rt.lift(new BufferToggleOperator(et,_e))}}var BufferToggleOperator=function(){function et(_e,tt){this.openings=_e,this.closingSelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferToggleSubscriber(_e,this.openings,this.closingSelector))},et}(),BufferToggleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.closingSelector=nt,it.contexts=[],it.add(subscribeToResult(it,rt)),it}return _e.prototype._next=function(tt){for(var rt=this.contexts,nt=rt.length,it=0;it<nt;it++)rt[it].buffer.push(tt)},_e.prototype._error=function(tt){for(var rt=this.contexts;rt.length>0;){var nt=rt.shift();nt.subscription.unsubscribe(),nt.buffer=null,nt.subscription=null}this.contexts=null,et.prototype._error.call(this,tt)},_e.prototype._complete=function(){for(var tt=this.contexts;tt.length>0;){var rt=tt.shift();this.destination.next(rt.buffer),rt.subscription.unsubscribe(),rt.buffer=null,rt.subscription=null}this.contexts=null,et.prototype._complete.call(this)},_e.prototype.notifyNext=function(tt,rt){tt?this.closeBuffer(tt):this.openBuffer(rt)},_e.prototype.notifyComplete=function(tt){this.closeBuffer(tt.context)},_e.prototype.openBuffer=function(tt){try{var rt=this.closingSelector,nt=rt.call(this,tt);nt&&this.trySubscribe(nt)}catch(it){this._error(it)}},_e.prototype.closeBuffer=function(tt){var rt=this.contexts;if(rt&&tt){var nt=tt.buffer,it=tt.subscription;this.destination.next(nt),rt.splice(rt.indexOf(tt),1),this.remove(it),it.unsubscribe()}},_e.prototype.trySubscribe=function(tt){var rt=this.contexts,nt=[],it=new Subscription,at={buffer:nt,subscription:it};rt.push(at);var st=subscribeToResult(this,tt,at);!st||st.closed?this.closeBuffer(at):(st.context=at,this.add(st),it.add(st))},_e}(OuterSubscriber);function bufferWhen(et){return function(_e){return _e.lift(new BufferWhenOperator(et))}}var BufferWhenOperator=function(){function et(_e){this.closingSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferWhenSubscriber(_e,this.closingSelector))},et}(),BufferWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.closingSelector=rt,nt.subscribing=!1,nt.openBuffer(),nt}return _e.prototype._next=function(tt){this.buffer.push(tt)},_e.prototype._complete=function(){var tt=this.buffer;tt&&this.destination.next(tt),et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},_e.prototype.notifyNext=function(){this.openBuffer()},_e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},_e.prototype.openBuffer=function(){var tt=this.closingSubscription;tt&&(this.remove(tt),tt.unsubscribe());var rt=this.buffer;this.buffer&&this.destination.next(rt),this.buffer=[];var nt;try{var it=this.closingSelector;nt=it()}catch(at){return this.error(at)}tt=new Subscription,this.closingSubscription=tt,this.add(tt),this.subscribing=!0,tt.add(innerSubscribe(nt,new SimpleInnerSubscriber(this))),this.subscribing=!1},_e}(SimpleOuterSubscriber);function catchError(et){return function(tt){var rt=new CatchOperator(et),nt=tt.lift(rt);return rt.caught=nt}}var CatchOperator=function(){function et(_e){this.selector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new CatchSubscriber(_e,this.selector,this.caught))},et}(),CatchSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.selector=rt,it.caught=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=void 0;try{rt=this.selector(tt,this.caught)}catch(at){et.prototype.error.call(this,at);return}this._unsubscribeAndRecycle();var nt=new SimpleInnerSubscriber(this);this.add(nt);var it=innerSubscribe(rt,nt);it!==nt&&this.add(it)}},_e}(SimpleOuterSubscriber);function combineAll(et){return function(_e){return _e.lift(new CombineLatestOperator(et))}}function combineLatest(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=null;return typeof et[et.length-1]=="function"&&(tt=et.pop()),et.length===1&&isArray$2(et[0])&&(et=et[0].slice()),function(rt){return rt.lift.call(from$2([rt].concat(et)),new CombineLatestOperator(tt))}}function concat$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return tt.lift.call(concat$2.apply(void 0,[tt].concat(et)))}}function concatMap(et,_e){return mergeMap(et,_e,1)}function concatMapTo(et,_e){return concatMap(function(){return et},_e)}function count(et){return function(_e){return _e.lift(new CountOperator(et,_e))}}var CountOperator=function(){function et(_e,tt){this.predicate=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new CountSubscriber(_e,this.predicate,this.source))},et}(),CountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.source=nt,it.count=0,it.index=0,it}return _e.prototype._next=function(tt){this.predicate?this._tryPredicate(tt):this.count++},_e.prototype._tryPredicate=function(tt){var rt;try{rt=this.predicate(tt,this.index++,this.source)}catch(nt){this.destination.error(nt);return}rt&&this.count++},_e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},_e}(Subscriber);function debounce(et){return function(_e){return _e.lift(new DebounceOperator(et))}}var DebounceOperator=function(){function et(_e){this.durationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DebounceSubscriber(_e,this.durationSelector))},et}(),DebounceSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.durationSelector=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){try{var rt=this.durationSelector.call(this,tt);rt&&this._tryNext(tt,rt)}catch(nt){this.destination.error(nt)}},_e.prototype._complete=function(){this.emitValue(),this.destination.complete()},_e.prototype._tryNext=function(tt,rt){var nt=this.durationSubscription;this.value=tt,this.hasValue=!0,nt&&(nt.unsubscribe(),this.remove(nt)),nt=innerSubscribe(rt,new SimpleInnerSubscriber(this)),nt&&!nt.closed&&this.add(this.durationSubscription=nt)},_e.prototype.notifyNext=function(){this.emitValue()},_e.prototype.notifyComplete=function(){this.emitValue()},_e.prototype.emitValue=function(){if(this.hasValue){var tt=this.value,rt=this.durationSubscription;rt&&(this.durationSubscription=void 0,rt.unsubscribe(),this.remove(rt)),this.value=void 0,this.hasValue=!1,et.prototype._next.call(this,tt)}},_e}(SimpleOuterSubscriber);function debounceTime(et,_e){return _e===void 0&&(_e=async),function(tt){return tt.lift(new DebounceTimeOperator(et,_e))}}var DebounceTimeOperator=function(){function et(_e,tt){this.dueTime=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DebounceTimeSubscriber(_e,this.dueTime,this.scheduler))},et}(),DebounceTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.dueTime=rt,it.scheduler=nt,it.debouncedSubscription=null,it.lastValue=null,it.hasValue=!1,it}return _e.prototype._next=function(tt){this.clearDebounce(),this.lastValue=tt,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},_e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},_e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var tt=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(tt)}},_e.prototype.clearDebounce=function(){var tt=this.debouncedSubscription;tt!==null&&(this.remove(tt),tt.unsubscribe(),this.debouncedSubscription=null)},_e}(Subscriber);function dispatchNext$1(et){et.debouncedNext()}function defaultIfEmpty(et){return et===void 0&&(et=null),function(_e){return _e.lift(new DefaultIfEmptyOperator(et))}}var DefaultIfEmptyOperator=function(){function et(_e){this.defaultValue=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DefaultIfEmptySubscriber(_e,this.defaultValue))},et}(),DefaultIfEmptySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.defaultValue=rt,nt.isEmpty=!0,nt}return _e.prototype._next=function(tt){this.isEmpty=!1,this.destination.next(tt)},_e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},_e}(Subscriber);function isDate(et){return et instanceof Date&&!isNaN(+et)}function delay(et,_e){_e===void 0&&(_e=async);var tt=isDate(et),rt=tt?+et-_e.now():Math.abs(et);return function(nt){return nt.lift(new DelayOperator(rt,_e))}}var DelayOperator=function(){function et(_e,tt){this.delay=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DelaySubscriber(_e,this.delay,this.scheduler))},et}(),DelaySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.delay=rt,it.scheduler=nt,it.queue=[],it.active=!1,it.errored=!1,it}return _e.dispatch=function(tt){for(var rt=tt.source,nt=rt.queue,it=tt.scheduler,at=tt.destination;nt.length>0&&nt[0].time-it.now()<=0;)nt.shift().notification.observe(at);if(nt.length>0){var st=Math.max(0,nt[0].time-it.now());this.schedule(tt,st)}else this.unsubscribe(),rt.active=!1},_e.prototype._schedule=function(tt){this.active=!0;var rt=this.destination;rt.add(tt.schedule(_e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:tt}))},_e.prototype.scheduleNotification=function(tt){if(this.errored!==!0){var rt=this.scheduler,nt=new DelayMessage(rt.now()+this.delay,tt);this.queue.push(nt),this.active===!1&&this._schedule(rt)}},_e.prototype._next=function(tt){this.scheduleNotification(Notification$1.createNext(tt))},_e.prototype._error=function(tt){this.errored=!0,this.queue=[],this.destination.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.scheduleNotification(Notification$1.createComplete()),this.unsubscribe()},_e}(Subscriber),DelayMessage=function(){function et(_e,tt){this.time=_e,this.notification=tt}return et}();function delayWhen(et,_e){return _e?function(tt){return new SubscriptionDelayObservable(tt,_e).lift(new DelayWhenOperator(et))}:function(tt){return tt.lift(new DelayWhenOperator(et))}}var DelayWhenOperator=function(){function et(_e){this.delayDurationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DelayWhenSubscriber(_e,this.delayDurationSelector))},et}(),DelayWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.delayDurationSelector=rt,nt.completed=!1,nt.delayNotifierSubscriptions=[],nt.index=0,nt}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.destination.next(tt),this.removeSubscription(at),this.tryComplete()},_e.prototype.notifyError=function(tt,rt){this._error(tt)},_e.prototype.notifyComplete=function(tt){var rt=this.removeSubscription(tt);rt&&this.destination.next(rt),this.tryComplete()},_e.prototype._next=function(tt){var rt=this.index++;try{var nt=this.delayDurationSelector(tt,rt);nt&&this.tryDelay(nt,tt)}catch(it){this.destination.error(it)}},_e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},_e.prototype.removeSubscription=function(tt){tt.unsubscribe();var rt=this.delayNotifierSubscriptions.indexOf(tt);return rt!==-1&&this.delayNotifierSubscriptions.splice(rt,1),tt.outerValue},_e.prototype.tryDelay=function(tt,rt){var nt=subscribeToResult(this,tt,rt);if(nt&&!nt.closed){var it=this.destination;it.add(nt),this.delayNotifierSubscriptions.push(nt)}},_e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},_e}(OuterSubscriber),SubscriptionDelayObservable=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.source=tt,nt.subscriptionDelay=rt,nt}return _e.prototype._subscribe=function(tt){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(tt,this.source))},_e}(Observable),SubscriptionDelaySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.parent=tt,nt.source=rt,nt.sourceSubscribed=!1,nt}return _e.prototype._next=function(tt){this.subscribeToSource()},_e.prototype._error=function(tt){this.unsubscribe(),this.parent.error(tt)},_e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},_e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},_e}(Subscriber);function dematerialize(){return function(_e){return _e.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new DeMaterializeSubscriber(_e))},et}(),DeMaterializeSubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype._next=function(tt){tt.observe(this.destination)},_e}(Subscriber);function distinct(et,_e){return function(tt){return tt.lift(new DistinctOperator(et,_e))}}var DistinctOperator=function(){function et(_e,tt){this.keySelector=_e,this.flushes=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DistinctSubscriber(_e,this.keySelector,this.flushes))},et}(),DistinctSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.keySelector=rt,it.values=new Set,nt&&it.add(innerSubscribe(nt,new SimpleInnerSubscriber(it))),it}return _e.prototype.notifyNext=function(){this.values.clear()},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype._next=function(tt){this.keySelector?this._useKeySelector(tt):this._finalizeNext(tt,tt)},_e.prototype._useKeySelector=function(tt){var rt,nt=this.destination;try{rt=this.keySelector(tt)}catch(it){nt.error(it);return}this._finalizeNext(rt,tt)},_e.prototype._finalizeNext=function(tt,rt){var nt=this.values;nt.has(tt)||(nt.add(tt),this.destination.next(rt))},_e}(SimpleOuterSubscriber);function distinctUntilChanged(et,_e){return function(tt){return tt.lift(new DistinctUntilChangedOperator(et,_e))}}var DistinctUntilChangedOperator=function(){function et(_e,tt){this.compare=_e,this.keySelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DistinctUntilChangedSubscriber(_e,this.compare,this.keySelector))},et}(),DistinctUntilChangedSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.keySelector=nt,it.hasKey=!1,typeof rt=="function"&&(it.compare=rt),it}return _e.prototype.compare=function(tt,rt){return tt===rt},_e.prototype._next=function(tt){var rt;try{var nt=this.keySelector;rt=nt?nt(tt):tt}catch(st){return this.destination.error(st)}var it=!1;if(this.hasKey)try{var at=this.compare;it=at(this.key,rt)}catch(st){return this.destination.error(st)}else this.hasKey=!0;it||(this.key=rt,this.destination.next(tt))},_e}(Subscriber);function distinctUntilKeyChanged(et,_e){return distinctUntilChanged(function(tt,rt){return _e?_e(tt[et],rt[et]):tt[et]===rt[et]})}function throwIfEmpty(et){return et===void 0&&(et=defaultErrorFactory),function(_e){return _e.lift(new ThrowIfEmptyOperator(et))}}var ThrowIfEmptyOperator=function(){function et(_e){this.errorFactory=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrowIfEmptySubscriber(_e,this.errorFactory))},et}(),ThrowIfEmptySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.errorFactory=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){this.hasValue=!0,this.destination.next(tt)},_e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var tt=void 0;try{tt=this.errorFactory()}catch(rt){tt=rt}this.destination.error(tt)},_e}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(et){return function(_e){return et===0?empty():_e.lift(new TakeOperator(et))}}var TakeOperator=function(){function et(_e){if(this.total=_e,this.total<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeSubscriber(_e,this.total))},et}(),TakeSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.count=0,nt}return _e.prototype._next=function(tt){var rt=this.total,nt=++this.count;nt<=rt&&(this.destination.next(tt),nt===rt&&(this.destination.complete(),this.unsubscribe()))},_e}(Subscriber);function elementAt(et,_e){if(et<0)throw new ArgumentOutOfRangeError;var tt=arguments.length>=2;return function(rt){return rt.pipe(filter(function(nt,it){return it===et}),take(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return concat$2(tt,of.apply(void 0,et))}}function every(et,_e){return function(tt){return tt.lift(new EveryOperator(et,_e,tt))}}var EveryOperator=function(){function et(_e,tt,rt){this.predicate=_e,this.thisArg=tt,this.source=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new EverySubscriber(_e,this.predicate,this.thisArg,this.source))},et}(),EverySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.predicate=rt,at.thisArg=nt,at.source=it,at.index=0,at.thisArg=nt||at,at}return _e.prototype.notifyComplete=function(tt){this.destination.next(tt),this.destination.complete()},_e.prototype._next=function(tt){var rt=!1;try{rt=this.predicate.call(this.thisArg,tt,this.index++,this.source)}catch(nt){this.destination.error(nt);return}rt||this.notifyComplete(!1)},_e.prototype._complete=function(){this.notifyComplete(!0)},_e}(Subscriber);function exhaust(){return function(et){return et.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new SwitchFirstSubscriber(_e))},et}(),SwitchFirstSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasCompleted=!1,rt.hasSubscription=!1,rt}return _e.prototype._next=function(tt){this.hasSubscription||(this.hasSubscription=!0,this.add(innerSubscribe(tt,new SimpleInnerSubscriber(this))))},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},_e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber);function exhaustMap(et,_e){return _e?function(tt){return tt.pipe(exhaustMap(function(rt,nt){return from$2(et(rt,nt)).pipe(map(function(it,at){return _e(rt,it,nt,at)}))}))}:function(tt){return tt.lift(new ExhaustMapOperator(et))}}var ExhaustMapOperator=function(){function et(_e){this.project=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ExhaustMapSubscriber(_e,this.project))},et}(),ExhaustMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.project=rt,nt.hasSubscription=!1,nt.hasCompleted=!1,nt.index=0,nt}return _e.prototype._next=function(tt){this.hasSubscription||this.tryNext(tt)},_e.prototype.tryNext=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this.hasSubscription=!0,this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyError=function(tt){this.destination.error(tt)},_e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber);function expand(et,_e,tt){return _e===void 0&&(_e=Number.POSITIVE_INFINITY),_e=(_e||0)<1?Number.POSITIVE_INFINITY:_e,function(rt){return rt.lift(new ExpandOperator(et,_e,tt))}}var ExpandOperator=function(){function et(_e,tt,rt){this.project=_e,this.concurrent=tt,this.scheduler=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ExpandSubscriber(_e,this.project,this.concurrent,this.scheduler))},et}(),ExpandSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.project=rt,at.concurrent=nt,at.scheduler=it,at.index=0,at.active=0,at.hasCompleted=!1,nt<Number.POSITIVE_INFINITY&&(at.buffer=[]),at}return _e.dispatch=function(tt){var rt=tt.subscriber,nt=tt.result,it=tt.value,at=tt.index;rt.subscribeToProjection(nt,it,at)},_e.prototype._next=function(tt){var rt=this.destination;if(rt.closed){this._complete();return}var nt=this.index++;if(this.active<this.concurrent){rt.next(tt);try{var it=this.project,at=it(tt,nt);if(!this.scheduler)this.subscribeToProjection(at,tt,nt);else{var st={subscriber:this,result:at,value:tt,index:nt},ot=this.destination;ot.add(this.scheduler.schedule(_e.dispatch,0,st))}}catch(ct){rt.error(ct)}}else this.buffer.push(tt)},_e.prototype.subscribeToProjection=function(tt,rt,nt){this.active++;var it=this.destination;it.add(innerSubscribe(tt,new SimpleInnerSubscriber(this)))},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this._next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt&&tt.length>0&&this._next(tt.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},_e}(SimpleOuterSubscriber);function finalize(et){return function(_e){return _e.lift(new FinallyOperator(et))}}var FinallyOperator=function(){function et(_e){this.callback=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new FinallySubscriber(_e,this.callback))},et}(),FinallySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.add(new Subscription(rt)),nt}return _e}(Subscriber);function find(et,_e){if(typeof et!="function")throw new TypeError("predicate is not a function");return function(tt){return tt.lift(new FindValueOperator(et,tt,!1,_e))}}var FindValueOperator=function(){function et(_e,tt,rt,nt){this.predicate=_e,this.source=tt,this.yieldIndex=rt,this.thisArg=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new FindValueSubscriber(_e,this.predicate,this.source,this.yieldIndex,this.thisArg))},et}(),FindValueSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.predicate=rt,st.source=nt,st.yieldIndex=it,st.thisArg=at,st.index=0,st}return _e.prototype.notifyComplete=function(tt){var rt=this.destination;rt.next(tt),rt.complete(),this.unsubscribe()},_e.prototype._next=function(tt){var rt=this,nt=rt.predicate,it=rt.thisArg,at=this.index++;try{var st=nt.call(it||this,tt,at,this.source);st&&this.notifyComplete(this.yieldIndex?at:tt)}catch(ot){this.destination.error(ot)}},_e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},_e}(Subscriber);function findIndex(et,_e){return function(tt){return tt.lift(new FindValueOperator(et,tt,!0,_e))}}function first(et,_e){var tt=arguments.length>=2;return function(rt){return rt.pipe(et?filter(function(nt,it){return et(nt,it,rt)}):identity,take(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(_e){return _e.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new IgnoreElementsSubscriber(_e))},et}(),IgnoreElementsSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype._next=function(tt){},_e}(Subscriber);function isEmpty(){return function(et){return et.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new IsEmptySubscriber(_e))},et}(),IsEmptySubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype.notifyComplete=function(tt){var rt=this.destination;rt.next(tt),rt.complete()},_e.prototype._next=function(tt){this.notifyComplete(!1)},_e.prototype._complete=function(){this.notifyComplete(!0)},_e}(Subscriber);function takeLast(et){return function(tt){return et===0?empty():tt.lift(new TakeLastOperator(et))}}var TakeLastOperator=function(){function et(_e){if(this.total=_e,this.total<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeLastSubscriber(_e,this.total))},et}(),TakeLastSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.ring=new Array,nt.count=0,nt}return _e.prototype._next=function(tt){var rt=this.ring,nt=this.total,it=this.count++;if(rt.length<nt)rt.push(tt);else{var at=it%nt;rt[at]=tt}},_e.prototype._complete=function(){var tt=this.destination,rt=this.count;if(rt>0)for(var nt=this.count>=this.total?this.total:this.count,it=this.ring,at=0;at<nt;at++){var st=rt++%nt;tt.next(it[st])}tt.complete()},_e}(Subscriber);function last(et,_e){var tt=arguments.length>=2;return function(rt){return rt.pipe(et?filter(function(nt,it){return et(nt,it,rt)}):identity,takeLast(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(et){return function(_e){return _e.lift(new MapToOperator(et))}}var MapToOperator=function(){function et(_e){this.value=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new MapToSubscriber(_e,this.value))},et}(),MapToSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.value=rt,nt}return _e.prototype._next=function(tt){this.destination.next(this.value)},_e}(Subscriber);function materialize(){return function(_e){return _e.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new MaterializeSubscriber(_e))},et}(),MaterializeSubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype._next=function(tt){this.destination.next(Notification$1.createNext(tt))},_e.prototype._error=function(tt){var rt=this.destination;rt.next(Notification$1.createError(tt)),rt.complete()},_e.prototype._complete=function(){var tt=this.destination;tt.next(Notification$1.createComplete()),tt.complete()},_e}(Subscriber);function scan(et,_e){var tt=!1;return arguments.length>=2&&(tt=!0),function(nt){return nt.lift(new ScanOperator(et,_e,tt))}}var ScanOperator=function(){function et(_e,tt,rt){rt===void 0&&(rt=!1),this.accumulator=_e,this.seed=tt,this.hasSeed=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ScanSubscriber(_e,this.accumulator,this.seed,this.hasSeed))},et}(),ScanSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.accumulator=rt,at._seed=nt,at.hasSeed=it,at.index=0,at}return Object.defineProperty(_e.prototype,"seed",{get:function(){return this._seed},set:function(tt){this.hasSeed=!0,this._seed=tt},enumerable:!0,configurable:!0}),_e.prototype._next=function(tt){if(!this.hasSeed)this.seed=tt,this.destination.next(tt);else return this._tryNext(tt)},_e.prototype._tryNext=function(tt){var rt=this.index++,nt;try{nt=this.accumulator(this.seed,tt,rt)}catch(it){this.destination.error(it)}this.seed=nt,this.destination.next(nt)},_e}(Subscriber);function reduce(et,_e){return arguments.length>=2?function(rt){return pipe(scan(et,_e),takeLast(1),defaultIfEmpty(_e))(rt)}:function(rt){return pipe(scan(function(nt,it,at){return et(nt,it,at+1)}),takeLast(1))(rt)}}function max(et){var _e=typeof et=="function"?function(tt,rt){return et(tt,rt)>0?tt:rt}:function(tt,rt){return tt>rt?tt:rt};return reduce(_e)}function merge(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return tt.lift.call(merge$1.apply(void 0,[tt].concat(et)))}}function mergeMapTo(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),typeof _e=="function"?mergeMap(function(){return et},_e,tt):(typeof _e=="number"&&(tt=_e),mergeMap(function(){return et},tt))}function mergeScan(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),function(rt){return rt.lift(new MergeScanOperator(et,_e,tt))}}var MergeScanOperator=function(){function et(_e,tt,rt){this.accumulator=_e,this.seed=tt,this.concurrent=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MergeScanSubscriber(_e,this.accumulator,this.seed,this.concurrent))},et}(),MergeScanSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.accumulator=rt,at.acc=nt,at.concurrent=it,at.hasValue=!1,at.hasCompleted=!1,at.buffer=[],at.active=0,at.index=0,at}return _e.prototype._next=function(tt){if(this.active<this.concurrent){var rt=this.index++,nt=this.destination,it=void 0;try{var at=this.accumulator;it=at(this.acc,tt,rt)}catch(st){return nt.error(st)}this.active++,this._innerSub(it)}else this.buffer.push(tt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},_e.prototype.notifyNext=function(tt){var rt=this.destination;this.acc=tt,this.hasValue=!0,rt.next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt.length>0?this._next(tt.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},_e}(SimpleOuterSubscriber);function min(et){var _e=typeof et=="function"?function(tt,rt){return et(tt,rt)<0?tt:rt}:function(tt,rt){return tt<rt?tt:rt};return reduce(_e)}function multicast(et,_e){return function(rt){var nt;if(typeof et=="function"?nt=et:nt=function(){return et},typeof _e=="function")return rt.lift(new MulticastOperator(nt,_e));var it=Object.create(rt,connectableObservableDescriptor);return it.source=rt,it.subjectFactory=nt,it}}var MulticastOperator=function(){function et(_e,tt){this.subjectFactory=_e,this.selector=tt}return et.prototype.call=function(_e,tt){var rt=this.selector,nt=this.subjectFactory(),it=rt(nt).subscribe(_e);return it.add(tt.subscribe(nt)),it},et}();function onErrorResumeNext(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return et.length===1&&isArray$2(et[0])&&(et=et[0]),function(tt){return tt.lift(new OnErrorResumeNextOperator(et))}}var OnErrorResumeNextOperator=function(){function et(_e){this.nextSources=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new OnErrorResumeNextSubscriber(_e,this.nextSources))},et}(),OnErrorResumeNextSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.destination=tt,nt.nextSources=rt,nt}return _e.prototype.notifyError=function(){this.subscribeToNextSource()},_e.prototype.notifyComplete=function(){this.subscribeToNextSource()},_e.prototype._error=function(tt){this.subscribeToNextSource(),this.unsubscribe()},_e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},_e.prototype.subscribeToNextSource=function(){var tt=this.nextSources.shift();if(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)}else this.destination.complete()},_e}(SimpleOuterSubscriber);function pairwise(){return function(et){return et.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new PairwiseSubscriber(_e))},et}(),PairwiseSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasPrev=!1,rt}return _e.prototype._next=function(tt){var rt;this.hasPrev?rt=[this.prev,tt]:this.hasPrev=!0,this.prev=tt,rt&&this.destination.next(rt)},_e}(Subscriber);function partition(et,_e){return function(tt){return[filter(et,_e)(tt),filter(not(et,_e))(tt)]}}function pluck(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et.length;if(tt===0)throw new Error("list of properties cannot be empty.");return function(rt){return map(plucker(et,tt))(rt)}}function plucker(et,_e){var tt=function(rt){for(var nt=rt,it=0;it<_e;it++){var at=nt!=null?nt[et[it]]:void 0;if(at!==void 0)nt=at;else return}return nt};return tt}function publish(et){return et?multicast(function(){return new Subject},et):multicast(new Subject)}function publishBehavior(et){return function(_e){return multicast(new BehaviorSubject(et))(_e)}}function publishLast(){return function(et){return multicast(new AsyncSubject)(et)}}function publishReplay(et,_e,tt,rt){tt&&typeof tt!="function"&&(rt=tt);var nt=typeof tt=="function"?tt:void 0,it=new ReplaySubject(et,_e,rt);return function(at){return multicast(function(){return it},nt)(at)}}function race(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(rt){return et.length===1&&isArray$2(et[0])&&(et=et[0]),rt.lift.call(race$1.apply(void 0,[rt].concat(et)))}}function repeat(et){return et===void 0&&(et=-1),function(_e){return et===0?empty():et<0?_e.lift(new RepeatOperator(-1,_e)):_e.lift(new RepeatOperator(et-1,_e))}}var RepeatOperator=function(){function et(_e,tt){this.count=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RepeatSubscriber(_e,this.count,this.source))},et}(),RepeatSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.count=rt,it.source=nt,it}return _e.prototype.complete=function(){if(!this.isStopped){var tt=this,rt=tt.source,nt=tt.count;if(nt===0)return et.prototype.complete.call(this);nt>-1&&(this.count=nt-1),rt.subscribe(this._unsubscribeAndRecycle())}},_e}(Subscriber);function repeatWhen(et){return function(_e){return _e.lift(new RepeatWhenOperator(et))}}var RepeatWhenOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new RepeatWhenSubscriber(_e,this.notifier,tt))},et}(),RepeatWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.notifier=rt,it.source=nt,it.sourceIsBeingSubscribedTo=!0,it}return _e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},_e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return et.prototype.complete.call(this)},_e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return et.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.notifications,nt=tt.retriesSubscription;rt&&(rt.unsubscribe(),this.notifications=void 0),nt&&(nt.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_e.prototype._unsubscribeAndRecycle=function(){var tt=this._unsubscribe;return this._unsubscribe=null,et.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=tt,this},_e.prototype.subscribeToRetries=function(){this.notifications=new Subject;var tt;try{var rt=this.notifier;tt=rt(this.notifications)}catch{return et.prototype.complete.call(this)}this.retries=tt,this.retriesSubscription=innerSubscribe(tt,new SimpleInnerSubscriber(this))},_e}(SimpleOuterSubscriber);function retry(et){return et===void 0&&(et=-1),function(_e){return _e.lift(new RetryOperator(et,_e))}}var RetryOperator=function(){function et(_e,tt){this.count=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RetrySubscriber(_e,this.count,this.source))},et}(),RetrySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.count=rt,it.source=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=this,nt=rt.source,it=rt.count;if(it===0)return et.prototype.error.call(this,tt);it>-1&&(this.count=it-1),nt.subscribe(this._unsubscribeAndRecycle())}},_e}(Subscriber);function retryWhen(et){return function(_e){return _e.lift(new RetryWhenOperator(et,_e))}}var RetryWhenOperator=function(){function et(_e,tt){this.notifier=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RetryWhenSubscriber(_e,this.notifier,this.source))},et}(),RetryWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.notifier=rt,it.source=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=this.errors,nt=this.retries,it=this.retriesSubscription;if(nt)this.errors=void 0,this.retriesSubscription=void 0;else{rt=new Subject;try{var at=this.notifier;nt=at(rt)}catch(st){return et.prototype.error.call(this,st)}it=innerSubscribe(nt,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=rt,this.retries=nt,this.retriesSubscription=it,rt.next(tt)}},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.errors,nt=tt.retriesSubscription;rt&&(rt.unsubscribe(),this.errors=void 0),nt&&(nt.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_e.prototype.notifyNext=function(){var tt=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=tt,this.source.subscribe(this)},_e}(SimpleOuterSubscriber);function sample(et){return function(_e){return _e.lift(new SampleOperator(et))}}var SampleOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){var rt=new SampleSubscriber(_e),nt=tt.subscribe(rt);return nt.add(innerSubscribe(this.notifier,new SimpleInnerSubscriber(rt))),nt},et}(),SampleSubscriber=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.hasValue=!1,tt}return _e.prototype._next=function(tt){this.value=tt,this.hasValue=!0},_e.prototype.notifyNext=function(){this.emitValue()},_e.prototype.notifyComplete=function(){this.emitValue()},_e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},_e}(SimpleOuterSubscriber);function sampleTime(et,_e){return _e===void 0&&(_e=async),function(tt){return tt.lift(new SampleTimeOperator(et,_e))}}var SampleTimeOperator=function(){function et(_e,tt){this.period=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SampleTimeSubscriber(_e,this.period,this.scheduler))},et}(),SampleTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.period=rt,it.scheduler=nt,it.hasValue=!1,it.add(nt.schedule(dispatchNotification,rt,{subscriber:it,period:rt})),it}return _e.prototype._next=function(tt){this.lastValue=tt,this.hasValue=!0},_e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},_e}(Subscriber);function dispatchNotification(et){var _e=et.subscriber,tt=et.period;_e.notifyNext(),this.schedule(et,tt)}function sequenceEqual(et,_e){return function(tt){return tt.lift(new SequenceEqualOperator(et,_e))}}var SequenceEqualOperator=function(){function et(_e,tt){this.compareTo=_e,this.comparator=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SequenceEqualSubscriber(_e,this.compareTo,this.comparator))},et}(),SequenceEqualSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.compareTo=rt,it.comparator=nt,it._a=[],it._b=[],it._oneComplete=!1,it.destination.add(rt.subscribe(new SequenceEqualCompareToSubscriber(tt,it))),it}return _e.prototype._next=function(tt){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(tt),this.checkValues())},_e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},_e.prototype.checkValues=function(){for(var tt=this,rt=tt._a,nt=tt._b,it=tt.comparator;rt.length>0&&nt.length>0;){var at=rt.shift(),st=nt.shift(),ot=!1;try{ot=it?it(at,st):at===st}catch(ct){this.destination.error(ct)}ot||this.emit(!1)}},_e.prototype.emit=function(tt){var rt=this.destination;rt.next(tt),rt.complete()},_e.prototype.nextB=function(tt){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(tt),this.checkValues())},_e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},_e}(Subscriber),SequenceEqualCompareToSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.parent=rt,nt}return _e.prototype._next=function(tt){this.parent.nextB(tt)},_e.prototype._error=function(tt){this.parent.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},_e}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(et){return refCount()(multicast(shareSubjectFactory)(et))}}function shareReplay(et,_e,tt){var rt;return et&&typeof et=="object"?rt=et:rt={bufferSize:et,windowTime:_e,refCount:!1,scheduler:tt},function(nt){return nt.lift(shareReplayOperator(rt))}}function shareReplayOperator(et){var _e=et.bufferSize,tt=_e===void 0?Number.POSITIVE_INFINITY:_e,rt=et.windowTime,nt=rt===void 0?Number.POSITIVE_INFINITY:rt,it=et.refCount,at=et.scheduler,st,ot=0,ct,lt=!1,ut=!1;return function(mt){ot++;var gt;!st||lt?(lt=!1,st=new ReplaySubject(tt,nt,at),gt=st.subscribe(this),ct=mt.subscribe({next:function(bt){st.next(bt)},error:function(bt){lt=!0,st.error(bt)},complete:function(){ut=!0,ct=void 0,st.complete()}}),ut&&(ct=void 0)):gt=st.subscribe(this),this.add(function(){ot--,gt.unsubscribe(),gt=void 0,ct&&!ut&&it&&ot===0&&(ct.unsubscribe(),ct=void 0,st=void 0)})}}function single(et){return function(_e){return _e.lift(new SingleOperator(et,_e))}}var SingleOperator=function(){function et(_e,tt){this.predicate=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SingleSubscriber(_e,this.predicate,this.source))},et}(),SingleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.source=nt,it.seenValue=!1,it.index=0,it}return _e.prototype.applySingleValue=function(tt){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=tt)},_e.prototype._next=function(tt){var rt=this.index++;this.predicate?this.tryNext(tt,rt):this.applySingleValue(tt)},_e.prototype.tryNext=function(tt,rt){try{this.predicate(tt,rt,this.source)&&this.applySingleValue(tt)}catch(nt){this.destination.error(nt)}},_e.prototype._complete=function(){var tt=this.destination;this.index>0?(tt.next(this.seenValue?this.singleValue:void 0),tt.complete()):tt.error(new EmptyError)},_e}(Subscriber);function skip(et){return function(_e){return _e.lift(new SkipOperator(et))}}var SkipOperator=function(){function et(_e){this.total=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipSubscriber(_e,this.total))},et}(),SkipSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.count=0,nt}return _e.prototype._next=function(tt){++this.count>this.total&&this.destination.next(tt)},_e}(Subscriber);function skipLast(et){return function(_e){return _e.lift(new SkipLastOperator(et))}}var SkipLastOperator=function(){function et(_e){if(this._skipCount=_e,this._skipCount<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return this._skipCount===0?tt.subscribe(new Subscriber(_e)):tt.subscribe(new SkipLastSubscriber(_e,this._skipCount))},et}(),SkipLastSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt._skipCount=rt,nt._count=0,nt._ring=new Array(rt),nt}return _e.prototype._next=function(tt){var rt=this._skipCount,nt=this._count++;if(nt<rt)this._ring[nt]=tt;else{var it=nt%rt,at=this._ring,st=at[it];at[it]=tt,this.destination.next(st)}},_e}(Subscriber);function skipUntil(et){return function(_e){return _e.lift(new SkipUntilOperator(et))}}var SkipUntilOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipUntilSubscriber(_e,this.notifier))},et}(),SkipUntilSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;nt.hasValue=!1;var it=new SimpleInnerSubscriber(nt);nt.add(it),nt.innerSubscription=it;var at=innerSubscribe(rt,it);return at!==it&&(nt.add(at),nt.innerSubscription=at),nt}return _e.prototype._next=function(tt){this.hasValue&&et.prototype._next.call(this,tt)},_e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},_e.prototype.notifyComplete=function(){},_e}(SimpleOuterSubscriber);function skipWhile(et){return function(_e){return _e.lift(new SkipWhileOperator(et))}}var SkipWhileOperator=function(){function et(_e){this.predicate=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipWhileSubscriber(_e,this.predicate))},et}(),SkipWhileSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.predicate=rt,nt.skipping=!0,nt.index=0,nt}return _e.prototype._next=function(tt){var rt=this.destination;this.skipping&&this.tryCallPredicate(tt),this.skipping||rt.next(tt)},_e.prototype.tryCallPredicate=function(tt){try{var rt=this.predicate(tt,this.index++);this.skipping=Boolean(rt)}catch(nt){this.destination.error(nt)}},_e}(Subscriber);function startWith(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return isScheduler(tt)?(et.pop(),function(rt){return concat$2(et,rt,tt)}):function(rt){return concat$2(et,rt)}}var SubscribeOnObservable=function(et){__extends(_e,et);function _e(tt,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=asap);var it=et.call(this)||this;return it.source=tt,it.delayTime=rt,it.scheduler=nt,(!isNumeric(rt)||rt<0)&&(it.delayTime=0),(!nt||typeof nt.schedule!="function")&&(it.scheduler=asap),it}return _e.create=function(tt,rt,nt){return rt===void 0&&(rt=0),nt===void 0&&(nt=asap),new _e(tt,rt,nt)},_e.dispatch=function(tt){var rt=tt.source,nt=tt.subscriber;return this.add(rt.subscribe(nt))},_e.prototype._subscribe=function(tt){var rt=this.delayTime,nt=this.source,it=this.scheduler;return it.schedule(_e.dispatch,rt,{source:nt,subscriber:tt})},_e}(Observable);function subscribeOn(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new SubscribeOnOperator(et,_e))}}var SubscribeOnOperator=function(){function et(_e,tt){this.scheduler=_e,this.delay=tt}return et.prototype.call=function(_e,tt){return new SubscribeOnObservable(tt,this.delay,this.scheduler).subscribe(_e)},et}();function switchMap(et,_e){return typeof _e=="function"?function(tt){return tt.pipe(switchMap(function(rt,nt){return from$2(et(rt,nt)).pipe(map(function(it,at){return _e(rt,it,nt,at)}))}))}:function(tt){return tt.lift(new SwitchMapOperator(et))}}var SwitchMapOperator=function(){function et(_e){this.project=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SwitchMapSubscriber(_e,this.project))},et}(),SwitchMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.project=rt,nt.index=0,nt}return _e.prototype._next=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=this.innerSubscription;rt&&rt.unsubscribe();var nt=new SimpleInnerSubscriber(this),it=this.destination;it.add(nt),this.innerSubscription=innerSubscribe(tt,nt),this.innerSubscription!==nt&&it.add(this.innerSubscription)},_e.prototype._complete=function(){var tt=this.innerSubscription;(!tt||tt.closed)&&et.prototype._complete.call(this),this.unsubscribe()},_e.prototype._unsubscribe=function(){this.innerSubscription=void 0},_e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&et.prototype._complete.call(this)},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(et,_e){return _e?switchMap(function(){return et},_e):switchMap(function(){return et})}function takeUntil(et){return function(_e){return _e.lift(new TakeUntilOperator(et))}}var TakeUntilOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){var rt=new TakeUntilSubscriber(_e),nt=innerSubscribe(this.notifier,new SimpleInnerSubscriber(rt));return nt&&!rt.seenValue?(rt.add(nt),tt.subscribe(rt)):rt},et}(),TakeUntilSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.seenValue=!1,rt}return _e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},_e.prototype.notifyComplete=function(){},_e}(SimpleOuterSubscriber);function takeWhile(et,_e){return _e===void 0&&(_e=!1),function(tt){return tt.lift(new TakeWhileOperator(et,_e))}}var TakeWhileOperator=function(){function et(_e,tt){this.predicate=_e,this.inclusive=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeWhileSubscriber(_e,this.predicate,this.inclusive))},et}(),TakeWhileSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.inclusive=nt,it.index=0,it}return _e.prototype._next=function(tt){var rt=this.destination,nt;try{nt=this.predicate(tt,this.index++)}catch(it){rt.error(it);return}this.nextOrComplete(tt,nt)},_e.prototype.nextOrComplete=function(tt,rt){var nt=this.destination;Boolean(rt)?nt.next(tt):(this.inclusive&&nt.next(tt),nt.complete())},_e}(Subscriber);function tap(et,_e,tt){return function(nt){return nt.lift(new DoOperator(et,_e,tt))}}var DoOperator=function(){function et(_e,tt,rt){this.nextOrObserver=_e,this.error=tt,this.complete=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TapSubscriber(_e,this.nextOrObserver,this.error,this.complete))},et}(),TapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at._tapNext=noop,at._tapError=noop,at._tapComplete=noop,at._tapError=nt||noop,at._tapComplete=it||noop,isFunction(rt)?(at._context=at,at._tapNext=rt):rt&&(at._context=rt,at._tapNext=rt.next||noop,at._tapError=rt.error||noop,at._tapComplete=rt.complete||noop),at}return _e.prototype._next=function(tt){try{this._tapNext.call(this._context,tt)}catch(rt){this.destination.error(rt);return}this.destination.next(tt)},_e.prototype._error=function(tt){try{this._tapError.call(this._context,tt)}catch(rt){this.destination.error(rt);return}this.destination.error(tt)},_e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(tt){this.destination.error(tt);return}return this.destination.complete()},_e}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(et,_e){return _e===void 0&&(_e=defaultThrottleConfig),function(tt){return tt.lift(new ThrottleOperator(et,!!_e.leading,!!_e.trailing))}}var ThrottleOperator=function(){function et(_e,tt,rt){this.durationSelector=_e,this.leading=tt,this.trailing=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrottleSubscriber(_e,this.durationSelector,this.leading,this.trailing))},et}(),ThrottleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.destination=tt,at.durationSelector=rt,at._leading=nt,at._trailing=it,at._hasValue=!1,at}return _e.prototype._next=function(tt){this._hasValue=!0,this._sendValue=tt,this._throttled||(this._leading?this.send():this.throttle(tt))},_e.prototype.send=function(){var tt=this,rt=tt._hasValue,nt=tt._sendValue;rt&&(this.destination.next(nt),this.throttle(nt)),this._hasValue=!1,this._sendValue=void 0},_e.prototype.throttle=function(tt){var rt=this.tryDurationSelector(tt);rt&&this.add(this._throttled=innerSubscribe(rt,new SimpleInnerSubscriber(this)))},_e.prototype.tryDurationSelector=function(tt){try{return this.durationSelector(tt)}catch(rt){return this.destination.error(rt),null}},_e.prototype.throttlingDone=function(){var tt=this,rt=tt._throttled,nt=tt._trailing;rt&&rt.unsubscribe(),this._throttled=void 0,nt&&this.send()},_e.prototype.notifyNext=function(){this.throttlingDone()},_e.prototype.notifyComplete=function(){this.throttlingDone()},_e}(SimpleOuterSubscriber);function throttleTime(et,_e,tt){return _e===void 0&&(_e=async),tt===void 0&&(tt=defaultThrottleConfig),function(rt){return rt.lift(new ThrottleTimeOperator(et,_e,tt.leading,tt.trailing))}}var ThrottleTimeOperator=function(){function et(_e,tt,rt,nt){this.duration=_e,this.scheduler=tt,this.leading=rt,this.trailing=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrottleTimeSubscriber(_e,this.duration,this.scheduler,this.leading,this.trailing))},et}(),ThrottleTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.duration=rt,st.scheduler=nt,st.leading=it,st.trailing=at,st._hasTrailingValue=!1,st._trailingValue=null,st}return _e.prototype._next=function(tt){this.throttled?this.trailing&&(this._trailingValue=tt,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(tt):this.trailing&&(this._trailingValue=tt,this._hasTrailingValue=!0))},_e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},_e.prototype.clearThrottle=function(){var tt=this.throttled;tt&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),tt.unsubscribe(),this.remove(tt),this.throttled=null)},_e}(Subscriber);function dispatchNext(et){var _e=et.subscriber;_e.clearThrottle()}function timeInterval(et){return et===void 0&&(et=async),function(_e){return defer(function(){return _e.pipe(scan(function(tt,rt){var nt=tt.current;return{value:rt,current:et.now(),last:nt}},{current:et.now(),value:void 0,last:void 0}),map(function(tt){var rt=tt.current,nt=tt.last,it=tt.value;return new TimeInterval(it,rt-nt)}))})}}var TimeInterval=function(){function et(_e,tt){this.value=_e,this.interval=tt}return et}();function timeoutWith(et,_e,tt){return tt===void 0&&(tt=async),function(rt){var nt=isDate(et),it=nt?+et-tt.now():Math.abs(et);return rt.lift(new TimeoutWithOperator(it,nt,_e,tt))}}var TimeoutWithOperator=function(){function et(_e,tt,rt,nt){this.waitFor=_e,this.absoluteTimeout=tt,this.withObservable=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TimeoutWithSubscriber(_e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},et}(),TimeoutWithSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.absoluteTimeout=rt,st.waitFor=nt,st.withObservable=it,st.scheduler=at,st.scheduleTimeout(),st}return _e.dispatchTimeout=function(tt){var rt=tt.withObservable;tt._unsubscribeAndRecycle(),tt.add(innerSubscribe(rt,new SimpleInnerSubscriber(tt)))},_e.prototype.scheduleTimeout=function(){var tt=this.action;tt?this.action=tt.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(_e.dispatchTimeout,this.waitFor,this))},_e.prototype._next=function(tt){this.absoluteTimeout||this.scheduleTimeout(),et.prototype._next.call(this,tt)},_e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},_e}(SimpleOuterSubscriber);function timeout(et,_e){return _e===void 0&&(_e=async),timeoutWith(et,throwError(new TimeoutError),_e)}function timestamp(et){return et===void 0&&(et=async),map(function(_e){return new Timestamp(_e,et.now())})}var Timestamp=function(){function et(_e,tt){this.value=_e,this.timestamp=tt}return et}();function toArrayReducer(et,_e,tt){return tt===0?[_e]:(et.push(_e),et)}function toArray(){return reduce(toArrayReducer,[])}function window$1(et){return function(tt){return tt.lift(new WindowOperator$1(et))}}var WindowOperator$1=function(){function et(_e){this.windowBoundaries=_e}return et.prototype.call=function(_e,tt){var rt=new WindowSubscriber$1(_e),nt=tt.subscribe(rt);return nt.closed||rt.add(innerSubscribe(this.windowBoundaries,new SimpleInnerSubscriber(rt))),nt},et}(),WindowSubscriber$1=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.window=new Subject,tt.next(rt.window),rt}return _e.prototype.notifyNext=function(){this.openWindow()},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype.notifyComplete=function(){this._complete()},_e.prototype._next=function(tt){this.window.next(tt)},_e.prototype._error=function(tt){this.window.error(tt),this.destination.error(tt)},_e.prototype._complete=function(){this.window.complete(),this.destination.complete()},_e.prototype._unsubscribe=function(){this.window=null},_e.prototype.openWindow=function(){var tt=this.window;tt&&tt.complete();var rt=this.destination,nt=this.window=new Subject;rt.next(nt)},_e}(SimpleOuterSubscriber);function windowCount(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new WindowCountOperator(et,_e))}}var WindowCountOperator=function(){function et(_e,tt){this.windowSize=_e,this.startWindowEvery=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowCountSubscriber(_e,this.windowSize,this.startWindowEvery))},et}(),WindowCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.destination=tt,it.windowSize=rt,it.startWindowEvery=nt,it.windows=[new Subject],it.count=0,tt.next(it.windows[0]),it}return _e.prototype._next=function(tt){for(var rt=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,nt=this.destination,it=this.windowSize,at=this.windows,st=at.length,ot=0;ot<st&&!this.closed;ot++)at[ot].next(tt);var ct=this.count-it+1;if(ct>=0&&ct%rt===0&&!this.closed&&at.shift().complete(),++this.count%rt===0&&!this.closed){var lt=new Subject;at.push(lt),nt.next(lt)}},_e.prototype._error=function(tt){var rt=this.windows;if(rt)for(;rt.length>0&&!this.closed;)rt.shift().error(tt);this.destination.error(tt)},_e.prototype._complete=function(){var tt=this.windows;if(tt)for(;tt.length>0&&!this.closed;)tt.shift().complete();this.destination.complete()},_e.prototype._unsubscribe=function(){this.count=0,this.windows=null},_e}(Subscriber);function windowTime(et){var _e=async,tt=null,rt=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(_e=arguments[3]),isScheduler(arguments[2])?_e=arguments[2]:isNumeric(arguments[2])&&(rt=Number(arguments[2])),isScheduler(arguments[1])?_e=arguments[1]:isNumeric(arguments[1])&&(tt=Number(arguments[1])),function(it){return it.lift(new WindowTimeOperator(et,tt,rt,_e))}}var WindowTimeOperator=function(){function et(_e,tt,rt,nt){this.windowTimeSpan=_e,this.windowCreationInterval=tt,this.maxWindowSize=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowTimeSubscriber(_e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},et}(),CountedSubject=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt._numberOfNextedValues=0,tt}return _e.prototype.next=function(tt){this._numberOfNextedValues++,et.prototype.next.call(this,tt)},Object.defineProperty(_e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),_e}(Subject),WindowTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;st.destination=tt,st.windowTimeSpan=rt,st.windowCreationInterval=nt,st.maxWindowSize=it,st.scheduler=at,st.windows=[];var ot=st.openWindow();if(nt!==null&&nt>=0){var ct={subscriber:st,window:ot,context:null},lt={windowTimeSpan:rt,windowCreationInterval:nt,subscriber:st,scheduler:at};st.add(at.schedule(dispatchWindowClose,rt,ct)),st.add(at.schedule(dispatchWindowCreation,nt,lt))}else{var ut={subscriber:st,window:ot,windowTimeSpan:rt};st.add(at.schedule(dispatchWindowTimeSpanOnly,rt,ut))}return st}return _e.prototype._next=function(tt){for(var rt=this.windows,nt=rt.length,it=0;it<nt;it++){var at=rt[it];at.closed||(at.next(tt),at.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(at))}},_e.prototype._error=function(tt){for(var rt=this.windows;rt.length>0;)rt.shift().error(tt);this.destination.error(tt)},_e.prototype._complete=function(){for(var tt=this.windows;tt.length>0;){var rt=tt.shift();rt.closed||rt.complete()}this.destination.complete()},_e.prototype.openWindow=function(){var tt=new CountedSubject;this.windows.push(tt);var rt=this.destination;return rt.next(tt),tt},_e.prototype.closeWindow=function(tt){tt.complete();var rt=this.windows;rt.splice(rt.indexOf(tt),1)},_e}(Subscriber);function dispatchWindowTimeSpanOnly(et){var _e=et.subscriber,tt=et.windowTimeSpan,rt=et.window;rt&&_e.closeWindow(rt),et.window=_e.openWindow(),this.schedule(et,tt)}function dispatchWindowCreation(et){var _e=et.windowTimeSpan,tt=et.subscriber,rt=et.scheduler,nt=et.windowCreationInterval,it=tt.openWindow(),at=this,st={action:at,subscription:null},ot={subscriber:tt,window:it,context:st};st.subscription=rt.schedule(dispatchWindowClose,_e,ot),at.add(st.subscription),at.schedule(et,nt)}function dispatchWindowClose(et){var _e=et.subscriber,tt=et.window,rt=et.context;rt&&rt.action&&rt.subscription&&rt.action.remove(rt.subscription),_e.closeWindow(tt)}function windowToggle(et,_e){return function(tt){return tt.lift(new WindowToggleOperator(et,_e))}}var WindowToggleOperator=function(){function et(_e,tt){this.openings=_e,this.closingSelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowToggleSubscriber(_e,this.openings,this.closingSelector))},et}(),WindowToggleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.openings=rt,it.closingSelector=nt,it.contexts=[],it.add(it.openSubscription=subscribeToResult(it,rt,rt)),it}return _e.prototype._next=function(tt){var rt=this.contexts;if(rt)for(var nt=rt.length,it=0;it<nt;it++)rt[it].window.next(tt)},_e.prototype._error=function(tt){var rt=this.contexts;if(this.contexts=null,rt)for(var nt=rt.length,it=-1;++it<nt;){var at=rt[it];at.window.error(tt),at.subscription.unsubscribe()}et.prototype._error.call(this,tt)},_e.prototype._complete=function(){var tt=this.contexts;if(this.contexts=null,tt)for(var rt=tt.length,nt=-1;++nt<rt;){var it=tt[nt];it.window.complete(),it.subscription.unsubscribe()}et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){var tt=this.contexts;if(this.contexts=null,tt)for(var rt=tt.length,nt=-1;++nt<rt;){var it=tt[nt];it.window.unsubscribe(),it.subscription.unsubscribe()}},_e.prototype.notifyNext=function(tt,rt,nt,it,at){if(tt===this.openings){var st=void 0;try{var ot=this.closingSelector;st=ot(rt)}catch(mt){return this.error(mt)}var ct=new Subject,lt=new Subscription,ut={window:ct,subscription:lt};this.contexts.push(ut);var dt=subscribeToResult(this,st,ut);dt.closed?this.closeWindow(this.contexts.length-1):(dt.context=ut,lt.add(dt)),this.destination.next(ct)}else this.closeWindow(this.contexts.indexOf(tt))},_e.prototype.notifyError=function(tt){this.error(tt)},_e.prototype.notifyComplete=function(tt){tt!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(tt.context))},_e.prototype.closeWindow=function(tt){if(tt!==-1){var rt=this.contexts,nt=rt[tt],it=nt.window,at=nt.subscription;rt.splice(tt,1),it.complete(),at.unsubscribe()}},_e}(OuterSubscriber);function windowWhen(et){return function(tt){return tt.lift(new WindowOperator(et))}}var WindowOperator=function(){function et(_e){this.closingSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowSubscriber(_e,this.closingSelector))},et}(),WindowSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.destination=tt,nt.closingSelector=rt,nt.openWindow(),nt}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.openWindow(at)},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype.notifyComplete=function(tt){this.openWindow(tt)},_e.prototype._next=function(tt){this.window.next(tt)},_e.prototype._error=function(tt){this.window.error(tt),this.destination.error(tt),this.unsubscribeClosingNotification()},_e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},_e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},_e.prototype.openWindow=function(tt){tt===void 0&&(tt=null),tt&&(this.remove(tt),tt.unsubscribe());var rt=this.window;rt&&rt.complete();var nt=this.window=new Subject;this.destination.next(nt);var it;try{var at=this.closingSelector;it=at()}catch(st){this.destination.error(st),this.window.error(st);return}this.add(this.closingNotification=subscribeToResult(this,it))},_e}(OuterSubscriber);function withLatestFrom(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){var rt;typeof et[et.length-1]=="function"&&(rt=et.pop());var nt=et;return tt.lift(new WithLatestFromOperator(nt,rt))}}var WithLatestFromOperator=function(){function et(_e,tt){this.observables=_e,this.project=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WithLatestFromSubscriber(_e,this.observables,this.project))},et}(),WithLatestFromSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;it.observables=rt,it.project=nt,it.toRespond=[];var at=rt.length;it.values=new Array(at);for(var st=0;st<at;st++)it.toRespond.push(st);for(var st=0;st<at;st++){var ot=rt[st];it.add(subscribeToResult(it,ot,void 0,st))}return it}return _e.prototype.notifyNext=function(tt,rt,nt){this.values[nt]=rt;var it=this.toRespond;if(it.length>0){var at=it.indexOf(nt);at!==-1&&it.splice(at,1)}},_e.prototype.notifyComplete=function(){},_e.prototype._next=function(tt){if(this.toRespond.length===0){var rt=[tt].concat(this.values);this.project?this._tryProject(rt):this.destination.next(rt)}},_e.prototype._tryProject=function(tt){var rt;try{rt=this.project.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(OuterSubscriber);function zip(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(rt){return rt.lift.call(zip$1.apply(void 0,[rt].concat(et)))}}function zipAll(et){return function(_e){return _e.lift(new ZipOperator(et))}}const operators=Object.freeze(Object.defineProperty({__proto__:null,audit,auditTime,buffer:buffer$1,bufferCount,bufferTime,bufferToggle,bufferWhen,catchError,combineAll,combineLatest,concat:concat$1,concatAll,concatMap,concatMapTo,count,debounce,debounceTime,defaultIfEmpty,delay,delayWhen,dematerialize,distinct,distinctUntilChanged,distinctUntilKeyChanged,elementAt,endWith,every,exhaust,exhaustMap,expand,filter,finalize,find,findIndex,first,groupBy,ignoreElements,isEmpty,last,map,mapTo,materialize,max,merge,mergeAll,mergeMap,flatMap,mergeMapTo,mergeScan,min,multicast,observeOn,onErrorResumeNext,pairwise,partition,pluck,publish,publishBehavior,publishLast,publishReplay,race,reduce,repeat,repeatWhen,retry,retryWhen,refCount,sample,sampleTime,scan,sequenceEqual,share,shareReplay,single,skip,skipLast,skipUntil,skipWhile,startWith,subscribeOn,switchAll,switchMap,switchMapTo,take,takeLast,takeUntil,takeWhile,tap,throttle,throttleTime,throwIfEmpty,timeInterval,timeout,timeoutWith,timestamp,toArray,window:window$1,windowCount,windowTime,windowToggle,windowWhen,withLatestFrom,zip,zipAll},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(operators);var WalletSDKConnection$1={},ClientMessage={};Object.defineProperty(ClientMessage,"__esModule",{value:!0});ClientMessage.ClientMessagePublishEvent=ClientMessage.ClientMessageSetSessionConfig=ClientMessage.ClientMessageGetSessionConfig=ClientMessage.ClientMessageIsLinked=ClientMessage.ClientMessageHostSession=void 0;function ClientMessageHostSession(et){return Object.assign({type:"HostSession"},et)}ClientMessage.ClientMessageHostSession=ClientMessageHostSession;function ClientMessageIsLinked(et){return Object.assign({type:"IsLinked"},et)}ClientMessage.ClientMessageIsLinked=ClientMessageIsLinked;function ClientMessageGetSessionConfig(et){return Object.assign({type:"GetSessionConfig"},et)}ClientMessage.ClientMessageGetSessionConfig=ClientMessageGetSessionConfig;function ClientMessageSetSessionConfig(et){return Object.assign({type:"SetSessionConfig"},et)}ClientMessage.ClientMessageSetSessionConfig=ClientMessageSetSessionConfig;function ClientMessagePublishEvent(et){return Object.assign({type:"PublishEvent"},et)}ClientMessage.ClientMessagePublishEvent=ClientMessagePublishEvent;var RxWebSocket={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.RxWebSocket=et.ConnectionState=void 0;const _e=require$$2$1,tt=require$$3$1;var rt;(function(it){it[it.DISCONNECTED=0]="DISCONNECTED",it[it.CONNECTING=1]="CONNECTING",it[it.CONNECTED=2]="CONNECTED"})(rt=et.ConnectionState||(et.ConnectionState={}));class nt{constructor(at,st=WebSocket){this.WebSocketClass=st,this.webSocket=null,this.connectionStateSubject=new _e.BehaviorSubject(rt.DISCONNECTED),this.incomingDataSubject=new _e.Subject,this.url=at.replace(/^http/,"ws")}connect(){return this.webSocket?(0,_e.throwError)(new Error("webSocket object is not null")):new _e.Observable(at=>{let st;try{this.webSocket=st=new this.WebSocketClass(this.url)}catch(ot){at.error(ot);return}this.connectionStateSubject.next(rt.CONNECTING),st.onclose=ot=>{this.clearWebSocket(),at.error(new Error(`websocket error ${ot.code}: ${ot.reason}`)),this.connectionStateSubject.next(rt.DISCONNECTED)},st.onopen=ot=>{at.next(),at.complete(),this.connectionStateSubject.next(rt.CONNECTED)},st.onmessage=ot=>{this.incomingDataSubject.next(ot.data)}}).pipe((0,tt.take)(1))}disconnect(){const{webSocket:at}=this;if(!!at){this.clearWebSocket(),this.connectionStateSubject.next(rt.DISCONNECTED);try{at.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,tt.flatMap)(at=>{let st;try{st=JSON.parse(at)}catch{return(0,_e.empty)()}return(0,_e.of)(st)}))}sendData(at){const{webSocket:st}=this;if(!st)throw new Error("websocket is not connected");st.send(at)}clearWebSocket(){const{webSocket:at}=this;!at||(this.webSocket=null,at.onclose=null,at.onerror=null,at.onmessage=null,at.onopen=null)}}et.RxWebSocket=nt})(RxWebSocket);var ServerMessage={};Object.defineProperty(ServerMessage,"__esModule",{value:!0});ServerMessage.isServerMessageFail=void 0;function isServerMessageFail(et){return et&&et.type==="Fail"&&typeof et.id=="number"&&typeof et.sessionId=="string"&&typeof et.error=="string"}ServerMessage.isServerMessageFail=isServerMessageFail;Object.defineProperty(WalletSDKConnection$1,"__esModule",{value:!0});WalletSDKConnection$1.WalletSDKConnection=void 0;const rxjs_1$1=require$$2$1,operators_1$1=require$$3$1,Session_1$1=Session$1,types_1$1=types$2,ClientMessage_1=ClientMessage,DiagnosticLogger_1$1=DiagnosticLogger,RxWebSocket_1=RxWebSocket,ServerMessage_1=ServerMessage,HEARTBEAT_INTERVAL=1e4,REQUEST_TIMEOUT=6e4;class WalletSDKConnection{constructor(_e,tt,rt,nt,it=WebSocket){this.sessionId=_e,this.sessionKey=tt,this.diagnostic=nt,this.subscriptions=new rxjs_1$1.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,types_1$1.IntNumber)(1),this.connectedSubject=new rxjs_1$1.BehaviorSubject(!1),this.linkedSubject=new rxjs_1$1.BehaviorSubject(!1),this.sessionConfigSubject=new rxjs_1$1.ReplaySubject(1);const at=new RxWebSocket_1.RxWebSocket(rt+"/rpc",it);this.ws=at,this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.tap)(st=>{var ot;return(ot=this.diagnostic)===null||ot===void 0?void 0:ot.log(DiagnosticLogger_1$1.EVENTS.CONNECTED_STATE_CHANGE,{state:st,sessionIdHash:Session_1$1.Session.hash(_e)})}),(0,operators_1$1.skip)(1),(0,operators_1$1.filter)(st=>st===RxWebSocket_1.ConnectionState.DISCONNECTED&&!this.destroyed),(0,operators_1$1.delay)(5e3),(0,operators_1$1.filter)(st=>!this.destroyed),(0,operators_1$1.flatMap)(st=>at.connect()),(0,operators_1$1.retry)()).subscribe()),this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.skip)(2),(0,operators_1$1.switchMap)(st=>(0,rxjs_1$1.iif)(()=>st===RxWebSocket_1.ConnectionState.CONNECTED,this.authenticate().pipe((0,operators_1$1.tap)(ot=>this.sendIsLinked()),(0,operators_1$1.tap)(ot=>this.sendGetSessionConfig()),(0,operators_1$1.map)(ot=>!0)),(0,rxjs_1$1.of)(!1))),(0,operators_1$1.distinctUntilChanged)(),(0,operators_1$1.catchError)(st=>(0,rxjs_1$1.of)(!1))).subscribe(st=>this.connectedSubject.next(st))),this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.skip)(1),(0,operators_1$1.switchMap)(st=>(0,rxjs_1$1.iif)(()=>st===RxWebSocket_1.ConnectionState.CONNECTED,(0,rxjs_1$1.timer)(0,HEARTBEAT_INTERVAL)))).subscribe(st=>st===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(at.incomingData$.pipe((0,operators_1$1.filter)(st=>st==="h")).subscribe(st=>this.updateLastHeartbeat())),this.subscriptions.add(at.incomingJSONData$.pipe((0,operators_1$1.filter)(st=>["IsLinkedOK","Linked"].includes(st.type))).subscribe(st=>{var ot;const ct=st;(ot=this.diagnostic)===null||ot===void 0||ot.log(DiagnosticLogger_1$1.EVENTS.LINKED,{sessionIdHash:Session_1$1.Session.hash(_e),linked:ct.linked,type:st.type,onlineGuests:ct.onlineGuests}),this.linkedSubject.next(ct.linked||ct.onlineGuests>0)})),this.subscriptions.add(at.incomingJSONData$.pipe((0,operators_1$1.filter)(st=>["GetSessionConfigOK","SessionConfigUpdated"].includes(st.type))).subscribe(st=>{var ot;const ct=st;(ot=this.diagnostic)===null||ot===void 0||ot.log(DiagnosticLogger_1$1.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Session_1$1.Session.hash(_e),metadata_keys:ct&&ct.metadata?Object.keys(ct.metadata):void 0}),this.sessionConfigSubject.next({webhookId:ct.webhookId,webhookUrl:ct.webhookUrl,metadata:ct.metadata})}))}connect(){var _e;if(this.destroyed)throw new Error("instance is destroyed");(_e=this.diagnostic)===null||_e===void 0||_e.log(DiagnosticLogger_1$1.EVENTS.STARTED_CONNECTING,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var _e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(_e=this.diagnostic)===null||_e===void 0||_e.log(DiagnosticLogger_1$1.EVENTS.DISCONNECTED,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,operators_1$1.filter)(_e=>_e),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,operators_1$1.filter)(_e=>_e),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,operators_1$1.filter)(_e=>{if(_e.type!=="Event")return!1;const tt=_e;return typeof tt.sessionId=="string"&&typeof tt.eventId=="string"&&typeof tt.event=="string"&&typeof tt.data=="string"}),(0,operators_1$1.map)(_e=>_e))}setSessionMetadata(_e,tt){const rt=(0,ClientMessage_1.ClientMessageSetSessionConfig)({id:(0,types_1$1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[_e]:tt}});return this.onceConnected$.pipe((0,operators_1$1.flatMap)(nt=>this.makeRequest(rt)),(0,operators_1$1.map)(nt=>{if((0,ServerMessage_1.isServerMessageFail)(nt))throw new Error(nt.error||"failed to set session metadata")}))}publishEvent(_e,tt,rt=!1){const nt=(0,ClientMessage_1.ClientMessagePublishEvent)({id:(0,types_1$1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:_e,data:tt,callWebhook:rt});return this.onceLinked$.pipe((0,operators_1$1.flatMap)(it=>this.makeRequest(nt)),(0,operators_1$1.map)(it=>{if((0,ServerMessage_1.isServerMessageFail)(it))throw new Error(it.error||"failed to publish event");return it.eventId}))}sendData(_e){this.ws.sendData(JSON.stringify(_e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>HEARTBEAT_INTERVAL*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(_e,tt=REQUEST_TIMEOUT){const rt=_e.id;try{this.sendData(_e)}catch(nt){return(0,rxjs_1$1.throwError)(nt)}return this.ws.incomingJSONData$.pipe((0,operators_1$1.timeoutWith)(tt,(0,rxjs_1$1.throwError)(new Error(`request ${rt} timed out`))),(0,operators_1$1.filter)(nt=>nt.id===rt),(0,operators_1$1.take)(1))}authenticate(){const _e=(0,ClientMessage_1.ClientMessageHostSession)({id:(0,types_1$1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(_e).pipe((0,operators_1$1.map)(tt=>{if((0,ServerMessage_1.isServerMessageFail)(tt))throw new Error(tt.error||"failed to authentcate")}))}sendIsLinked(){const _e=(0,ClientMessage_1.ClientMessageIsLinked)({id:(0,types_1$1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(_e)}sendGetSessionConfig(){const _e=(0,ClientMessage_1.ClientMessageGetSessionConfig)({id:(0,types_1$1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(_e)}}WalletSDKConnection$1.WalletSDKConnection=WalletSDKConnection;var WalletUIError$1={};Object.defineProperty(WalletUIError$1,"__esModule",{value:!0});WalletUIError$1.WalletUIError=void 0;class WalletUIError extends Error{constructor(_e,tt){super(_e),this.message=_e,this.errorCode=tt}}WalletUIError$1.WalletUIError=WalletUIError;WalletUIError.UserRejectedRequest=new WalletUIError("User rejected request");WalletUIError.SwitchEthereumChainUnsupportedChainId=new WalletUIError("Unsupported chainId",4902);var aes256gcm$1={};Object.defineProperty(aes256gcm$1,"__esModule",{value:!0});aes256gcm$1.decrypt=aes256gcm$1.encrypt=void 0;const util_1$3=util$5;async function encrypt$1(et,_e){if(_e.length!==64)throw Error("secret must be 256 bits");const tt=crypto.getRandomValues(new Uint8Array(12)),rt=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(_e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),nt=new TextEncoder,it=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:tt},rt,nt.encode(et)),at=16,st=it.slice(it.byteLength-at),ot=it.slice(0,it.byteLength-at),ct=new Uint8Array(st),lt=new Uint8Array(ot),ut=new Uint8Array([...tt,...ct,...lt]);return(0,util_1$3.uint8ArrayToHex)(ut)}aes256gcm$1.encrypt=encrypt$1;function decrypt$1(et,_e){if(_e.length!==64)throw Error("secret must be 256 bits");return new Promise((tt,rt)=>{(async function(){const nt=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(_e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),it=(0,util_1$3.hexStringToUint8Array)(et),at=it.slice(0,12),st=it.slice(12,28),ot=it.slice(28),ct=new Uint8Array([...ot,...st]),lt={name:"AES-GCM",iv:new Uint8Array(at)};try{const ut=await window.crypto.subtle.decrypt(lt,nt,ct),dt=new TextDecoder;tt(dt.decode(ut))}catch(ut){rt(ut)}})()})}aes256gcm$1.decrypt=decrypt$1;var Web3Method={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Web3Method=void 0,function(_e){_e.requestEthereumAccounts="requestEthereumAccounts",_e.signEthereumMessage="signEthereumMessage",_e.signEthereumTransaction="signEthereumTransaction",_e.submitEthereumTransaction="submitEthereumTransaction",_e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",_e.scanQRCode="scanQRCode",_e.generic="generic",_e.childRequestEthereumAccounts="childRequestEthereumAccounts",_e.addEthereumChain="addEthereumChain",_e.switchEthereumChain="switchEthereumChain",_e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",_e.watchAsset="watchAsset",_e.selectProvider="selectProvider"}(et.Web3Method||(et.Web3Method={}))})(Web3Method);var Web3RequestCanceledMessage$1={},RelayMessage={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.RelayMessageType=void 0,function(_e){_e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",_e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",_e.LINKED="LINKED",_e.UNLINKED="UNLINKED",_e.WEB3_REQUEST="WEB3_REQUEST",_e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",_e.WEB3_RESPONSE="WEB3_RESPONSE"}(et.RelayMessageType||(et.RelayMessageType={}))})(RelayMessage);Object.defineProperty(Web3RequestCanceledMessage$1,"__esModule",{value:!0});Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=void 0;const RelayMessage_1$2=RelayMessage;function Web3RequestCanceledMessage(et){return{type:RelayMessage_1$2.RelayMessageType.WEB3_REQUEST_CANCELED,id:et}}Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=Web3RequestCanceledMessage;var Web3RequestMessage$1={};Object.defineProperty(Web3RequestMessage$1,"__esModule",{value:!0});Web3RequestMessage$1.Web3RequestMessage=void 0;const RelayMessage_1$1=RelayMessage;function Web3RequestMessage(et){return Object.assign({type:RelayMessage_1$1.RelayMessageType.WEB3_REQUEST},et)}Web3RequestMessage$1.Web3RequestMessage=Web3RequestMessage;var Web3Response={};Object.defineProperty(Web3Response,"__esModule",{value:!0});Web3Response.EthereumAddressFromSignedMessageResponse=Web3Response.SubmitEthereumTransactionResponse=Web3Response.SignEthereumTransactionResponse=Web3Response.SignEthereumMessageResponse=Web3Response.isRequestEthereumAccountsResponse=Web3Response.SelectProviderResponse=Web3Response.WatchAssetReponse=Web3Response.RequestEthereumAccountsResponse=Web3Response.SwitchEthereumChainResponse=Web3Response.AddEthereumChainResponse=Web3Response.ErrorResponse=void 0;const Web3Method_1$1=Web3Method;function ErrorResponse(et,_e,tt){return{method:et,errorMessage:_e,errorCode:tt}}Web3Response.ErrorResponse=ErrorResponse;function AddEthereumChainResponse(et){return{method:Web3Method_1$1.Web3Method.addEthereumChain,result:et}}Web3Response.AddEthereumChainResponse=AddEthereumChainResponse;function SwitchEthereumChainResponse(et){return{method:Web3Method_1$1.Web3Method.switchEthereumChain,result:et}}Web3Response.SwitchEthereumChainResponse=SwitchEthereumChainResponse;function RequestEthereumAccountsResponse(et){return{method:Web3Method_1$1.Web3Method.requestEthereumAccounts,result:et}}Web3Response.RequestEthereumAccountsResponse=RequestEthereumAccountsResponse;function WatchAssetReponse(et){return{method:Web3Method_1$1.Web3Method.watchAsset,result:et}}Web3Response.WatchAssetReponse=WatchAssetReponse;function SelectProviderResponse(et){return{method:Web3Method_1$1.Web3Method.selectProvider,result:et}}Web3Response.SelectProviderResponse=SelectProviderResponse;function isRequestEthereumAccountsResponse(et){return et&&et.method===Web3Method_1$1.Web3Method.requestEthereumAccounts}Web3Response.isRequestEthereumAccountsResponse=isRequestEthereumAccountsResponse;function SignEthereumMessageResponse(et){return{method:Web3Method_1$1.Web3Method.signEthereumMessage,result:et}}Web3Response.SignEthereumMessageResponse=SignEthereumMessageResponse;function SignEthereumTransactionResponse(et){return{method:Web3Method_1$1.Web3Method.signEthereumTransaction,result:et}}Web3Response.SignEthereumTransactionResponse=SignEthereumTransactionResponse;function SubmitEthereumTransactionResponse(et){return{method:Web3Method_1$1.Web3Method.submitEthereumTransaction,result:et}}Web3Response.SubmitEthereumTransactionResponse=SubmitEthereumTransactionResponse;function EthereumAddressFromSignedMessageResponse(et){return{method:Web3Method_1$1.Web3Method.ethereumAddressFromSignedMessage,result:et}}Web3Response.EthereumAddressFromSignedMessageResponse=EthereumAddressFromSignedMessageResponse;var Web3ResponseMessage$1={};Object.defineProperty(Web3ResponseMessage$1,"__esModule",{value:!0});Web3ResponseMessage$1.isWeb3ResponseMessage=Web3ResponseMessage$1.Web3ResponseMessage=void 0;const RelayMessage_1=RelayMessage;function Web3ResponseMessage(et){return Object.assign({type:RelayMessage_1.RelayMessageType.WEB3_RESPONSE},et)}Web3ResponseMessage$1.Web3ResponseMessage=Web3ResponseMessage;function isWeb3ResponseMessage(et){return et&&et.type===RelayMessage_1.RelayMessageType.WEB3_RESPONSE}Web3ResponseMessage$1.isWeb3ResponseMessage=isWeb3ResponseMessage;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(et,_e,tt,rt){rt===void 0&&(rt=tt),Object.defineProperty(et,rt,{enumerable:!0,get:function(){return _e[tt]}})}:function(et,_e,tt,rt){rt===void 0&&(rt=tt),et[rt]=_e[tt]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(et,_e){Object.defineProperty(et,"default",{enumerable:!0,value:_e})}:function(et,_e){et.default=_e}),__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(et,_e,tt,rt){var nt=arguments.length,it=nt<3?_e:rt===null?rt=Object.getOwnPropertyDescriptor(_e,tt):rt,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(et,_e,tt,rt);else for(var st=et.length-1;st>=0;st--)(at=et[st])&&(it=(nt<3?at(it):nt>3?at(_e,tt,it):at(_e,tt))||it);return nt>3&&it&&Object.defineProperty(_e,tt,it),it},__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(et){if(et&&et.__esModule)return et;var _e={};if(et!=null)for(var tt in et)tt!=="default"&&Object.prototype.hasOwnProperty.call(et,tt)&&__createBinding(_e,et,tt);return __setModuleDefault(_e,et),_e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(WalletSDKRelay$1,"__esModule",{value:!0});WalletSDKRelay$1.WalletSDKRelay=void 0;const bind_decorator_1=__importDefault(bindDecorator),eth_rpc_errors_1=dist$1,rxjs_1=require$$2$1,operators_1=require$$3$1,DiagnosticLogger_1=DiagnosticLogger,WalletSDKConnection_1=WalletSDKConnection$1,WalletUIError_1=WalletUIError$1,types_1=types$2,util_1$2=util$5,aes256gcm=__importStar(aes256gcm$1),Session_1=Session$1,WalletSDKRelayAbstract_1=WalletSDKRelayAbstract$1,Web3Method_1=Web3Method,Web3RequestCanceledMessage_1=Web3RequestCanceledMessage$1,Web3RequestMessage_1=Web3RequestMessage$1,Web3Response_1=Web3Response,Web3ResponseMessage_1=Web3ResponseMessage$1;class WalletSDKRelay extends WalletSDKRelayAbstract_1.WalletSDKRelayAbstract{constructor(_e){var tt;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new rxjs_1.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new rxjs_1.Subscription,this.linkAPIUrl=_e.linkAPIUrl,this.storage=_e.storage,this.options=_e;const{session:rt,ui:nt,connection:it}=this.subscribe();if(this._session=rt,this.connection=it,this.relayEventManager=_e.relayEventManager,_e.diagnosticLogger&&_e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");_e.eventListener?this.diagnostic={log:_e.eventListener.onEvent}:this.diagnostic=_e.diagnosticLogger,this._reloadOnDisconnect=(tt=_e.reloadOnDisconnect)!==null&&tt!==void 0?tt:!0,this.ui=nt}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(nt=>{this.dappDefaultChain!==nt&&(this.dappDefaultChain=nt)}));const _e=Session_1.Session.load(this.storage)||new Session_1.Session(this.storage).save(),tt=new WalletSDKConnection_1.WalletSDKConnection(_e.id,_e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(tt.sessionConfig$.subscribe({next:nt=>{this.onSessionConfigChanged(nt)},error:()=>{var nt;(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(tt.incomingEvent$.pipe((0,operators_1.filter)(nt=>nt.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(tt.linked$.pipe((0,operators_1.skip)(1),(0,operators_1.tap)(nt=>{var it;this.isLinked=nt;const at=this.storage.getItem(WalletSDKRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);if(nt&&(this.session.linked=nt),this.isUnlinkedErrorState=!1,at){const st=at.split(" "),ot=this.storage.getItem("IsStandaloneSigning")==="true";if(st[0]!==""&&!nt&&this.session.linked&&!ot){this.isUnlinkedErrorState=!0;const ct=this.getSessionIdHash();(it=this.diagnostic)===null||it===void 0||it.log(DiagnosticLogger_1.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:ct})}}})).subscribe()),this.subscriptions.add(tt.sessionConfig$.pipe((0,operators_1.filter)(nt=>!!nt.metadata&&nt.metadata.__destroyed==="1")).subscribe(()=>{var nt;const it=tt.isDestroyed;return(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:it,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(tt.sessionConfig$.pipe((0,operators_1.filter)(nt=>nt.metadata&&nt.metadata.WalletUsername!==void 0)).pipe((0,operators_1.mergeMap)(nt=>aes256gcm.decrypt(nt.metadata.WalletUsername,_e.secret))).subscribe({next:nt=>{this.storage.setItem(WalletSDKRelayAbstract_1.WALLET_USER_NAME_KEY,nt)},error:()=>{var nt;(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(tt.sessionConfig$.pipe((0,operators_1.filter)(nt=>nt.metadata&&nt.metadata.AppVersion!==void 0)).pipe((0,operators_1.mergeMap)(nt=>aes256gcm.decrypt(nt.metadata.AppVersion,_e.secret))).subscribe({next:nt=>{this.storage.setItem(WalletSDKRelayAbstract_1.APP_VERSION_KEY,nt)},error:()=>{var nt;(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(tt.sessionConfig$.pipe((0,operators_1.filter)(nt=>nt.metadata&&nt.metadata.ChainId!==void 0&&nt.metadata.JsonRpcUrl!==void 0)).pipe((0,operators_1.mergeMap)(nt=>(0,rxjs_1.zip)(aes256gcm.decrypt(nt.metadata.ChainId,_e.secret),aes256gcm.decrypt(nt.metadata.JsonRpcUrl,_e.secret)))).pipe((0,operators_1.distinctUntilChanged)()).subscribe({next:([nt,it])=>{this.chainCallback&&this.chainCallback(nt,it)},error:()=>{var nt;(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(tt.sessionConfig$.pipe((0,operators_1.filter)(nt=>nt.metadata&&nt.metadata.EthereumAddress!==void 0)).pipe((0,operators_1.mergeMap)(nt=>aes256gcm.decrypt(nt.metadata.EthereumAddress,_e.secret))).subscribe({next:nt=>{this.accountsCallback&&this.accountsCallback([nt]),WalletSDKRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletSDKRelay.accountRequestCallbackIds.values()).forEach(it=>{const at=(0,Web3ResponseMessage_1.Web3ResponseMessage)({id:it,response:(0,Web3Response_1.RequestEthereumAccountsResponse)([nt])});this.invokeCallback(Object.assign(Object.assign({},at),{id:it}))}),WalletSDKRelay.accountRequestCallbackIds.clear())},error:()=>{var nt;(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(tt.sessionConfig$.pipe((0,operators_1.filter)(nt=>nt.metadata&&nt.metadata.AppSrc!==void 0)).pipe((0,operators_1.mergeMap)(nt=>aes256gcm.decrypt(nt.metadata.AppSrc,_e.secret))).subscribe({next:nt=>{this.ui.setAppSrc(nt)},error:()=>{var nt;(nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const rt=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:_e,connected$:tt.connected$,chainId$:this.dappDefaultChainSubject});return tt.connect(),{session:_e,ui:rt,connection:tt}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,operators_1.timeout)(1e3),(0,operators_1.catchError)(_e=>(0,rxjs_1.of)(null))).subscribe(_e=>{var tt,rt,nt;const it=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(tt=this.diagnostic)===null||tt===void 0||tt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(rt=this.diagnostic)===null||rt===void 0||rt.log(DiagnosticLogger_1.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const at=Session_1.Session.load(this.storage);if((at==null?void 0:at.id)===this._session.id?this.storage.clear():at&&((nt=this.diagnostic)===null||nt===void 0||nt.log(DiagnosticLogger_1.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Session_1.Session.hash(at.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new rxjs_1.Subscription;const{session:st,ui:ot,connection:ct}=this.subscribe();this._session=st,this.connection=ct,this.ui=ot,it&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},_e=>{var tt;(tt=this.diagnostic)===null||tt===void 0||tt.log(DiagnosticLogger_1.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${_e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(_e,tt){this.appName=_e,this.appLogoUrl=tt}getStorageItem(_e){return this.storage.getItem(_e)}get session(){return this._session}setStorageItem(_e,tt){this.storage.setItem(_e,tt)}signEthereumMessage(_e,tt,rt,nt){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(_e,!0),address:tt,addPrefix:rt,typedDataJson:nt||null}})}ethereumAddressFromSignedMessage(_e,tt,rt){return this.sendRequest({method:Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(_e,!0),signature:(0,util_1$2.hexStringFromBuffer)(tt,!0),addPrefix:rt}})}signEthereumTransaction(_e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:_e.fromAddress,toAddress:_e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(_e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(_e.data,!0),nonce:_e.nonce,gasPriceInWei:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxFeePerGas:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxPriorityFeePerGas:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,gasLimit:_e.gasLimit?(0,util_1$2.bigIntStringFromBN)(_e.gasLimit):null,chainId:_e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(_e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:_e.fromAddress,toAddress:_e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(_e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(_e.data,!0),nonce:_e.nonce,gasPriceInWei:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxFeePerGas:_e.maxFeePerGas?(0,util_1$2.bigIntStringFromBN)(_e.maxFeePerGas):null,maxPriorityFeePerGas:_e.maxPriorityFeePerGas?(0,util_1$2.bigIntStringFromBN)(_e.maxPriorityFeePerGas):null,gasLimit:_e.gasLimit?(0,util_1$2.bigIntStringFromBN)(_e.gasLimit):null,chainId:_e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(_e,tt){return this.sendRequest({method:Web3Method_1.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,util_1$2.hexStringFromBuffer)(_e,!0),chainId:tt}})}scanQRCode(_e){return this.sendRequest({method:Web3Method_1.Web3Method.scanQRCode,params:{regExp:_e}})}getQRCodeUrl(){return(0,util_1$2.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(_e,tt){return this.sendRequest({method:Web3Method_1.Web3Method.generic,params:{action:tt,data:_e}})}sendGenericMessage(_e){return this.sendRequest(_e)}sendRequest(_e){let tt=null;const rt=(0,util_1$2.randomBytesHex)(8),nt=at=>{this.publishWeb3RequestCanceledEvent(rt),this.handleErrorResponse(rt,_e.method,at),tt==null||tt()};return{promise:new Promise((at,st)=>{this.ui.isStandalone()||(tt=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:nt,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(rt,ot=>{if(tt==null||tt(),ot.errorMessage)return st(new Error(ot.errorMessage));at(ot)}),this.ui.isStandalone()?this.sendRequestStandalone(rt,_e):this.publishWeb3RequestEvent(rt,_e)}),cancel:nt}}setConnectDisabled(_e){this.ui.setConnectDisabled(_e)}setAccountsCallback(_e){this.accountsCallback=_e}setChainCallback(_e){this.chainCallback=_e}setDappDefaultChainCallback(_e){this.dappDefaultChainSubject.next(_e)}publishWeb3RequestEvent(_e,tt){var rt;const nt=(0,Web3RequestMessage_1.Web3RequestMessage)({id:_e,request:tt}),it=Session_1.Session.load(this.storage);(rt=this.diagnostic)===null||rt===void 0||rt.log(DiagnosticLogger_1.EVENTS.WEB3_REQUEST,{eventId:nt.id,method:`relay::${nt.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it?Session_1.Session.hash(it.id):"",isSessionMismatched:((it==null?void 0:it.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",nt,!0).subscribe({next:at=>{var st;(st=this.diagnostic)===null||st===void 0||st.log(DiagnosticLogger_1.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:nt.id,method:`relay::${nt.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it?Session_1.Session.hash(it.id):"",isSessionMismatched:((it==null?void 0:it.id)!==this._session.id).toString()})},error:at=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt.id,response:{method:nt.request.method,errorMessage:at.message}}))}}))}publishWeb3RequestCanceledEvent(_e){const tt=(0,Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(_e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",tt,!1).subscribe())}publishEvent(_e,tt,rt){const nt=this.session.secret;return new rxjs_1.Observable(it=>{aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({},tt),{origin:location.origin})),nt).then(at=>{it.next(at),it.complete()})}).pipe((0,operators_1.mergeMap)(it=>this.connection.publishEvent(_e,it,rt)))}handleIncomingEvent(_e){try{this.subscriptions.add((0,rxjs_1.from)(aes256gcm.decrypt(_e.data,this.session.secret)).pipe((0,operators_1.map)(tt=>JSON.parse(tt))).subscribe({next:tt=>{const rt=(0,Web3ResponseMessage_1.isWeb3ResponseMessage)(tt)?tt:null;!rt||this.handleWeb3ResponseMessage(rt)},error:()=>{var tt;(tt=this.diagnostic)===null||tt===void 0||tt.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(_e){var tt;const{response:rt}=_e;if((tt=this.diagnostic)===null||tt===void 0||tt.log(DiagnosticLogger_1.EVENTS.WEB3_RESPONSE,{eventId:_e.id,method:`relay::${rt.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Web3Response_1.isRequestEthereumAccountsResponse)(rt)){WalletSDKRelay.accountRequestCallbackIds.forEach(nt=>this.invokeCallback(Object.assign(Object.assign({},_e),{id:nt}))),WalletSDKRelay.accountRequestCallbackIds.clear();return}this.invokeCallback(_e)}handleErrorResponse(_e,tt,rt,nt){this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:_e,response:(0,Web3Response_1.ErrorResponse)(tt,(rt!=null?rt:WalletUIError_1.WalletUIError.UserRejectedRequest).message,nt)}))}invokeCallback(_e){const tt=this.relayEventManager.callbacks.get(_e.id);tt&&(tt(_e.response),this.relayEventManager.callbacks.delete(_e.id))}requestEthereumAccounts(){const _e={method:Web3Method_1.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},tt=(0,util_1$2.randomBytesHex)(8),rt=it=>{this.publishWeb3RequestCanceledEvent(tt),this.handleErrorResponse(tt,_e.method,it)};return{promise:new Promise((it,at)=>{var st;this.relayEventManager.callbacks.set(tt,ct=>{if(this.ui.hideRequestEthereumAccounts(),ct.errorMessage)return at(new Error(ct.errorMessage));it(ct)});const ot=((st=window==null?void 0:window.navigator)===null||st===void 0?void 0:st.userAgent)||null;if(ot&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ot)){let ct;try{(0,util_1$2.isInIFrame)()&&window.top?ct=window.top.location:ct=window.location}catch{ct=window.location}ct.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(ct.href)}`;return}if(this.ui.inlineAccountsResponse()){const ct=lt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:tt,response:(0,Web3Response_1.RequestEthereumAccountsResponse)(lt)}))};this.ui.requestEthereumAccounts({onCancel:rt,onAccounts:ct})}else{const ct=eth_rpc_errors_1.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>rt(ct)})}WalletSDKRelay.accountRequestCallbackIds.add(tt),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(tt,_e)}),cancel:rt}}selectProvider(_e){const tt={method:Web3Method_1.Web3Method.selectProvider,params:{providerOptions:_e}},rt=(0,util_1$2.randomBytesHex)(8),nt=at=>{this.publishWeb3RequestCanceledEvent(rt),this.handleErrorResponse(rt,tt.method,at)},it=new Promise((at,st)=>{this.relayEventManager.callbacks.set(rt,lt=>{if(lt.errorMessage)return st(new Error(lt.errorMessage));at(lt)});const ot=lt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:rt,response:(0,Web3Response_1.SelectProviderResponse)(types_1.ProviderType.Unselected)}))},ct=lt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:rt,response:(0,Web3Response_1.SelectProviderResponse)(lt)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:ct,onCancel:ot,providerOptions:_e})});return{cancel:nt,promise:it}}watchAsset(_e,tt,rt,nt,it,at){const st={method:Web3Method_1.Web3Method.watchAsset,params:{type:_e,options:{address:tt,symbol:rt,decimals:nt,image:it},chainId:at}};let ot=null;const ct=(0,util_1$2.randomBytesHex)(8),lt=dt=>{this.publishWeb3RequestCanceledEvent(ct),this.handleErrorResponse(ct,st.method,dt),ot==null||ot()};this.ui.inlineWatchAsset()||(ot=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:lt,onResetConnection:this.resetAndReload}));const ut=new Promise((dt,mt)=>{this.relayEventManager.callbacks.set(ct,ht=>{if(ot==null||ot(),ht.errorMessage)return mt(new Error(ht.errorMessage));dt(ht)});const gt=ht=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ct,response:(0,Web3Response_1.WatchAssetReponse)(!1)}))},bt=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ct,response:(0,Web3Response_1.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:bt,onCancel:gt,type:_e,address:tt,symbol:rt,decimals:nt,image:it,chainId:at}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ct,st)});return{cancel:lt,promise:ut}}addEthereumChain(_e,tt,rt,nt,it,at){const st={method:Web3Method_1.Web3Method.addEthereumChain,params:{chainId:_e,rpcUrls:tt,blockExplorerUrls:nt,chainName:it,iconUrls:rt,nativeCurrency:at}};let ot=null;const ct=(0,util_1$2.randomBytesHex)(8),lt=dt=>{this.publishWeb3RequestCanceledEvent(ct),this.handleErrorResponse(ct,st.method,dt),ot==null||ot()};return this.ui.inlineAddEthereumChain(_e)||(ot=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:lt,onResetConnection:this.resetAndReload})),{promise:new Promise((dt,mt)=>{this.relayEventManager.callbacks.set(ct,ht=>{if(ot==null||ot(),ht.errorMessage)return mt(new Error(ht.errorMessage));dt(ht)});const gt=ht=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ct,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},bt=ht=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ct,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!0,rpcUrl:ht})}))};this.ui.inlineAddEthereumChain(_e)&&this.ui.addEthereumChain({onCancel:gt,onApprove:bt,chainId:st.params.chainId,rpcUrls:st.params.rpcUrls,blockExplorerUrls:st.params.blockExplorerUrls,chainName:st.params.chainName,iconUrls:st.params.iconUrls,nativeCurrency:st.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(_e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ct,st)}),cancel:lt}}switchEthereumChain(_e,tt){const rt={method:Web3Method_1.Web3Method.switchEthereumChain,params:Object.assign({chainId:_e},{address:tt})},nt=(0,util_1$2.randomBytesHex)(8),it=st=>{this.publishWeb3RequestCanceledEvent(nt),this.handleErrorResponse(nt,rt.method,st)};return{promise:new Promise((st,ot)=>{this.relayEventManager.callbacks.set(nt,ut=>{if(ut.errorMessage&&ut.errorCode)return ot(eth_rpc_errors_1.ethErrors.provider.custom({code:ut.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ut.errorMessage)return ot(new Error(ut.errorMessage));st(ut)});const ct=ut=>{if(typeof ut=="number"){const dt=ut;this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain,WalletUIError_1.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,dt)}))}else ut instanceof WalletUIError_1.WalletUIError?this.handleErrorResponse(nt,Web3Method_1.Web3Method.switchEthereumChain,ut,ut.errorCode):this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},lt=ut=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:ut})}))};this.ui.switchEthereumChain({onCancel:ct,onApprove:lt,chainId:rt.params.chainId,address:rt.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(nt,rt)}),cancel:it}}inlineAddEthereumChain(_e){return this.ui.inlineAddEthereumChain(_e)}getSessionIdHash(){return Session_1.Session.hash(this._session.id)}sendRequestStandalone(_e,tt){const rt=it=>{this.handleErrorResponse(_e,tt.method,it)},nt=it=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:_e,response:it}))};switch(tt.method){case Web3Method_1.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:tt,onSuccess:nt});break;default:rt();break}}onSessionConfigChanged(_e){}}WalletSDKRelay.accountRequestCallbackIds=new Set;__decorate([bind_decorator_1.default],WalletSDKRelay.prototype,"resetAndReload",null);__decorate([bind_decorator_1.default],WalletSDKRelay.prototype,"handleIncomingEvent",null);WalletSDKRelay$1.WalletSDKRelay=WalletSDKRelay;var WalletSDKRelayEventManager$1={};Object.defineProperty(WalletSDKRelayEventManager$1,"__esModule",{value:!0});WalletSDKRelayEventManager$1.WalletSDKRelayEventManager=void 0;const util_1$1=util$5;class WalletSDKRelayEventManager{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const _e=this._nextRequestId,tt=(0,util_1$1.prepend0x)(_e.toString(16));return this.callbacks.get(tt)&&this.callbacks.delete(tt),_e}}WalletSDKRelayEventManager$1.WalletSDKRelayEventManager=WalletSDKRelayEventManager;const name$1="@coinbase/wallet-sdk",version$1="3.6.5",description="Coinbase Wallet JavaScript SDK",keywords=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],main="dist/index.js",types="dist/index.d.ts",repository="https://github.com/coinbase/coinbase-wallet-sdk.git",author="Coinbase, Inc.",license="Apache-2.0",scripts={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},dependencies={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},devDependencies={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},engines={node:">= 10.0.0"},require$$7={name:name$1,version:version$1,description,keywords,main,types,repository,author,license,scripts,dependencies,devDependencies,engines};Object.defineProperty(CoinbaseWalletSDK$1,"__esModule",{value:!0});CoinbaseWalletSDK$1.CoinbaseWalletSDK=void 0;const wallet_logo_1=walletLogo$1,ScopedLocalStorage_1=ScopedLocalStorage$1,CoinbaseWalletProvider_1=CoinbaseWalletProvider$1,WalletSDKUI_1=WalletSDKUI$1,WalletSDKRelay_1=WalletSDKRelay$1,WalletSDKRelayEventManager_1=WalletSDKRelayEventManager$1,util_1=util$5,LINK_API_URL={}.LINK_API_URL||"https://www.walletlink.org",SDK_VERSION={}.SDK_VERSION||require$$7.version||"unknown";class CoinbaseWalletSDK{constructor(_e){var tt,rt,nt;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const it=_e.linkAPIUrl||LINK_API_URL;let at;if(_e.uiConstructor?at=_e.uiConstructor:at=ct=>new WalletSDKUI_1.WalletSDKUI(ct),typeof _e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=_e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(tt=_e.overrideIsCoinbaseWallet)!==null&&tt!==void 0?tt:!0,this._overrideIsCoinbaseBrowser=(rt=_e.overrideIsCoinbaseBrowser)!==null&&rt!==void 0?rt:!1,_e.diagnosticLogger&&_e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");_e.eventListener?this._diagnosticLogger={log:_e.eventListener.onEvent}:this._diagnosticLogger=_e.diagnosticLogger,this._reloadOnDisconnect=(nt=_e.reloadOnDisconnect)!==null&&nt!==void 0?nt:!0;const st=new URL(it),ot=`${st.protocol}//${st.host}`;this._storage=new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${ot}`),this._storage.setItem("version",CoinbaseWalletSDK.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new WalletSDKRelayEventManager_1.WalletSDKRelayEventManager,this._relay=new WalletSDKRelay_1.WalletSDKRelay({linkAPIUrl:it,version:SDK_VERSION,darkMode:!!_e.darkMode,uiConstructor:at,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(_e.appName,_e.appLogoUrl),!_e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(_e="",tt=1){const rt=this.walletExtension;if(rt)return this.isCipherProvider(rt)||rt.setProviderInfo(_e,tt),this._reloadOnDisconnect===!1&&typeof rt.disableReloadOnDisconnect=="function"&&rt.disableReloadOnDisconnect(),rt;const nt=this.coinbaseBrowser;if(nt)return nt;const it=this._relay;if(!it||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return _e||it.setConnectDisabled(!0),new CoinbaseWalletProvider_1.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(it),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:_e,chainId:tt,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(_e,tt){var rt;this._appName=_e||"DApp",this._appLogoUrl=tt||(0,util_1.getFavicon)();const nt=this.walletExtension;nt?this.isCipherProvider(nt)||nt.setAppInfo(this._appName,this._appLogoUrl):(rt=this._relay)===null||rt===void 0||rt.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var _e;const tt=this.walletExtension;tt?tt.close():(_e=this._relay)===null||_e===void 0||_e.resetAndReload()}getQrUrl(){var _e,tt;return(tt=(_e=this._relay)===null||_e===void 0?void 0:_e.getQRCodeUrl())!==null&&tt!==void 0?tt:null}getCoinbaseWalletLogo(_e,tt=240){return(0,wallet_logo_1.walletLogo)(_e,tt)}get walletExtension(){var _e;return(_e=window.coinbaseWalletExtension)!==null&&_e!==void 0?_e:window.walletLinkExtension}get coinbaseBrowser(){var _e,tt;try{const rt=(_e=window.ethereum)!==null&&_e!==void 0?_e:(tt=window.top)===null||tt===void 0?void 0:tt.ethereum;return rt&&"isCoinbaseBrowser"in rt&&rt.isCoinbaseBrowser?rt:void 0}catch{return}}isCipherProvider(_e){return typeof _e.isCipher=="boolean"&&_e.isCipher}}CoinbaseWalletSDK$1.CoinbaseWalletSDK=CoinbaseWalletSDK;CoinbaseWalletSDK.VERSION=SDK_VERSION;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.CoinbaseWalletProvider=et.CoinbaseWalletSDK=void 0;const _e=CoinbaseWalletSDK$1,tt=CoinbaseWalletProvider$1;var rt=CoinbaseWalletSDK$1;Object.defineProperty(et,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return rt.CoinbaseWalletSDK}});var nt=CoinbaseWalletProvider$1;Object.defineProperty(et,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return nt.CoinbaseWalletProvider}}),et.default=_e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=_e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=tt.CoinbaseWalletProvider,window.WalletLink=_e.CoinbaseWalletSDK,window.WalletLinkProvider=tt.CoinbaseWalletProvider)})(dist$2);var _client=new WeakMap,_provider$1=new WeakMap;class CoinbaseWalletConnector extends Connector$1{constructor(_e){var tt;super(_e),_defineProperty(this,"id","coinbasewallet"),_defineProperty(this,"name","Coinbase Wallet"),_defineProperty(this,"ready",typeof window<"u"&&!((tt=window.ethereum)!==null&&tt!==void 0&&tt.isCoinbaseWallet)),_classPrivateFieldInitSpec(this,_client,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_provider$1,{writable:!0,value:void 0}),_defineProperty(this,"onAccountsChanged",rt=>{rt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(rt[0])})}),_defineProperty(this,"onChainChanged",rt=>{const nt=normalizeChainId(rt),it=this.isChainUnsupported(nt);this.emit("change",{chain:{id:nt,unsupported:it}})}),_defineProperty(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){try{const _e=this.getProvider();_e.on("accountsChanged",this.onAccountsChanged),_e.on("chainChanged",this.onChainChanged),_e.on("disconnect",this.onDisconnect);const tt=await _e.enable(),rt=utils$6.getAddress(tt[0]),nt=await this.getChainId(),it=this.isChainUnsupported(nt);return{account:rt,chain:{id:nt,unsupported:it},provider:new Web3Provider(_e)}}catch(_e){throw/user closed modal/i.test(_e.message)?new UserRejectedRequestError:_e}}async disconnect(){if(!_classPrivateFieldGet(this,_provider$1))return;const _e=this.getProvider();if(_e.removeListener("accountsChanged",this.onAccountsChanged),_e.removeListener("chainChanged",this.onChainChanged),_e.removeListener("disconnect",this.onDisconnect),_e.disconnect(),_e.close(),typeof localStorage<"u"){let tt=localStorage.length;for(;tt--;){const rt=localStorage.key(tt);!rt||!/-walletlink/.test(rt)||localStorage.removeItem(rt)}}}async getAccount(){const tt=await this.getProvider().request({method:"eth_accounts"});return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();return normalizeChainId(_e.chainId)}getProvider(){return _classPrivateFieldGet(this,_provider$1)||(_classPrivateFieldSet(this,_client,new dist$2.CoinbaseWalletSDK(this.options)),_classPrivateFieldSet(this,_provider$1,_classPrivateFieldGet(this,_client).makeWeb3Provider(this.options.jsonRpcUrl))),_classPrivateFieldGet(this,_provider$1)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(_e){const tt=this.getProvider(),rt=utils$6.hexValue(_e);try{return await tt.request({method:"wallet_switchEthereumChain",params:[{chainId:rt}]}),[...this.chains,...allChains].find(it=>it.id===_e)}catch(nt){throw/user rejected signature request/i.test(nt.message)?new UserRejectedRequestError:new SwitchChainError}}}var eventemitter3$1={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ot,ct,lt){this.fn=ot,this.context=ct,this.once=lt||!1}function it(ot,ct,lt,ut,dt){if(typeof lt!="function")throw new TypeError("The listener must be a function");var mt=new nt(lt,ut||ot,dt),gt=tt?tt+ct:ct;return ot._events[gt]?ot._events[gt].fn?ot._events[gt]=[ot._events[gt],mt]:ot._events[gt].push(mt):(ot._events[gt]=mt,ot._eventsCount++),ot}function at(ot,ct){--ot._eventsCount===0?ot._events=new rt:delete ot._events[ct]}function st(){this._events=new rt,this._eventsCount=0}st.prototype.eventNames=function(){var ct=[],lt,ut;if(this._eventsCount===0)return ct;for(ut in lt=this._events)_e.call(lt,ut)&&ct.push(tt?ut.slice(1):ut);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(lt)):ct},st.prototype.listeners=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];if(!ut)return[];if(ut.fn)return[ut.fn];for(var dt=0,mt=ut.length,gt=new Array(mt);dt<mt;dt++)gt[dt]=ut[dt].fn;return gt},st.prototype.listenerCount=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];return ut?ut.fn?1:ut.length:0},st.prototype.emit=function(ct,lt,ut,dt,mt,gt){var bt=tt?tt+ct:ct;if(!this._events[bt])return!1;var ht=this._events[bt],yt=arguments.length,wt,xt;if(ht.fn){switch(ht.once&&this.removeListener(ct,ht.fn,void 0,!0),yt){case 1:return ht.fn.call(ht.context),!0;case 2:return ht.fn.call(ht.context,lt),!0;case 3:return ht.fn.call(ht.context,lt,ut),!0;case 4:return ht.fn.call(ht.context,lt,ut,dt),!0;case 5:return ht.fn.call(ht.context,lt,ut,dt,mt),!0;case 6:return ht.fn.call(ht.context,lt,ut,dt,mt,gt),!0}for(xt=1,wt=new Array(yt-1);xt<yt;xt++)wt[xt-1]=arguments[xt];ht.fn.apply(ht.context,wt)}else{var At=ht.length,kt;for(xt=0;xt<At;xt++)switch(ht[xt].once&&this.removeListener(ct,ht[xt].fn,void 0,!0),yt){case 1:ht[xt].fn.call(ht[xt].context);break;case 2:ht[xt].fn.call(ht[xt].context,lt);break;case 3:ht[xt].fn.call(ht[xt].context,lt,ut);break;case 4:ht[xt].fn.call(ht[xt].context,lt,ut,dt);break;default:if(!wt)for(kt=1,wt=new Array(yt-1);kt<yt;kt++)wt[kt-1]=arguments[kt];ht[xt].fn.apply(ht[xt].context,wt)}}return!0},st.prototype.on=function(ct,lt,ut){return it(this,ct,lt,ut,!1)},st.prototype.once=function(ct,lt,ut){return it(this,ct,lt,ut,!0)},st.prototype.removeListener=function(ct,lt,ut,dt){var mt=tt?tt+ct:ct;if(!this._events[mt])return this;if(!lt)return at(this,mt),this;var gt=this._events[mt];if(gt.fn)gt.fn===lt&&(!dt||gt.once)&&(!ut||gt.context===ut)&&at(this,mt);else{for(var bt=0,ht=[],yt=gt.length;bt<yt;bt++)(gt[bt].fn!==lt||dt&&!gt[bt].once||ut&&gt[bt].context!==ut)&&ht.push(gt[bt]);ht.length?this._events[mt]=ht.length===1?ht[0]:ht:at(this,mt)}return this},st.prototype.removeAllListeners=function(ct){var lt;return ct?(lt=tt?tt+ct:ct,this._events[lt]&&at(this,lt)):(this._events=new rt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=tt,st.EventEmitter=st,et.exports=st})(eventemitter3$1);const EventEmitter$1=eventemitter3$1.exports,PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(et){return RESERVED_ERROR_CODES.includes(et)}function getError(et){return Object.keys(STANDARD_ERROR_MAP).includes(et)?STANDARD_ERROR_MAP[et]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(et){const _e=Object.values(STANDARD_ERROR_MAP).find(tt=>tt.code===et);return _e||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(et,_e,tt){return et.message.includes("getaddrinfo ENOTFOUND")||et.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${tt} RPC url at ${_e}`):et}var cjs$3={};const require$$0$1=getAugmentedNamespace(tslib_es6);var crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function et(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}crypto$1.getBrowerCrypto=et;function _e(){const rt=et();return rt.subtle||rt.webkitSubtle}crypto$1.getSubtleCrypto=_e;function tt(){return!!et()&&!!_e()}return crypto$1.isBrowserCryptoAvailable=tt,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function et(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=et;function _e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}env.isNode=_e;function tt(){return!et()&&!_e()}return env.isBrowser=tt,env}(function(et){Object.defineProperty(et,"__esModule",{value:!0});const _e=require$$0$1;_e.__exportStar(requireCrypto(),et),_e.__exportStar(requireEnv(),et)})(cjs$3);function payloadId$1(){const et=Date.now()*Math.pow(10,3),_e=Math.floor(Math.random()*Math.pow(10,3));return et+_e}function formatJsonRpcRequest(et,_e,tt){return{id:tt||payloadId$1(),jsonrpc:"2.0",method:et,params:_e}}function formatJsonRpcError(et,_e,tt){return{id:et,jsonrpc:"2.0",error:formatErrorMessage(_e,tt)}}function formatErrorMessage(et,_e){return typeof et>"u"?getError(INTERNAL_ERROR):(typeof et=="string"&&(et=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:et})),typeof _e<"u"&&(et.data=_e),isReservedErrorCode(et.code)&&(et=getErrorByCode(et.code)),et)}class IEvents{}class IJsonRpcConnection extends IEvents{constructor(_e){super()}}class IBaseJsonRpcProvider extends IEvents{constructor(){super()}}class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(_e){super()}}const HTTP_REGEX="^https?:";function getUrlProtocol(et){const _e=et.match(new RegExp(/^\w+:/,"gi"));if(!(!_e||!_e.length))return _e[0]}function matchRegexProtocol(et,_e){const tt=getUrlProtocol(et);return typeof tt>"u"?!1:new RegExp(_e).test(tt)}function isHttpUrl(et){return matchRegexProtocol(et,HTTP_REGEX)}function isJsonRpcPayload(et){return typeof et=="object"&&"id"in et&&"jsonrpc"in et&&et.jsonrpc==="2.0"}function isJsonRpcResponse(et){return isJsonRpcPayload(et)&&(isJsonRpcResult(et)||isJsonRpcError(et))}function isJsonRpcResult(et){return"result"in et}function isJsonRpcError(et){return"error"in et}class JsonRpcProvider extends IJsonRpcProvider{constructor(_e){super(_e),this.events=new events.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(_e),this.connection.connected&&this.registerEventListeners()}async connect(_e=this.connection){await this.open(_e)}async disconnect(){await this.close()}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async request(_e,tt){return this.requestStrict(formatJsonRpcRequest(_e.method,_e.params||[]),tt)}async requestStrict(_e,tt){return new Promise(async(rt,nt)=>{if(!this.connection.connected)try{await this.open()}catch(it){nt(it)}this.events.on(`${_e.id}`,it=>{isJsonRpcError(it)?nt(it.error):rt(it.result)});try{await this.connection.send(_e,tt)}catch(it){nt(it)}})}setConnection(_e=this.connection){return _e}onPayload(_e){this.events.emit("payload",_e),isJsonRpcResponse(_e)?this.events.emit(`${_e.id}`,_e):this.events.emit("message",{type:_e.method,data:_e.params})}onClose(_e){_e&&_e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${_e.code} ${_e.reason?`(${_e.reason})`:""}`)),this.events.emit("disconnect")}async open(_e=this.connection){this.connection===_e&&this.connection.connected||(this.connection.connected&&this.close(),typeof _e=="string"&&(await this.connection.open(_e),_e=this.connection),this.connection=this.setConnection(_e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",_e=>this.onPayload(_e)),this.connection.on("close",_e=>this.onClose(_e)),this.connection.on("error",_e=>this.events.emit("error",_e)),this.connection.on("register_error",_e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}function safeJsonParse$2(et){if(typeof et!="string")throw new Error(`Cannot safe json parse value of type ${typeof et}`);try{return JSON.parse(et)}catch{return et}}function safeJsonStringify$2(et){return typeof et=="string"?et:JSON.stringify(et)}const DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD},EVENT_EMITTER_MAX_LISTENERS_DEFAULT=10;class HttpConnection{constructor(_e){if(this.url=_e,this.events=new events.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(_e))throw new Error(`Provided URL is not compatible with HTTP connection: ${_e}`);this.url=_e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async open(_e=this.url){await this.register(_e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(_e,tt){this.isAvailable||await this.register();try{const rt=safeJsonStringify$2(_e),it=await(await fetch$1(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:rt}))).json();this.onPayload({data:it})}catch(rt){this.onError(_e.id,rt)}}async register(_e=this.url){if(!isHttpUrl(_e))throw new Error(`Provided URL is not compatible with HTTP connection: ${_e}`);if(this.registering){const tt=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=tt||this.events.listenerCount("open")>=tt)&&this.events.setMaxListeners(tt+1),new Promise((rt,nt)=>{this.events.once("register_error",it=>{this.resetMaxListeners(),nt(it)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return nt(new Error("HTTP connection is missing or invalid"));rt()})})}this.url=_e,this.registering=!0;try{const tt=safeJsonStringify$2({id:1,jsonrpc:"2.0",method:"test",params:[]});await fetch$1(_e,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:tt})),this.onOpen()}catch(tt){const rt=this.parseError(tt);throw this.events.emit("register_error",rt),this.onClose(),rt}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(_e){if(typeof _e.data>"u")return;const tt=typeof _e.data=="string"?safeJsonParse$2(_e.data):_e.data;this.events.emit("payload",tt)}onError(_e,tt){const rt=this.parseError(tt),nt=rt.message||rt.toString(),it=formatJsonRpcError(_e,nt);this.events.emit("payload",it)}parseError(_e,tt=this.url){return parseConnectionError(_e,tt,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>EVENT_EMITTER_MAX_LISTENERS_DEFAULT&&this.events.setMaxListeners(EVENT_EMITTER_MAX_LISTENERS_DEFAULT)}}var cjs$2={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getLocalStorage_1=cjs$1.getLocalStorage=getLocalStorageOrThrow_1=cjs$1.getLocalStorageOrThrow=getCrypto_1=cjs$1.getCrypto=getCryptoOrThrow_1=cjs$1.getCryptoOrThrow=getLocation_1=cjs$1.getLocation=getLocationOrThrow_1=cjs$1.getLocationOrThrow=getNavigator_1=cjs$1.getNavigator=getNavigatorOrThrow_1=cjs$1.getNavigatorOrThrow=getDocument_1=cjs$1.getDocument=getDocumentOrThrow_1=cjs$1.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$1.getFromWindowOrThrow=getFromWindow_1=cjs$1.getFromWindow=void 0;function getFromWindow$1(et){let _e;return typeof window<"u"&&typeof window[et]<"u"&&(_e=window[et]),_e}var getFromWindow_1=cjs$1.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(et){const _e=getFromWindow$1(et);if(!_e)throw new Error(`${et} is not defined in Window`);return _e}var getFromWindowOrThrow_1=cjs$1.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$1.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$1.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$1.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$1.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$1.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$1.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$1.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$1.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$1.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$1.getLocalStorage=getLocalStorage$1;Object.defineProperty(cjs$2,"__esModule",{value:!0});var getWindowMetadata_1=cjs$2.getWindowMetadata=void 0;const window_getters_1=cjs$1;function getWindowMetadata(){let et,_e;try{et=window_getters_1.getDocumentOrThrow(),_e=window_getters_1.getLocationOrThrow()}catch{return null}function tt(){const ut=et.getElementsByTagName("link"),dt=[];for(let mt=0;mt<ut.length;mt++){const gt=ut[mt],bt=gt.getAttribute("rel");if(bt&&bt.toLowerCase().indexOf("icon")>-1){const ht=gt.getAttribute("href");if(ht)if(ht.toLowerCase().indexOf("https:")===-1&&ht.toLowerCase().indexOf("http:")===-1&&ht.indexOf("//")!==0){let yt=_e.protocol+"//"+_e.host;if(ht.indexOf("/")===0)yt+=ht;else{const wt=_e.pathname.split("/");wt.pop();const xt=wt.join("/");yt+=xt+"/"+ht}dt.push(yt)}else if(ht.indexOf("//")===0){const yt=_e.protocol+ht;dt.push(yt)}else dt.push(ht)}}return dt}function rt(...ut){const dt=et.getElementsByTagName("meta");for(let mt=0;mt<dt.length;mt++){const gt=dt[mt],bt=["itemprop","property","name"].map(ht=>gt.getAttribute(ht)).filter(ht=>ht?ut.includes(ht):!1);if(bt.length&&bt){const ht=gt.getAttribute("content");if(ht)return ht}}return""}function nt(){let ut=rt("name","og:site_name","og:title","twitter:title");return ut||(ut=et.title),ut}function it(){return rt("description","og:description","twitter:description","keywords")}const at=nt(),st=it(),ot=_e.origin,ct=tt();return{description:st,url:ot,icons:ct,name:at}}getWindowMetadata_1=cjs$2.getWindowMetadata=getWindowMetadata;var __spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var et=0,_e=0,tt=arguments.length;_e<tt;_e++)et+=arguments[_e].length;for(var rt=Array(et),nt=0,_e=0;_e<tt;_e++)for(var it=arguments[_e],at=0,st=it.length;at<st;at++,nt++)rt[nt]=it[at];return rt},BrowserInfo$1=function(){function et(_e,tt,rt){this.name=_e,this.version=tt,this.os=rt,this.type="browser"}return et}(),NodeInfo$1=function(){function et(_e){this.version=_e,this.type="node",this.name="node",this.os=process.platform}return et}(),SearchBotDeviceInfo$1=function(){function et(_e,tt,rt,nt){this.name=_e,this.version=tt,this.os=rt,this.bot=nt,this.type="bot-device"}return et}(),BotInfo$1=function(){function et(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return et}(),ReactNativeInfo$1=function(){function et(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return et}(),SEARCHBOX_UA_REGEX$1=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX$1=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS$1=3,userAgentRules$1=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX$1]],operatingSystemRules$1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect$1(et){return et?parseUserAgent$1(et):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo$1:typeof navigator<"u"?parseUserAgent$1(navigator.userAgent):getNodeVersion$1()}function matchUserAgent$1(et){return et!==""&&userAgentRules$1.reduce(function(_e,tt){var rt=tt[0],nt=tt[1];if(_e)return _e;var it=nt.exec(et);return!!it&&[rt,it]},!1)}function parseUserAgent$1(et){var _e=matchUserAgent$1(et);if(!_e)return null;var tt=_e[0],rt=_e[1];if(tt==="searchbot")return new BotInfo$1;var nt=rt[1]&&rt[1].split(/[._]/).slice(0,3);nt?nt.length<REQUIRED_VERSION_PARTS$1&&(nt=__spreadArrays(nt,createVersionParts$1(REQUIRED_VERSION_PARTS$1-nt.length))):nt=[];var it=nt.join("."),at=detectOS$3(et),st=SEARCHBOT_OS_REGEX$1.exec(et);return st&&st[1]?new SearchBotDeviceInfo$1(tt,it,at,st[1]):new BrowserInfo$1(tt,it,at)}function detectOS$3(et){for(var _e=0,tt=operatingSystemRules$1.length;_e<tt;_e++){var rt=operatingSystemRules$1[_e],nt=rt[0],it=rt[1],at=it.exec(et);if(at)return nt}return null}function getNodeVersion$1(){var et=typeof process<"u"&&process.version;return et?new NodeInfo$1(process.version.slice(1)):null}function createVersionParts$1(et){for(var _e=[],tt=0;tt<et;tt++)_e.push("0");return _e}function detectEnv$1(et){return detect$1(et)}function detectOS$2(){const et=detectEnv$1();return et&&et.os?et.os:void 0}function isAndroid$1(){const et=detectOS$2();return et?et.toLowerCase().includes("android"):!1}function isIOS$1(){const et=detectOS$2();return et?et.toLowerCase().includes("ios")||et.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile$1(){return detectOS$2()?isAndroid$1()||isIOS$1():!1}function isNode$1(){const et=detectEnv$1();return et&&et.name?et.name.toLowerCase()==="node":!1}function isBrowser$1(){return!isNode$1()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}function safeJsonParse$1(et){if(typeof et!="string")throw new Error(`Cannot safe json parse value of type ${typeof et}`);try{return JSON.parse(et)}catch{return et}}function safeJsonStringify$1(et){return typeof et=="string"?et:JSON.stringify(et)}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(et,_e){const tt=safeJsonStringify(_e),rt=getLocalStorage();rt&&rt.setItem(et,tt)}function getLocal(et){let _e=null,tt=null;const rt=getLocalStorage();return rt&&(tt=rt.getItem(et)),_e=tt&&safeJsonParse(tt),_e}function removeLocal(et){const _e=getLocalStorage();_e&&_e.removeItem(et)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(et,_e){const tt=encodeURIComponent(et);return _e.universalLink?`${_e.universalLink}/wc?uri=${tt}`:_e.deepLink?`${_e.deepLink}${_e.deepLink.endsWith(":")?"//":"/"}wc?uri=${tt}`:""}function saveMobileLinkInfo(et){const _e=et.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},et),{href:_e}))}function getMobileRegistryEntry(et,_e){return et.filter(tt=>tt.name.toLowerCase().includes(_e.toLowerCase()))[0]}function getMobileLinkRegistry(et,_e){let tt=et;return _e&&(tt=_e.map(rt=>getMobileRegistryEntry(et,rt)).filter(Boolean)),tt}const API_URL="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL+"/api/v2/dapps"}function formatMobileRegistryEntry(et,_e="mobile"){var tt;return{name:et.name||"",shortName:et.metadata.shortName||"",color:et.metadata.colors.primary||"",logo:(tt=et.image_url.sm)!==null&&tt!==void 0?tt:"",universalLink:et[_e].universal||"",deepLink:et[_e].native||""}}function formatMobileRegistry(et,_e="mobile"){return Object.values(et).filter(tt=>!!tt[_e].universal||!!tt[_e].native).map(tt=>formatMobileRegistryEntry(tt,_e))}const esm=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:detectEnv$1,detectOS:detectOS$2,isAndroid:isAndroid$1,isIOS:isIOS$1,isMobile:isMobile$1,isNode:isNode$1,isBrowser:isBrowser$1,getFromWindow,getFromWindowOrThrow,getDocumentOrThrow,getDocument,getNavigatorOrThrow,getNavigator,getLocationOrThrow,getLocation,getCryptoOrThrow,getCrypto,getLocalStorageOrThrow,getLocalStorage,getClientMeta,safeJsonParse,safeJsonStringify,setLocal,getLocal,removeLocal,mobileLinkChoiceKey,formatIOSMobile,saveMobileLinkInfo,getMobileRegistryEntry,getMobileLinkRegistry,getWalletRegistryUrl,getDappRegistryUrl,formatMobileRegistryEntry,formatMobileRegistry},Symbol.toStringTag,{value:"Module"})),reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn={exports:{}};(function(et){(function(_e,tt){function rt(Lt,Et){if(!Lt)throw new Error(Et||"Assertion failed")}function nt(Lt,Et){Lt.super_=Et;var It=function(){};It.prototype=Et.prototype,Lt.prototype=new It,Lt.prototype.constructor=Lt}function it(Lt,Et,It){if(it.isBN(Lt))return Lt;this.negative=0,this.words=null,this.length=0,this.red=null,Lt!==null&&((Et==="le"||Et==="be")&&(It=Et,Et=10),this._init(Lt||0,Et||10,It||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{at=require$$0$5.Buffer}catch{}it.isBN=function(Et){return Et instanceof it?!0:Et!==null&&typeof Et=="object"&&Et.constructor.wordSize===it.wordSize&&Array.isArray(Et.words)},it.max=function(Et,It){return Et.cmp(It)>0?Et:It},it.min=function(Et,It){return Et.cmp(It)<0?Et:It},it.prototype._init=function(Et,It,Ct){if(typeof Et=="number")return this._initNumber(Et,It,Ct);if(typeof Et=="object")return this._initArray(Et,It,Ct);It==="hex"&&(It=16),rt(It===(It|0)&&It>=2&&It<=36),Et=Et.toString().replace(/\s+/g,"");var vt=0;Et[0]==="-"&&vt++,It===16?this._parseHex(Et,vt):this._parseBase(Et,It,vt),Et[0]==="-"&&(this.negative=1),this.strip(),Ct==="le"&&this._initArray(this.toArray(),It,Ct)},it.prototype._initNumber=function(Et,It,Ct){Et<0&&(this.negative=1,Et=-Et),Et<67108864?(this.words=[Et&67108863],this.length=1):Et<4503599627370496?(this.words=[Et&67108863,Et/67108864&67108863],this.length=2):(rt(Et<9007199254740992),this.words=[Et&67108863,Et/67108864&67108863,1],this.length=3),Ct==="le"&&this._initArray(this.toArray(),It,Ct)},it.prototype._initArray=function(Et,It,Ct){if(rt(typeof Et.length=="number"),Et.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Et.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var Tt,Mt,Nt=0;if(Ct==="be")for(vt=Et.length-1,Tt=0;vt>=0;vt-=3)Mt=Et[vt]|Et[vt-1]<<8|Et[vt-2]<<16,this.words[Tt]|=Mt<<Nt&67108863,this.words[Tt+1]=Mt>>>26-Nt&67108863,Nt+=24,Nt>=26&&(Nt-=26,Tt++);else if(Ct==="le")for(vt=0,Tt=0;vt<Et.length;vt+=3)Mt=Et[vt]|Et[vt+1]<<8|Et[vt+2]<<16,this.words[Tt]|=Mt<<Nt&67108863,this.words[Tt+1]=Mt>>>26-Nt&67108863,Nt+=24,Nt>=26&&(Nt-=26,Tt++);return this.strip()};function st(Lt,Et,It){for(var Ct=0,vt=Math.min(Lt.length,It),Tt=Et;Tt<vt;Tt++){var Mt=Lt.charCodeAt(Tt)-48;Ct<<=4,Mt>=49&&Mt<=54?Ct|=Mt-49+10:Mt>=17&&Mt<=22?Ct|=Mt-17+10:Ct|=Mt&15}return Ct}it.prototype._parseHex=function(Et,It){this.length=Math.ceil((Et.length-It)/6),this.words=new Array(this.length);for(var Ct=0;Ct<this.length;Ct++)this.words[Ct]=0;var vt,Tt,Mt=0;for(Ct=Et.length-6,vt=0;Ct>=It;Ct-=6)Tt=st(Et,Ct,Ct+6),this.words[vt]|=Tt<<Mt&67108863,this.words[vt+1]|=Tt>>>26-Mt&4194303,Mt+=24,Mt>=26&&(Mt-=26,vt++);Ct+6!==It&&(Tt=st(Et,It,Ct+6),this.words[vt]|=Tt<<Mt&67108863,this.words[vt+1]|=Tt>>>26-Mt&4194303),this.strip()};function ot(Lt,Et,It,Ct){for(var vt=0,Tt=Math.min(Lt.length,It),Mt=Et;Mt<Tt;Mt++){var Nt=Lt.charCodeAt(Mt)-48;vt*=Ct,Nt>=49?vt+=Nt-49+10:Nt>=17?vt+=Nt-17+10:vt+=Nt}return vt}it.prototype._parseBase=function(Et,It,Ct){this.words=[0],this.length=1;for(var vt=0,Tt=1;Tt<=67108863;Tt*=It)vt++;vt--,Tt=Tt/It|0;for(var Mt=Et.length-Ct,Nt=Mt%vt,$t=Math.min(Mt,Mt-Nt)+Ct,St=0,Dt=Ct;Dt<$t;Dt+=vt)St=ot(Et,Dt,Dt+vt,It),this.imuln(Tt),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St);if(Nt!==0){var Rt=1;for(St=ot(Et,Dt,Et.length,It),Dt=0;Dt<Nt;Dt++)Rt*=It;this.imuln(Rt),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St)}},it.prototype.copy=function(Et){Et.words=new Array(this.length);for(var It=0;It<this.length;It++)Et.words[It]=this.words[It];Et.length=this.length,Et.negative=this.negative,Et.red=this.red},it.prototype.clone=function(){var Et=new it(null);return this.copy(Et),Et},it.prototype._expand=function(Et){for(;this.length<Et;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ct=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],lt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(Et,It){Et=Et||10,It=It|0||1;var Ct;if(Et===16||Et==="hex"){Ct="";for(var vt=0,Tt=0,Mt=0;Mt<this.length;Mt++){var Nt=this.words[Mt],$t=((Nt<<vt|Tt)&16777215).toString(16);Tt=Nt>>>24-vt&16777215,Tt!==0||Mt!==this.length-1?Ct=ct[6-$t.length]+$t+Ct:Ct=$t+Ct,vt+=2,vt>=26&&(vt-=26,Mt--)}for(Tt!==0&&(Ct=Tt.toString(16)+Ct);Ct.length%It!==0;)Ct="0"+Ct;return this.negative!==0&&(Ct="-"+Ct),Ct}if(Et===(Et|0)&&Et>=2&&Et<=36){var St=lt[Et],Dt=ut[Et];Ct="";var Rt=this.clone();for(Rt.negative=0;!Rt.isZero();){var _t=Rt.modn(Dt).toString(Et);Rt=Rt.idivn(Dt),Rt.isZero()?Ct=_t+Ct:Ct=ct[St-_t.length]+_t+Ct}for(this.isZero()&&(Ct="0"+Ct);Ct.length%It!==0;)Ct="0"+Ct;return this.negative!==0&&(Ct="-"+Ct),Ct}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var Et=this.words[0];return this.length===2?Et+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Et+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Et:Et},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(Et,It){return rt(typeof at<"u"),this.toArrayLike(at,Et,It)},it.prototype.toArray=function(Et,It){return this.toArrayLike(Array,Et,It)},it.prototype.toArrayLike=function(Et,It,Ct){var vt=this.byteLength(),Tt=Ct||Math.max(1,vt);rt(vt<=Tt,"byte array longer than desired length"),rt(Tt>0,"Requested array length <= 0"),this.strip();var Mt=It==="le",Nt=new Et(Tt),$t,St,Dt=this.clone();if(Mt){for(St=0;!Dt.isZero();St++)$t=Dt.andln(255),Dt.iushrn(8),Nt[St]=$t;for(;St<Tt;St++)Nt[St]=0}else{for(St=0;St<Tt-vt;St++)Nt[St]=0;for(St=0;!Dt.isZero();St++)$t=Dt.andln(255),Dt.iushrn(8),Nt[Tt-St-1]=$t}return Nt},Math.clz32?it.prototype._countBits=function(Et){return 32-Math.clz32(Et)}:it.prototype._countBits=function(Et){var It=Et,Ct=0;return It>=4096&&(Ct+=13,It>>>=13),It>=64&&(Ct+=7,It>>>=7),It>=8&&(Ct+=4,It>>>=4),It>=2&&(Ct+=2,It>>>=2),Ct+It},it.prototype._zeroBits=function(Et){if(Et===0)return 26;var It=Et,Ct=0;return(It&8191)===0&&(Ct+=13,It>>>=13),(It&127)===0&&(Ct+=7,It>>>=7),(It&15)===0&&(Ct+=4,It>>>=4),(It&3)===0&&(Ct+=2,It>>>=2),(It&1)===0&&Ct++,Ct},it.prototype.bitLength=function(){var Et=this.words[this.length-1],It=this._countBits(Et);return(this.length-1)*26+It};function dt(Lt){for(var Et=new Array(Lt.bitLength()),It=0;It<Et.length;It++){var Ct=It/26|0,vt=It%26;Et[It]=(Lt.words[Ct]&1<<vt)>>>vt}return Et}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Et=0,It=0;It<this.length;It++){var Ct=this._zeroBits(this.words[It]);if(Et+=Ct,Ct!==26)break}return Et},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(Et){return this.negative!==0?this.abs().inotn(Et).iaddn(1):this.clone()},it.prototype.fromTwos=function(Et){return this.testn(Et-1)?this.notn(Et).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(Et){for(;this.length<Et.length;)this.words[this.length++]=0;for(var It=0;It<Et.length;It++)this.words[It]=this.words[It]|Et.words[It];return this.strip()},it.prototype.ior=function(Et){return rt((this.negative|Et.negative)===0),this.iuor(Et)},it.prototype.or=function(Et){return this.length>Et.length?this.clone().ior(Et):Et.clone().ior(this)},it.prototype.uor=function(Et){return this.length>Et.length?this.clone().iuor(Et):Et.clone().iuor(this)},it.prototype.iuand=function(Et){var It;this.length>Et.length?It=Et:It=this;for(var Ct=0;Ct<It.length;Ct++)this.words[Ct]=this.words[Ct]&Et.words[Ct];return this.length=It.length,this.strip()},it.prototype.iand=function(Et){return rt((this.negative|Et.negative)===0),this.iuand(Et)},it.prototype.and=function(Et){return this.length>Et.length?this.clone().iand(Et):Et.clone().iand(this)},it.prototype.uand=function(Et){return this.length>Et.length?this.clone().iuand(Et):Et.clone().iuand(this)},it.prototype.iuxor=function(Et){var It,Ct;this.length>Et.length?(It=this,Ct=Et):(It=Et,Ct=this);for(var vt=0;vt<Ct.length;vt++)this.words[vt]=It.words[vt]^Ct.words[vt];if(this!==It)for(;vt<It.length;vt++)this.words[vt]=It.words[vt];return this.length=It.length,this.strip()},it.prototype.ixor=function(Et){return rt((this.negative|Et.negative)===0),this.iuxor(Et)},it.prototype.xor=function(Et){return this.length>Et.length?this.clone().ixor(Et):Et.clone().ixor(this)},it.prototype.uxor=function(Et){return this.length>Et.length?this.clone().iuxor(Et):Et.clone().iuxor(this)},it.prototype.inotn=function(Et){rt(typeof Et=="number"&&Et>=0);var It=Math.ceil(Et/26)|0,Ct=Et%26;this._expand(It),Ct>0&&It--;for(var vt=0;vt<It;vt++)this.words[vt]=~this.words[vt]&67108863;return Ct>0&&(this.words[vt]=~this.words[vt]&67108863>>26-Ct),this.strip()},it.prototype.notn=function(Et){return this.clone().inotn(Et)},it.prototype.setn=function(Et,It){rt(typeof Et=="number"&&Et>=0);var Ct=Et/26|0,vt=Et%26;return this._expand(Ct+1),It?this.words[Ct]=this.words[Ct]|1<<vt:this.words[Ct]=this.words[Ct]&~(1<<vt),this.strip()},it.prototype.iadd=function(Et){var It;if(this.negative!==0&&Et.negative===0)return this.negative=0,It=this.isub(Et),this.negative^=1,this._normSign();if(this.negative===0&&Et.negative!==0)return Et.negative=0,It=this.isub(Et),Et.negative=1,It._normSign();var Ct,vt;this.length>Et.length?(Ct=this,vt=Et):(Ct=Et,vt=this);for(var Tt=0,Mt=0;Mt<vt.length;Mt++)It=(Ct.words[Mt]|0)+(vt.words[Mt]|0)+Tt,this.words[Mt]=It&67108863,Tt=It>>>26;for(;Tt!==0&&Mt<Ct.length;Mt++)It=(Ct.words[Mt]|0)+Tt,this.words[Mt]=It&67108863,Tt=It>>>26;if(this.length=Ct.length,Tt!==0)this.words[this.length]=Tt,this.length++;else if(Ct!==this)for(;Mt<Ct.length;Mt++)this.words[Mt]=Ct.words[Mt];return this},it.prototype.add=function(Et){var It;return Et.negative!==0&&this.negative===0?(Et.negative=0,It=this.sub(Et),Et.negative^=1,It):Et.negative===0&&this.negative!==0?(this.negative=0,It=Et.sub(this),this.negative=1,It):this.length>Et.length?this.clone().iadd(Et):Et.clone().iadd(this)},it.prototype.isub=function(Et){if(Et.negative!==0){Et.negative=0;var It=this.iadd(Et);return Et.negative=1,It._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Et),this.negative=1,this._normSign();var Ct=this.cmp(Et);if(Ct===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,Tt;Ct>0?(vt=this,Tt=Et):(vt=Et,Tt=this);for(var Mt=0,Nt=0;Nt<Tt.length;Nt++)It=(vt.words[Nt]|0)-(Tt.words[Nt]|0)+Mt,Mt=It>>26,this.words[Nt]=It&67108863;for(;Mt!==0&&Nt<vt.length;Nt++)It=(vt.words[Nt]|0)+Mt,Mt=It>>26,this.words[Nt]=It&67108863;if(Mt===0&&Nt<vt.length&&vt!==this)for(;Nt<vt.length;Nt++)this.words[Nt]=vt.words[Nt];return this.length=Math.max(this.length,Nt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(Et){return this.clone().isub(Et)};function mt(Lt,Et,It){It.negative=Et.negative^Lt.negative;var Ct=Lt.length+Et.length|0;It.length=Ct,Ct=Ct-1|0;var vt=Lt.words[0]|0,Tt=Et.words[0]|0,Mt=vt*Tt,Nt=Mt&67108863,$t=Mt/67108864|0;It.words[0]=Nt;for(var St=1;St<Ct;St++){for(var Dt=$t>>>26,Rt=$t&67108863,_t=Math.min(St,Et.length-1),Pt=Math.max(0,St-Lt.length+1);Pt<=_t;Pt++){var Vt=St-Pt|0;vt=Lt.words[Vt]|0,Tt=Et.words[Pt]|0,Mt=vt*Tt+Rt,Dt+=Mt/67108864|0,Rt=Mt&67108863}It.words[St]=Rt|0,$t=Dt|0}return $t!==0?It.words[St]=$t|0:It.length--,It.strip()}var gt=function(Et,It,Ct){var vt=Et.words,Tt=It.words,Mt=Ct.words,Nt=0,$t,St,Dt,Rt=vt[0]|0,_t=Rt&8191,Pt=Rt>>>13,Vt=vt[1]|0,Bt=Vt&8191,qt=Vt>>>13,Yt=vt[2]|0,Xt=Yt&8191,rr=Yt>>>13,lr=vt[3]|0,Qt=lr&8191,Kt=lr>>>13,sr=vt[4]|0,ir=sr&8191,hr=sr>>>13,er=vt[5]|0,Ut=er&8191,zt=er>>>13,Jt=vt[6]|0,nr=Jt&8191,ur=Jt>>>13,pr=vt[7]|0,mr=pr&8191,yr=pr>>>13,Er=vt[8]|0,gr=Er&8191,Gt=Er>>>13,Ft=vt[9]|0,jt=Ft&8191,tr=Ft>>>13,ar=Tt[0]|0,cr=ar&8191,dr=ar>>>13,_r=Tt[1]|0,xr=_r&8191,vr=_r>>>13,Fr=Tt[2]|0,br=Fr&8191,Ar=Fr>>>13,Wr=Tt[3]|0,$r=Wr&8191,Sr=Wr>>>13,Hr=Tt[4]|0,kr=Hr&8191,Rr=Hr>>>13,zr=Tt[5]|0,Ir=zr&8191,Pr=zr>>>13,qr=Tt[6]|0,Mr=qr&8191,Cr=qr>>>13,jr=Tt[7]|0,wr=jr&8191,Tr=jr>>>13,Vr=Tt[8]|0,Nr=Vr&8191,Br=Vr>>>13,Xr=Tt[9]|0,Or=Xr&8191,Dr=Xr>>>13;Ct.negative=Et.negative^It.negative,Ct.length=19,$t=Math.imul(_t,cr),St=Math.imul(_t,dr),St=St+Math.imul(Pt,cr)|0,Dt=Math.imul(Pt,dr);var Yr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,$t=Math.imul(Bt,cr),St=Math.imul(Bt,dr),St=St+Math.imul(qt,cr)|0,Dt=Math.imul(qt,dr),$t=$t+Math.imul(_t,xr)|0,St=St+Math.imul(_t,vr)|0,St=St+Math.imul(Pt,xr)|0,Dt=Dt+Math.imul(Pt,vr)|0;var Lr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,$t=Math.imul(Xt,cr),St=Math.imul(Xt,dr),St=St+Math.imul(rr,cr)|0,Dt=Math.imul(rr,dr),$t=$t+Math.imul(Bt,xr)|0,St=St+Math.imul(Bt,vr)|0,St=St+Math.imul(qt,xr)|0,Dt=Dt+Math.imul(qt,vr)|0,$t=$t+Math.imul(_t,br)|0,St=St+Math.imul(_t,Ar)|0,St=St+Math.imul(Pt,br)|0,Dt=Dt+Math.imul(Pt,Ar)|0;var Ur=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,$t=Math.imul(Qt,cr),St=Math.imul(Qt,dr),St=St+Math.imul(Kt,cr)|0,Dt=Math.imul(Kt,dr),$t=$t+Math.imul(Xt,xr)|0,St=St+Math.imul(Xt,vr)|0,St=St+Math.imul(rr,xr)|0,Dt=Dt+Math.imul(rr,vr)|0,$t=$t+Math.imul(Bt,br)|0,St=St+Math.imul(Bt,Ar)|0,St=St+Math.imul(qt,br)|0,Dt=Dt+Math.imul(qt,Ar)|0,$t=$t+Math.imul(_t,$r)|0,St=St+Math.imul(_t,Sr)|0,St=St+Math.imul(Pt,$r)|0,Dt=Dt+Math.imul(Pt,Sr)|0;var Gr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,$t=Math.imul(ir,cr),St=Math.imul(ir,dr),St=St+Math.imul(hr,cr)|0,Dt=Math.imul(hr,dr),$t=$t+Math.imul(Qt,xr)|0,St=St+Math.imul(Qt,vr)|0,St=St+Math.imul(Kt,xr)|0,Dt=Dt+Math.imul(Kt,vr)|0,$t=$t+Math.imul(Xt,br)|0,St=St+Math.imul(Xt,Ar)|0,St=St+Math.imul(rr,br)|0,Dt=Dt+Math.imul(rr,Ar)|0,$t=$t+Math.imul(Bt,$r)|0,St=St+Math.imul(Bt,Sr)|0,St=St+Math.imul(qt,$r)|0,Dt=Dt+Math.imul(qt,Sr)|0,$t=$t+Math.imul(_t,kr)|0,St=St+Math.imul(_t,Rr)|0,St=St+Math.imul(Pt,kr)|0,Dt=Dt+Math.imul(Pt,Rr)|0;var Kr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,$t=Math.imul(Ut,cr),St=Math.imul(Ut,dr),St=St+Math.imul(zt,cr)|0,Dt=Math.imul(zt,dr),$t=$t+Math.imul(ir,xr)|0,St=St+Math.imul(ir,vr)|0,St=St+Math.imul(hr,xr)|0,Dt=Dt+Math.imul(hr,vr)|0,$t=$t+Math.imul(Qt,br)|0,St=St+Math.imul(Qt,Ar)|0,St=St+Math.imul(Kt,br)|0,Dt=Dt+Math.imul(Kt,Ar)|0,$t=$t+Math.imul(Xt,$r)|0,St=St+Math.imul(Xt,Sr)|0,St=St+Math.imul(rr,$r)|0,Dt=Dt+Math.imul(rr,Sr)|0,$t=$t+Math.imul(Bt,kr)|0,St=St+Math.imul(Bt,Rr)|0,St=St+Math.imul(qt,kr)|0,Dt=Dt+Math.imul(qt,Rr)|0,$t=$t+Math.imul(_t,Ir)|0,St=St+Math.imul(_t,Pr)|0,St=St+Math.imul(Pt,Ir)|0,Dt=Dt+Math.imul(Pt,Pr)|0;var Zr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,$t=Math.imul(nr,cr),St=Math.imul(nr,dr),St=St+Math.imul(ur,cr)|0,Dt=Math.imul(ur,dr),$t=$t+Math.imul(Ut,xr)|0,St=St+Math.imul(Ut,vr)|0,St=St+Math.imul(zt,xr)|0,Dt=Dt+Math.imul(zt,vr)|0,$t=$t+Math.imul(ir,br)|0,St=St+Math.imul(ir,Ar)|0,St=St+Math.imul(hr,br)|0,Dt=Dt+Math.imul(hr,Ar)|0,$t=$t+Math.imul(Qt,$r)|0,St=St+Math.imul(Qt,Sr)|0,St=St+Math.imul(Kt,$r)|0,Dt=Dt+Math.imul(Kt,Sr)|0,$t=$t+Math.imul(Xt,kr)|0,St=St+Math.imul(Xt,Rr)|0,St=St+Math.imul(rr,kr)|0,Dt=Dt+Math.imul(rr,Rr)|0,$t=$t+Math.imul(Bt,Ir)|0,St=St+Math.imul(Bt,Pr)|0,St=St+Math.imul(qt,Ir)|0,Dt=Dt+Math.imul(qt,Pr)|0,$t=$t+Math.imul(_t,Mr)|0,St=St+Math.imul(_t,Cr)|0,St=St+Math.imul(Pt,Mr)|0,Dt=Dt+Math.imul(Pt,Cr)|0;var Qr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,$t=Math.imul(mr,cr),St=Math.imul(mr,dr),St=St+Math.imul(yr,cr)|0,Dt=Math.imul(yr,dr),$t=$t+Math.imul(nr,xr)|0,St=St+Math.imul(nr,vr)|0,St=St+Math.imul(ur,xr)|0,Dt=Dt+Math.imul(ur,vr)|0,$t=$t+Math.imul(Ut,br)|0,St=St+Math.imul(Ut,Ar)|0,St=St+Math.imul(zt,br)|0,Dt=Dt+Math.imul(zt,Ar)|0,$t=$t+Math.imul(ir,$r)|0,St=St+Math.imul(ir,Sr)|0,St=St+Math.imul(hr,$r)|0,Dt=Dt+Math.imul(hr,Sr)|0,$t=$t+Math.imul(Qt,kr)|0,St=St+Math.imul(Qt,Rr)|0,St=St+Math.imul(Kt,kr)|0,Dt=Dt+Math.imul(Kt,Rr)|0,$t=$t+Math.imul(Xt,Ir)|0,St=St+Math.imul(Xt,Pr)|0,St=St+Math.imul(rr,Ir)|0,Dt=Dt+Math.imul(rr,Pr)|0,$t=$t+Math.imul(Bt,Mr)|0,St=St+Math.imul(Bt,Cr)|0,St=St+Math.imul(qt,Mr)|0,Dt=Dt+Math.imul(qt,Cr)|0,$t=$t+Math.imul(_t,wr)|0,St=St+Math.imul(_t,Tr)|0,St=St+Math.imul(Pt,wr)|0,Dt=Dt+Math.imul(Pt,Tr)|0;var Jr=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,$t=Math.imul(gr,cr),St=Math.imul(gr,dr),St=St+Math.imul(Gt,cr)|0,Dt=Math.imul(Gt,dr),$t=$t+Math.imul(mr,xr)|0,St=St+Math.imul(mr,vr)|0,St=St+Math.imul(yr,xr)|0,Dt=Dt+Math.imul(yr,vr)|0,$t=$t+Math.imul(nr,br)|0,St=St+Math.imul(nr,Ar)|0,St=St+Math.imul(ur,br)|0,Dt=Dt+Math.imul(ur,Ar)|0,$t=$t+Math.imul(Ut,$r)|0,St=St+Math.imul(Ut,Sr)|0,St=St+Math.imul(zt,$r)|0,Dt=Dt+Math.imul(zt,Sr)|0,$t=$t+Math.imul(ir,kr)|0,St=St+Math.imul(ir,Rr)|0,St=St+Math.imul(hr,kr)|0,Dt=Dt+Math.imul(hr,Rr)|0,$t=$t+Math.imul(Qt,Ir)|0,St=St+Math.imul(Qt,Pr)|0,St=St+Math.imul(Kt,Ir)|0,Dt=Dt+Math.imul(Kt,Pr)|0,$t=$t+Math.imul(Xt,Mr)|0,St=St+Math.imul(Xt,Cr)|0,St=St+Math.imul(rr,Mr)|0,Dt=Dt+Math.imul(rr,Cr)|0,$t=$t+Math.imul(Bt,wr)|0,St=St+Math.imul(Bt,Tr)|0,St=St+Math.imul(qt,wr)|0,Dt=Dt+Math.imul(qt,Tr)|0,$t=$t+Math.imul(_t,Nr)|0,St=St+Math.imul(_t,Br)|0,St=St+Math.imul(Pt,Nr)|0,Dt=Dt+Math.imul(Pt,Br)|0;var tn=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(tn>>>26)|0,tn&=67108863,$t=Math.imul(jt,cr),St=Math.imul(jt,dr),St=St+Math.imul(tr,cr)|0,Dt=Math.imul(tr,dr),$t=$t+Math.imul(gr,xr)|0,St=St+Math.imul(gr,vr)|0,St=St+Math.imul(Gt,xr)|0,Dt=Dt+Math.imul(Gt,vr)|0,$t=$t+Math.imul(mr,br)|0,St=St+Math.imul(mr,Ar)|0,St=St+Math.imul(yr,br)|0,Dt=Dt+Math.imul(yr,Ar)|0,$t=$t+Math.imul(nr,$r)|0,St=St+Math.imul(nr,Sr)|0,St=St+Math.imul(ur,$r)|0,Dt=Dt+Math.imul(ur,Sr)|0,$t=$t+Math.imul(Ut,kr)|0,St=St+Math.imul(Ut,Rr)|0,St=St+Math.imul(zt,kr)|0,Dt=Dt+Math.imul(zt,Rr)|0,$t=$t+Math.imul(ir,Ir)|0,St=St+Math.imul(ir,Pr)|0,St=St+Math.imul(hr,Ir)|0,Dt=Dt+Math.imul(hr,Pr)|0,$t=$t+Math.imul(Qt,Mr)|0,St=St+Math.imul(Qt,Cr)|0,St=St+Math.imul(Kt,Mr)|0,Dt=Dt+Math.imul(Kt,Cr)|0,$t=$t+Math.imul(Xt,wr)|0,St=St+Math.imul(Xt,Tr)|0,St=St+Math.imul(rr,wr)|0,Dt=Dt+Math.imul(rr,Tr)|0,$t=$t+Math.imul(Bt,Nr)|0,St=St+Math.imul(Bt,Br)|0,St=St+Math.imul(qt,Nr)|0,Dt=Dt+Math.imul(qt,Br)|0,$t=$t+Math.imul(_t,Or)|0,St=St+Math.imul(_t,Dr)|0,St=St+Math.imul(Pt,Or)|0,Dt=Dt+Math.imul(Pt,Dr)|0;var rn=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(rn>>>26)|0,rn&=67108863,$t=Math.imul(jt,xr),St=Math.imul(jt,vr),St=St+Math.imul(tr,xr)|0,Dt=Math.imul(tr,vr),$t=$t+Math.imul(gr,br)|0,St=St+Math.imul(gr,Ar)|0,St=St+Math.imul(Gt,br)|0,Dt=Dt+Math.imul(Gt,Ar)|0,$t=$t+Math.imul(mr,$r)|0,St=St+Math.imul(mr,Sr)|0,St=St+Math.imul(yr,$r)|0,Dt=Dt+Math.imul(yr,Sr)|0,$t=$t+Math.imul(nr,kr)|0,St=St+Math.imul(nr,Rr)|0,St=St+Math.imul(ur,kr)|0,Dt=Dt+Math.imul(ur,Rr)|0,$t=$t+Math.imul(Ut,Ir)|0,St=St+Math.imul(Ut,Pr)|0,St=St+Math.imul(zt,Ir)|0,Dt=Dt+Math.imul(zt,Pr)|0,$t=$t+Math.imul(ir,Mr)|0,St=St+Math.imul(ir,Cr)|0,St=St+Math.imul(hr,Mr)|0,Dt=Dt+Math.imul(hr,Cr)|0,$t=$t+Math.imul(Qt,wr)|0,St=St+Math.imul(Qt,Tr)|0,St=St+Math.imul(Kt,wr)|0,Dt=Dt+Math.imul(Kt,Tr)|0,$t=$t+Math.imul(Xt,Nr)|0,St=St+Math.imul(Xt,Br)|0,St=St+Math.imul(rr,Nr)|0,Dt=Dt+Math.imul(rr,Br)|0,$t=$t+Math.imul(Bt,Or)|0,St=St+Math.imul(Bt,Dr)|0,St=St+Math.imul(qt,Or)|0,Dt=Dt+Math.imul(qt,Dr)|0;var nn=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(nn>>>26)|0,nn&=67108863,$t=Math.imul(jt,br),St=Math.imul(jt,Ar),St=St+Math.imul(tr,br)|0,Dt=Math.imul(tr,Ar),$t=$t+Math.imul(gr,$r)|0,St=St+Math.imul(gr,Sr)|0,St=St+Math.imul(Gt,$r)|0,Dt=Dt+Math.imul(Gt,Sr)|0,$t=$t+Math.imul(mr,kr)|0,St=St+Math.imul(mr,Rr)|0,St=St+Math.imul(yr,kr)|0,Dt=Dt+Math.imul(yr,Rr)|0,$t=$t+Math.imul(nr,Ir)|0,St=St+Math.imul(nr,Pr)|0,St=St+Math.imul(ur,Ir)|0,Dt=Dt+Math.imul(ur,Pr)|0,$t=$t+Math.imul(Ut,Mr)|0,St=St+Math.imul(Ut,Cr)|0,St=St+Math.imul(zt,Mr)|0,Dt=Dt+Math.imul(zt,Cr)|0,$t=$t+Math.imul(ir,wr)|0,St=St+Math.imul(ir,Tr)|0,St=St+Math.imul(hr,wr)|0,Dt=Dt+Math.imul(hr,Tr)|0,$t=$t+Math.imul(Qt,Nr)|0,St=St+Math.imul(Qt,Br)|0,St=St+Math.imul(Kt,Nr)|0,Dt=Dt+Math.imul(Kt,Br)|0,$t=$t+Math.imul(Xt,Or)|0,St=St+Math.imul(Xt,Dr)|0,St=St+Math.imul(rr,Or)|0,Dt=Dt+Math.imul(rr,Dr)|0;var an=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(an>>>26)|0,an&=67108863,$t=Math.imul(jt,$r),St=Math.imul(jt,Sr),St=St+Math.imul(tr,$r)|0,Dt=Math.imul(tr,Sr),$t=$t+Math.imul(gr,kr)|0,St=St+Math.imul(gr,Rr)|0,St=St+Math.imul(Gt,kr)|0,Dt=Dt+Math.imul(Gt,Rr)|0,$t=$t+Math.imul(mr,Ir)|0,St=St+Math.imul(mr,Pr)|0,St=St+Math.imul(yr,Ir)|0,Dt=Dt+Math.imul(yr,Pr)|0,$t=$t+Math.imul(nr,Mr)|0,St=St+Math.imul(nr,Cr)|0,St=St+Math.imul(ur,Mr)|0,Dt=Dt+Math.imul(ur,Cr)|0,$t=$t+Math.imul(Ut,wr)|0,St=St+Math.imul(Ut,Tr)|0,St=St+Math.imul(zt,wr)|0,Dt=Dt+Math.imul(zt,Tr)|0,$t=$t+Math.imul(ir,Nr)|0,St=St+Math.imul(ir,Br)|0,St=St+Math.imul(hr,Nr)|0,Dt=Dt+Math.imul(hr,Br)|0,$t=$t+Math.imul(Qt,Or)|0,St=St+Math.imul(Qt,Dr)|0,St=St+Math.imul(Kt,Or)|0,Dt=Dt+Math.imul(Kt,Dr)|0;var sn=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(sn>>>26)|0,sn&=67108863,$t=Math.imul(jt,kr),St=Math.imul(jt,Rr),St=St+Math.imul(tr,kr)|0,Dt=Math.imul(tr,Rr),$t=$t+Math.imul(gr,Ir)|0,St=St+Math.imul(gr,Pr)|0,St=St+Math.imul(Gt,Ir)|0,Dt=Dt+Math.imul(Gt,Pr)|0,$t=$t+Math.imul(mr,Mr)|0,St=St+Math.imul(mr,Cr)|0,St=St+Math.imul(yr,Mr)|0,Dt=Dt+Math.imul(yr,Cr)|0,$t=$t+Math.imul(nr,wr)|0,St=St+Math.imul(nr,Tr)|0,St=St+Math.imul(ur,wr)|0,Dt=Dt+Math.imul(ur,Tr)|0,$t=$t+Math.imul(Ut,Nr)|0,St=St+Math.imul(Ut,Br)|0,St=St+Math.imul(zt,Nr)|0,Dt=Dt+Math.imul(zt,Br)|0,$t=$t+Math.imul(ir,Or)|0,St=St+Math.imul(ir,Dr)|0,St=St+Math.imul(hr,Or)|0,Dt=Dt+Math.imul(hr,Dr)|0;var on=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(on>>>26)|0,on&=67108863,$t=Math.imul(jt,Ir),St=Math.imul(jt,Pr),St=St+Math.imul(tr,Ir)|0,Dt=Math.imul(tr,Pr),$t=$t+Math.imul(gr,Mr)|0,St=St+Math.imul(gr,Cr)|0,St=St+Math.imul(Gt,Mr)|0,Dt=Dt+Math.imul(Gt,Cr)|0,$t=$t+Math.imul(mr,wr)|0,St=St+Math.imul(mr,Tr)|0,St=St+Math.imul(yr,wr)|0,Dt=Dt+Math.imul(yr,Tr)|0,$t=$t+Math.imul(nr,Nr)|0,St=St+Math.imul(nr,Br)|0,St=St+Math.imul(ur,Nr)|0,Dt=Dt+Math.imul(ur,Br)|0,$t=$t+Math.imul(Ut,Or)|0,St=St+Math.imul(Ut,Dr)|0,St=St+Math.imul(zt,Or)|0,Dt=Dt+Math.imul(zt,Dr)|0;var cn=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(cn>>>26)|0,cn&=67108863,$t=Math.imul(jt,Mr),St=Math.imul(jt,Cr),St=St+Math.imul(tr,Mr)|0,Dt=Math.imul(tr,Cr),$t=$t+Math.imul(gr,wr)|0,St=St+Math.imul(gr,Tr)|0,St=St+Math.imul(Gt,wr)|0,Dt=Dt+Math.imul(Gt,Tr)|0,$t=$t+Math.imul(mr,Nr)|0,St=St+Math.imul(mr,Br)|0,St=St+Math.imul(yr,Nr)|0,Dt=Dt+Math.imul(yr,Br)|0,$t=$t+Math.imul(nr,Or)|0,St=St+Math.imul(nr,Dr)|0,St=St+Math.imul(ur,Or)|0,Dt=Dt+Math.imul(ur,Dr)|0;var ln=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(ln>>>26)|0,ln&=67108863,$t=Math.imul(jt,wr),St=Math.imul(jt,Tr),St=St+Math.imul(tr,wr)|0,Dt=Math.imul(tr,Tr),$t=$t+Math.imul(gr,Nr)|0,St=St+Math.imul(gr,Br)|0,St=St+Math.imul(Gt,Nr)|0,Dt=Dt+Math.imul(Gt,Br)|0,$t=$t+Math.imul(mr,Or)|0,St=St+Math.imul(mr,Dr)|0,St=St+Math.imul(yr,Or)|0,Dt=Dt+Math.imul(yr,Dr)|0;var un=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(un>>>26)|0,un&=67108863,$t=Math.imul(jt,Nr),St=Math.imul(jt,Br),St=St+Math.imul(tr,Nr)|0,Dt=Math.imul(tr,Br),$t=$t+Math.imul(gr,Or)|0,St=St+Math.imul(gr,Dr)|0,St=St+Math.imul(Gt,Or)|0,Dt=Dt+Math.imul(Gt,Dr)|0;var dn=(Nt+$t|0)+((St&8191)<<13)|0;Nt=(Dt+(St>>>13)|0)+(dn>>>26)|0,dn&=67108863,$t=Math.imul(jt,Or),St=Math.imul(jt,Dr),St=St+Math.imul(tr,Or)|0,Dt=Math.imul(tr,Dr);var fn=(Nt+$t|0)+((St&8191)<<13)|0;return Nt=(Dt+(St>>>13)|0)+(fn>>>26)|0,fn&=67108863,Mt[0]=Yr,Mt[1]=Lr,Mt[2]=Ur,Mt[3]=Gr,Mt[4]=Kr,Mt[5]=Zr,Mt[6]=Qr,Mt[7]=Jr,Mt[8]=tn,Mt[9]=rn,Mt[10]=nn,Mt[11]=an,Mt[12]=sn,Mt[13]=on,Mt[14]=cn,Mt[15]=ln,Mt[16]=un,Mt[17]=dn,Mt[18]=fn,Nt!==0&&(Mt[19]=Nt,Ct.length++),Ct};Math.imul||(gt=mt);function bt(Lt,Et,It){It.negative=Et.negative^Lt.negative,It.length=Lt.length+Et.length;for(var Ct=0,vt=0,Tt=0;Tt<It.length-1;Tt++){var Mt=vt;vt=0;for(var Nt=Ct&67108863,$t=Math.min(Tt,Et.length-1),St=Math.max(0,Tt-Lt.length+1);St<=$t;St++){var Dt=Tt-St,Rt=Lt.words[Dt]|0,_t=Et.words[St]|0,Pt=Rt*_t,Vt=Pt&67108863;Mt=Mt+(Pt/67108864|0)|0,Vt=Vt+Nt|0,Nt=Vt&67108863,Mt=Mt+(Vt>>>26)|0,vt+=Mt>>>26,Mt&=67108863}It.words[Tt]=Nt,Ct=Mt,Mt=vt}return Ct!==0?It.words[Tt]=Ct:It.length--,It.strip()}function ht(Lt,Et,It){var Ct=new yt;return Ct.mulp(Lt,Et,It)}it.prototype.mulTo=function(Et,It){var Ct,vt=this.length+Et.length;return this.length===10&&Et.length===10?Ct=gt(this,Et,It):vt<63?Ct=mt(this,Et,It):vt<1024?Ct=bt(this,Et,It):Ct=ht(this,Et,It),Ct};function yt(Lt,Et){this.x=Lt,this.y=Et}yt.prototype.makeRBT=function(Et){for(var It=new Array(Et),Ct=it.prototype._countBits(Et)-1,vt=0;vt<Et;vt++)It[vt]=this.revBin(vt,Ct,Et);return It},yt.prototype.revBin=function(Et,It,Ct){if(Et===0||Et===Ct-1)return Et;for(var vt=0,Tt=0;Tt<It;Tt++)vt|=(Et&1)<<It-Tt-1,Et>>=1;return vt},yt.prototype.permute=function(Et,It,Ct,vt,Tt,Mt){for(var Nt=0;Nt<Mt;Nt++)vt[Nt]=It[Et[Nt]],Tt[Nt]=Ct[Et[Nt]]},yt.prototype.transform=function(Et,It,Ct,vt,Tt,Mt){this.permute(Mt,Et,It,Ct,vt,Tt);for(var Nt=1;Nt<Tt;Nt<<=1)for(var $t=Nt<<1,St=Math.cos(2*Math.PI/$t),Dt=Math.sin(2*Math.PI/$t),Rt=0;Rt<Tt;Rt+=$t)for(var _t=St,Pt=Dt,Vt=0;Vt<Nt;Vt++){var Bt=Ct[Rt+Vt],qt=vt[Rt+Vt],Yt=Ct[Rt+Vt+Nt],Xt=vt[Rt+Vt+Nt],rr=_t*Yt-Pt*Xt;Xt=_t*Xt+Pt*Yt,Yt=rr,Ct[Rt+Vt]=Bt+Yt,vt[Rt+Vt]=qt+Xt,Ct[Rt+Vt+Nt]=Bt-Yt,vt[Rt+Vt+Nt]=qt-Xt,Vt!==$t&&(rr=St*_t-Dt*Pt,Pt=St*Pt+Dt*_t,_t=rr)}},yt.prototype.guessLen13b=function(Et,It){var Ct=Math.max(It,Et)|1,vt=Ct&1,Tt=0;for(Ct=Ct/2|0;Ct;Ct=Ct>>>1)Tt++;return 1<<Tt+1+vt},yt.prototype.conjugate=function(Et,It,Ct){if(!(Ct<=1))for(var vt=0;vt<Ct/2;vt++){var Tt=Et[vt];Et[vt]=Et[Ct-vt-1],Et[Ct-vt-1]=Tt,Tt=It[vt],It[vt]=-It[Ct-vt-1],It[Ct-vt-1]=-Tt}},yt.prototype.normalize13b=function(Et,It){for(var Ct=0,vt=0;vt<It/2;vt++){var Tt=Math.round(Et[2*vt+1]/It)*8192+Math.round(Et[2*vt]/It)+Ct;Et[vt]=Tt&67108863,Tt<67108864?Ct=0:Ct=Tt/67108864|0}return Et},yt.prototype.convert13b=function(Et,It,Ct,vt){for(var Tt=0,Mt=0;Mt<It;Mt++)Tt=Tt+(Et[Mt]|0),Ct[2*Mt]=Tt&8191,Tt=Tt>>>13,Ct[2*Mt+1]=Tt&8191,Tt=Tt>>>13;for(Mt=2*It;Mt<vt;++Mt)Ct[Mt]=0;rt(Tt===0),rt((Tt&-8192)===0)},yt.prototype.stub=function(Et){for(var It=new Array(Et),Ct=0;Ct<Et;Ct++)It[Ct]=0;return It},yt.prototype.mulp=function(Et,It,Ct){var vt=2*this.guessLen13b(Et.length,It.length),Tt=this.makeRBT(vt),Mt=this.stub(vt),Nt=new Array(vt),$t=new Array(vt),St=new Array(vt),Dt=new Array(vt),Rt=new Array(vt),_t=new Array(vt),Pt=Ct.words;Pt.length=vt,this.convert13b(Et.words,Et.length,Nt,vt),this.convert13b(It.words,It.length,Dt,vt),this.transform(Nt,Mt,$t,St,vt,Tt),this.transform(Dt,Mt,Rt,_t,vt,Tt);for(var Vt=0;Vt<vt;Vt++){var Bt=$t[Vt]*Rt[Vt]-St[Vt]*_t[Vt];St[Vt]=$t[Vt]*_t[Vt]+St[Vt]*Rt[Vt],$t[Vt]=Bt}return this.conjugate($t,St,vt),this.transform($t,St,Pt,Mt,vt,Tt),this.conjugate(Pt,Mt,vt),this.normalize13b(Pt,vt),Ct.negative=Et.negative^It.negative,Ct.length=Et.length+It.length,Ct.strip()},it.prototype.mul=function(Et){var It=new it(null);return It.words=new Array(this.length+Et.length),this.mulTo(Et,It)},it.prototype.mulf=function(Et){var It=new it(null);return It.words=new Array(this.length+Et.length),ht(this,Et,It)},it.prototype.imul=function(Et){return this.clone().mulTo(Et,this)},it.prototype.imuln=function(Et){rt(typeof Et=="number"),rt(Et<67108864);for(var It=0,Ct=0;Ct<this.length;Ct++){var vt=(this.words[Ct]|0)*Et,Tt=(vt&67108863)+(It&67108863);It>>=26,It+=vt/67108864|0,It+=Tt>>>26,this.words[Ct]=Tt&67108863}return It!==0&&(this.words[Ct]=It,this.length++),this},it.prototype.muln=function(Et){return this.clone().imuln(Et)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(Et){var It=dt(Et);if(It.length===0)return new it(1);for(var Ct=this,vt=0;vt<It.length&&It[vt]===0;vt++,Ct=Ct.sqr());if(++vt<It.length)for(var Tt=Ct.sqr();vt<It.length;vt++,Tt=Tt.sqr())It[vt]!==0&&(Ct=Ct.mul(Tt));return Ct},it.prototype.iushln=function(Et){rt(typeof Et=="number"&&Et>=0);var It=Et%26,Ct=(Et-It)/26,vt=67108863>>>26-It<<26-It,Tt;if(It!==0){var Mt=0;for(Tt=0;Tt<this.length;Tt++){var Nt=this.words[Tt]&vt,$t=(this.words[Tt]|0)-Nt<<It;this.words[Tt]=$t|Mt,Mt=Nt>>>26-It}Mt&&(this.words[Tt]=Mt,this.length++)}if(Ct!==0){for(Tt=this.length-1;Tt>=0;Tt--)this.words[Tt+Ct]=this.words[Tt];for(Tt=0;Tt<Ct;Tt++)this.words[Tt]=0;this.length+=Ct}return this.strip()},it.prototype.ishln=function(Et){return rt(this.negative===0),this.iushln(Et)},it.prototype.iushrn=function(Et,It,Ct){rt(typeof Et=="number"&&Et>=0);var vt;It?vt=(It-It%26)/26:vt=0;var Tt=Et%26,Mt=Math.min((Et-Tt)/26,this.length),Nt=67108863^67108863>>>Tt<<Tt,$t=Ct;if(vt-=Mt,vt=Math.max(0,vt),$t){for(var St=0;St<Mt;St++)$t.words[St]=this.words[St];$t.length=Mt}if(Mt!==0)if(this.length>Mt)for(this.length-=Mt,St=0;St<this.length;St++)this.words[St]=this.words[St+Mt];else this.words[0]=0,this.length=1;var Dt=0;for(St=this.length-1;St>=0&&(Dt!==0||St>=vt);St--){var Rt=this.words[St]|0;this.words[St]=Dt<<26-Tt|Rt>>>Tt,Dt=Rt&Nt}return $t&&Dt!==0&&($t.words[$t.length++]=Dt),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(Et,It,Ct){return rt(this.negative===0),this.iushrn(Et,It,Ct)},it.prototype.shln=function(Et){return this.clone().ishln(Et)},it.prototype.ushln=function(Et){return this.clone().iushln(Et)},it.prototype.shrn=function(Et){return this.clone().ishrn(Et)},it.prototype.ushrn=function(Et){return this.clone().iushrn(Et)},it.prototype.testn=function(Et){rt(typeof Et=="number"&&Et>=0);var It=Et%26,Ct=(Et-It)/26,vt=1<<It;if(this.length<=Ct)return!1;var Tt=this.words[Ct];return!!(Tt&vt)},it.prototype.imaskn=function(Et){rt(typeof Et=="number"&&Et>=0);var It=Et%26,Ct=(Et-It)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=Ct)return this;if(It!==0&&Ct++,this.length=Math.min(Ct,this.length),It!==0){var vt=67108863^67108863>>>It<<It;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(Et){return this.clone().imaskn(Et)},it.prototype.iaddn=function(Et){return rt(typeof Et=="number"),rt(Et<67108864),Et<0?this.isubn(-Et):this.negative!==0?this.length===1&&(this.words[0]|0)<Et?(this.words[0]=Et-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Et),this.negative=1,this):this._iaddn(Et)},it.prototype._iaddn=function(Et){this.words[0]+=Et;for(var It=0;It<this.length&&this.words[It]>=67108864;It++)this.words[It]-=67108864,It===this.length-1?this.words[It+1]=1:this.words[It+1]++;return this.length=Math.max(this.length,It+1),this},it.prototype.isubn=function(Et){if(rt(typeof Et=="number"),rt(Et<67108864),Et<0)return this.iaddn(-Et);if(this.negative!==0)return this.negative=0,this.iaddn(Et),this.negative=1,this;if(this.words[0]-=Et,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var It=0;It<this.length&&this.words[It]<0;It++)this.words[It]+=67108864,this.words[It+1]-=1;return this.strip()},it.prototype.addn=function(Et){return this.clone().iaddn(Et)},it.prototype.subn=function(Et){return this.clone().isubn(Et)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(Et,It,Ct){var vt=Et.length+Ct,Tt;this._expand(vt);var Mt,Nt=0;for(Tt=0;Tt<Et.length;Tt++){Mt=(this.words[Tt+Ct]|0)+Nt;var $t=(Et.words[Tt]|0)*It;Mt-=$t&67108863,Nt=(Mt>>26)-($t/67108864|0),this.words[Tt+Ct]=Mt&67108863}for(;Tt<this.length-Ct;Tt++)Mt=(this.words[Tt+Ct]|0)+Nt,Nt=Mt>>26,this.words[Tt+Ct]=Mt&67108863;if(Nt===0)return this.strip();for(rt(Nt===-1),Nt=0,Tt=0;Tt<this.length;Tt++)Mt=-(this.words[Tt]|0)+Nt,Nt=Mt>>26,this.words[Tt]=Mt&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(Et,It){var Ct=this.length-Et.length,vt=this.clone(),Tt=Et,Mt=Tt.words[Tt.length-1]|0,Nt=this._countBits(Mt);Ct=26-Nt,Ct!==0&&(Tt=Tt.ushln(Ct),vt.iushln(Ct),Mt=Tt.words[Tt.length-1]|0);var $t=vt.length-Tt.length,St;if(It!=="mod"){St=new it(null),St.length=$t+1,St.words=new Array(St.length);for(var Dt=0;Dt<St.length;Dt++)St.words[Dt]=0}var Rt=vt.clone()._ishlnsubmul(Tt,1,$t);Rt.negative===0&&(vt=Rt,St&&(St.words[$t]=1));for(var _t=$t-1;_t>=0;_t--){var Pt=(vt.words[Tt.length+_t]|0)*67108864+(vt.words[Tt.length+_t-1]|0);for(Pt=Math.min(Pt/Mt|0,67108863),vt._ishlnsubmul(Tt,Pt,_t);vt.negative!==0;)Pt--,vt.negative=0,vt._ishlnsubmul(Tt,1,_t),vt.isZero()||(vt.negative^=1);St&&(St.words[_t]=Pt)}return St&&St.strip(),vt.strip(),It!=="div"&&Ct!==0&&vt.iushrn(Ct),{div:St||null,mod:vt}},it.prototype.divmod=function(Et,It,Ct){if(rt(!Et.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,Tt,Mt;return this.negative!==0&&Et.negative===0?(Mt=this.neg().divmod(Et,It),It!=="mod"&&(vt=Mt.div.neg()),It!=="div"&&(Tt=Mt.mod.neg(),Ct&&Tt.negative!==0&&Tt.iadd(Et)),{div:vt,mod:Tt}):this.negative===0&&Et.negative!==0?(Mt=this.divmod(Et.neg(),It),It!=="mod"&&(vt=Mt.div.neg()),{div:vt,mod:Mt.mod}):(this.negative&Et.negative)!==0?(Mt=this.neg().divmod(Et.neg(),It),It!=="div"&&(Tt=Mt.mod.neg(),Ct&&Tt.negative!==0&&Tt.isub(Et)),{div:Mt.div,mod:Tt}):Et.length>this.length||this.cmp(Et)<0?{div:new it(0),mod:this}:Et.length===1?It==="div"?{div:this.divn(Et.words[0]),mod:null}:It==="mod"?{div:null,mod:new it(this.modn(Et.words[0]))}:{div:this.divn(Et.words[0]),mod:new it(this.modn(Et.words[0]))}:this._wordDiv(Et,It)},it.prototype.div=function(Et){return this.divmod(Et,"div",!1).div},it.prototype.mod=function(Et){return this.divmod(Et,"mod",!1).mod},it.prototype.umod=function(Et){return this.divmod(Et,"mod",!0).mod},it.prototype.divRound=function(Et){var It=this.divmod(Et);if(It.mod.isZero())return It.div;var Ct=It.div.negative!==0?It.mod.isub(Et):It.mod,vt=Et.ushrn(1),Tt=Et.andln(1),Mt=Ct.cmp(vt);return Mt<0||Tt===1&&Mt===0?It.div:It.div.negative!==0?It.div.isubn(1):It.div.iaddn(1)},it.prototype.modn=function(Et){rt(Et<=67108863);for(var It=(1<<26)%Et,Ct=0,vt=this.length-1;vt>=0;vt--)Ct=(It*Ct+(this.words[vt]|0))%Et;return Ct},it.prototype.idivn=function(Et){rt(Et<=67108863);for(var It=0,Ct=this.length-1;Ct>=0;Ct--){var vt=(this.words[Ct]|0)+It*67108864;this.words[Ct]=vt/Et|0,It=vt%Et}return this.strip()},it.prototype.divn=function(Et){return this.clone().idivn(Et)},it.prototype.egcd=function(Et){rt(Et.negative===0),rt(!Et.isZero());var It=this,Ct=Et.clone();It.negative!==0?It=It.umod(Et):It=It.clone();for(var vt=new it(1),Tt=new it(0),Mt=new it(0),Nt=new it(1),$t=0;It.isEven()&&Ct.isEven();)It.iushrn(1),Ct.iushrn(1),++$t;for(var St=Ct.clone(),Dt=It.clone();!It.isZero();){for(var Rt=0,_t=1;(It.words[0]&_t)===0&&Rt<26;++Rt,_t<<=1);if(Rt>0)for(It.iushrn(Rt);Rt-- >0;)(vt.isOdd()||Tt.isOdd())&&(vt.iadd(St),Tt.isub(Dt)),vt.iushrn(1),Tt.iushrn(1);for(var Pt=0,Vt=1;(Ct.words[0]&Vt)===0&&Pt<26;++Pt,Vt<<=1);if(Pt>0)for(Ct.iushrn(Pt);Pt-- >0;)(Mt.isOdd()||Nt.isOdd())&&(Mt.iadd(St),Nt.isub(Dt)),Mt.iushrn(1),Nt.iushrn(1);It.cmp(Ct)>=0?(It.isub(Ct),vt.isub(Mt),Tt.isub(Nt)):(Ct.isub(It),Mt.isub(vt),Nt.isub(Tt))}return{a:Mt,b:Nt,gcd:Ct.iushln($t)}},it.prototype._invmp=function(Et){rt(Et.negative===0),rt(!Et.isZero());var It=this,Ct=Et.clone();It.negative!==0?It=It.umod(Et):It=It.clone();for(var vt=new it(1),Tt=new it(0),Mt=Ct.clone();It.cmpn(1)>0&&Ct.cmpn(1)>0;){for(var Nt=0,$t=1;(It.words[0]&$t)===0&&Nt<26;++Nt,$t<<=1);if(Nt>0)for(It.iushrn(Nt);Nt-- >0;)vt.isOdd()&&vt.iadd(Mt),vt.iushrn(1);for(var St=0,Dt=1;(Ct.words[0]&Dt)===0&&St<26;++St,Dt<<=1);if(St>0)for(Ct.iushrn(St);St-- >0;)Tt.isOdd()&&Tt.iadd(Mt),Tt.iushrn(1);It.cmp(Ct)>=0?(It.isub(Ct),vt.isub(Tt)):(Ct.isub(It),Tt.isub(vt))}var Rt;return It.cmpn(1)===0?Rt=vt:Rt=Tt,Rt.cmpn(0)<0&&Rt.iadd(Et),Rt},it.prototype.gcd=function(Et){if(this.isZero())return Et.abs();if(Et.isZero())return this.abs();var It=this.clone(),Ct=Et.clone();It.negative=0,Ct.negative=0;for(var vt=0;It.isEven()&&Ct.isEven();vt++)It.iushrn(1),Ct.iushrn(1);do{for(;It.isEven();)It.iushrn(1);for(;Ct.isEven();)Ct.iushrn(1);var Tt=It.cmp(Ct);if(Tt<0){var Mt=It;It=Ct,Ct=Mt}else if(Tt===0||Ct.cmpn(1)===0)break;It.isub(Ct)}while(!0);return Ct.iushln(vt)},it.prototype.invm=function(Et){return this.egcd(Et).a.umod(Et)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(Et){return this.words[0]&Et},it.prototype.bincn=function(Et){rt(typeof Et=="number");var It=Et%26,Ct=(Et-It)/26,vt=1<<It;if(this.length<=Ct)return this._expand(Ct+1),this.words[Ct]|=vt,this;for(var Tt=vt,Mt=Ct;Tt!==0&&Mt<this.length;Mt++){var Nt=this.words[Mt]|0;Nt+=Tt,Tt=Nt>>>26,Nt&=67108863,this.words[Mt]=Nt}return Tt!==0&&(this.words[Mt]=Tt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(Et){var It=Et<0;if(this.negative!==0&&!It)return-1;if(this.negative===0&&It)return 1;this.strip();var Ct;if(this.length>1)Ct=1;else{It&&(Et=-Et),rt(Et<=67108863,"Number is too big");var vt=this.words[0]|0;Ct=vt===Et?0:vt<Et?-1:1}return this.negative!==0?-Ct|0:Ct},it.prototype.cmp=function(Et){if(this.negative!==0&&Et.negative===0)return-1;if(this.negative===0&&Et.negative!==0)return 1;var It=this.ucmp(Et);return this.negative!==0?-It|0:It},it.prototype.ucmp=function(Et){if(this.length>Et.length)return 1;if(this.length<Et.length)return-1;for(var It=0,Ct=this.length-1;Ct>=0;Ct--){var vt=this.words[Ct]|0,Tt=Et.words[Ct]|0;if(vt!==Tt){vt<Tt?It=-1:vt>Tt&&(It=1);break}}return It},it.prototype.gtn=function(Et){return this.cmpn(Et)===1},it.prototype.gt=function(Et){return this.cmp(Et)===1},it.prototype.gten=function(Et){return this.cmpn(Et)>=0},it.prototype.gte=function(Et){return this.cmp(Et)>=0},it.prototype.ltn=function(Et){return this.cmpn(Et)===-1},it.prototype.lt=function(Et){return this.cmp(Et)===-1},it.prototype.lten=function(Et){return this.cmpn(Et)<=0},it.prototype.lte=function(Et){return this.cmp(Et)<=0},it.prototype.eqn=function(Et){return this.cmpn(Et)===0},it.prototype.eq=function(Et){return this.cmp(Et)===0},it.red=function(Et){return new Ht(Et)},it.prototype.toRed=function(Et){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),Et.convertTo(this)._forceRed(Et)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(Et){return this.red=Et,this},it.prototype.forceRed=function(Et){return rt(!this.red,"Already a number in reduction context"),this._forceRed(Et)},it.prototype.redAdd=function(Et){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,Et)},it.prototype.redIAdd=function(Et){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Et)},it.prototype.redSub=function(Et){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,Et)},it.prototype.redISub=function(Et){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,Et)},it.prototype.redShl=function(Et){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,Et)},it.prototype.redMul=function(Et){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Et),this.red.mul(this,Et)},it.prototype.redIMul=function(Et){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Et),this.red.imul(this,Et)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(Et){return rt(this.red&&!Et.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Et)};var wt={k256:null,p224:null,p192:null,p25519:null};function xt(Lt,Et){this.name=Lt,this.p=new it(Et,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xt.prototype._tmp=function(){var Et=new it(null);return Et.words=new Array(Math.ceil(this.n/13)),Et},xt.prototype.ireduce=function(Et){var It=Et,Ct;do this.split(It,this.tmp),It=this.imulK(It),It=It.iadd(this.tmp),Ct=It.bitLength();while(Ct>this.n);var vt=Ct<this.n?-1:It.ucmp(this.p);return vt===0?(It.words[0]=0,It.length=1):vt>0?It.isub(this.p):It.strip(),It},xt.prototype.split=function(Et,It){Et.iushrn(this.n,0,It)},xt.prototype.imulK=function(Et){return Et.imul(this.k)};function At(){xt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(At,xt),At.prototype.split=function(Et,It){for(var Ct=4194303,vt=Math.min(Et.length,9),Tt=0;Tt<vt;Tt++)It.words[Tt]=Et.words[Tt];if(It.length=vt,Et.length<=9){Et.words[0]=0,Et.length=1;return}var Mt=Et.words[9];for(It.words[It.length++]=Mt&Ct,Tt=10;Tt<Et.length;Tt++){var Nt=Et.words[Tt]|0;Et.words[Tt-10]=(Nt&Ct)<<4|Mt>>>22,Mt=Nt}Mt>>>=22,Et.words[Tt-10]=Mt,Mt===0&&Et.length>10?Et.length-=10:Et.length-=9},At.prototype.imulK=function(Et){Et.words[Et.length]=0,Et.words[Et.length+1]=0,Et.length+=2;for(var It=0,Ct=0;Ct<Et.length;Ct++){var vt=Et.words[Ct]|0;It+=vt*977,Et.words[Ct]=It&67108863,It=vt*64+(It/67108864|0)}return Et.words[Et.length-1]===0&&(Et.length--,Et.words[Et.length-1]===0&&Et.length--),Et};function kt(){xt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(kt,xt);function Ot(){xt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(Ot,xt);function Wt(){xt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Wt,xt),Wt.prototype.imulK=function(Et){for(var It=0,Ct=0;Ct<Et.length;Ct++){var vt=(Et.words[Ct]|0)*19+It,Tt=vt&67108863;vt>>>=26,Et.words[Ct]=Tt,It=vt}return It!==0&&(Et.words[Et.length++]=It),Et},it._prime=function(Et){if(wt[Et])return wt[Et];var It;if(Et==="k256")It=new At;else if(Et==="p224")It=new kt;else if(Et==="p192")It=new Ot;else if(Et==="p25519")It=new Wt;else throw new Error("Unknown prime "+Et);return wt[Et]=It,It};function Ht(Lt){if(typeof Lt=="string"){var Et=it._prime(Lt);this.m=Et.p,this.prime=Et}else rt(Lt.gtn(1),"modulus must be greater than 1"),this.m=Lt,this.prime=null}Ht.prototype._verify1=function(Et){rt(Et.negative===0,"red works only with positives"),rt(Et.red,"red works only with red numbers")},Ht.prototype._verify2=function(Et,It){rt((Et.negative|It.negative)===0,"red works only with positives"),rt(Et.red&&Et.red===It.red,"red works only with red numbers")},Ht.prototype.imod=function(Et){return this.prime?this.prime.ireduce(Et)._forceRed(this):Et.umod(this.m)._forceRed(this)},Ht.prototype.neg=function(Et){return Et.isZero()?Et.clone():this.m.sub(Et)._forceRed(this)},Ht.prototype.add=function(Et,It){this._verify2(Et,It);var Ct=Et.add(It);return Ct.cmp(this.m)>=0&&Ct.isub(this.m),Ct._forceRed(this)},Ht.prototype.iadd=function(Et,It){this._verify2(Et,It);var Ct=Et.iadd(It);return Ct.cmp(this.m)>=0&&Ct.isub(this.m),Ct},Ht.prototype.sub=function(Et,It){this._verify2(Et,It);var Ct=Et.sub(It);return Ct.cmpn(0)<0&&Ct.iadd(this.m),Ct._forceRed(this)},Ht.prototype.isub=function(Et,It){this._verify2(Et,It);var Ct=Et.isub(It);return Ct.cmpn(0)<0&&Ct.iadd(this.m),Ct},Ht.prototype.shl=function(Et,It){return this._verify1(Et),this.imod(Et.ushln(It))},Ht.prototype.imul=function(Et,It){return this._verify2(Et,It),this.imod(Et.imul(It))},Ht.prototype.mul=function(Et,It){return this._verify2(Et,It),this.imod(Et.mul(It))},Ht.prototype.isqr=function(Et){return this.imul(Et,Et.clone())},Ht.prototype.sqr=function(Et){return this.mul(Et,Et)},Ht.prototype.sqrt=function(Et){if(Et.isZero())return Et.clone();var It=this.m.andln(3);if(rt(It%2===1),It===3){var Ct=this.m.add(new it(1)).iushrn(2);return this.pow(Et,Ct)}for(var vt=this.m.subn(1),Tt=0;!vt.isZero()&&vt.andln(1)===0;)Tt++,vt.iushrn(1);rt(!vt.isZero());var Mt=new it(1).toRed(this),Nt=Mt.redNeg(),$t=this.m.subn(1).iushrn(1),St=this.m.bitLength();for(St=new it(2*St*St).toRed(this);this.pow(St,$t).cmp(Nt)!==0;)St.redIAdd(Nt);for(var Dt=this.pow(St,vt),Rt=this.pow(Et,vt.addn(1).iushrn(1)),_t=this.pow(Et,vt),Pt=Tt;_t.cmp(Mt)!==0;){for(var Vt=_t,Bt=0;Vt.cmp(Mt)!==0;Bt++)Vt=Vt.redSqr();rt(Bt<Pt);var qt=this.pow(Dt,new it(1).iushln(Pt-Bt-1));Rt=Rt.redMul(qt),Dt=qt.redSqr(),_t=_t.redMul(Dt),Pt=Bt}return Rt},Ht.prototype.invm=function(Et){var It=Et._invmp(this.m);return It.negative!==0?(It.negative=0,this.imod(It).redNeg()):this.imod(It)},Ht.prototype.pow=function(Et,It){if(It.isZero())return new it(1).toRed(this);if(It.cmpn(1)===0)return Et.clone();var Ct=4,vt=new Array(1<<Ct);vt[0]=new it(1).toRed(this),vt[1]=Et;for(var Tt=2;Tt<vt.length;Tt++)vt[Tt]=this.mul(vt[Tt-1],Et);var Mt=vt[0],Nt=0,$t=0,St=It.bitLength()%26;for(St===0&&(St=26),Tt=It.length-1;Tt>=0;Tt--){for(var Dt=It.words[Tt],Rt=St-1;Rt>=0;Rt--){var _t=Dt>>Rt&1;if(Mt!==vt[0]&&(Mt=this.sqr(Mt)),_t===0&&Nt===0){$t=0;continue}Nt<<=1,Nt|=_t,$t++,!($t!==Ct&&(Tt!==0||Rt!==0))&&(Mt=this.mul(Mt,vt[Nt]),$t=0,Nt=0)}St=26}return Mt},Ht.prototype.convertTo=function(Et){var It=Et.umod(this.m);return It===Et?It.clone():It},Ht.prototype.convertFrom=function(Et){var It=Et.clone();return It.red=null,It},it.mont=function(Et){return new Zt(Et)};function Zt(Lt){Ht.call(this,Lt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Zt,Ht),Zt.prototype.convertTo=function(Et){return this.imod(Et.ushln(this.shift))},Zt.prototype.convertFrom=function(Et){var It=this.imod(Et.mul(this.rinv));return It.red=null,It},Zt.prototype.imul=function(Et,It){if(Et.isZero()||It.isZero())return Et.words[0]=0,Et.length=1,Et;var Ct=Et.imul(It),vt=Ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Tt=Ct.isub(vt).iushrn(this.shift),Mt=Tt;return Tt.cmp(this.m)>=0?Mt=Tt.isub(this.m):Tt.cmpn(0)<0&&(Mt=Tt.iadd(this.m)),Mt._forceRed(this)},Zt.prototype.mul=function(Et,It){if(Et.isZero()||It.isZero())return new it(0)._forceRed(this);var Ct=Et.mul(It),vt=Ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Tt=Ct.isub(vt).iushrn(this.shift),Mt=Tt;return Tt.cmp(this.m)>=0?Mt=Tt.isub(this.m):Tt.cmpn(0)<0&&(Mt=Tt.iadd(this.m)),Mt._forceRed(this)},Zt.prototype.invm=function(Et){var It=this.imod(Et._invmp(this.m).mul(this.r2));return It._forceRed(this)}})(et,commonjsGlobal)})(bn);const BN=bn.exports;var isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray;isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(et){return isStrictTypedArray(et)||isLooseTypedArray(et)}function isStrictTypedArray(et){return et instanceof Int8Array||et instanceof Int16Array||et instanceof Int32Array||et instanceof Uint8Array||et instanceof Uint8ClampedArray||et instanceof Uint16Array||et instanceof Uint32Array||et instanceof Float32Array||et instanceof Float64Array}function isLooseTypedArray(et){return names[toString$1.call(et)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function et(_e){if(isTypedArray(_e)){var tt=Buffer.from(_e.buffer);return _e.byteLength!==_e.buffer.byteLength&&(tt=tt.slice(_e.byteOffset,_e.byteOffset+_e.byteLength)),tt}else return Buffer.from(_e)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(et){return new Uint8Array(et)}function bufferToHex(et,_e=!1){const tt=et.toString(ENC_HEX);return _e?addHexPrefix(tt):tt}function bufferToUtf8(et){return et.toString(ENC_UTF8)}function arrayToBuffer(et){return typedarrayToBuffer(et)}function arrayToHex(et,_e=!1){return bufferToHex(arrayToBuffer(et),_e)}function arrayToUtf8(et){return bufferToUtf8(arrayToBuffer(et))}function hexToBuffer(et){return Buffer.from(removeHexPrefix(et),ENC_HEX)}function hexToArray(et){return bufferToArray(hexToBuffer(et))}function utf8ToBuffer(et){return Buffer.from(et,ENC_UTF8)}function utf8ToArray(et){return bufferToArray(utf8ToBuffer(et))}function utf8ToHex(et,_e=!1){return bufferToHex(utf8ToBuffer(et),_e)}function isHexString$1(et,_e){return!(typeof et!="string"||!et.match(/^0x[0-9A-Fa-f]*$/)||_e&&et.length!==2+2*_e)}function concatArrays(...et){let _e=[];return et.forEach(tt=>_e=_e.concat(Array.from(tt))),new Uint8Array([..._e])}function calcByteLength(et,_e=8){const tt=et%_e;return tt?(et-tt)/_e*_e+_e:et}function sanitizeBytes(et,_e=8,tt=STRING_ZERO){return padLeft(et,calcByteLength(et.length,_e),tt)}function padLeft(et,_e,tt=STRING_ZERO){return padString(et,_e,!0,tt)}function removeHexPrefix(et){return et.replace(/^0x/,"")}function addHexPrefix(et){return et.startsWith("0x")?et:`0x${et}`}function sanitizeHex$1(et){return et=removeHexPrefix(et),et=sanitizeBytes(et,2),et&&(et=addHexPrefix(et)),et}function removeHexLeadingZeros$1(et){const _e=et.startsWith("0x");return et=removeHexPrefix(et),et=et.startsWith(STRING_ZERO)?et.substring(1):et,_e?addHexPrefix(et):et}function padString(et,_e,tt,rt=STRING_ZERO){const nt=_e-et.length;let it=et;if(nt>0){const at=rt.repeat(nt);it=tt?at+et:et+at}return it}function convertArrayBufferToBuffer(et){return arrayToBuffer(new Uint8Array(et))}function convertArrayBufferToHex(et,_e){return arrayToHex(new Uint8Array(et),!_e)}function convertBufferToArrayBuffer(et){return bufferToArray(et).buffer}function convertUtf8ToBuffer(et){return utf8ToBuffer(et)}function convertUtf8ToHex(et,_e){return utf8ToHex(et,!_e)}function convertHexToArrayBuffer(et){return hexToArray(et).buffer}function convertNumberToHex(et,_e){const tt=removeHexPrefix(sanitizeHex$1(new BN(et).toString(16)));return _e?tt:addHexPrefix(tt)}function sanitizeHex(et){return sanitizeHex$1(et)}function removeHexLeadingZeros(et){return removeHexLeadingZeros$1(addHexPrefix(et))}const payloadId=payloadId$1;function uuid(){return((_e,tt)=>{for(tt=_e="";_e++<36;tt+=_e*51&52?(_e^15?8^Math.random()*(_e^20?16:4):4).toString(16):"-");return tt})()}function getInfuraRpcUrl(et,_e){let tt;const rt=infuraNetworks[et];return rt&&(tt=`https://${rt}.infura.io/v3/${_e}`),tt}function getRpcUrl(et,_e){let tt;const rt=getInfuraRpcUrl(et,_e.infuraId);return _e.custom&&_e.custom[et]?tt=_e.custom[et]:rt&&(tt=rt),tt}function isEmptyString(et){return et===""||typeof et=="string"&&et.trim()===""}function isEmptyArray(et){return!(et&&et.length)}function isHexString(et,_e){return isHexString$1(et,_e)}function isJsonRpcRequest(et){return typeof et.method<"u"}function isJsonRpcResponseSuccess(et){return typeof et.result<"u"}function isJsonRpcResponseError(et){return typeof et.error<"u"}function isInternalEvent(et){return typeof et.event<"u"}function isReservedEvent(et){return reservedEvents.includes(et)||et.startsWith("wc_")}function isSilentPayload(et){return et.method.startsWith("wc_")?!0:!signingMethods.includes(et.method)}function toChecksumAddress(et){et=removeHexPrefix(et.toLowerCase());const _e=removeHexPrefix(sha3$3.exports.keccak_256(convertUtf8ToBuffer(et)));let tt="";for(let rt=0;rt<et.length;rt++)parseInt(_e[rt],16)>7?tt+=et[rt].toUpperCase():tt+=et[rt];return addHexPrefix(tt)}const isValidAddress=et=>et?et.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(et)?/^(0x)?[0-9a-f]{40}$/.test(et)||/^(0x)?[0-9A-F]{40}$/.test(et)?!0:et===toChecksumAddress(et):!1:!1;function parsePersonalSign(et){return!isEmptyArray(et)&&!isHexString(et[0])&&(et[0]=convertUtf8ToHex(et[0])),et}function parseTransactionData(et){if(typeof et.type<"u"&&et.type!=="0")return et;if(typeof et.from>"u"||!isValidAddress(et.from))throw new Error("Transaction object must include a valid 'from' value.");function _e(nt){let it=nt;return(typeof nt=="number"||typeof nt=="string"&&!isEmptyString(nt))&&(isHexString(nt)?typeof nt=="string"&&(it=sanitizeHex(nt)):it=convertNumberToHex(nt)),typeof it=="string"&&(it=removeHexLeadingZeros(it)),it}const tt={from:sanitizeHex(et.from),to:typeof et.to>"u"?void 0:sanitizeHex(et.to),gasPrice:typeof et.gasPrice>"u"?"":_e(et.gasPrice),gas:typeof et.gas>"u"?typeof et.gasLimit>"u"?"":_e(et.gasLimit):_e(et.gas),value:typeof et.value>"u"?"":_e(et.value),nonce:typeof et.nonce>"u"?"":_e(et.nonce),data:typeof et.data>"u"?"":sanitizeHex(et.data)||"0x"},rt=["gasPrice","gas","value","nonce"];return Object.keys(tt).forEach(nt=>{(typeof tt[nt]>"u"||typeof tt[nt]=="string"&&!tt[nt].trim().length)&&rt.includes(nt)&&delete tt[nt]}),tt}function formatRpcError(et){const _e=et.message||"Failed or Rejected Request";let tt=-32e3;if(et&&!et.code)switch(_e){case"Parse error":tt=-32700;break;case"Invalid request":tt=-32600;break;case"Method not found":tt=-32601;break;case"Invalid params":tt=-32602;break;case"Internal error":tt=-32603;break;default:tt=-32e3;break}const rt={code:tt,message:_e};return et.data&&(rt.data=et.data),rt}var queryString={},strictUriEncode=et=>encodeURIComponent(et).replace(/[!'()*]/g,_e=>`%${_e.charCodeAt(0).toString(16).toUpperCase()}`),token$1="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token$1+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token$1+")+","gi");function decodeComponents(et,_e){try{return[decodeURIComponent(et.join(""))]}catch{}if(et.length===1)return et;_e=_e||1;var tt=et.slice(0,_e),rt=et.slice(_e);return Array.prototype.concat.call([],decodeComponents(tt),decodeComponents(rt))}function decode(et){try{return decodeURIComponent(et)}catch{for(var _e=et.match(singleMatcher)||[],tt=1;tt<_e.length;tt++)et=decodeComponents(_e,tt).join(""),_e=et.match(singleMatcher)||[];return et}}function customDecodeURIComponent(et){for(var _e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},tt=multiMatcher.exec(et);tt;){try{_e[tt[0]]=decodeURIComponent(tt[0])}catch{var rt=decode(tt[0]);rt!==tt[0]&&(_e[tt[0]]=rt)}tt=multiMatcher.exec(et)}_e["%C2"]="\uFFFD";for(var nt=Object.keys(_e),it=0;it<nt.length;it++){var at=nt[it];et=et.replace(new RegExp(at,"g"),_e[at])}return et}var decodeUriComponent=function(et){if(typeof et!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof et+"`");try{return et=et.replace(/\+/g," "),decodeURIComponent(et)}catch{return customDecodeURIComponent(et)}},splitOnFirst=(et,_e)=>{if(!(typeof et=="string"&&typeof _e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(_e==="")return[et];const tt=et.indexOf(_e);return tt===-1?[et]:[et.slice(0,tt),et.slice(tt+_e.length)]};(function(et){const _e=strictUriEncode,tt=decodeUriComponent,rt=splitOnFirst,nt=ht=>ht==null;function it(ht){switch(ht.arrayFormat){case"index":return yt=>(wt,xt)=>{const At=wt.length;return xt===void 0||ht.skipNull&&xt===null||ht.skipEmptyString&&xt===""?wt:xt===null?[...wt,[ot(yt,ht),"[",At,"]"].join("")]:[...wt,[ot(yt,ht),"[",ot(At,ht),"]=",ot(xt,ht)].join("")]};case"bracket":return yt=>(wt,xt)=>xt===void 0||ht.skipNull&&xt===null||ht.skipEmptyString&&xt===""?wt:xt===null?[...wt,[ot(yt,ht),"[]"].join("")]:[...wt,[ot(yt,ht),"[]=",ot(xt,ht)].join("")];case"comma":case"separator":return yt=>(wt,xt)=>xt==null||xt.length===0?wt:wt.length===0?[[ot(yt,ht),"=",ot(xt,ht)].join("")]:[[wt,ot(xt,ht)].join(ht.arrayFormatSeparator)];default:return yt=>(wt,xt)=>xt===void 0||ht.skipNull&&xt===null||ht.skipEmptyString&&xt===""?wt:xt===null?[...wt,ot(yt,ht)]:[...wt,[ot(yt,ht),"=",ot(xt,ht)].join("")]}}function at(ht){let yt;switch(ht.arrayFormat){case"index":return(wt,xt,At)=>{if(yt=/\[(\d*)\]$/.exec(wt),wt=wt.replace(/\[\d*\]$/,""),!yt){At[wt]=xt;return}At[wt]===void 0&&(At[wt]={}),At[wt][yt[1]]=xt};case"bracket":return(wt,xt,At)=>{if(yt=/(\[\])$/.exec(wt),wt=wt.replace(/\[\]$/,""),!yt){At[wt]=xt;return}if(At[wt]===void 0){At[wt]=[xt];return}At[wt]=[].concat(At[wt],xt)};case"comma":case"separator":return(wt,xt,At)=>{const Ot=typeof xt=="string"&&xt.split("").indexOf(ht.arrayFormatSeparator)>-1?xt.split(ht.arrayFormatSeparator).map(Wt=>ct(Wt,ht)):xt===null?xt:ct(xt,ht);At[wt]=Ot};default:return(wt,xt,At)=>{if(At[wt]===void 0){At[wt]=xt;return}At[wt]=[].concat(At[wt],xt)}}}function st(ht){if(typeof ht!="string"||ht.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ot(ht,yt){return yt.encode?yt.strict?_e(ht):encodeURIComponent(ht):ht}function ct(ht,yt){return yt.decode?tt(ht):ht}function lt(ht){return Array.isArray(ht)?ht.sort():typeof ht=="object"?lt(Object.keys(ht)).sort((yt,wt)=>Number(yt)-Number(wt)).map(yt=>ht[yt]):ht}function ut(ht){const yt=ht.indexOf("#");return yt!==-1&&(ht=ht.slice(0,yt)),ht}function dt(ht){let yt="";const wt=ht.indexOf("#");return wt!==-1&&(yt=ht.slice(wt)),yt}function mt(ht){ht=ut(ht);const yt=ht.indexOf("?");return yt===-1?"":ht.slice(yt+1)}function gt(ht,yt){return yt.parseNumbers&&!Number.isNaN(Number(ht))&&typeof ht=="string"&&ht.trim()!==""?ht=Number(ht):yt.parseBooleans&&ht!==null&&(ht.toLowerCase()==="true"||ht.toLowerCase()==="false")&&(ht=ht.toLowerCase()==="true"),ht}function bt(ht,yt){yt=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},yt),st(yt.arrayFormatSeparator);const wt=at(yt),xt=Object.create(null);if(typeof ht!="string"||(ht=ht.trim().replace(/^[?#&]/,""),!ht))return xt;for(const At of ht.split("&")){let[kt,Ot]=rt(yt.decode?At.replace(/\+/g," "):At,"=");Ot=Ot===void 0?null:["comma","separator"].includes(yt.arrayFormat)?Ot:ct(Ot,yt),wt(ct(kt,yt),Ot,xt)}for(const At of Object.keys(xt)){const kt=xt[At];if(typeof kt=="object"&&kt!==null)for(const Ot of Object.keys(kt))kt[Ot]=gt(kt[Ot],yt);else xt[At]=gt(kt,yt)}return yt.sort===!1?xt:(yt.sort===!0?Object.keys(xt).sort():Object.keys(xt).sort(yt.sort)).reduce((At,kt)=>{const Ot=xt[kt];return Boolean(Ot)&&typeof Ot=="object"&&!Array.isArray(Ot)?At[kt]=lt(Ot):At[kt]=Ot,At},Object.create(null))}et.extract=mt,et.parse=bt,et.stringify=(ht,yt)=>{if(!ht)return"";yt=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},yt),st(yt.arrayFormatSeparator);const wt=Ot=>yt.skipNull&&nt(ht[Ot])||yt.skipEmptyString&&ht[Ot]==="",xt=it(yt),At={};for(const Ot of Object.keys(ht))wt(Ot)||(At[Ot]=ht[Ot]);const kt=Object.keys(At);return yt.sort!==!1&&kt.sort(yt.sort),kt.map(Ot=>{const Wt=ht[Ot];return Wt===void 0?"":Wt===null?ot(Ot,yt):Array.isArray(Wt)?Wt.reduce(xt(Ot),[]).join("&"):ot(Ot,yt)+"="+ot(Wt,yt)}).filter(Ot=>Ot.length>0).join("&")},et.parseUrl=(ht,yt)=>{yt=Object.assign({decode:!0},yt);const[wt,xt]=rt(ht,"#");return Object.assign({url:wt.split("?")[0]||"",query:bt(mt(ht),yt)},yt&&yt.parseFragmentIdentifier&&xt?{fragmentIdentifier:ct(xt,yt)}:{})},et.stringifyUrl=(ht,yt)=>{yt=Object.assign({encode:!0,strict:!0},yt);const wt=ut(ht.url).split("?")[0]||"",xt=et.extract(ht.url),At=et.parse(xt,{sort:!1}),kt=Object.assign(At,ht.query);let Ot=et.stringify(kt,yt);Ot&&(Ot=`?${Ot}`);let Wt=dt(ht.url);return ht.fragmentIdentifier&&(Wt=`#${ot(ht.fragmentIdentifier,yt)}`),`${wt}${Ot}${Wt}`}})(queryString);function getQueryString(et){const _e=et.indexOf("?")!==-1?et.indexOf("?"):void 0;return typeof _e<"u"?et.substr(_e):""}function appendToQueryString(et,_e){let tt=parseQueryString(et);return tt=Object.assign(Object.assign({},tt),_e),et=formatQueryString(tt),et}function parseQueryString(et){return queryString.parse(et)}function formatQueryString(et){return queryString.stringify(et)}function isWalletConnectSession(et){return typeof et.bridge<"u"}function parseWalletConnectUri(et){const _e=et.indexOf(":"),tt=et.indexOf("?")!==-1?et.indexOf("?"):void 0,rt=et.substring(0,_e),nt=et.substring(_e+1,tt);function it(ut){const dt="@",mt=ut.split(dt);return{handshakeTopic:mt[0],version:parseInt(mt[1],10)}}const at=it(nt),st=typeof tt<"u"?et.substr(tt):"";function ot(ut){const dt=parseQueryString(ut);return{key:dt.key||"",bridge:dt.bridge||""}}const ct=ot(st);return Object.assign(Object.assign({protocol:rt},at),ct)}var eventemitter3={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ot,ct,lt){this.fn=ot,this.context=ct,this.once=lt||!1}function it(ot,ct,lt,ut,dt){if(typeof lt!="function")throw new TypeError("The listener must be a function");var mt=new nt(lt,ut||ot,dt),gt=tt?tt+ct:ct;return ot._events[gt]?ot._events[gt].fn?ot._events[gt]=[ot._events[gt],mt]:ot._events[gt].push(mt):(ot._events[gt]=mt,ot._eventsCount++),ot}function at(ot,ct){--ot._eventsCount===0?ot._events=new rt:delete ot._events[ct]}function st(){this._events=new rt,this._eventsCount=0}st.prototype.eventNames=function(){var ct=[],lt,ut;if(this._eventsCount===0)return ct;for(ut in lt=this._events)_e.call(lt,ut)&&ct.push(tt?ut.slice(1):ut);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(lt)):ct},st.prototype.listeners=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];if(!ut)return[];if(ut.fn)return[ut.fn];for(var dt=0,mt=ut.length,gt=new Array(mt);dt<mt;dt++)gt[dt]=ut[dt].fn;return gt},st.prototype.listenerCount=function(ct){var lt=tt?tt+ct:ct,ut=this._events[lt];return ut?ut.fn?1:ut.length:0},st.prototype.emit=function(ct,lt,ut,dt,mt,gt){var bt=tt?tt+ct:ct;if(!this._events[bt])return!1;var ht=this._events[bt],yt=arguments.length,wt,xt;if(ht.fn){switch(ht.once&&this.removeListener(ct,ht.fn,void 0,!0),yt){case 1:return ht.fn.call(ht.context),!0;case 2:return ht.fn.call(ht.context,lt),!0;case 3:return ht.fn.call(ht.context,lt,ut),!0;case 4:return ht.fn.call(ht.context,lt,ut,dt),!0;case 5:return ht.fn.call(ht.context,lt,ut,dt,mt),!0;case 6:return ht.fn.call(ht.context,lt,ut,dt,mt,gt),!0}for(xt=1,wt=new Array(yt-1);xt<yt;xt++)wt[xt-1]=arguments[xt];ht.fn.apply(ht.context,wt)}else{var At=ht.length,kt;for(xt=0;xt<At;xt++)switch(ht[xt].once&&this.removeListener(ct,ht[xt].fn,void 0,!0),yt){case 1:ht[xt].fn.call(ht[xt].context);break;case 2:ht[xt].fn.call(ht[xt].context,lt);break;case 3:ht[xt].fn.call(ht[xt].context,lt,ut);break;case 4:ht[xt].fn.call(ht[xt].context,lt,ut,dt);break;default:if(!wt)for(kt=1,wt=new Array(yt-1);kt<yt;kt++)wt[kt-1]=arguments[kt];ht[xt].fn.apply(ht[xt].context,wt)}}return!0},st.prototype.on=function(ct,lt,ut){return it(this,ct,lt,ut,!1)},st.prototype.once=function(ct,lt,ut){return it(this,ct,lt,ut,!0)},st.prototype.removeListener=function(ct,lt,ut,dt){var mt=tt?tt+ct:ct;if(!this._events[mt])return this;if(!lt)return at(this,mt),this;var gt=this._events[mt];if(gt.fn)gt.fn===lt&&(!dt||gt.once)&&(!ut||gt.context===ut)&&at(this,mt);else{for(var bt=0,ht=[],yt=gt.length;bt<yt;bt++)(gt[bt].fn!==lt||dt&&!gt[bt].once||ut&&gt[bt].context!==ut)&&ht.push(gt[bt]);ht.length?this._events[mt]=ht.length===1?ht[0]:ht:at(this,mt)}return this},st.prototype.removeAllListeners=function(ct){var lt;return ct?(lt=tt?tt+ct:ct,this._events[lt]&&at(this,lt)):(this._events=new rt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=tt,st.EventEmitter=st,et.exports=st})(eventemitter3);const EventEmitter=eventemitter3.exports;class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(_e,tt){this._eventEmitters.push({event:_e,callback:tt})}trigger(_e){let tt=[];_e&&(tt=this._eventEmitters.filter(rt=>rt.event===_e)),tt.forEach(rt=>{rt.callback()})}}const WS=typeof globalThis.WebSocket<"u"?globalThis.WebSocket:require("ws");class SocketTransport{constructor(_e){if(this.opts=_e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=_e.protocol,this._version=_e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=_e.subscriptions||[],this._netMonitor=_e.netMonitor||new NetworkMonitor,!_e.url||typeof _e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=_e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(_e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(_e){}get connecting(){return this.readyState===0}set connected(_e){}get connected(){return this.readyState===1}set closing(_e){}get closing(){return this.readyState===2}set closed(_e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(_e,tt,rt){if(!tt||typeof tt!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:tt,type:"pub",payload:_e,silent:!!rt})}subscribe(_e){this._socketSend({topic:_e,type:"sub",payload:"",silent:!0})}on(_e,tt){this._events.push({event:_e,callback:tt})}_socketCreate(){if(this._nextSocket)return;const _e=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(_e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=tt=>this._socketReceive(tt),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=tt=>this._socketError(tt),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(_e){const tt=JSON.stringify(_e);this._socket&&this._socket.readyState===1?this._socket.send(tt):(this._setToQueue(_e),this._socketCreate())}async _socketReceive(_e){let tt;try{tt=JSON.parse(_e.data)}catch{return}if(this._socketSend({topic:tt.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const rt=this._events.filter(nt=>nt.event==="message");rt&&rt.length&&rt.forEach(nt=>nt.callback(tt))}}_socketError(_e){const tt=this._events.filter(rt=>rt.event==="error");tt&&tt.length&&tt.forEach(rt=>rt.callback(_e))}_queueSubscriptions(){this._subscriptions.forEach(tt=>this._queue.push({topic:tt,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(_e){this._queue.push(_e)}_pushQueue(){this._queue.forEach(tt=>this._socketSend(tt)),this._queue=[]}}function getWebSocketUrl(et,_e,tt){var rt,nt;const at=(et.startsWith("https")?et.replace("https","wss"):et.startsWith("http")?et.replace("http","ws"):et).split("?"),st=isBrowser$1()?{protocol:_e,version:tt,env:"browser",host:((rt=getLocation())===null||rt===void 0?void 0:rt.host)||""}:{protocol:_e,version:tt,env:((nt=detectEnv$1())===null||nt===void 0?void 0:nt.name)||""},ot=appendToQueryString(getQueryString(at[1]||""),st);return at[0]+"?"+ot}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(_e){this._eventEmitters.push(_e)}unsubscribe(_e){this._eventEmitters=this._eventEmitters.filter(tt=>tt.event!==_e)}trigger(_e){let tt=[],rt;isJsonRpcRequest(_e)?rt=_e.method:isJsonRpcResponseSuccess(_e)||isJsonRpcResponseError(_e)?rt=`response:${_e.id}`:isInternalEvent(_e)?rt=_e.event:rt="",rt&&(tt=this._eventEmitters.filter(nt=>nt.event===rt)),(!tt||!tt.length)&&!isReservedEvent(rt)&&!isInternalEvent(rt)&&(tt=this._eventEmitters.filter(nt=>nt.event==="call_request")),tt.forEach(nt=>{if(isJsonRpcResponseError(_e)){const it=new Error(_e.error.message);nt.callback(it,null)}else nt.callback(null,_e)})}}class SessionStorage{constructor(_e="walletconnect"){this.storageId=_e}getSession(){let _e=null;const tt=getLocal(this.storageId);return tt&&isWalletConnectSession(tt)&&(_e=tt),_e}setSession(_e){return setLocal(this.storageId,_e),_e}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(et=>`https://${et}.bridge.walletconnect.org`);function extractHostname(et){let _e=et.indexOf("//")>-1?et.split("/")[2]:et.split("/")[0];return _e=_e.split(":")[0],_e=_e.split("?")[0],_e}function extractRootDomain(et){return extractHostname(et).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(et){return extractRootDomain(et)===domain}function getBridgeUrl(et){return shouldSelectRandomly(et)?selectRandomBridgeUrl():et}class Connector{constructor(_e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||_e.connectorOpts.clientMeta||null,this._cryptoLib=_e.cryptoLib,this._sessionStorage=_e.sessionStorage||new SessionStorage(_e.connectorOpts.storageId),this._qrcodeModal=_e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=_e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,..._e.connectorOpts.signingMethods||[]],!_e.connectorOpts.bridge&&!_e.connectorOpts.uri&&!_e.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);_e.connectorOpts.bridge&&(this.bridge=getBridgeUrl(_e.connectorOpts.bridge)),_e.connectorOpts.uri&&(this.uri=_e.connectorOpts.uri);const tt=_e.connectorOpts.session||this._getStorageSession();tt&&(this.session=tt),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=_e.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),_e.connectorOpts.uri&&this._subscribeToSessionRequest(),_e.pushServerOpts&&this._registerPushServer(_e.pushServerOpts)}set bridge(_e){!_e||(this._bridge=_e)}get bridge(){return this._bridge}set key(_e){if(!_e)return;const tt=convertHexToArrayBuffer(_e);this._key=tt}get key(){return this._key?convertArrayBufferToHex(this._key,!0):""}set clientId(_e){!_e||(this._clientId=_e)}get clientId(){let _e=this._clientId;return _e||(_e=this._clientId=uuid()),this._clientId}set peerId(_e){!_e||(this._peerId=_e)}get peerId(){return this._peerId}set clientMeta(_e){}get clientMeta(){let _e=this._clientMeta;return _e||(_e=this._clientMeta=getClientMeta()),_e}set peerMeta(_e){this._peerMeta=_e}get peerMeta(){return this._peerMeta}set handshakeTopic(_e){!_e||(this._handshakeTopic=_e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(_e){!_e||(this._handshakeId=_e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(_e){if(!_e)return;const{handshakeTopic:tt,bridge:rt,key:nt}=this._parseUri(_e);this.handshakeTopic=tt,this.bridge=rt,this.key=nt}set chainId(_e){this._chainId=_e}get chainId(){return this._chainId}set networkId(_e){this._networkId=_e}get networkId(){return this._networkId}set accounts(_e){this._accounts=_e}get accounts(){return this._accounts}set rpcUrl(_e){this._rpcUrl=_e}get rpcUrl(){return this._rpcUrl}set connected(_e){}get connected(){return this._connected}set pending(_e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(_e){!_e||(this._connected=_e.connected,this.accounts=_e.accounts,this.chainId=_e.chainId,this.bridge=_e.bridge,this.key=_e.key,this.clientId=_e.clientId,this.clientMeta=_e.clientMeta,this.peerId=_e.peerId,this.peerMeta=_e.peerMeta,this.handshakeId=_e.handshakeId,this.handshakeTopic=_e.handshakeTopic)}on(_e,tt){const rt={event:_e,callback:tt};this._eventManager.subscribe(rt)}off(_e){this._eventManager.unsubscribe(_e)}async createInstantRequest(_e){this._key=await this._generateKey();const tt=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(_e)}]});this.handshakeId=tt.id,this.handshakeTopic=uuid(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const rt=()=>{this.killSession()};try{const nt=await this._sendCallRequest(tt);return nt&&rt(),nt}catch(nt){throw rt(),nt}}async connect(_e){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(_e),new Promise(async(tt,rt)=>{this.on("modal_closed",()=>rt(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(nt,it)=>{if(nt)return rt(nt);tt(it.params[0])})}))}async createSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const tt=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:_e&&_e.chainId?_e.chainId:null}]});this.handshakeId=tt.id,this.handshakeTopic=uuid(),this._sendSessionRequest(tt,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=_e.chainId,this.accounts=_e.accounts,this.networkId=_e.networkId||0,this.rpcUrl=_e.rpcUrl||"";const tt={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},rt={id:this.handshakeId,jsonrpc:"2.0",result:tt};this._sendResponse(rt),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const tt=_e&&_e.message?_e.message:ERROR_SESSION_REJECTED,rt=this._formatResponse({id:this.handshakeId,error:{message:tt}});this._sendResponse(rt),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:tt}]}),this._removeStorageSession()}updateSession(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=_e.chainId,this.accounts=_e.accounts,this.networkId=_e.networkId||0,this.rpcUrl=_e.rpcUrl||"";const tt={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},rt=this._formatRequest({method:"wc_sessionUpdate",params:[tt]});this._sendSessionRequest(rt,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(_e){const tt=_e?_e.message:"Session Disconnected",rt={approved:!1,chainId:null,networkId:null,accounts:null},nt=this._formatRequest({method:"wc_sessionUpdate",params:[rt]});await this._sendRequest(nt),this._handleSessionDisconnect(tt)}async sendTransaction(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=parseTransactionData(_e),rt=this._formatRequest({method:"eth_sendTransaction",params:[tt]});return await this._sendCallRequest(rt)}async signTransaction(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=parseTransactionData(_e),rt=this._formatRequest({method:"eth_signTransaction",params:[tt]});return await this._sendCallRequest(rt)}async signMessage(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=this._formatRequest({method:"eth_sign",params:_e});return await this._sendCallRequest(tt)}async signPersonalMessage(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);_e=parsePersonalSign(_e);const tt=this._formatRequest({method:"personal_sign",params:_e});return await this._sendCallRequest(tt)}async signTypedData(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=this._formatRequest({method:"eth_signTypedData",params:_e});return await this._sendCallRequest(tt)}async updateChain(_e){if(!this._connected)throw new Error("Session currently disconnected");const tt=this._formatRequest({method:"wallet_updateChain",params:[_e]});return await this._sendCallRequest(tt)}unsafeSend(_e,tt){return this._sendRequest(_e,tt),this._eventManager.trigger({event:"call_request_sent",params:[{request:_e,options:tt}]}),new Promise((rt,nt)=>{this._subscribeToResponse(_e.id,(it,at)=>{if(it){nt(it);return}if(!at)throw new Error(ERROR_MISSING_JSON_RPC);rt(at)})})}async sendCustomRequest(_e,tt){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(_e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":_e.params&&(_e.params[0]=parseTransactionData(_e.params[0]));break;case"personal_sign":_e.params&&(_e.params=parsePersonalSign(_e.params));break}const rt=this._formatRequest(_e);return await this._sendCallRequest(rt,tt)}approveRequest(_e){if(isJsonRpcResponseSuccess(_e)){const tt=this._formatResponse(_e);this._sendResponse(tt)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(_e){if(isJsonRpcResponseError(_e)){const tt=this._formatResponse(_e);this._sendResponse(tt)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(_e,tt){const rt=this._formatRequest(_e),nt=await this._encrypt(rt),it=typeof(tt==null?void 0:tt.topic)<"u"?tt.topic:this.peerId,at=JSON.stringify(nt),st=typeof(tt==null?void 0:tt.forcePushNotification)<"u"?!tt.forcePushNotification:isSilentPayload(rt);this._transport.send(at,it,st)}async _sendResponse(_e){const tt=await this._encrypt(_e),rt=this.peerId,nt=JSON.stringify(tt),it=!0;this._transport.send(nt,rt,it)}async _sendSessionRequest(_e,tt,rt){this._sendRequest(_e,rt),this._subscribeToSessionResponse(_e.id,tt)}_sendCallRequest(_e,tt){return this._sendRequest(_e,tt),this._eventManager.trigger({event:"call_request_sent",params:[{request:_e,options:tt}]}),this._subscribeToCallResponse(_e.id)}_formatRequest(_e){if(typeof _e.method>"u")throw new Error(ERROR_MISSING_METHOD);return{id:typeof _e.id>"u"?payloadId():_e.id,jsonrpc:"2.0",method:_e.method,params:typeof _e.params>"u"?[]:_e.params}}_formatResponse(_e){if(typeof _e.id>"u")throw new Error(ERROR_MISSING_ID);const tt={id:_e.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(_e)){const rt=formatRpcError(_e.error);return Object.assign(Object.assign(Object.assign({},tt),_e),{error:rt})}else if(isJsonRpcResponseSuccess(_e))return Object.assign(Object.assign({},tt),_e);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(_e){const tt=_e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:tt}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(_e,tt){tt?tt.approved?(this._connected?(tt.chainId&&(this.chainId=tt.chainId),tt.accounts&&(this.accounts=tt.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,tt.chainId&&(this.chainId=tt.chainId),tt.accounts&&(this.accounts=tt.accounts),tt.peerId&&!this.peerId&&(this.peerId=tt.peerId),tt.peerMeta&&!this.peerMeta&&(this.peerMeta=tt.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(_e):this._handleSessionDisconnect(_e)}async _handleIncomingMessages(_e){if(![this.clientId,this.handshakeTopic].includes(_e.topic))return;let rt;try{rt=JSON.parse(_e.payload)}catch{return}const nt=await this._decrypt(rt);nt&&this._eventManager.trigger(nt)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(_e,tt){this.on(`response:${_e}`,tt)}_subscribeToSessionResponse(_e,tt){this._subscribeToResponse(_e,(rt,nt)=>{if(rt){this._handleSessionResponse(rt.message);return}isJsonRpcResponseSuccess(nt)?this._handleSessionResponse(tt,nt.result):nt.error&&nt.error.message?this._handleSessionResponse(nt.error.message):this._handleSessionResponse(tt)})}_subscribeToCallResponse(_e){return new Promise((tt,rt)=>{this._subscribeToResponse(_e,(nt,it)=>{if(nt){rt(nt);return}isJsonRpcResponseSuccess(it)?tt(it.result):it.error&&it.error.message?rt(it.error):rt(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(_e,tt)=>{const{request:rt}=tt.params[0];if(isMobile$1()&&this._signingMethods.includes(rt.method)){const nt=getLocal(mobileLinkChoiceKey);nt&&(window.location.href=nt.href)}}),this.on("wc_sessionRequest",(_e,tt)=>{_e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:_e.toString()}]}),this.handshakeId=tt.id,this.peerId=tt.params[0].peerId,this.peerMeta=tt.params[0].peerMeta;const rt=Object.assign(Object.assign({},tt),{method:"session_request"});this._eventManager.trigger(rt)}),this.on("wc_sessionUpdate",(_e,tt)=>{_e&&this._handleSessionResponse(_e.message),this._handleSessionResponse("Session disconnected",tt.params[0])})}_initTransport(){this._transport.on("message",_e=>this._handleIncomingMessages(_e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const _e=this.protocol,tt=this.handshakeTopic,rt=this.version,nt=encodeURIComponent(this.bridge),it=this.key;return`${_e}:${tt}@${rt}?bridge=${nt}&key=${it}`}_parseUri(_e){const tt=parseWalletConnectUri(_e);if(tt.protocol===this.protocol){if(!tt.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const rt=tt.handshakeTopic;if(!tt.bridge)throw Error("Invalid or missing bridge url parameter value");const nt=decodeURIComponent(tt.bridge);if(!tt.key)throw Error("Invalid or missing key parameter value");const it=tt.key;return{handshakeTopic:rt,bridge:nt,key:it}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(_e){const tt=this._key;return this._cryptoLib&&tt?await this._cryptoLib.encrypt(_e,tt):null}async _decrypt(_e){const tt=this._key;return this._cryptoLib&&tt?await this._cryptoLib.decrypt(_e,tt):null}_getStorageSession(){let _e=null;return this._sessionStorage&&(_e=this._sessionStorage.getSession()),_e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(_e){if(!_e.url||typeof _e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!_e.type||typeof _e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!_e.token||typeof _e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const tt={bridge:this.bridge,topic:this.clientId,type:_e.type,token:_e.token,peerName:"",language:_e.language||""};this.on("connect",async(rt,nt)=>{if(rt)throw rt;if(_e.peerMeta){const it=nt.params[0].peerMeta.name;tt.peerName=it}try{if(!(await(await fetch(`${_e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(tt)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes(et){return cjs$3.getBrowerCrypto().getRandomValues(new Uint8Array(et))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(et){return et===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(et){return et===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(et,_e=AES_BROWSER_ALGO){return cjs$3.getSubtleCrypto().importKey("raw",et,getAlgo(_e),!0,getOps(_e))}async function browserAesEncrypt(et,_e,tt){const rt=cjs$3.getSubtleCrypto(),nt=await browserImportKey(_e,AES_BROWSER_ALGO),it=await rt.encrypt({iv:et,name:AES_BROWSER_ALGO},nt,tt);return new Uint8Array(it)}async function browserAesDecrypt(et,_e,tt){const rt=cjs$3.getSubtleCrypto(),nt=await browserImportKey(_e,AES_BROWSER_ALGO),it=await rt.decrypt({iv:et,name:AES_BROWSER_ALGO},nt,tt);return new Uint8Array(it)}async function browserHmacSha256Sign(et,_e){const tt=cjs$3.getSubtleCrypto(),rt=await browserImportKey(et,HMAC_BROWSER),nt=await tt.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},rt,_e);return new Uint8Array(nt)}function aesCbcEncrypt(et,_e,tt){return browserAesEncrypt(et,_e,tt)}function aesCbcDecrypt(et,_e,tt){return browserAesDecrypt(et,_e,tt)}async function hmacSha256Sign(et,_e){return await browserHmacSha256Sign(et,_e)}async function generateKey(et){const _e=(et||256)/8,tt=randomBytes(_e);return convertBufferToArrayBuffer(arrayToBuffer(tt))}async function verifyHmac(et,_e){const tt=hexToArray(et.data),rt=hexToArray(et.iv),nt=hexToArray(et.hmac),it=arrayToHex(nt,!1),at=concatArrays(tt,rt),st=await hmacSha256Sign(_e,at),ot=arrayToHex(st,!1);return removeHexPrefix(it)===removeHexPrefix(ot)}async function encrypt(et,_e,tt){const rt=bufferToArray(convertArrayBufferToBuffer(_e)),nt=tt||await generateKey(128),it=bufferToArray(convertArrayBufferToBuffer(nt)),at=arrayToHex(it,!1),st=JSON.stringify(et),ot=utf8ToArray(st),ct=await aesCbcEncrypt(it,rt,ot),lt=arrayToHex(ct,!1),ut=concatArrays(ct,it),dt=await hmacSha256Sign(rt,ut),mt=arrayToHex(dt,!1);return{data:lt,hmac:mt,iv:at}}async function decrypt(et,_e){const tt=bufferToArray(convertArrayBufferToBuffer(_e));if(!tt)throw new Error("Missing key: required for decryption");if(!await verifyHmac(et,tt))return null;const nt=hexToArray(et.data),it=hexToArray(et.iv),at=await aesCbcDecrypt(it,tt,nt),st=arrayToUtf8(at);let ot;try{ot=JSON.parse(st)}catch{return null}return ot}const cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,generateKey,verifyHmac,encrypt,decrypt},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(_e,tt){super({cryptoLib,connectorOpts:_e,pushServerOpts:tt})}}const require$$0=getAugmentedNamespace(esm);var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(et){return toString.call(et)=="[object Array]"},isArray$1=isarray;function typedArraySupport(){try{var et=new Uint8Array(1);return et.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},et.foo()===42}catch{return!1}}Buffer$2.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$2(et,_e,tt){return!Buffer$2.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$2)?new Buffer$2(et,_e,tt):typeof et=="number"?allocUnsafe(this,et):from$1(this,et,_e,tt)}Buffer$2.TYPED_ARRAY_SUPPORT&&(Buffer$2.prototype.__proto__=Uint8Array.prototype,Buffer$2.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer$2[Symbol.species]===Buffer$2&&Object.defineProperty(Buffer$2,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function checked(et){if(et>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return et|0}function isnan(et){return et!==et}function createBuffer(et,_e){var tt;return Buffer$2.TYPED_ARRAY_SUPPORT?(tt=new Uint8Array(_e),tt.__proto__=Buffer$2.prototype):(tt=et,tt===null&&(tt=new Buffer$2(_e)),tt.length=_e),tt}function allocUnsafe(et,_e){var tt=createBuffer(et,_e<0?0:checked(_e)|0);if(!Buffer$2.TYPED_ARRAY_SUPPORT)for(var rt=0;rt<_e;++rt)tt[rt]=0;return tt}function fromString(et,_e){var tt=byteLength(_e)|0,rt=createBuffer(et,tt),nt=rt.write(_e);return nt!==tt&&(rt=rt.slice(0,nt)),rt}function fromArrayLike(et,_e){for(var tt=_e.length<0?0:checked(_e.length)|0,rt=createBuffer(et,tt),nt=0;nt<tt;nt+=1)rt[nt]=_e[nt]&255;return rt}function fromArrayBuffer(et,_e,tt,rt){if(tt<0||_e.byteLength<tt)throw new RangeError("'offset' is out of bounds");if(_e.byteLength<tt+(rt||0))throw new RangeError("'length' is out of bounds");var nt;return tt===void 0&&rt===void 0?nt=new Uint8Array(_e):rt===void 0?nt=new Uint8Array(_e,tt):nt=new Uint8Array(_e,tt,rt),Buffer$2.TYPED_ARRAY_SUPPORT?nt.__proto__=Buffer$2.prototype:nt=fromArrayLike(et,nt),nt}function fromObject(et,_e){if(Buffer$2.isBuffer(_e)){var tt=checked(_e.length)|0,rt=createBuffer(et,tt);return rt.length===0||_e.copy(rt,0,0,tt),rt}if(_e){if(typeof ArrayBuffer<"u"&&_e.buffer instanceof ArrayBuffer||"length"in _e)return typeof _e.length!="number"||isnan(_e.length)?createBuffer(et,0):fromArrayLike(et,_e);if(_e.type==="Buffer"&&Array.isArray(_e.data))return fromArrayLike(et,_e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes(et,_e){_e=_e||1/0;for(var tt,rt=et.length,nt=null,it=[],at=0;at<rt;++at){if(tt=et.charCodeAt(at),tt>55295&&tt<57344){if(!nt){if(tt>56319){(_e-=3)>-1&&it.push(239,191,189);continue}else if(at+1===rt){(_e-=3)>-1&&it.push(239,191,189);continue}nt=tt;continue}if(tt<56320){(_e-=3)>-1&&it.push(239,191,189),nt=tt;continue}tt=(nt-55296<<10|tt-56320)+65536}else nt&&(_e-=3)>-1&&it.push(239,191,189);if(nt=null,tt<128){if((_e-=1)<0)break;it.push(tt)}else if(tt<2048){if((_e-=2)<0)break;it.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((_e-=3)<0)break;it.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((_e-=4)<0)break;it.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return it}function byteLength(et){if(Buffer$2.isBuffer(et))return et.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(et)||et instanceof ArrayBuffer))return et.byteLength;typeof et!="string"&&(et=""+et);var _e=et.length;return _e===0?0:utf8ToBytes(et).length}function blitBuffer(et,_e,tt,rt){for(var nt=0;nt<rt&&!(nt+tt>=_e.length||nt>=et.length);++nt)_e[nt+tt]=et[nt];return nt}function utf8Write(et,_e,tt,rt){return blitBuffer(utf8ToBytes(_e,et.length-tt),et,tt,rt)}function from$1(et,_e,tt,rt){if(typeof _e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&_e instanceof ArrayBuffer?fromArrayBuffer(et,_e,tt,rt):typeof _e=="string"?fromString(et,_e):fromObject(et,_e)}Buffer$2.prototype.write=function et(_e,tt,rt){tt===void 0?(rt=this.length,tt=0):rt===void 0&&typeof tt=="string"?(rt=this.length,tt=0):isFinite(tt)&&(tt=tt|0,isFinite(rt)?rt=rt|0:rt=void 0);var nt=this.length-tt;if((rt===void 0||rt>nt)&&(rt=nt),_e.length>0&&(rt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,_e,tt,rt)};Buffer$2.prototype.slice=function et(_e,tt){var rt=this.length;_e=~~_e,tt=tt===void 0?rt:~~tt,_e<0?(_e+=rt,_e<0&&(_e=0)):_e>rt&&(_e=rt),tt<0?(tt+=rt,tt<0&&(tt=0)):tt>rt&&(tt=rt),tt<_e&&(tt=_e);var nt;if(Buffer$2.TYPED_ARRAY_SUPPORT)nt=this.subarray(_e,tt),nt.__proto__=Buffer$2.prototype;else{var it=tt-_e;nt=new Buffer$2(it,void 0);for(var at=0;at<it;++at)nt[at]=this[at+_e]}return nt};Buffer$2.prototype.copy=function et(_e,tt,rt,nt){if(rt||(rt=0),!nt&&nt!==0&&(nt=this.length),tt>=_e.length&&(tt=_e.length),tt||(tt=0),nt>0&&nt<rt&&(nt=rt),nt===rt||_e.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(rt<0||rt>=this.length)throw new RangeError("sourceStart out of bounds");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),_e.length-tt<nt-rt&&(nt=_e.length-tt+rt);var it=nt-rt,at;if(this===_e&&rt<tt&&tt<nt)for(at=it-1;at>=0;--at)_e[at+tt]=this[at+rt];else if(it<1e3||!Buffer$2.TYPED_ARRAY_SUPPORT)for(at=0;at<it;++at)_e[at+tt]=this[at+rt];else Uint8Array.prototype.set.call(_e,this.subarray(rt,rt+it),tt);return it};Buffer$2.prototype.fill=function et(_e,tt,rt){if(typeof _e=="string"){if(typeof tt=="string"?(tt=0,rt=this.length):typeof rt=="string"&&(rt=this.length),_e.length===1){var nt=_e.charCodeAt(0);nt<256&&(_e=nt)}}else typeof _e=="number"&&(_e=_e&255);if(tt<0||this.length<tt||this.length<rt)throw new RangeError("Out of range index");if(rt<=tt)return this;tt=tt>>>0,rt=rt===void 0?this.length:rt>>>0,_e||(_e=0);var it;if(typeof _e=="number")for(it=tt;it<rt;++it)this[it]=_e;else{var at=Buffer$2.isBuffer(_e)?_e:new Buffer$2(_e),st=at.length;for(it=0;it<rt-tt;++it)this[it+tt]=at[it%st]}return this};Buffer$2.concat=function et(_e,tt){if(!isArray$1(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return createBuffer(null,0);var rt;if(tt===void 0)for(tt=0,rt=0;rt<_e.length;++rt)tt+=_e[rt].length;var nt=allocUnsafe(null,tt),it=0;for(rt=0;rt<_e.length;++rt){var at=_e[rt];if(!Buffer$2.isBuffer(at))throw new TypeError('"list" argument must be an Array of Buffers');at.copy(nt,it),it+=at.length}return nt};Buffer$2.byteLength=byteLength;Buffer$2.prototype._isBuffer=!0;Buffer$2.isBuffer=function et(_e){return!!(_e!=null&&_e._isBuffer)};typedarrayBuffer.alloc=function(et){var _e=new Buffer$2(et);return _e.fill(0),_e};typedarrayBuffer.from=function(et){return new Buffer$2(et)};var utils$1={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function et(_e){if(!_e)throw new Error('"version" cannot be null or undefined');if(_e<1||_e>40)throw new Error('"version" should be in range from 1 to 40');return _e*4+17};utils$1.getSymbolTotalCodewords=function et(_e){return CODEWORDS_COUNT[_e]};utils$1.getBCHDigit=function(et){for(var _e=0;et!==0;)_e++,et>>>=1;return _e};utils$1.setToSJISFunction=function et(_e){if(typeof _e!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=_e};utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"};utils$1.toSJIS=function et(_e){return toSJISFunction(_e)};var errorCorrectionLevel={};(function(et){et.L={bit:1},et.M={bit:0},et.Q={bit:3},et.H={bit:2};function _e(tt){if(typeof tt!="string")throw new Error("Param is not a string");var rt=tt.toLowerCase();switch(rt){case"l":case"low":return et.L;case"m":case"medium":return et.M;case"q":case"quartile":return et.Q;case"h":case"high":return et.H;default:throw new Error("Unknown EC Level: "+tt)}}et.isValid=function(rt){return rt&&typeof rt.bit<"u"&&rt.bit>=0&&rt.bit<4},et.from=function(rt,nt){if(et.isValid(rt))return rt;try{return _e(rt)}catch{return nt}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(et){var _e=Math.floor(et/8);return(this.buffer[_e]>>>7-et%8&1)===1},put:function(et,_e){for(var tt=0;tt<_e;tt++)this.putBit((et>>>_e-tt-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(et){var _e=Math.floor(this.length/8);this.buffer.length<=_e&&this.buffer.push(0),et&&(this.buffer[_e]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(et){if(!et||et<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=et,this.data=BufferUtil$4.alloc(et*et),this.reservedBit=BufferUtil$4.alloc(et*et)}BitMatrix$1.prototype.set=function(et,_e,tt,rt){var nt=et*this.size+_e;this.data[nt]=tt,rt&&(this.reservedBit[nt]=!0)};BitMatrix$1.prototype.get=function(et,_e){return this.data[et*this.size+_e]};BitMatrix$1.prototype.xor=function(et,_e,tt){this.data[et*this.size+_e]^=tt};BitMatrix$1.prototype.isReserved=function(et,_e){return this.reservedBit[et*this.size+_e]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(et){var _e=utils$1.getSymbolSize;et.getRowColCoords=function(rt){if(rt===1)return[];for(var nt=Math.floor(rt/7)+2,it=_e(rt),at=it===145?26:Math.ceil((it-13)/(2*nt-2))*2,st=[it-7],ot=1;ot<nt-1;ot++)st[ot]=st[ot-1]-at;return st.push(6),st.reverse()},et.getPositions=function(rt){for(var nt=[],it=et.getRowColCoords(rt),at=it.length,st=0;st<at;st++)for(var ot=0;ot<at;ot++)st===0&&ot===0||st===0&&ot===at-1||st===at-1&&ot===0||nt.push([it[st],it[ot]]);return nt}})(alignmentPattern);var finderPattern={},getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function et(_e){var tt=getSymbolSize(_e);return[[0,0],[tt-FINDER_PATTERN_SIZE,0],[0,tt-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(et){et.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var _e={N1:3,N2:3,N3:40,N4:10};et.isValid=function(nt){return nt!=null&&nt!==""&&!isNaN(nt)&&nt>=0&&nt<=7},et.from=function(nt){return et.isValid(nt)?parseInt(nt,10):void 0},et.getPenaltyN1=function(nt){for(var it=nt.size,at=0,st=0,ot=0,ct=null,lt=null,ut=0;ut<it;ut++){st=ot=0,ct=lt=null;for(var dt=0;dt<it;dt++){var mt=nt.get(ut,dt);mt===ct?st++:(st>=5&&(at+=_e.N1+(st-5)),ct=mt,st=1),mt=nt.get(dt,ut),mt===lt?ot++:(ot>=5&&(at+=_e.N1+(ot-5)),lt=mt,ot=1)}st>=5&&(at+=_e.N1+(st-5)),ot>=5&&(at+=_e.N1+(ot-5))}return at},et.getPenaltyN2=function(nt){for(var it=nt.size,at=0,st=0;st<it-1;st++)for(var ot=0;ot<it-1;ot++){var ct=nt.get(st,ot)+nt.get(st,ot+1)+nt.get(st+1,ot)+nt.get(st+1,ot+1);(ct===4||ct===0)&&at++}return at*_e.N2},et.getPenaltyN3=function(nt){for(var it=nt.size,at=0,st=0,ot=0,ct=0;ct<it;ct++){st=ot=0;for(var lt=0;lt<it;lt++)st=st<<1&2047|nt.get(ct,lt),lt>=10&&(st===1488||st===93)&&at++,ot=ot<<1&2047|nt.get(lt,ct),lt>=10&&(ot===1488||ot===93)&&at++}return at*_e.N3},et.getPenaltyN4=function(nt){for(var it=0,at=nt.data.length,st=0;st<at;st++)it+=nt.data[st];var ot=Math.abs(Math.ceil(it*100/at/5)-10);return ot*_e.N4};function tt(rt,nt,it){switch(rt){case et.Patterns.PATTERN000:return(nt+it)%2===0;case et.Patterns.PATTERN001:return nt%2===0;case et.Patterns.PATTERN010:return it%3===0;case et.Patterns.PATTERN011:return(nt+it)%3===0;case et.Patterns.PATTERN100:return(Math.floor(nt/2)+Math.floor(it/3))%2===0;case et.Patterns.PATTERN101:return nt*it%2+nt*it%3===0;case et.Patterns.PATTERN110:return(nt*it%2+nt*it%3)%2===0;case et.Patterns.PATTERN111:return(nt*it%3+(nt+it)%2)%2===0;default:throw new Error("bad maskPattern:"+rt)}}et.applyMask=function(nt,it){for(var at=it.size,st=0;st<at;st++)for(var ot=0;ot<at;ot++)it.isReserved(ot,st)||it.xor(ot,st,tt(nt,ot,st))},et.getBestMask=function(nt,it){for(var at=Object.keys(et.Patterns).length,st=0,ot=1/0,ct=0;ct<at;ct++){it(ct),et.applyMask(ct,nt);var lt=et.getPenaltyN1(nt)+et.getPenaltyN2(nt)+et.getPenaltyN3(nt)+et.getPenaltyN4(nt);et.applyMask(ct,nt),lt<ot&&(ot=lt,st=ct)}return st}})(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function et(_e,tt){switch(tt){case ECLevel$1.L:return EC_BLOCKS_TABLE[(_e-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(_e-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(_e-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(_e-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function et(_e,tt){switch(tt){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(_e-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(_e-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(_e-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(_e-1)*4+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);(function et(){for(var _e=1,tt=0;tt<255;tt++)EXP_TABLE[tt]=_e,LOG_TABLE[_e]=tt,_e<<=1,_e&256&&(_e^=285);for(tt=255;tt<512;tt++)EXP_TABLE[tt]=EXP_TABLE[tt-255]})();galoisField.log=function et(_e){if(_e<1)throw new Error("log("+_e+")");return LOG_TABLE[_e]};galoisField.exp=function et(_e){return EXP_TABLE[_e]};galoisField.mul=function et(_e,tt){return _e===0||tt===0?0:EXP_TABLE[LOG_TABLE[_e]+LOG_TABLE[tt]]};(function(et){var _e=typedarrayBuffer,tt=galoisField;et.mul=function(nt,it){for(var at=_e.alloc(nt.length+it.length-1),st=0;st<nt.length;st++)for(var ot=0;ot<it.length;ot++)at[st+ot]^=tt.mul(nt[st],it[ot]);return at},et.mod=function(nt,it){for(var at=_e.from(nt);at.length-it.length>=0;){for(var st=at[0],ot=0;ot<it.length;ot++)at[ot]^=tt.mul(it[ot],st);for(var ct=0;ct<at.length&&at[ct]===0;)ct++;at=at.slice(ct)}return at},et.generateECPolynomial=function(nt){for(var it=_e.from([1]),at=0;at<nt;at++)it=et.mul(it,[1,tt.exp(at)]);return it}})(polynomial);var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(et){var _e=base64Js,tt=ieee754,rt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;et.Buffer=st,et.SlowBuffer=wt,et.INSPECT_MAX_BYTES=50;var nt=2147483647;et.kMaxLength=nt,st.TYPED_ARRAY_SUPPORT=it(),!st.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{var er=new Uint8Array(1),Ut={foo:function(){return 42}};return Object.setPrototypeOf(Ut,Uint8Array.prototype),Object.setPrototypeOf(er,Ut),er.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.buffer}}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.byteOffset}});function at(er){if(er>nt)throw new RangeError('The value "'+er+'" is invalid for option "size"');var Ut=new Uint8Array(er);return Object.setPrototypeOf(Ut,st.prototype),Ut}function st(er,Ut,zt){if(typeof er=="number"){if(typeof Ut=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ut(er)}return ot(er,Ut,zt)}st.poolSize=8192;function ot(er,Ut,zt){if(typeof er=="string")return dt(er,Ut);if(ArrayBuffer.isView(er))return gt(er);if(er==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof er);if(sr(er,ArrayBuffer)||er&&sr(er.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sr(er,SharedArrayBuffer)||er&&sr(er.buffer,SharedArrayBuffer)))return bt(er,Ut,zt);if(typeof er=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Jt=er.valueOf&&er.valueOf();if(Jt!=null&&Jt!==er)return st.from(Jt,Ut,zt);var nr=ht(er);if(nr)return nr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof er[Symbol.toPrimitive]=="function")return st.from(er[Symbol.toPrimitive]("string"),Ut,zt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof er)}st.from=function(er,Ut,zt){return ot(er,Ut,zt)},Object.setPrototypeOf(st.prototype,Uint8Array.prototype),Object.setPrototypeOf(st,Uint8Array);function ct(er){if(typeof er!="number")throw new TypeError('"size" argument must be of type number');if(er<0)throw new RangeError('The value "'+er+'" is invalid for option "size"')}function lt(er,Ut,zt){return ct(er),er<=0?at(er):Ut!==void 0?typeof zt=="string"?at(er).fill(Ut,zt):at(er).fill(Ut):at(er)}st.alloc=function(er,Ut,zt){return lt(er,Ut,zt)};function ut(er){return ct(er),at(er<0?0:yt(er)|0)}st.allocUnsafe=function(er){return ut(er)},st.allocUnsafeSlow=function(er){return ut(er)};function dt(er,Ut){if((typeof Ut!="string"||Ut==="")&&(Ut="utf8"),!st.isEncoding(Ut))throw new TypeError("Unknown encoding: "+Ut);var zt=xt(er,Ut)|0,Jt=at(zt),nr=Jt.write(er,Ut);return nr!==zt&&(Jt=Jt.slice(0,nr)),Jt}function mt(er){for(var Ut=er.length<0?0:yt(er.length)|0,zt=at(Ut),Jt=0;Jt<Ut;Jt+=1)zt[Jt]=er[Jt]&255;return zt}function gt(er){if(sr(er,Uint8Array)){var Ut=new Uint8Array(er);return bt(Ut.buffer,Ut.byteOffset,Ut.byteLength)}return mt(er)}function bt(er,Ut,zt){if(Ut<0||er.byteLength<Ut)throw new RangeError('"offset" is outside of buffer bounds');if(er.byteLength<Ut+(zt||0))throw new RangeError('"length" is outside of buffer bounds');var Jt;return Ut===void 0&&zt===void 0?Jt=new Uint8Array(er):zt===void 0?Jt=new Uint8Array(er,Ut):Jt=new Uint8Array(er,Ut,zt),Object.setPrototypeOf(Jt,st.prototype),Jt}function ht(er){if(st.isBuffer(er)){var Ut=yt(er.length)|0,zt=at(Ut);return zt.length===0||er.copy(zt,0,0,Ut),zt}if(er.length!==void 0)return typeof er.length!="number"||ir(er.length)?at(0):mt(er);if(er.type==="Buffer"&&Array.isArray(er.data))return mt(er.data)}function yt(er){if(er>=nt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt.toString(16)+" bytes");return er|0}function wt(er){return+er!=er&&(er=0),st.alloc(+er)}st.isBuffer=function(Ut){return Ut!=null&&Ut._isBuffer===!0&&Ut!==st.prototype},st.compare=function(Ut,zt){if(sr(Ut,Uint8Array)&&(Ut=st.from(Ut,Ut.offset,Ut.byteLength)),sr(zt,Uint8Array)&&(zt=st.from(zt,zt.offset,zt.byteLength)),!st.isBuffer(Ut)||!st.isBuffer(zt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ut===zt)return 0;for(var Jt=Ut.length,nr=zt.length,ur=0,pr=Math.min(Jt,nr);ur<pr;++ur)if(Ut[ur]!==zt[ur]){Jt=Ut[ur],nr=zt[ur];break}return Jt<nr?-1:nr<Jt?1:0},st.isEncoding=function(Ut){switch(String(Ut).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(Ut,zt){if(!Array.isArray(Ut))throw new TypeError('"list" argument must be an Array of Buffers');if(Ut.length===0)return st.alloc(0);var Jt;if(zt===void 0)for(zt=0,Jt=0;Jt<Ut.length;++Jt)zt+=Ut[Jt].length;var nr=st.allocUnsafe(zt),ur=0;for(Jt=0;Jt<Ut.length;++Jt){var pr=Ut[Jt];if(sr(pr,Uint8Array))ur+pr.length>nr.length?st.from(pr).copy(nr,ur):Uint8Array.prototype.set.call(nr,pr,ur);else if(st.isBuffer(pr))pr.copy(nr,ur);else throw new TypeError('"list" argument must be an Array of Buffers');ur+=pr.length}return nr};function xt(er,Ut){if(st.isBuffer(er))return er.length;if(ArrayBuffer.isView(er)||sr(er,ArrayBuffer))return er.byteLength;if(typeof er!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof er);var zt=er.length,Jt=arguments.length>2&&arguments[2]===!0;if(!Jt&&zt===0)return 0;for(var nr=!1;;)switch(Ut){case"ascii":case"latin1":case"binary":return zt;case"utf8":case"utf-8":return Xt(er).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zt*2;case"hex":return zt>>>1;case"base64":return Qt(er).length;default:if(nr)return Jt?-1:Xt(er).length;Ut=(""+Ut).toLowerCase(),nr=!0}}st.byteLength=xt;function At(er,Ut,zt){var Jt=!1;if((Ut===void 0||Ut<0)&&(Ut=0),Ut>this.length||((zt===void 0||zt>this.length)&&(zt=this.length),zt<=0)||(zt>>>=0,Ut>>>=0,zt<=Ut))return"";for(er||(er="utf8");;)switch(er){case"hex":return St(this,Ut,zt);case"utf8":case"utf-8":return vt(this,Ut,zt);case"ascii":return Nt(this,Ut,zt);case"latin1":case"binary":return $t(this,Ut,zt);case"base64":return Ct(this,Ut,zt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,Ut,zt);default:if(Jt)throw new TypeError("Unknown encoding: "+er);er=(er+"").toLowerCase(),Jt=!0}}st.prototype._isBuffer=!0;function kt(er,Ut,zt){var Jt=er[Ut];er[Ut]=er[zt],er[zt]=Jt}st.prototype.swap16=function(){var Ut=this.length;if(Ut%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var zt=0;zt<Ut;zt+=2)kt(this,zt,zt+1);return this},st.prototype.swap32=function(){var Ut=this.length;if(Ut%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var zt=0;zt<Ut;zt+=4)kt(this,zt,zt+3),kt(this,zt+1,zt+2);return this},st.prototype.swap64=function(){var Ut=this.length;if(Ut%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var zt=0;zt<Ut;zt+=8)kt(this,zt,zt+7),kt(this,zt+1,zt+6),kt(this,zt+2,zt+5),kt(this,zt+3,zt+4);return this},st.prototype.toString=function(){var Ut=this.length;return Ut===0?"":arguments.length===0?vt(this,0,Ut):At.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(Ut){if(!st.isBuffer(Ut))throw new TypeError("Argument must be a Buffer");return this===Ut?!0:st.compare(this,Ut)===0},st.prototype.inspect=function(){var Ut="",zt=et.INSPECT_MAX_BYTES;return Ut=this.toString("hex",0,zt).replace(/(.{2})/g,"$1 ").trim(),this.length>zt&&(Ut+=" ... "),"<Buffer "+Ut+">"},rt&&(st.prototype[rt]=st.prototype.inspect),st.prototype.compare=function(Ut,zt,Jt,nr,ur){if(sr(Ut,Uint8Array)&&(Ut=st.from(Ut,Ut.offset,Ut.byteLength)),!st.isBuffer(Ut))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ut);if(zt===void 0&&(zt=0),Jt===void 0&&(Jt=Ut?Ut.length:0),nr===void 0&&(nr=0),ur===void 0&&(ur=this.length),zt<0||Jt>Ut.length||nr<0||ur>this.length)throw new RangeError("out of range index");if(nr>=ur&&zt>=Jt)return 0;if(nr>=ur)return-1;if(zt>=Jt)return 1;if(zt>>>=0,Jt>>>=0,nr>>>=0,ur>>>=0,this===Ut)return 0;for(var pr=ur-nr,mr=Jt-zt,yr=Math.min(pr,mr),Er=this.slice(nr,ur),gr=Ut.slice(zt,Jt),Gt=0;Gt<yr;++Gt)if(Er[Gt]!==gr[Gt]){pr=Er[Gt],mr=gr[Gt];break}return pr<mr?-1:mr<pr?1:0};function Ot(er,Ut,zt,Jt,nr){if(er.length===0)return-1;if(typeof zt=="string"?(Jt=zt,zt=0):zt>2147483647?zt=2147483647:zt<-2147483648&&(zt=-2147483648),zt=+zt,ir(zt)&&(zt=nr?0:er.length-1),zt<0&&(zt=er.length+zt),zt>=er.length){if(nr)return-1;zt=er.length-1}else if(zt<0)if(nr)zt=0;else return-1;if(typeof Ut=="string"&&(Ut=st.from(Ut,Jt)),st.isBuffer(Ut))return Ut.length===0?-1:Wt(er,Ut,zt,Jt,nr);if(typeof Ut=="number")return Ut=Ut&255,typeof Uint8Array.prototype.indexOf=="function"?nr?Uint8Array.prototype.indexOf.call(er,Ut,zt):Uint8Array.prototype.lastIndexOf.call(er,Ut,zt):Wt(er,[Ut],zt,Jt,nr);throw new TypeError("val must be string, number or Buffer")}function Wt(er,Ut,zt,Jt,nr){var ur=1,pr=er.length,mr=Ut.length;if(Jt!==void 0&&(Jt=String(Jt).toLowerCase(),Jt==="ucs2"||Jt==="ucs-2"||Jt==="utf16le"||Jt==="utf-16le")){if(er.length<2||Ut.length<2)return-1;ur=2,pr/=2,mr/=2,zt/=2}function yr(jt,tr){return ur===1?jt[tr]:jt.readUInt16BE(tr*ur)}var Er;if(nr){var gr=-1;for(Er=zt;Er<pr;Er++)if(yr(er,Er)===yr(Ut,gr===-1?0:Er-gr)){if(gr===-1&&(gr=Er),Er-gr+1===mr)return gr*ur}else gr!==-1&&(Er-=Er-gr),gr=-1}else for(zt+mr>pr&&(zt=pr-mr),Er=zt;Er>=0;Er--){for(var Gt=!0,Ft=0;Ft<mr;Ft++)if(yr(er,Er+Ft)!==yr(Ut,Ft)){Gt=!1;break}if(Gt)return Er}return-1}st.prototype.includes=function(Ut,zt,Jt){return this.indexOf(Ut,zt,Jt)!==-1},st.prototype.indexOf=function(Ut,zt,Jt){return Ot(this,Ut,zt,Jt,!0)},st.prototype.lastIndexOf=function(Ut,zt,Jt){return Ot(this,Ut,zt,Jt,!1)};function Ht(er,Ut,zt,Jt){zt=Number(zt)||0;var nr=er.length-zt;Jt?(Jt=Number(Jt),Jt>nr&&(Jt=nr)):Jt=nr;var ur=Ut.length;Jt>ur/2&&(Jt=ur/2);for(var pr=0;pr<Jt;++pr){var mr=parseInt(Ut.substr(pr*2,2),16);if(ir(mr))return pr;er[zt+pr]=mr}return pr}function Zt(er,Ut,zt,Jt){return Kt(Xt(Ut,er.length-zt),er,zt,Jt)}function Lt(er,Ut,zt,Jt){return Kt(rr(Ut),er,zt,Jt)}function Et(er,Ut,zt,Jt){return Kt(Qt(Ut),er,zt,Jt)}function It(er,Ut,zt,Jt){return Kt(lr(Ut,er.length-zt),er,zt,Jt)}st.prototype.write=function(Ut,zt,Jt,nr){if(zt===void 0)nr="utf8",Jt=this.length,zt=0;else if(Jt===void 0&&typeof zt=="string")nr=zt,Jt=this.length,zt=0;else if(isFinite(zt))zt=zt>>>0,isFinite(Jt)?(Jt=Jt>>>0,nr===void 0&&(nr="utf8")):(nr=Jt,Jt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ur=this.length-zt;if((Jt===void 0||Jt>ur)&&(Jt=ur),Ut.length>0&&(Jt<0||zt<0)||zt>this.length)throw new RangeError("Attempt to write outside buffer bounds");nr||(nr="utf8");for(var pr=!1;;)switch(nr){case"hex":return Ht(this,Ut,zt,Jt);case"utf8":case"utf-8":return Zt(this,Ut,zt,Jt);case"ascii":case"latin1":case"binary":return Lt(this,Ut,zt,Jt);case"base64":return Et(this,Ut,zt,Jt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return It(this,Ut,zt,Jt);default:if(pr)throw new TypeError("Unknown encoding: "+nr);nr=(""+nr).toLowerCase(),pr=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ct(er,Ut,zt){return Ut===0&&zt===er.length?_e.fromByteArray(er):_e.fromByteArray(er.slice(Ut,zt))}function vt(er,Ut,zt){zt=Math.min(er.length,zt);for(var Jt=[],nr=Ut;nr<zt;){var ur=er[nr],pr=null,mr=ur>239?4:ur>223?3:ur>191?2:1;if(nr+mr<=zt){var yr,Er,gr,Gt;switch(mr){case 1:ur<128&&(pr=ur);break;case 2:yr=er[nr+1],(yr&192)===128&&(Gt=(ur&31)<<6|yr&63,Gt>127&&(pr=Gt));break;case 3:yr=er[nr+1],Er=er[nr+2],(yr&192)===128&&(Er&192)===128&&(Gt=(ur&15)<<12|(yr&63)<<6|Er&63,Gt>2047&&(Gt<55296||Gt>57343)&&(pr=Gt));break;case 4:yr=er[nr+1],Er=er[nr+2],gr=er[nr+3],(yr&192)===128&&(Er&192)===128&&(gr&192)===128&&(Gt=(ur&15)<<18|(yr&63)<<12|(Er&63)<<6|gr&63,Gt>65535&&Gt<1114112&&(pr=Gt))}}pr===null?(pr=65533,mr=1):pr>65535&&(pr-=65536,Jt.push(pr>>>10&1023|55296),pr=56320|pr&1023),Jt.push(pr),nr+=mr}return Mt(Jt)}var Tt=4096;function Mt(er){var Ut=er.length;if(Ut<=Tt)return String.fromCharCode.apply(String,er);for(var zt="",Jt=0;Jt<Ut;)zt+=String.fromCharCode.apply(String,er.slice(Jt,Jt+=Tt));return zt}function Nt(er,Ut,zt){var Jt="";zt=Math.min(er.length,zt);for(var nr=Ut;nr<zt;++nr)Jt+=String.fromCharCode(er[nr]&127);return Jt}function $t(er,Ut,zt){var Jt="";zt=Math.min(er.length,zt);for(var nr=Ut;nr<zt;++nr)Jt+=String.fromCharCode(er[nr]);return Jt}function St(er,Ut,zt){var Jt=er.length;(!Ut||Ut<0)&&(Ut=0),(!zt||zt<0||zt>Jt)&&(zt=Jt);for(var nr="",ur=Ut;ur<zt;++ur)nr+=hr[er[ur]];return nr}function Dt(er,Ut,zt){for(var Jt=er.slice(Ut,zt),nr="",ur=0;ur<Jt.length-1;ur+=2)nr+=String.fromCharCode(Jt[ur]+Jt[ur+1]*256);return nr}st.prototype.slice=function(Ut,zt){var Jt=this.length;Ut=~~Ut,zt=zt===void 0?Jt:~~zt,Ut<0?(Ut+=Jt,Ut<0&&(Ut=0)):Ut>Jt&&(Ut=Jt),zt<0?(zt+=Jt,zt<0&&(zt=0)):zt>Jt&&(zt=Jt),zt<Ut&&(zt=Ut);var nr=this.subarray(Ut,zt);return Object.setPrototypeOf(nr,st.prototype),nr};function Rt(er,Ut,zt){if(er%1!==0||er<0)throw new RangeError("offset is not uint");if(er+Ut>zt)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(Ut,zt,Jt){Ut=Ut>>>0,zt=zt>>>0,Jt||Rt(Ut,zt,this.length);for(var nr=this[Ut],ur=1,pr=0;++pr<zt&&(ur*=256);)nr+=this[Ut+pr]*ur;return nr},st.prototype.readUintBE=st.prototype.readUIntBE=function(Ut,zt,Jt){Ut=Ut>>>0,zt=zt>>>0,Jt||Rt(Ut,zt,this.length);for(var nr=this[Ut+--zt],ur=1;zt>0&&(ur*=256);)nr+=this[Ut+--zt]*ur;return nr},st.prototype.readUint8=st.prototype.readUInt8=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,1,this.length),this[Ut]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,2,this.length),this[Ut]|this[Ut+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,2,this.length),this[Ut]<<8|this[Ut+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,4,this.length),(this[Ut]|this[Ut+1]<<8|this[Ut+2]<<16)+this[Ut+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,4,this.length),this[Ut]*16777216+(this[Ut+1]<<16|this[Ut+2]<<8|this[Ut+3])},st.prototype.readIntLE=function(Ut,zt,Jt){Ut=Ut>>>0,zt=zt>>>0,Jt||Rt(Ut,zt,this.length);for(var nr=this[Ut],ur=1,pr=0;++pr<zt&&(ur*=256);)nr+=this[Ut+pr]*ur;return ur*=128,nr>=ur&&(nr-=Math.pow(2,8*zt)),nr},st.prototype.readIntBE=function(Ut,zt,Jt){Ut=Ut>>>0,zt=zt>>>0,Jt||Rt(Ut,zt,this.length);for(var nr=zt,ur=1,pr=this[Ut+--nr];nr>0&&(ur*=256);)pr+=this[Ut+--nr]*ur;return ur*=128,pr>=ur&&(pr-=Math.pow(2,8*zt)),pr},st.prototype.readInt8=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,1,this.length),this[Ut]&128?(255-this[Ut]+1)*-1:this[Ut]},st.prototype.readInt16LE=function(Ut,zt){Ut=Ut>>>0,zt||Rt(Ut,2,this.length);var Jt=this[Ut]|this[Ut+1]<<8;return Jt&32768?Jt|4294901760:Jt},st.prototype.readInt16BE=function(Ut,zt){Ut=Ut>>>0,zt||Rt(Ut,2,this.length);var Jt=this[Ut+1]|this[Ut]<<8;return Jt&32768?Jt|4294901760:Jt},st.prototype.readInt32LE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,4,this.length),this[Ut]|this[Ut+1]<<8|this[Ut+2]<<16|this[Ut+3]<<24},st.prototype.readInt32BE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,4,this.length),this[Ut]<<24|this[Ut+1]<<16|this[Ut+2]<<8|this[Ut+3]},st.prototype.readFloatLE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,4,this.length),tt.read(this,Ut,!0,23,4)},st.prototype.readFloatBE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,4,this.length),tt.read(this,Ut,!1,23,4)},st.prototype.readDoubleLE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,8,this.length),tt.read(this,Ut,!0,52,8)},st.prototype.readDoubleBE=function(Ut,zt){return Ut=Ut>>>0,zt||Rt(Ut,8,this.length),tt.read(this,Ut,!1,52,8)};function _t(er,Ut,zt,Jt,nr,ur){if(!st.isBuffer(er))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ut>nr||Ut<ur)throw new RangeError('"value" argument is out of bounds');if(zt+Jt>er.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(Ut,zt,Jt,nr){if(Ut=+Ut,zt=zt>>>0,Jt=Jt>>>0,!nr){var ur=Math.pow(2,8*Jt)-1;_t(this,Ut,zt,Jt,ur,0)}var pr=1,mr=0;for(this[zt]=Ut&255;++mr<Jt&&(pr*=256);)this[zt+mr]=Ut/pr&255;return zt+Jt},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(Ut,zt,Jt,nr){if(Ut=+Ut,zt=zt>>>0,Jt=Jt>>>0,!nr){var ur=Math.pow(2,8*Jt)-1;_t(this,Ut,zt,Jt,ur,0)}var pr=Jt-1,mr=1;for(this[zt+pr]=Ut&255;--pr>=0&&(mr*=256);)this[zt+pr]=Ut/mr&255;return zt+Jt},st.prototype.writeUint8=st.prototype.writeUInt8=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,1,255,0),this[zt]=Ut&255,zt+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,2,65535,0),this[zt]=Ut&255,this[zt+1]=Ut>>>8,zt+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,2,65535,0),this[zt]=Ut>>>8,this[zt+1]=Ut&255,zt+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,4,4294967295,0),this[zt+3]=Ut>>>24,this[zt+2]=Ut>>>16,this[zt+1]=Ut>>>8,this[zt]=Ut&255,zt+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,4,4294967295,0),this[zt]=Ut>>>24,this[zt+1]=Ut>>>16,this[zt+2]=Ut>>>8,this[zt+3]=Ut&255,zt+4},st.prototype.writeIntLE=function(Ut,zt,Jt,nr){if(Ut=+Ut,zt=zt>>>0,!nr){var ur=Math.pow(2,8*Jt-1);_t(this,Ut,zt,Jt,ur-1,-ur)}var pr=0,mr=1,yr=0;for(this[zt]=Ut&255;++pr<Jt&&(mr*=256);)Ut<0&&yr===0&&this[zt+pr-1]!==0&&(yr=1),this[zt+pr]=(Ut/mr>>0)-yr&255;return zt+Jt},st.prototype.writeIntBE=function(Ut,zt,Jt,nr){if(Ut=+Ut,zt=zt>>>0,!nr){var ur=Math.pow(2,8*Jt-1);_t(this,Ut,zt,Jt,ur-1,-ur)}var pr=Jt-1,mr=1,yr=0;for(this[zt+pr]=Ut&255;--pr>=0&&(mr*=256);)Ut<0&&yr===0&&this[zt+pr+1]!==0&&(yr=1),this[zt+pr]=(Ut/mr>>0)-yr&255;return zt+Jt},st.prototype.writeInt8=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,1,127,-128),Ut<0&&(Ut=255+Ut+1),this[zt]=Ut&255,zt+1},st.prototype.writeInt16LE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,2,32767,-32768),this[zt]=Ut&255,this[zt+1]=Ut>>>8,zt+2},st.prototype.writeInt16BE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,2,32767,-32768),this[zt]=Ut>>>8,this[zt+1]=Ut&255,zt+2},st.prototype.writeInt32LE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,4,2147483647,-2147483648),this[zt]=Ut&255,this[zt+1]=Ut>>>8,this[zt+2]=Ut>>>16,this[zt+3]=Ut>>>24,zt+4},st.prototype.writeInt32BE=function(Ut,zt,Jt){return Ut=+Ut,zt=zt>>>0,Jt||_t(this,Ut,zt,4,2147483647,-2147483648),Ut<0&&(Ut=4294967295+Ut+1),this[zt]=Ut>>>24,this[zt+1]=Ut>>>16,this[zt+2]=Ut>>>8,this[zt+3]=Ut&255,zt+4};function Pt(er,Ut,zt,Jt,nr,ur){if(zt+Jt>er.length)throw new RangeError("Index out of range");if(zt<0)throw new RangeError("Index out of range")}function Vt(er,Ut,zt,Jt,nr){return Ut=+Ut,zt=zt>>>0,nr||Pt(er,Ut,zt,4),tt.write(er,Ut,zt,Jt,23,4),zt+4}st.prototype.writeFloatLE=function(Ut,zt,Jt){return Vt(this,Ut,zt,!0,Jt)},st.prototype.writeFloatBE=function(Ut,zt,Jt){return Vt(this,Ut,zt,!1,Jt)};function Bt(er,Ut,zt,Jt,nr){return Ut=+Ut,zt=zt>>>0,nr||Pt(er,Ut,zt,8),tt.write(er,Ut,zt,Jt,52,8),zt+8}st.prototype.writeDoubleLE=function(Ut,zt,Jt){return Bt(this,Ut,zt,!0,Jt)},st.prototype.writeDoubleBE=function(Ut,zt,Jt){return Bt(this,Ut,zt,!1,Jt)},st.prototype.copy=function(Ut,zt,Jt,nr){if(!st.isBuffer(Ut))throw new TypeError("argument should be a Buffer");if(Jt||(Jt=0),!nr&&nr!==0&&(nr=this.length),zt>=Ut.length&&(zt=Ut.length),zt||(zt=0),nr>0&&nr<Jt&&(nr=Jt),nr===Jt||Ut.length===0||this.length===0)return 0;if(zt<0)throw new RangeError("targetStart out of bounds");if(Jt<0||Jt>=this.length)throw new RangeError("Index out of range");if(nr<0)throw new RangeError("sourceEnd out of bounds");nr>this.length&&(nr=this.length),Ut.length-zt<nr-Jt&&(nr=Ut.length-zt+Jt);var ur=nr-Jt;return this===Ut&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(zt,Jt,nr):Uint8Array.prototype.set.call(Ut,this.subarray(Jt,nr),zt),ur},st.prototype.fill=function(Ut,zt,Jt,nr){if(typeof Ut=="string"){if(typeof zt=="string"?(nr=zt,zt=0,Jt=this.length):typeof Jt=="string"&&(nr=Jt,Jt=this.length),nr!==void 0&&typeof nr!="string")throw new TypeError("encoding must be a string");if(typeof nr=="string"&&!st.isEncoding(nr))throw new TypeError("Unknown encoding: "+nr);if(Ut.length===1){var ur=Ut.charCodeAt(0);(nr==="utf8"&&ur<128||nr==="latin1")&&(Ut=ur)}}else typeof Ut=="number"?Ut=Ut&255:typeof Ut=="boolean"&&(Ut=Number(Ut));if(zt<0||this.length<zt||this.length<Jt)throw new RangeError("Out of range index");if(Jt<=zt)return this;zt=zt>>>0,Jt=Jt===void 0?this.length:Jt>>>0,Ut||(Ut=0);var pr;if(typeof Ut=="number")for(pr=zt;pr<Jt;++pr)this[pr]=Ut;else{var mr=st.isBuffer(Ut)?Ut:st.from(Ut,nr),yr=mr.length;if(yr===0)throw new TypeError('The value "'+Ut+'" is invalid for argument "value"');for(pr=0;pr<Jt-zt;++pr)this[pr+zt]=mr[pr%yr]}return this};var qt=/[^+/0-9A-Za-z-_]/g;function Yt(er){if(er=er.split("=")[0],er=er.trim().replace(qt,""),er.length<2)return"";for(;er.length%4!==0;)er=er+"=";return er}function Xt(er,Ut){Ut=Ut||1/0;for(var zt,Jt=er.length,nr=null,ur=[],pr=0;pr<Jt;++pr){if(zt=er.charCodeAt(pr),zt>55295&&zt<57344){if(!nr){if(zt>56319){(Ut-=3)>-1&&ur.push(239,191,189);continue}else if(pr+1===Jt){(Ut-=3)>-1&&ur.push(239,191,189);continue}nr=zt;continue}if(zt<56320){(Ut-=3)>-1&&ur.push(239,191,189),nr=zt;continue}zt=(nr-55296<<10|zt-56320)+65536}else nr&&(Ut-=3)>-1&&ur.push(239,191,189);if(nr=null,zt<128){if((Ut-=1)<0)break;ur.push(zt)}else if(zt<2048){if((Ut-=2)<0)break;ur.push(zt>>6|192,zt&63|128)}else if(zt<65536){if((Ut-=3)<0)break;ur.push(zt>>12|224,zt>>6&63|128,zt&63|128)}else if(zt<1114112){if((Ut-=4)<0)break;ur.push(zt>>18|240,zt>>12&63|128,zt>>6&63|128,zt&63|128)}else throw new Error("Invalid code point")}return ur}function rr(er){for(var Ut=[],zt=0;zt<er.length;++zt)Ut.push(er.charCodeAt(zt)&255);return Ut}function lr(er,Ut){for(var zt,Jt,nr,ur=[],pr=0;pr<er.length&&!((Ut-=2)<0);++pr)zt=er.charCodeAt(pr),Jt=zt>>8,nr=zt%256,ur.push(nr),ur.push(Jt);return ur}function Qt(er){return _e.toByteArray(Yt(er))}function Kt(er,Ut,zt,Jt){for(var nr=0;nr<Jt&&!(nr+zt>=Ut.length||nr>=er.length);++nr)Ut[nr+zt]=er[nr];return nr}function sr(er,Ut){return er instanceof Ut||er!=null&&er.constructor!=null&&er.constructor.name!=null&&er.constructor.name===Ut.name}function ir(er){return er!==er}var hr=function(){for(var er="0123456789abcdef",Ut=new Array(256),zt=0;zt<16;++zt)for(var Jt=zt*16,nr=0;nr<16;++nr)Ut[Jt+nr]=er[zt]+er[nr];return Ut}()})(buffer);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer$1=buffer.Buffer;function ReedSolomonEncoder$1(et){this.genPoly=void 0,this.degree=et,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function et(_e){this.degree=_e,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function et(_e){if(!this.genPoly)throw new Error("Encoder not initialized");var tt=BufferUtil$2.alloc(this.degree),rt=Buffer$1.concat([_e,tt],_e.length+this.degree),nt=Polynomial.mod(rt,this.genPoly),it=this.degree-nt.length;if(it>0){var at=BufferUtil$2.alloc(this.degree);return nt.copy(at,it),at}return nt};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function et(_e){return!isNaN(_e)&&_e>=1&&_e<=40};var regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function et(_e){return TEST_KANJI.test(_e)};regex.testNumeric=function et(_e){return TEST_NUMERIC.test(_e)};regex.testAlphanumeric=function et(_e){return TEST_ALPHANUMERIC.test(_e)};(function(et){var _e=versionCheck,tt=regex;et.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},et.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},et.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},et.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},et.MIXED={bit:-1},et.getCharCountIndicator=function(it,at){if(!it.ccBits)throw new Error("Invalid mode: "+it);if(!_e.isValid(at))throw new Error("Invalid version: "+at);return at>=1&&at<10?it.ccBits[0]:at<27?it.ccBits[1]:it.ccBits[2]},et.getBestModeForData=function(it){return tt.testNumeric(it)?et.NUMERIC:tt.testAlphanumeric(it)?et.ALPHANUMERIC:tt.testKanji(it)?et.KANJI:et.BYTE},et.toString=function(it){if(it&&it.id)return it.id;throw new Error("Invalid mode")},et.isValid=function(it){return it&&it.bit&&it.ccBits};function rt(nt){if(typeof nt!="string")throw new Error("Param is not a string");var it=nt.toLowerCase();switch(it){case"numeric":return et.NUMERIC;case"alphanumeric":return et.ALPHANUMERIC;case"kanji":return et.KANJI;case"byte":return et.BYTE;default:throw new Error("Unknown mode: "+nt)}}et.from=function(it,at){if(et.isValid(it))return it;try{return rt(it)}catch{return at}}})(mode);(function(et){var _e=utils$1,tt=errorCorrectionCode,rt=errorCorrectionLevel,nt=mode,it=versionCheck,at=isarray,st=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,ot=_e.getBCHDigit(st);function ct(mt,gt,bt){for(var ht=1;ht<=40;ht++)if(gt<=et.getCapacity(ht,bt,mt))return ht}function lt(mt,gt){return nt.getCharCountIndicator(mt,gt)+4}function ut(mt,gt){var bt=0;return mt.forEach(function(ht){var yt=lt(ht.mode,gt);bt+=yt+ht.getBitsLength()}),bt}function dt(mt,gt){for(var bt=1;bt<=40;bt++){var ht=ut(mt,bt);if(ht<=et.getCapacity(bt,gt,nt.MIXED))return bt}}et.from=function(gt,bt){return it.isValid(gt)?parseInt(gt,10):bt},et.getCapacity=function(gt,bt,ht){if(!it.isValid(gt))throw new Error("Invalid QR Code version");typeof ht>"u"&&(ht=nt.BYTE);var yt=_e.getSymbolTotalCodewords(gt),wt=tt.getTotalCodewordsCount(gt,bt),xt=(yt-wt)*8;if(ht===nt.MIXED)return xt;var At=xt-lt(ht,gt);switch(ht){case nt.NUMERIC:return Math.floor(At/10*3);case nt.ALPHANUMERIC:return Math.floor(At/11*2);case nt.KANJI:return Math.floor(At/13);case nt.BYTE:default:return Math.floor(At/8)}},et.getBestVersionForData=function(gt,bt){var ht,yt=rt.from(bt,rt.M);if(at(gt)){if(gt.length>1)return dt(gt,yt);if(gt.length===0)return 1;ht=gt[0]}else ht=gt;return ct(ht.mode,ht.getLength(),yt)},et.getEncodedBits=function(gt){if(!it.isValid(gt)||gt<7)throw new Error("Invalid QR Code version");for(var bt=gt<<12;_e.getBCHDigit(bt)-ot>=0;)bt^=st<<_e.getBCHDigit(bt)-ot;return gt<<12|bt}})(version);var formatInfo={},Utils$3=utils$1,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function et(_e,tt){for(var rt=_e.bit<<3|tt,nt=rt<<10;Utils$3.getBCHDigit(nt)-G15_BCH>=0;)nt^=G15<<Utils$3.getBCHDigit(nt)-G15_BCH;return(rt<<10|nt)^G15_MASK};var segments={},Mode$4=mode;function NumericData(et){this.mode=Mode$4.NUMERIC,this.data=et.toString()}NumericData.getBitsLength=function et(_e){return 10*Math.floor(_e/3)+(_e%3?_e%3*3+1:0)};NumericData.prototype.getLength=function et(){return this.data.length};NumericData.prototype.getBitsLength=function et(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function et(_e){var tt,rt,nt;for(tt=0;tt+3<=this.data.length;tt+=3)rt=this.data.substr(tt,3),nt=parseInt(rt,10),_e.put(nt,10);var it=this.data.length-tt;it>0&&(rt=this.data.substr(tt),nt=parseInt(rt,10),_e.put(nt,it*3+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(et){this.mode=Mode$3.ALPHANUMERIC,this.data=et}AlphanumericData.getBitsLength=function et(_e){return 11*Math.floor(_e/2)+6*(_e%2)};AlphanumericData.prototype.getLength=function et(){return this.data.length};AlphanumericData.prototype.getBitsLength=function et(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function et(_e){var tt;for(tt=0;tt+2<=this.data.length;tt+=2){var rt=ALPHA_NUM_CHARS.indexOf(this.data[tt])*45;rt+=ALPHA_NUM_CHARS.indexOf(this.data[tt+1]),_e.put(rt,11)}this.data.length%2&&_e.put(ALPHA_NUM_CHARS.indexOf(this.data[tt]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(et){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(et)}ByteData.getBitsLength=function et(_e){return _e*8};ByteData.prototype.getLength=function et(){return this.data.length};ByteData.prototype.getBitsLength=function et(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(et){for(var _e=0,tt=this.data.length;_e<tt;_e++)et.put(this.data[_e],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$1;function KanjiData(et){this.mode=Mode$1.KANJI,this.data=et}KanjiData.getBitsLength=function et(_e){return _e*13};KanjiData.prototype.getLength=function et(){return this.data.length};KanjiData.prototype.getBitsLength=function et(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(et){var _e;for(_e=0;_e<this.data.length;_e++){var tt=Utils$2.toSJIS(this.data[_e]);if(tt>=33088&&tt<=40956)tt-=33088;else if(tt>=57408&&tt<=60351)tt-=49472;else throw new Error("Invalid SJIS character: "+this.data[_e]+`
Make sure your charset is UTF-8`);tt=(tt>>>8&255)*192+(tt&255),et.put(tt,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(et){var _e={single_source_shortest_paths:function(tt,rt,nt){var it={},at={};at[rt]=0;var st=_e.PriorityQueue.make();st.push(rt,0);for(var ot,ct,lt,ut,dt,mt,gt,bt,ht;!st.empty();){ot=st.pop(),ct=ot.value,ut=ot.cost,dt=tt[ct]||{};for(lt in dt)dt.hasOwnProperty(lt)&&(mt=dt[lt],gt=ut+mt,bt=at[lt],ht=typeof at[lt]>"u",(ht||bt>gt)&&(at[lt]=gt,st.push(lt,gt),it[lt]=ct))}if(typeof nt<"u"&&typeof at[nt]>"u"){var yt=["Could not find a path from ",rt," to ",nt,"."].join("");throw new Error(yt)}return it},extract_shortest_path_from_predecessor_list:function(tt,rt){for(var nt=[],it=rt;it;)nt.push(it),tt[it],it=tt[it];return nt.reverse(),nt},find_path:function(tt,rt,nt){var it=_e.single_source_shortest_paths(tt,rt,nt);return _e.extract_shortest_path_from_predecessor_list(it,nt)},PriorityQueue:{make:function(tt){var rt=_e.PriorityQueue,nt={},it;tt=tt||{};for(it in rt)rt.hasOwnProperty(it)&&(nt[it]=rt[it]);return nt.queue=[],nt.sorter=tt.sorter||rt.default_sorter,nt},default_sorter:function(tt,rt){return tt.cost-rt.cost},push:function(tt,rt){var nt={value:tt,cost:rt};this.queue.push(nt),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};et.exports=_e})(dijkstra);(function(et){var _e=mode,tt=numericData,rt=alphanumericData,nt=byteData,it=kanjiData,at=regex,st=utils$1,ot=dijkstra.exports;function ct(yt){return unescape(encodeURIComponent(yt)).length}function lt(yt,wt,xt){for(var At=[],kt;(kt=yt.exec(xt))!==null;)At.push({data:kt[0],index:kt.index,mode:wt,length:kt[0].length});return At}function ut(yt){var wt=lt(at.NUMERIC,_e.NUMERIC,yt),xt=lt(at.ALPHANUMERIC,_e.ALPHANUMERIC,yt),At,kt;st.isKanjiModeEnabled()?(At=lt(at.BYTE,_e.BYTE,yt),kt=lt(at.KANJI,_e.KANJI,yt)):(At=lt(at.BYTE_KANJI,_e.BYTE,yt),kt=[]);var Ot=wt.concat(xt,At,kt);return Ot.sort(function(Wt,Ht){return Wt.index-Ht.index}).map(function(Wt){return{data:Wt.data,mode:Wt.mode,length:Wt.length}})}function dt(yt,wt){switch(wt){case _e.NUMERIC:return tt.getBitsLength(yt);case _e.ALPHANUMERIC:return rt.getBitsLength(yt);case _e.KANJI:return it.getBitsLength(yt);case _e.BYTE:return nt.getBitsLength(yt)}}function mt(yt){return yt.reduce(function(wt,xt){var At=wt.length-1>=0?wt[wt.length-1]:null;return At&&At.mode===xt.mode?(wt[wt.length-1].data+=xt.data,wt):(wt.push(xt),wt)},[])}function gt(yt){for(var wt=[],xt=0;xt<yt.length;xt++){var At=yt[xt];switch(At.mode){case _e.NUMERIC:wt.push([At,{data:At.data,mode:_e.ALPHANUMERIC,length:At.length},{data:At.data,mode:_e.BYTE,length:At.length}]);break;case _e.ALPHANUMERIC:wt.push([At,{data:At.data,mode:_e.BYTE,length:At.length}]);break;case _e.KANJI:wt.push([At,{data:At.data,mode:_e.BYTE,length:ct(At.data)}]);break;case _e.BYTE:wt.push([{data:At.data,mode:_e.BYTE,length:ct(At.data)}])}}return wt}function bt(yt,wt){for(var xt={},At={start:{}},kt=["start"],Ot=0;Ot<yt.length;Ot++){for(var Wt=yt[Ot],Ht=[],Zt=0;Zt<Wt.length;Zt++){var Lt=Wt[Zt],Et=""+Ot+Zt;Ht.push(Et),xt[Et]={node:Lt,lastCount:0},At[Et]={};for(var It=0;It<kt.length;It++){var Ct=kt[It];xt[Ct]&&xt[Ct].node.mode===Lt.mode?(At[Ct][Et]=dt(xt[Ct].lastCount+Lt.length,Lt.mode)-dt(xt[Ct].lastCount,Lt.mode),xt[Ct].lastCount+=Lt.length):(xt[Ct]&&(xt[Ct].lastCount=Lt.length),At[Ct][Et]=dt(Lt.length,Lt.mode)+4+_e.getCharCountIndicator(Lt.mode,wt))}}kt=Ht}for(It=0;It<kt.length;It++)At[kt[It]].end=0;return{map:At,table:xt}}function ht(yt,wt){var xt,At=_e.getBestModeForData(yt);if(xt=_e.from(wt,At),xt!==_e.BYTE&&xt.bit<At.bit)throw new Error('"'+yt+'" cannot be encoded with mode '+_e.toString(xt)+`.
 Suggested mode is: `+_e.toString(At));switch(xt===_e.KANJI&&!st.isKanjiModeEnabled()&&(xt=_e.BYTE),xt){case _e.NUMERIC:return new tt(yt);case _e.ALPHANUMERIC:return new rt(yt);case _e.KANJI:return new it(yt);case _e.BYTE:return new nt(yt)}}et.fromArray=function(wt){return wt.reduce(function(xt,At){return typeof At=="string"?xt.push(ht(At,null)):At.data&&xt.push(ht(At.data,At.mode)),xt},[])},et.fromString=function(wt,xt){for(var At=ut(wt,st.isKanjiModeEnabled()),kt=gt(At),Ot=bt(kt,xt),Wt=ot.find_path(Ot.map,"start","end"),Ht=[],Zt=1;Zt<Wt.length-1;Zt++)Ht.push(Ot.table[Wt[Zt]].node);return et.fromArray(mt(Ht))},et.rawSplit=function(wt){return et.fromArray(ut(wt,st.isKanjiModeEnabled()))}})(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray=isarray;function setupFinderPattern(et,_e){for(var tt=et.size,rt=FinderPattern.getPositions(_e),nt=0;nt<rt.length;nt++)for(var it=rt[nt][0],at=rt[nt][1],st=-1;st<=7;st++)if(!(it+st<=-1||tt<=it+st))for(var ot=-1;ot<=7;ot++)at+ot<=-1||tt<=at+ot||(st>=0&&st<=6&&(ot===0||ot===6)||ot>=0&&ot<=6&&(st===0||st===6)||st>=2&&st<=4&&ot>=2&&ot<=4?et.set(it+st,at+ot,!0,!0):et.set(it+st,at+ot,!1,!0))}function setupTimingPattern(et){for(var _e=et.size,tt=8;tt<_e-8;tt++){var rt=tt%2===0;et.set(tt,6,rt,!0),et.set(6,tt,rt,!0)}}function setupAlignmentPattern(et,_e){for(var tt=AlignmentPattern.getPositions(_e),rt=0;rt<tt.length;rt++)for(var nt=tt[rt][0],it=tt[rt][1],at=-2;at<=2;at++)for(var st=-2;st<=2;st++)at===-2||at===2||st===-2||st===2||at===0&&st===0?et.set(nt+at,it+st,!0,!0):et.set(nt+at,it+st,!1,!0)}function setupVersionInfo(et,_e){for(var tt=et.size,rt=Version.getEncodedBits(_e),nt,it,at,st=0;st<18;st++)nt=Math.floor(st/3),it=st%3+tt-8-3,at=(rt>>st&1)===1,et.set(nt,it,at,!0),et.set(it,nt,at,!0)}function setupFormatInfo(et,_e,tt){var rt=et.size,nt=FormatInfo.getEncodedBits(_e,tt),it,at;for(it=0;it<15;it++)at=(nt>>it&1)===1,it<6?et.set(it,8,at,!0):it<8?et.set(it+1,8,at,!0):et.set(rt-15+it,8,at,!0),it<8?et.set(8,rt-it-1,at,!0):it<9?et.set(8,15-it-1+1,at,!0):et.set(8,15-it-1,at,!0);et.set(rt-8,8,1,!0)}function setupData(et,_e){for(var tt=et.size,rt=-1,nt=tt-1,it=7,at=0,st=tt-1;st>0;st-=2)for(st===6&&st--;;){for(var ot=0;ot<2;ot++)if(!et.isReserved(nt,st-ot)){var ct=!1;at<_e.length&&(ct=(_e[at]>>>it&1)===1),et.set(nt,st-ot,ct),it--,it===-1&&(at++,it=7)}if(nt+=rt,nt<0||tt<=nt){nt-=rt,rt=-rt;break}}}function createData(et,_e,tt){var rt=new BitBuffer;tt.forEach(function(ct){rt.put(ct.mode.bit,4),rt.put(ct.getLength(),Mode.getCharCountIndicator(ct.mode,et)),ct.write(rt)});var nt=Utils$1.getSymbolTotalCodewords(et),it=ECCode.getTotalCodewordsCount(et,_e),at=(nt-it)*8;for(rt.getLengthInBits()+4<=at&&rt.put(0,4);rt.getLengthInBits()%8!==0;)rt.putBit(0);for(var st=(at-rt.getLengthInBits())/8,ot=0;ot<st;ot++)rt.put(ot%2?17:236,8);return createCodewords(rt,et,_e)}function createCodewords(et,_e,tt){for(var rt=Utils$1.getSymbolTotalCodewords(_e),nt=ECCode.getTotalCodewordsCount(_e,tt),it=rt-nt,at=ECCode.getBlocksCount(_e,tt),st=rt%at,ot=at-st,ct=Math.floor(rt/at),lt=Math.floor(it/at),ut=lt+1,dt=ct-lt,mt=new ReedSolomonEncoder(dt),gt=0,bt=new Array(at),ht=new Array(at),yt=0,wt=BufferUtil.from(et.buffer),xt=0;xt<at;xt++){var At=xt<ot?lt:ut;bt[xt]=wt.slice(gt,gt+At),ht[xt]=mt.encode(bt[xt]),gt+=At,yt=Math.max(yt,At)}var kt=BufferUtil.alloc(rt),Ot=0,Wt,Ht;for(Wt=0;Wt<yt;Wt++)for(Ht=0;Ht<at;Ht++)Wt<bt[Ht].length&&(kt[Ot++]=bt[Ht][Wt]);for(Wt=0;Wt<dt;Wt++)for(Ht=0;Ht<at;Ht++)kt[Ot++]=ht[Ht][Wt];return kt}function createSymbol(et,_e,tt,rt){var nt;if(isArray(et))nt=Segments.fromArray(et);else if(typeof et=="string"){var it=_e;if(!it){var at=Segments.rawSplit(et);it=Version.getBestVersionForData(at,tt)}nt=Segments.fromString(et,it||40)}else throw new Error("Invalid data");var st=Version.getBestVersionForData(nt,tt);if(!st)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_e)_e=st;else if(_e<st)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+st+`.
`);var ot=createData(_e,tt,nt),ct=Utils$1.getSymbolSize(_e),lt=new BitMatrix(ct);return setupFinderPattern(lt,_e),setupTimingPattern(lt),setupAlignmentPattern(lt,_e),setupFormatInfo(lt,tt,0),_e>=7&&setupVersionInfo(lt,_e),setupData(lt,ot),isNaN(rt)&&(rt=MaskPattern.getBestMask(lt,setupFormatInfo.bind(null,lt,tt))),MaskPattern.applyMask(rt,lt),setupFormatInfo(lt,tt,rt),{modules:lt,version:_e,errorCorrectionLevel:tt,maskPattern:rt,segments:nt}}qrcode.create=function et(_e,tt){if(typeof _e>"u"||_e==="")throw new Error("No input text");var rt=ECLevel.M,nt,it;return typeof tt<"u"&&(rt=ECLevel.from(tt.errorCorrectionLevel,ECLevel.M),nt=Version.from(tt.version),it=MaskPattern.from(tt.maskPattern),tt.toSJISFunc&&Utils$1.setToSJISFunction(tt.toSJISFunc)),createSymbol(_e,nt,rt,it)};var canvas={},utils={};(function(et){function _e(tt){if(typeof tt=="number"&&(tt=tt.toString()),typeof tt!="string")throw new Error("Color should be defined as hex string");var rt=tt.slice().replace("#","").split("");if(rt.length<3||rt.length===5||rt.length>8)throw new Error("Invalid hex color: "+tt);(rt.length===3||rt.length===4)&&(rt=Array.prototype.concat.apply([],rt.map(function(it){return[it,it]}))),rt.length===6&&rt.push("F","F");var nt=parseInt(rt.join(""),16);return{r:nt>>24&255,g:nt>>16&255,b:nt>>8&255,a:nt&255,hex:"#"+rt.slice(0,6).join("")}}et.getOptions=function(rt){rt||(rt={}),rt.color||(rt.color={});var nt=typeof rt.margin>"u"||rt.margin===null||rt.margin<0?4:rt.margin,it=rt.width&&rt.width>=21?rt.width:void 0,at=rt.scale||4;return{width:it,scale:it?4:at,margin:nt,color:{dark:_e(rt.color.dark||"#000000ff"),light:_e(rt.color.light||"#ffffffff")},type:rt.type,rendererOpts:rt.rendererOpts||{}}},et.getScale=function(rt,nt){return nt.width&&nt.width>=rt+nt.margin*2?nt.width/(rt+nt.margin*2):nt.scale},et.getImageWidth=function(rt,nt){var it=et.getScale(rt,nt);return Math.floor((rt+nt.margin*2)*it)},et.qrToImageData=function(rt,nt,it){for(var at=nt.modules.size,st=nt.modules.data,ot=et.getScale(at,it),ct=Math.floor((at+it.margin*2)*ot),lt=it.margin*ot,ut=[it.color.light,it.color.dark],dt=0;dt<ct;dt++)for(var mt=0;mt<ct;mt++){var gt=(dt*ct+mt)*4,bt=it.color.light;if(dt>=lt&&mt>=lt&&dt<ct-lt&&mt<ct-lt){var ht=Math.floor((dt-lt)/ot),yt=Math.floor((mt-lt)/ot);bt=ut[st[ht*at+yt]?1:0]}rt[gt++]=bt.r,rt[gt++]=bt.g,rt[gt++]=bt.b,rt[gt]=bt.a}}})(utils);(function(et){var _e=utils;function tt(nt,it,at){nt.clearRect(0,0,it.width,it.height),it.style||(it.style={}),it.height=at,it.width=at,it.style.height=at+"px",it.style.width=at+"px"}function rt(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}et.render=function(it,at,st){var ot=st,ct=at;typeof ot>"u"&&(!at||!at.getContext)&&(ot=at,at=void 0),at||(ct=rt()),ot=_e.getOptions(ot);var lt=_e.getImageWidth(it.modules.size,ot),ut=ct.getContext("2d"),dt=ut.createImageData(lt,lt);return _e.qrToImageData(dt.data,it,ot),tt(ut,ct,lt),ut.putImageData(dt,0,0),ct},et.renderToDataURL=function(it,at,st){var ot=st;typeof ot>"u"&&(!at||!at.getContext)&&(ot=at,at=void 0),ot||(ot={});var ct=et.render(it,at,ot),lt=ot.type||"image/png",ut=ot.rendererOpts||{};return ct.toDataURL(lt,ut.quality)}})(canvas);var svgTag={},Utils=utils;function getColorAttrib(et,_e){var tt=et.a/255,rt=_e+'="'+et.hex+'"';return tt<1?rt+" "+_e+'-opacity="'+tt.toFixed(2).slice(1)+'"':rt}function svgCmd(et,_e,tt){var rt=et+_e;return typeof tt<"u"&&(rt+=" "+tt),rt}function qrToPath(et,_e,tt){for(var rt="",nt=0,it=!1,at=0,st=0;st<et.length;st++){var ot=Math.floor(st%_e),ct=Math.floor(st/_e);!ot&&!it&&(it=!0),et[st]?(at++,st>0&&ot>0&&et[st-1]||(rt+=it?svgCmd("M",ot+tt,.5+ct+tt):svgCmd("m",nt,0),nt=0,it=!1),ot+1<_e&&et[st+1]||(rt+=svgCmd("h",at),at=0)):nt++}return rt}svgTag.render=function et(_e,tt,rt){var nt=Utils.getOptions(tt),it=_e.modules.size,at=_e.modules.data,st=it+nt.margin*2,ot=nt.color.light.a?"<path "+getColorAttrib(nt.color.light,"fill")+' d="M0 0h'+st+"v"+st+'H0z"/>':"",ct="<path "+getColorAttrib(nt.color.dark,"stroke")+' d="'+qrToPath(at,it,nt.margin)+'"/>',lt='viewBox="0 0 '+st+" "+st+'"',ut=nt.width?'width="'+nt.width+'" height="'+nt.width+'" ':"",dt='<svg xmlns="http://www.w3.org/2000/svg" '+ut+lt+' shape-rendering="crispEdges">'+ot+ct+`</svg>
`;return typeof rt=="function"&&rt(null,dt),dt};var canPromise=canPromise$1,QRCode$1=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(et,_e,tt,rt,nt){var it=[].slice.call(arguments,1),at=it.length,st=typeof it[at-1]=="function";if(!st&&!canPromise())throw new Error("Callback required as last argument");if(st){if(at<2)throw new Error("Too few arguments provided");at===2?(nt=tt,tt=_e,_e=rt=void 0):at===3&&(_e.getContext&&typeof nt>"u"?(nt=rt,rt=void 0):(nt=rt,rt=tt,tt=_e,_e=void 0))}else{if(at<1)throw new Error("Too few arguments provided");return at===1?(tt=_e,_e=rt=void 0):at===2&&!_e.getContext&&(rt=tt,tt=_e,_e=void 0),new Promise(function(ct,lt){try{var ut=QRCode$1.create(tt,rt);ct(et(ut,_e,rt))}catch(dt){lt(dt)}})}try{var ot=QRCode$1.create(tt,rt);nt(null,et(ot,_e,rt))}catch(ct){nt(ct)}}browser.create=QRCode$1.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(et,_e,tt){return SvgRenderer.render(et,tt)});var toggleSelection=function(){var et=document.getSelection();if(!et.rangeCount)return function(){};for(var _e=document.activeElement,tt=[],rt=0;rt<et.rangeCount;rt++)tt.push(et.getRangeAt(rt));switch(_e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":_e.blur();break;default:_e=null;break}return et.removeAllRanges(),function(){et.type==="Caret"&&et.removeAllRanges(),et.rangeCount||tt.forEach(function(nt){et.addRange(nt)}),_e&&_e.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(et){var _e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return et.replace(/#{\s*key\s*}/g,_e)}function copy$2(et,_e){var tt,rt,nt,it,at,st,ot=!1;_e||(_e={}),tt=_e.debug||!1;try{nt=deselectCurrent(),it=document.createRange(),at=document.getSelection(),st=document.createElement("span"),st.textContent=et,st.ariaHidden="true",st.style.all="unset",st.style.position="fixed",st.style.top=0,st.style.clip="rect(0, 0, 0, 0)",st.style.whiteSpace="pre",st.style.webkitUserSelect="text",st.style.MozUserSelect="text",st.style.msUserSelect="text",st.style.userSelect="text",st.addEventListener("copy",function(lt){if(lt.stopPropagation(),_e.format)if(lt.preventDefault(),typeof lt.clipboardData>"u"){tt&&console.warn("unable to use e.clipboardData"),tt&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var ut=clipboardToIE11Formatting[_e.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(ut,et)}else lt.clipboardData.clearData(),lt.clipboardData.setData(_e.format,et);_e.onCopy&&(lt.preventDefault(),_e.onCopy(lt.clipboardData))}),document.body.appendChild(st),it.selectNodeContents(st),at.addRange(it);var ct=document.execCommand("copy");if(!ct)throw new Error("copy command was unsuccessful");ot=!0}catch(lt){tt&&console.error("unable to copy using execCommand: ",lt),tt&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(_e.format||"text",et),_e.onCopy&&_e.onCopy(window.clipboardData),ot=!0}catch(ut){tt&&console.error("unable to copy using clipboardData: ",ut),tt&&console.error("falling back to prompt"),rt=format("message"in _e?_e.message:defaultMessage),window.prompt(rt,et)}}finally{at&&(typeof at.removeRange=="function"?at.removeRange(it):at.removeAllRanges()),st&&document.body.removeChild(st),nt()}return ot}var copyToClipboard=copy$2,n$1,u$2,i$1,t$2,r$2,o$1,f$3,e$2={},c$2=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$1(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function v$3(et){var _e=et.parentNode;_e&&_e.removeChild(et)}function h$3(et,_e,tt){var rt,nt=arguments,it={};for(rt in _e)rt!=="key"&&rt!=="ref"&&(it[rt]=_e[rt]);if(arguments.length>3)for(tt=[tt],rt=3;rt<arguments.length;rt++)tt.push(nt[rt]);if(tt!=null&&(it.children=tt),typeof et=="function"&&et.defaultProps!=null)for(rt in et.defaultProps)it[rt]===void 0&&(it[rt]=et.defaultProps[rt]);return p$3(et,it,_e&&_e.key,_e&&_e.ref,null)}function p$3(et,_e,tt,rt,nt){var it={type:et,props:_e,key:tt,ref:rt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:nt};return nt==null&&(it.__v=it),n$1.vnode&&n$1.vnode(it),it}function y$3(){return{}}function d$3(et){return et.children}function m$3(et,_e){this.props=et,this.context=_e}function w$3(et,_e){if(_e==null)return et.__?w$3(et.__,et.__.__k.indexOf(et)+1):null;for(var tt;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null)return tt.__e;return typeof et.type=="function"?w$3(et):null}function k$3(et){var _e,tt;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,_e=0;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null){et.__e=et.__c.base=tt.__e;break}return k$3(et)}}function g$3(et){(!et.__d&&(et.__d=!0)&&u$2.push(et)&&!i$1++||r$2!==n$1.debounceRendering)&&((r$2=n$1.debounceRendering)||t$2)(_$3)}function _$3(){for(var et;i$1=u$2.length;)et=u$2.sort(function(_e,tt){return _e.__v.__b-tt.__v.__b}),u$2=[],et.some(function(_e){var tt,rt,nt,it,at,st,ot;_e.__d&&(st=(at=(tt=_e).__v).__e,(ot=tt.__P)&&(rt=[],(nt=a$1({},at)).__v=nt,it=A$4(ot,at,nt,tt.__n,ot.ownerSVGElement!==void 0,null,rt,st==null?w$3(at):st),T$3(rt,at),it!=st&&k$3(at)))})}function b$2(et,_e,tt,rt,nt,it,at,st,ot){var ct,lt,ut,dt,mt,gt,bt,ht=tt&&tt.__k||c$2,yt=ht.length;if(st==e$2&&(st=it!=null?it[0]:yt?w$3(tt,0):null),ct=0,_e.__k=x$2(_e.__k,function(wt){if(wt!=null){if(wt.__=_e,wt.__b=_e.__b+1,(ut=ht[ct])===null||ut&&wt.key==ut.key&&wt.type===ut.type)ht[ct]=void 0;else for(lt=0;lt<yt;lt++){if((ut=ht[lt])&&wt.key==ut.key&&wt.type===ut.type){ht[lt]=void 0;break}ut=null}if(dt=A$4(et,wt,ut=ut||e$2,rt,nt,it,at,st,ot),(lt=wt.ref)&&ut.ref!=lt&&(bt||(bt=[]),ut.ref&&bt.push(ut.ref,null,wt),bt.push(lt,wt.__c||dt,wt)),dt!=null){var xt;if(gt==null&&(gt=dt),wt.__d!==void 0)xt=wt.__d,wt.__d=void 0;else if(it==ut||dt!=st||dt.parentNode==null){e:if(st==null||st.parentNode!==et)et.appendChild(dt),xt=null;else{for(mt=st,lt=0;(mt=mt.nextSibling)&&lt<yt;lt+=2)if(mt==dt)break e;et.insertBefore(dt,st),xt=st}_e.type=="option"&&(et.value="")}st=xt!==void 0?xt:dt.nextSibling,typeof _e.type=="function"&&(_e.__d=st)}else st&&ut.__e==st&&st.parentNode!=et&&(st=w$3(ut))}return ct++,wt}),_e.__e=gt,it!=null&&typeof _e.type!="function")for(ct=it.length;ct--;)it[ct]!=null&&v$3(it[ct]);for(ct=yt;ct--;)ht[ct]!=null&&D$2(ht[ct],ht[ct]);if(bt)for(ct=0;ct<bt.length;ct++)j$1(bt[ct],bt[++ct],bt[++ct])}function x$2(et,_e,tt){if(tt==null&&(tt=[]),et==null||typeof et=="boolean")_e&&tt.push(_e(null));else if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)x$2(et[rt],_e,tt);else tt.push(_e?_e(typeof et=="string"||typeof et=="number"?p$3(null,et,null,null,et):et.__e!=null||et.__c!=null?p$3(et.type,et.props,et.key,null,et.__v):et):et);return tt}function P$2(et,_e,tt,rt,nt){var it;for(it in tt)it==="children"||it==="key"||it in _e||N$2(et,it,null,tt[it],rt);for(it in _e)nt&&typeof _e[it]!="function"||it==="children"||it==="key"||it==="value"||it==="checked"||tt[it]===_e[it]||N$2(et,it,_e[it],tt[it],rt)}function C$2(et,_e,tt){_e[0]==="-"?et.setProperty(_e,tt):et[_e]=typeof tt=="number"&&s$1.test(_e)===!1?tt+"px":tt==null?"":tt}function N$2(et,_e,tt,rt,nt){var it,at,st,ot,ct;if(nt?_e==="className"&&(_e="class"):_e==="class"&&(_e="className"),_e==="style")if(it=et.style,typeof tt=="string")it.cssText=tt;else{if(typeof rt=="string"&&(it.cssText="",rt=null),rt)for(ot in rt)tt&&ot in tt||C$2(it,ot,"");if(tt)for(ct in tt)rt&&tt[ct]===rt[ct]||C$2(it,ct,tt[ct])}else _e[0]==="o"&&_e[1]==="n"?(at=_e!==(_e=_e.replace(/Capture$/,"")),st=_e.toLowerCase(),_e=(st in et?st:_e).slice(2),tt?(rt||et.addEventListener(_e,z$3,at),(et.l||(et.l={}))[_e]=tt):et.removeEventListener(_e,z$3,at)):_e!=="list"&&_e!=="tagName"&&_e!=="form"&&_e!=="type"&&_e!=="size"&&!nt&&_e in et?et[_e]=tt==null?"":tt:typeof tt!="function"&&_e!=="dangerouslySetInnerHTML"&&(_e!==(_e=_e.replace(/^xlink:?/,""))?tt==null||tt===!1?et.removeAttributeNS("http://www.w3.org/1999/xlink",_e.toLowerCase()):et.setAttributeNS("http://www.w3.org/1999/xlink",_e.toLowerCase(),tt):tt==null||tt===!1&&!/^ar/.test(_e)?et.removeAttribute(_e):et.setAttribute(_e,tt))}function z$3(et){this.l[et.type](n$1.event?n$1.event(et):et)}function A$4(et,_e,tt,rt,nt,it,at,st,ot){var ct,lt,ut,dt,mt,gt,bt,ht,yt,wt,xt=_e.type;if(_e.constructor!==void 0)return null;(ct=n$1.__b)&&ct(_e);try{e:if(typeof xt=="function"){if(ht=_e.props,yt=(ct=xt.contextType)&&rt[ct.__c],wt=ct?yt?yt.props.value:ct.__:rt,tt.__c?bt=(lt=_e.__c=tt.__c).__=lt.__E:("prototype"in xt&&xt.prototype.render?_e.__c=lt=new xt(ht,wt):(_e.__c=lt=new m$3(ht,wt),lt.constructor=xt,lt.render=E$3),yt&&yt.sub(lt),lt.props=ht,lt.state||(lt.state={}),lt.context=wt,lt.__n=rt,ut=lt.__d=!0,lt.__h=[]),lt.__s==null&&(lt.__s=lt.state),xt.getDerivedStateFromProps!=null&&(lt.__s==lt.state&&(lt.__s=a$1({},lt.__s)),a$1(lt.__s,xt.getDerivedStateFromProps(ht,lt.__s))),dt=lt.props,mt=lt.state,ut)xt.getDerivedStateFromProps==null&&lt.componentWillMount!=null&&lt.componentWillMount(),lt.componentDidMount!=null&&lt.__h.push(lt.componentDidMount);else{if(xt.getDerivedStateFromProps==null&&ht!==dt&&lt.componentWillReceiveProps!=null&&lt.componentWillReceiveProps(ht,wt),!lt.__e&&lt.shouldComponentUpdate!=null&&lt.shouldComponentUpdate(ht,lt.__s,wt)===!1||_e.__v===tt.__v&&!lt.__){for(lt.props=ht,lt.state=lt.__s,_e.__v!==tt.__v&&(lt.__d=!1),lt.__v=_e,_e.__e=tt.__e,_e.__k=tt.__k,lt.__h.length&&at.push(lt),ct=0;ct<_e.__k.length;ct++)_e.__k[ct]&&(_e.__k[ct].__=_e);break e}lt.componentWillUpdate!=null&&lt.componentWillUpdate(ht,lt.__s,wt),lt.componentDidUpdate!=null&&lt.__h.push(function(){lt.componentDidUpdate(dt,mt,gt)})}lt.context=wt,lt.props=ht,lt.state=lt.__s,(ct=n$1.__r)&&ct(_e),lt.__d=!1,lt.__v=_e,lt.__P=et,ct=lt.render(lt.props,lt.state,lt.context),_e.__k=ct!=null&&ct.type==d$3&&ct.key==null?ct.props.children:Array.isArray(ct)?ct:[ct],lt.getChildContext!=null&&(rt=a$1(a$1({},rt),lt.getChildContext())),ut||lt.getSnapshotBeforeUpdate==null||(gt=lt.getSnapshotBeforeUpdate(dt,mt)),b$2(et,_e,tt,rt,nt,it,at,st,ot),lt.base=_e.__e,lt.__h.length&&at.push(lt),bt&&(lt.__E=lt.__=null),lt.__e=!1}else it==null&&_e.__v===tt.__v?(_e.__k=tt.__k,_e.__e=tt.__e):_e.__e=$$1(tt.__e,_e,tt,rt,nt,it,at,ot);(ct=n$1.diffed)&&ct(_e)}catch(At){_e.__v=null,n$1.__e(At,_e,tt)}return _e.__e}function T$3(et,_e){n$1.__c&&n$1.__c(_e,et),et.some(function(tt){try{et=tt.__h,tt.__h=[],et.some(function(rt){rt.call(tt)})}catch(rt){n$1.__e(rt,tt.__v)}})}function $$1(et,_e,tt,rt,nt,it,at,st){var ot,ct,lt,ut,dt,mt=tt.props,gt=_e.props;if(nt=_e.type==="svg"||nt,it!=null){for(ot=0;ot<it.length;ot++)if((ct=it[ot])!=null&&((_e.type===null?ct.nodeType===3:ct.localName===_e.type)||et==ct)){et=ct,it[ot]=null;break}}if(et==null){if(_e.type===null)return document.createTextNode(gt);et=nt?document.createElementNS("http://www.w3.org/2000/svg",_e.type):document.createElement(_e.type,gt.is&&{is:gt.is}),it=null,st=!1}if(_e.type===null)mt!==gt&&et.data!=gt&&(et.data=gt);else{if(it!=null&&(it=c$2.slice.call(et.childNodes)),lt=(mt=tt.props||e$2).dangerouslySetInnerHTML,ut=gt.dangerouslySetInnerHTML,!st){if(mt===e$2)for(mt={},dt=0;dt<et.attributes.length;dt++)mt[et.attributes[dt].name]=et.attributes[dt].value;(ut||lt)&&(ut&&lt&&ut.__html==lt.__html||(et.innerHTML=ut&&ut.__html||""))}P$2(et,gt,mt,nt,st),ut?_e.__k=[]:(_e.__k=_e.props.children,b$2(et,_e,tt,rt,_e.type!=="foreignObject"&&nt,it,at,e$2,st)),st||("value"in gt&&(ot=gt.value)!==void 0&&ot!==et.value&&N$2(et,"value",ot,mt.value,!1),"checked"in gt&&(ot=gt.checked)!==void 0&&ot!==et.checked&&N$2(et,"checked",ot,mt.checked,!1))}return et}function j$1(et,_e,tt){try{typeof et=="function"?et(_e):et.current=_e}catch(rt){n$1.__e(rt,tt)}}function D$2(et,_e,tt){var rt,nt,it;if(n$1.unmount&&n$1.unmount(et),(rt=et.ref)&&(rt.current&&rt.current!==et.__e||j$1(rt,null,_e)),tt||typeof et.type=="function"||(tt=(nt=et.__e)!=null),et.__e=et.__d=void 0,(rt=et.__c)!=null){if(rt.componentWillUnmount)try{rt.componentWillUnmount()}catch(at){n$1.__e(at,_e)}rt.base=rt.__P=null}if(rt=et.__k)for(it=0;it<rt.length;it++)rt[it]&&D$2(rt[it],_e,tt);nt!=null&&v$3(nt)}function E$3(et,_e,tt){return this.constructor(et,tt)}function H$2(et,_e,tt){var rt,nt,it;n$1.__&&n$1.__(et,_e),nt=(rt=tt===o$1)?null:tt&&tt.__k||_e.__k,et=h$3(d$3,null,[et]),it=[],A$4(_e,(rt?_e:tt||_e).__k=et,nt||e$2,e$2,_e.ownerSVGElement!==void 0,tt&&!rt?[tt]:nt?null:c$2.slice.call(_e.childNodes),it,tt||e$2,rt),T$3(it,et)}function I$2(et,_e){H$2(et,_e,o$1)}function L$2(et,_e){var tt,rt;for(rt in _e=a$1(a$1({},et.props),_e),arguments.length>2&&(_e.children=c$2.slice.call(arguments,2)),tt={},_e)rt!=="key"&&rt!=="ref"&&(tt[rt]=_e[rt]);return p$3(et.type,tt,_e.key||et.key,_e.ref||et.ref,null)}function M$2(et){var _e={},tt={__c:"__cC"+f$3++,__:et,Consumer:function(rt,nt){return rt.children(nt)},Provider:function(rt){var nt,it=this;return this.getChildContext||(nt=[],this.getChildContext=function(){return _e[tt.__c]=it,_e},this.shouldComponentUpdate=function(at){it.props.value!==at.value&&nt.some(function(st){st.context=at.value,g$3(st)})},this.sub=function(at){nt.push(at);var st=at.componentWillUnmount;at.componentWillUnmount=function(){nt.splice(nt.indexOf(at),1),st&&st.call(at)}}),rt.children}};return tt.Consumer.contextType=tt,tt.Provider.__=tt,tt}n$1={__e:function(et,_e){for(var tt,rt;_e=_e.__;)if((tt=_e.__c)&&!tt.__)try{if(tt.constructor&&tt.constructor.getDerivedStateFromError!=null&&(rt=!0,tt.setState(tt.constructor.getDerivedStateFromError(et))),tt.componentDidCatch!=null&&(rt=!0,tt.componentDidCatch(et)),rt)return g$3(tt.__E=tt)}catch(nt){et=nt}throw et}},m$3.prototype.setState=function(et,_e){var tt;tt=this.__s!==this.state?this.__s:this.__s=a$1({},this.state),typeof et=="function"&&(et=et(tt,this.props)),et&&a$1(tt,et),et!=null&&this.__v&&(_e&&this.__h.push(_e),g$3(this))},m$3.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),g$3(this))},m$3.prototype.render=d$3,u$2=[],i$1=0,t$2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$1=e$2,f$3=0;var t$1,u$1,r$1,i=0,o=[],c$1=n$1.__r,f$2=n$1.diffed,e$1=n$1.__c,a=n$1.unmount;function v$2(et,_e){n$1.__h&&n$1.__h(u$1,et,i||_e),i=0;var tt=u$1.__H||(u$1.__H={__:[],__h:[]});return et>=tt.__.length&&tt.__.push({}),tt.__[et]}function m$2(et){return i=1,p$2(E$2,et)}function p$2(et,_e,tt){var rt=v$2(t$1++,2);return rt.__c||(rt.__c=u$1,rt.__=[tt?tt(_e):E$2(void 0,_e),function(nt){var it=et(rt.__[0],nt);rt.__[0]!==it&&(rt.__[0]=it,rt.__c.setState({}))}]),rt.__}function l$1(et,_e){var tt=v$2(t$1++,3);!n$1.__s&&x$1(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$1.__H.__h.push(tt))}function y$2(et,_e){var tt=v$2(t$1++,4);!n$1.__s&&x$1(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$1.__h.push(tt))}function d$2(et){return i=5,h$2(function(){return{current:et}},[])}function s(et,_e,tt){i=6,y$2(function(){typeof et=="function"?et(_e()):et&&(et.current=_e())},tt==null?tt:tt.concat(et))}function h$2(et,_e){var tt=v$2(t$1++,7);return x$1(tt.__H,_e)?(tt.__H=_e,tt.__h=et,tt.__=et()):tt.__}function T$2(et,_e){return i=8,h$2(function(){return et},_e)}function w$2(et){var _e=u$1.context[et.__c],tt=v$2(t$1++,9);return tt.__c=et,_e?(tt.__==null&&(tt.__=!0,_e.sub(u$1)),_e.props.value):et.__}function A$3(et,_e){n$1.useDebugValue&&n$1.useDebugValue(_e?_e(et):et)}function F$2(et){var _e=v$2(t$1++,10),tt=m$2();return _e.__=et,u$1.componentDidCatch||(u$1.componentDidCatch=function(rt){_e.__&&_e.__(rt),tt[1](rt)}),[tt[0],function(){tt[1](void 0)}]}function _$2(){o.some(function(et){if(et.__P)try{et.__H.__h.forEach(g$2),et.__H.__h.forEach(q$3),et.__H.__h=[]}catch(_e){return et.__H.__h=[],n$1.__e(_e,et.__v),!0}}),o=[]}function g$2(et){et.t&&et.t()}function q$3(et){var _e=et.__();typeof _e=="function"&&(et.t=_e)}function x$1(et,_e){return!et||_e.some(function(tt,rt){return tt!==et[rt]})}function E$2(et,_e){return typeof _e=="function"?_e(et):_e}n$1.__r=function(et){c$1&&c$1(et),t$1=0,(u$1=et.__c).__H&&(u$1.__H.__h.forEach(g$2),u$1.__H.__h.forEach(q$3),u$1.__H.__h=[])},n$1.diffed=function(et){f$2&&f$2(et);var _e=et.__c;if(_e){var tt=_e.__H;tt&&tt.__h.length&&(o.push(_e)!==1&&r$1===n$1.requestAnimationFrame||((r$1=n$1.requestAnimationFrame)||function(rt){var nt,it=function(){clearTimeout(at),cancelAnimationFrame(nt),setTimeout(rt)},at=setTimeout(it,100);typeof window<"u"&&(nt=requestAnimationFrame(it))})(_$2))}},n$1.__c=function(et,_e){_e.some(function(tt){try{tt.__h.forEach(g$2),tt.__h=tt.__h.filter(function(rt){return!rt.__||q$3(rt)})}catch(rt){_e.some(function(nt){nt.__h&&(nt.__h=[])}),_e=[],n$1.__e(rt,tt.__v)}}),e$1&&e$1(et,_e)},n$1.unmount=function(et){a&&a(et);var _e=et.__c;if(_e){var tt=_e.__H;if(tt)try{tt.__.forEach(function(rt){return rt.t&&rt.t()})}catch(rt){n$1.__e(rt,_e.__v)}}};function E$1(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function w$1(et,_e){for(var tt in et)if(tt!=="__source"&&!(tt in _e))return!0;for(var rt in _e)if(rt!=="__source"&&et[rt]!==_e[rt])return!0;return!1}var C$1=function(et){var _e,tt;function rt(nt){var it;return(it=et.call(this,nt)||this).isPureReactComponent=!0,it}return tt=et,(_e=rt).prototype=Object.create(tt.prototype),_e.prototype.constructor=_e,_e.__proto__=tt,rt.prototype.shouldComponentUpdate=function(nt,it){return w$1(this.props,nt)||w$1(this.state,it)},rt}(m$3);function _$1(et,_e){function tt(nt){var it=this.props.ref,at=it==nt.ref;return!at&&it&&(it.call?it(null):it.current=null),_e?!_e(this.props,nt)||!at:w$1(this.props,nt)}function rt(nt){return this.shouldComponentUpdate=tt,h$3(et,E$1({},nt))}return rt.prototype.isReactComponent=!0,rt.displayName="Memo("+(et.displayName||et.name)+")",rt.t=!0,rt}var A$2=n$1.__b;function S$1(et){function _e(tt){var rt=E$1({},tt);return delete rt.ref,et(rt,tt.ref)}return _e.prototype.isReactComponent=_e.t=!0,_e.displayName="ForwardRef("+(et.displayName||et.name)+")",_e}n$1.__b=function(et){et.type&&et.type.t&&et.ref&&(et.props.ref=et.ref,et.ref=null),A$2&&A$2(et)};var k$2=function(et,_e){return et?x$2(et).reduce(function(tt,rt,nt){return tt.concat(_e(rt,nt))},[]):null},R$1={map:k$2,forEach:k$2,count:function(et){return et?x$2(et).length:0},only:function(et){if((et=x$2(et)).length!==1)throw new Error("Children.only() expects only one child.");return et[0]},toArray:x$2},F$1=n$1.__e;function N$1(et){return et&&((et=E$1({},et)).__c=null,et.__k=et.__k&&et.__k.map(N$1)),et}function U(){this.__u=0,this.o=null,this.__b=null}function M$1(et){var _e=et.__.__c;return _e&&_e.u&&_e.u(et)}function L$1(et){var _e,tt,rt;function nt(it){if(_e||(_e=et()).then(function(at){tt=at.default||at},function(at){rt=at}),rt)throw rt;if(!tt)throw _e;return h$3(tt,it)}return nt.displayName="Lazy",nt.t=!0,nt}function O$1(){this.i=null,this.l=null}n$1.__e=function(et,_e,tt){if(et.then){for(var rt,nt=_e;nt=nt.__;)if((rt=nt.__c)&&rt.__c)return rt.__c(et,_e.__c)}F$1(et,_e,tt)},(U.prototype=new m$3).__c=function(et,_e){var tt=this;tt.o==null&&(tt.o=[]),tt.o.push(_e);var rt=M$1(tt.__v),nt=!1,it=function(){nt||(nt=!0,rt?rt(at):at())};_e.__c=_e.componentWillUnmount,_e.componentWillUnmount=function(){it(),_e.__c&&_e.__c()};var at=function(){var st;if(!--tt.__u)for(tt.__v.__k[0]=tt.state.u,tt.setState({u:tt.__b=null});st=tt.o.pop();)st.forceUpdate()};tt.__u++||tt.setState({u:tt.__b=tt.__v.__k[0]}),et.then(it,it)},U.prototype.render=function(et,_e){return this.__b&&(this.__v.__k[0]=N$1(this.__b),this.__b=null),[h$3(m$3,null,_e.u?null:et.children),_e.u&&et.fallback]};var P$1=function(et,_e,tt){if(++tt[1]===tt[0]&&et.l.delete(_e),et.props.revealOrder&&(et.props.revealOrder[0]!=="t"||!et.l.size))for(tt=et.i;tt;){for(;tt.length>3;)tt.pop()();if(tt[1]<tt[0])break;et.i=tt=tt[2]}};(O$1.prototype=new m$3).u=function(et){var _e=this,tt=M$1(_e.__v),rt=_e.l.get(et);return rt[0]++,function(nt){var it=function(){_e.props.revealOrder?(rt.push(nt),P$1(_e,et,rt)):nt()};tt?tt(it):it()}},O$1.prototype.render=function(et){this.i=null,this.l=new Map;var _e=x$2(et.children);et.revealOrder&&et.revealOrder[0]==="b"&&_e.reverse();for(var tt=_e.length;tt--;)this.l.set(_e[tt],this.i=[1,0,this.i]);return et.children},O$1.prototype.componentDidUpdate=O$1.prototype.componentDidMount=function(){var et=this;et.l.forEach(function(_e,tt){P$1(et,tt,_e)})};var W=function(){function et(){}var _e=et.prototype;return _e.getChildContext=function(){return this.props.context},_e.render=function(tt){return tt.children},et}();function j(et){var _e=this,tt=et.container,rt=h$3(W,{context:_e.context},et.vnode);return _e.s&&_e.s!==tt&&(_e.v.parentNode&&_e.s.removeChild(_e.v),D$2(_e.h),_e.p=!1),et.vnode?_e.p?(tt.__k=_e.__k,H$2(rt,tt),_e.__k=tt.__k):(_e.v=document.createTextNode(""),I$2("",tt),tt.appendChild(_e.v),_e.p=!0,_e.s=tt,H$2(rt,tt,_e.v),_e.__k=_e.v.__k):_e.p&&(_e.v.parentNode&&_e.s.removeChild(_e.v),D$2(_e.h)),_e.h=rt,_e.componentWillUnmount=function(){_e.v.parentNode&&_e.s.removeChild(_e.v),D$2(_e.h)},null}function z$2(et,_e){return h$3(j,{vnode:et,container:_e})}var D$1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$3.prototype.isReactComponent={};var H$1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function T$1(et,_e,tt){if(_e.__k==null)for(;_e.firstChild;)_e.removeChild(_e.firstChild);return H$2(et,_e),typeof tt=="function"&&tt(),et?et.__c:null}function V(et,_e,tt){return I$2(et,_e),typeof tt=="function"&&tt(),et?et.__c:null}var Z=n$1.event;function I$1(et,_e){et["UNSAFE_"+_e]&&!et[_e]&&Object.defineProperty(et,_e,{configurable:!1,get:function(){return this["UNSAFE_"+_e]},set:function(tt){this["UNSAFE_"+_e]=tt}})}n$1.event=function(et){Z&&(et=Z(et)),et.persist=function(){};var _e=!1,tt=!1,rt=et.stopPropagation;et.stopPropagation=function(){rt.call(et),_e=!0};var nt=et.preventDefault;return et.preventDefault=function(){nt.call(et),tt=!0},et.isPropagationStopped=function(){return _e},et.isDefaultPrevented=function(){return tt},et.nativeEvent=et};var $={configurable:!0,get:function(){return this.class}},q$2=n$1.vnode;n$1.vnode=function(et){et.$$typeof=H$1;var _e=et.type,tt=et.props;if(_e){if(tt.class!=tt.className&&($.enumerable="className"in tt,tt.className!=null&&(tt.class=tt.className),Object.defineProperty(tt,"className",$)),typeof _e!="function"){var rt,nt,it;for(it in tt.defaultValue&&tt.value!==void 0&&(tt.value||tt.value===0||(tt.value=tt.defaultValue),delete tt.defaultValue),Array.isArray(tt.value)&&tt.multiple&&_e==="select"&&(x$2(tt.children).forEach(function(at){tt.value.indexOf(at.props.value)!=-1&&(at.props.selected=!0)}),delete tt.value),tt)if(rt=D$1.test(it))break;if(rt)for(it in nt=et.props={},tt)nt[D$1.test(it)?it.replace(/[A-Z0-9]/,"-$&").toLowerCase():it]=tt[it]}(function(at){var st=et.type,ot=et.props;if(ot&&typeof st=="string"){var ct={};for(var lt in ot)/^on(Ani|Tra|Tou)/.test(lt)&&(ot[lt.toLowerCase()]=ot[lt],delete ot[lt]),ct[lt.toLowerCase()]=lt;if(ct.ondoubleclick&&(ot.ondblclick=ot[ct.ondoubleclick],delete ot[ct.ondoubleclick]),ct.onbeforeinput&&(ot.onbeforeinput=ot[ct.onbeforeinput],delete ot[ct.onbeforeinput]),ct.onchange&&(st==="textarea"||st.toLowerCase()==="input"&&!/^fil|che|ra/i.test(ot.type))){var ut=ct.oninput||"oninput";ot[ut]||(ot[ut]=ot[ct.onchange],delete ot[ct.onchange])}}})(),typeof _e=="function"&&!_e.m&&_e.prototype&&(I$1(_e.prototype,"componentWillMount"),I$1(_e.prototype,"componentWillReceiveProps"),I$1(_e.prototype,"componentWillUpdate"),_e.m=!0)}q$2&&q$2(et)};var B$1="16.8.0";function G(et){return h$3.bind(null,et)}function J(et){return!!et&&et.$$typeof===H$1}function K(et){return J(et)?L$2.apply(null,arguments):et}function Q$1(et){return!!et.__k&&(H$2(null,et),!0)}function X(et){return et&&(et.base||et.nodeType===1&&et)||null}var Y=function(et,_e){return et(_e)};const compat_module={useState:m$2,useReducer:p$2,useEffect:l$1,useLayoutEffect:y$2,useRef:d$2,useImperativeHandle:s,useMemo:h$2,useCallback:T$2,useContext:w$2,useDebugValue:A$3,version:"16.8.0",Children:R$1,render:T$1,hydrate:T$1,unmountComponentAtNode:Q$1,createPortal:z$2,createElement:h$3,createContext:M$2,createFactory:G,cloneElement:K,createRef:y$3,Fragment:d$3,isValidElement:J,findDOMNode:X,Component:m$3,PureComponent:C$1,memo:_$1,forwardRef:S$1,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O$1,lazy:L$1},compat_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:compat_module,version:B$1,Children:R$1,render:T$1,hydrate:V,unmountComponentAtNode:Q$1,createPortal:z$2,createFactory:G,cloneElement:K,isValidElement:J,findDOMNode:X,PureComponent:C$1,memo:_$1,forwardRef:S$1,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O$1,lazy:L$1,createElement:h$3,createContext:M$2,createRef:y$3,Fragment:d$3,Component:m$3,useState:m$2,useReducer:p$2,useEffect:l$1,useLayoutEffect:y$2,useRef:d$2,useImperativeHandle:s,useMemo:h$2,useCallback:T$2,useContext:w$2,useDebugValue:A$3,useErrorBoundary:F$2},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(compat_module$1);function _interopDefault(et){return et&&typeof et=="object"&&"default"in et?et.default:et}var browserUtils=require$$0,QRCode=_interopDefault(browser),copy$1=_interopDefault(copyToClipboard),React=require$$3;function open(et){QRCode.toString(et,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function _catch(et,_e){try{var tt=et()}catch(rt){return _e(rt)}return tt&&tt.then?tt.then(void 0,_e):tt}var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(et){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:et.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(et){return React.createElement("a",{className:"walletconnect-connect__button",href:et.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+et.name,onClick:et.onClick,rel:"noopener noreferrer",style:{backgroundColor:et.color},target:"_blank"},et.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(et){var _e=et.color,tt=et.href,rt=et.name,nt=et.logo,it=et.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:tt,onClick:it,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},rt),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+nt+"') "+_e,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(et){var _e=et.color,tt=et.href,rt=et.name,nt=et.logo,it=et.onClick,at=window.innerWidth<768?(rt.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:tt,onClick:it,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+nt+"') "+_e,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:at},className:"walletconnect-connect__button__text"},rt))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(et){var _e=browserUtils.isAndroid(),tt=React.useState(""),rt=tt[0],nt=tt[1],it=React.useState(""),at=it[0],st=it[1],ot=React.useState(1),ct=ot[0],lt=ot[1],ut=at?et.links.filter(function(At){return At.name.toLowerCase().includes(at.toLowerCase())}):et.links,dt=et.errorMessage,mt=at||ut.length>GRID_MIN_COUNT,gt=Math.ceil(ut.length/LINKS_PER_PAGE),bt=[(ct-1)*LINKS_PER_PAGE+1,ct*LINKS_PER_PAGE],ht=ut.length?ut.filter(function(At,kt){return kt+1>=bt[0]&&kt+1<=bt[1]}):[],yt=!_e&&gt>1,wt=void 0;function xt(At){nt(At.target.value),clearTimeout(wt),At.target.value?wt=setTimeout(function(){st(At.target.value),lt(1)},1e3):(nt(""),st(""),lt(1))}return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},_e?et.text.connect_mobile_wallet:et.text.choose_preferred_wallet),!_e&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:rt,onChange:xt}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(_e?"__android":mt&&ut.length?"__wrap":"")},_e?React.createElement(ConnectButton,{name:et.text.connect,color:DEFAULT_BUTTON_COLOR,href:et.uri,onClick:React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:et.uri})},[])}):ht.length?ht.map(function(At){var kt=At.color,Ot=At.name,Wt=At.shortName,Ht=At.logo,Zt=browserUtils.formatIOSMobile(et.uri,At),Lt=React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:Ot,href:Zt})},[ht]);return mt?React.createElement(WalletIcon,{color:kt,href:Zt,name:Wt||Ot,logo:Ht,onClick:Lt}):React.createElement(WalletButton,{color:kt,href:Zt,name:Ot,logo:Ht,onClick:Lt})}):React.createElement(React.Fragment,null,React.createElement("p",null,dt.length?et.errorMessage:!!et.links.length&&!ut.length?et.text.no_wallets_found:et.text.loading))),yt&&React.createElement("div",{className:"walletconnect-modal__footer"},Array(gt).fill(0).map(function(At,kt){var Ot=kt+1,Wt=ct===Ot;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:Wt?"bold":"normal"},onClick:function(){return lt(Ot)}},Ot)})))}function Notification(et){var _e=!!et.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(_e?" notification__show":"")},et.message)}var formatQRCodeImage=function(et){try{var _e="";return Promise.resolve(QRCode.toString(et,{margin:0,type:"svg"})).then(function(tt){return typeof tt=="string"&&(_e=tt.replace("<svg",'<svg class="walletconnect-qrcode__image"')),_e})}catch(tt){return Promise.reject(tt)}};function QRCodeDisplay(et){var _e=React.useState(""),tt=_e[0],rt=_e[1],nt=React.useState(""),it=nt[0],at=nt[1];React.useEffect(function(){try{return Promise.resolve(formatQRCodeImage(et.uri)).then(function(ot){at(ot)})}catch(ot){Promise.reject(ot)}},[]);var st=function(){var ot=copy$1(et.uri);ot?(rt(et.text.copied_to_clipboard),setInterval(function(){return rt("")},1200)):(rt("Error"),setInterval(function(){return rt("")},1200))};return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},et.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:it}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:st},et.text.copy_to_clipboard)),React.createElement(Notification,{message:tt}))}function Modal(et){var _e=browserUtils.isAndroid(),tt=browserUtils.isMobile(),rt=tt?et.qrcodeModalOptions&&et.qrcodeModalOptions.mobileLinks?et.qrcodeModalOptions.mobileLinks:void 0:et.qrcodeModalOptions&&et.qrcodeModalOptions.desktopLinks?et.qrcodeModalOptions.desktopLinks:void 0,nt=React.useState(!1),it=nt[0],at=nt[1],st=React.useState(!1),ot=st[0],ct=st[1],lt=React.useState(!tt),ut=lt[0],dt=lt[1],mt={mobile:tt,text:et.text,uri:et.uri,qrcodeModalOptions:et.qrcodeModalOptions},gt=React.useState(""),bt=gt[0],ht=gt[1],yt=React.useState(!1),wt=yt[0],xt=yt[1],At=React.useState([]),kt=At[0],Ot=At[1],Wt=React.useState(""),Ht=Wt[0],Zt=Wt[1],Lt=function(){ot||it||rt&&!rt.length||kt.length>0||React.useEffect(function(){var It=function(){try{if(_e)return Promise.resolve();at(!0);var Ct=_catch(function(){var vt=et.qrcodeModalOptions&&et.qrcodeModalOptions.registryUrl?et.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(vt)).then(function(Tt){return Promise.resolve(Tt.json()).then(function(Mt){var Nt=Mt.listings,$t=tt?"mobile":"desktop",St=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry(Nt,$t),rt);at(!1),ct(!0),Zt(St.length?"":et.text.no_supported_wallets),Ot(St);var Dt=St.length===1;Dt&&(ht(browserUtils.formatIOSMobile(et.uri,St[0])),dt(!0)),xt(Dt)})})},function(vt){at(!1),ct(!0),Zt(et.text.something_went_wrong),console.error(vt)});return Promise.resolve(Ct&&Ct.then?Ct.then(function(){}):void 0)}catch(vt){return Promise.reject(vt)}};It()})};Lt();var Et=tt?ut:!ut;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:et.onClose}),wt&&ut?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:kt[0].name,href:bt})},href:bt,rel:"noopener noreferrer",target:"_blank"},et.text.connect_with+" "+(wt?kt[0].name:"")+" \u203A")):_e||it||!it&&kt.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(Et?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),tt?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return dt(!1),Lt()}},et.text.mobile),React.createElement("a",{onClick:function(){return dt(!0)}},et.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return dt(!0)}},et.text.qrcode),React.createElement("a",{onClick:function(){return dt(!1),Lt()}},et.text.desktop))):null,React.createElement("div",null,ut||!_e&&!it&&!kt.length?React.createElement(QRCodeDisplay,Object.assign({},mt)):React.createElement(LinkDisplay,Object.assign({},mt,{links:kt,errorMessage:Ht})))))}var de={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},en={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},ko={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},pt={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},fa={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},languages={de,en,es,fr,ko,pt,zh,fa};function injectStyleSheet(){var et=browserUtils.getDocumentOrThrow(),_e=et.getElementById(WALLETCONNECT_STYLE_ID);_e&&et.head.removeChild(_e);var tt=et.createElement("style");tt.setAttribute("id",WALLETCONNECT_STYLE_ID),tt.innerText=WALLETCONNECT_STYLE_SHEET,et.head.appendChild(tt)}function renderWrapper(){var et=browserUtils.getDocumentOrThrow(),_e=et.createElement("div");return _e.setAttribute("id",WALLETCONNECT_WRAPPER_ID),et.body.appendChild(_e),_e}function triggerCloseAnimation(){var et=browserUtils.getDocumentOrThrow(),_e=et.getElementById(WALLETCONNECT_MODAL_ID);_e&&(_e.className=_e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var tt=et.getElementById(WALLETCONNECT_WRAPPER_ID);tt&&et.body.removeChild(tt)},ANIMATION_DURATION))}function getWrappedCallback(et){return function(){triggerCloseAnimation(),et&&et()}}function getText(){var et=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[et]||languages.en}function open$1(et,_e,tt){injectStyleSheet();var rt=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:et,onClose:getWrappedCallback(_e),qrcodeModalOptions:tt}),rt)}function close$1(){triggerCloseAnimation()}var isNode=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function open$2(et,_e,tt){console.log(et),isNode()?open(et):open$1(et,_e,tt)}function close$2(){isNode()||close$1()}var index$1={open:open$2,close:close$2},cjs=index$1;class SignerConnection extends IJsonRpcConnection{constructor(_e){super(),this.events=new EventEmitter,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=_e,this.chainId=(_e==null?void 0:_e.chainId)||this.chainId,this.wc=this.register(_e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async open(_e){if(this.connected){this.onOpen();return}return new Promise((tt,rt)=>{this.on("error",nt=>{rt(nt)}),this.on("open",()=>{tt()}),this.create(_e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(_e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(_e).then(tt=>this.events.emit("payload",tt)).catch(tt=>this.events.emit("payload",formatJsonRpcError(_e.id,tt.message)))}register(_e){if(this.wc)return this.wc;this.opts=_e||this.opts,this.bridge=_e!=null&&_e.connector?_e.connector.bridge:(_e==null?void 0:_e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(_e==null?void 0:_e.qrcode)>"u"||_e.qrcode!==!1,this.chainId=typeof(_e==null?void 0:_e.chainId)<"u"?_e.chainId:this.chainId,this.qrcodeModalOptions=_e==null?void 0:_e.qrcodeModalOptions;const tt={bridge:this.bridge,qrcodeModal:this.qrcode?cjs:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:_e==null?void 0:_e.storageId,signingMethods:_e==null?void 0:_e.signingMethods,clientMeta:_e==null?void 0:_e.clientMeta};if(this.wc=typeof(_e==null?void 0:_e.connector)<"u"?_e.connector:new WalletConnect(tt),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(_e){this.pending=!1,_e&&(this.wc=_e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(_e,tt="Failed or Rejected Request",rt=-32e3,nt){const it={id:_e.id,jsonrpc:_e.jsonrpc,error:{code:rt,message:tt}};return typeof nt<"u"&&(it.error.data=nt),this.events.emit("payload",it),it}create(_e){this.wc=this.register(this.opts),this.chainId=_e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(tt=>this.events.emit("error",tt)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",_e=>{var tt,rt;if(_e){this.events.emit("error",_e);return}this.accounts=((tt=this.wc)===null||tt===void 0?void 0:tt.accounts)||[],this.chainId=((rt=this.wc)===null||rt===void 0?void 0:rt.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",_e=>{if(_e){this.events.emit("error",_e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(_e,tt)=>{const{accounts:rt,chainId:nt}=tt.params[0];(!this.accounts||rt&&this.accounts!==rt)&&(this.accounts=rt,this.events.emit("accountsChanged",rt)),(!this.chainId||nt&&this.chainId!==nt)&&(this.chainId=nt,this.events.emit("chainChanged",nt))})}async sendPayload(_e){this.wc=this.register(this.opts);try{const tt=await this.wc.unsafeSend(_e);return this.sanitizeResponse(tt)}catch(tt){return this.onError(_e,tt.message)}}sanitizeResponse(_e){return typeof _e.error<"u"&&typeof _e.error.code>"u"?formatJsonRpcError(_e.id,_e.error.message,_e.error.data):_e}}class WalletConnectProvider{constructor(_e){this.events=new EventEmitter$1,this.rpc={infuraId:_e==null?void 0:_e.infuraId,custom:_e==null?void 0:_e.rpc},this.signer=new JsonRpcProvider(new SignerConnection(_e));const tt=this.signer.connection.chainId||(_e==null?void 0:_e.chainId)||1;this.http=this.setHttpProvider(tt),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var _e;return((_e=this.http)===null||_e===void 0?void 0:_e.connection).url||""}async request(_e){switch(_e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(signingMethods.includes(_e.method))return this.signer.request(_e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${_e.method}) without provided rpc url`);return this.http.request(_e)}sendAsync(_e,tt){this.request(_e).then(rt=>tt(null,rt)).catch(rt=>tt(rt,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}off(_e,tt){this.events.off(_e,tt)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",_e=>{this.events.emit("accountsChanged",_e)}),this.signer.connection.on("chainChanged",_e=>{this.http=this.setHttpProvider(_e),this.events.emit("chainChanged",_e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(_e){const tt=getRpcUrl(_e,this.rpc);return typeof tt>"u"?void 0:new JsonRpcProvider(new HttpConnection(tt))}}function _classPrivateMethodInitSpec(et,_e){_checkPrivateRedeclaration(et,_e),_e.add(et)}function _classPrivateMethodGet(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to get private field on non-instance");return tt}const switchChainAllowedRegex=/(rainbow)/i;var _provider=new WeakMap,_switchChain=new WeakSet;class WalletConnectConnector extends Connector$1{constructor(_e){super(_e),_classPrivateMethodInitSpec(this,_switchChain),_defineProperty(this,"id","walletConnect"),_defineProperty(this,"name","WalletConnect"),_defineProperty(this,"ready",!0),_classPrivateFieldInitSpec(this,_provider,{writable:!0,value:void 0}),_defineProperty(this,"onAccountsChanged",tt=>{tt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(tt[0])})}),_defineProperty(this,"onChainChanged",tt=>{const rt=normalizeChainId(tt),nt=this.isChainUnsupported(rt);this.emit("change",{chain:{id:rt,unsupported:nt}})}),_defineProperty(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){try{var _e,tt,rt;const nt=this.getProvider(!0);nt.on("accountsChanged",this.onAccountsChanged),nt.on("chainChanged",this.onChainChanged),nt.on("disconnect",this.onDisconnect);const it=await nt.enable(),at=utils$6.getAddress(it[0]),st=await this.getChainId(),ot=this.isChainUnsupported(st),ct=(_e=(tt=nt.connector)===null||tt===void 0||(rt=tt.peerMeta)===null||rt===void 0?void 0:rt.name)!==null&&_e!==void 0?_e:"";return switchChainAllowedRegex.test(ct)&&(this.switchChain=_classPrivateMethodGet(this,_switchChain,_switchChain2)),{account:at,chain:{id:st,unsupported:ot},provider:new Web3Provider(nt)}}catch(nt){throw/user closed modal/i.test(nt.message)?new UserRejectedRequestError:nt}}async disconnect(){const _e=this.getProvider();await _e.disconnect(),_e.removeListener("accountsChanged",this.onAccountsChanged),_e.removeListener("chainChanged",this.onChainChanged),_e.removeListener("disconnect",this.onDisconnect),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")}async getAccount(){const tt=this.getProvider().accounts;return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();return normalizeChainId(_e.chainId)}getProvider(_e){return(!_classPrivateFieldGet(this,_provider)||_e)&&_classPrivateFieldSet(this,_provider,new WalletConnectProvider(this.options)),_classPrivateFieldGet(this,_provider)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}}async function _switchChain2(et){const _e=this.getProvider(),tt=utils$6.hexValue(et);try{return await _e.request({method:"wallet_switchEthereumChain",params:[{chainId:tt}]}),[...this.chains,...allChains].find(nt=>nt.id===et)}catch(rt){const nt=typeof rt=="string"?rt:rt==null?void 0:rt.message;throw/user rejected request/i.test(nt)?new UserRejectedRequestError:new SwitchChainError}}function useConnect(){const et=useContext();return invariant(et,"useConnect() can only be used inside <ThirdwebProvider />. If you are using <ThirdwebSDKProvider /> you will have to use your own connection logic."),useConnect$1()}function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let et=0;et<arguments.length;et++)this.define(arguments[et]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(et,_e){for(let tt in et){let rt=et[tt].map(function(nt){return nt.toLowerCase()});tt=tt.toLowerCase();for(let nt=0;nt<rt.length;nt++){const it=rt[nt];if(it[0]!=="*"){if(!_e&&it in this._types)throw new Error('Attempt to change mapping for "'+it+'" extension from "'+this._types[it]+'" to "'+tt+'". Pass `force=true` to allow this, otherwise remove "'+it+'" from the list of extensions for "'+tt+'".');this._types[it]=tt}}if(_e||!this._extensions[tt]){const nt=rt[0];this._extensions[tt]=nt[0]!=="*"?nt:nt.substr(1)}}};Mime$1.prototype.getType=function(et){et=String(et);let _e=et.replace(/^.*[/\\]/,"").toLowerCase(),tt=_e.replace(/^.*\./,"").toLowerCase(),rt=_e.length<et.length;return(tt.length<_e.length-1||!rt)&&this._types[tt]||null};Mime$1.prototype.getExtension=function(et){return et=/^\s*([^;\s]*)/.test(et)&&RegExp.$1,et&&this._extensions[et.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/globalThis":["u8msg"],"message/globalThis-delivery-status":["u8dsn"],"message/globalThis-disposition-notification":["u8mdn"],"message/globalThis-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),__spreadArray=globalThis&&globalThis.__spreadArray||function(et,_e,tt){if(tt||arguments.length===2)for(var rt=0,nt=_e.length,it;rt<nt;rt++)(it||!(rt in _e))&&(it||(it=Array.prototype.slice.call(_e,0,rt)),it[rt]=_e[rt]);return et.concat(it||Array.prototype.slice.call(_e))},BrowserInfo=function(){function et(_e,tt,rt){this.name=_e,this.version=tt,this.os=rt,this.type="browser"}return et}(),NodeInfo=function(){function et(_e){this.version=_e,this.type="node",this.name="node",this.os=process.platform}return et}(),SearchBotDeviceInfo=function(){function et(_e,tt,rt,nt){this.name=_e,this.version=tt,this.os=rt,this.bot=nt,this.type="bot-device"}return et}(),BotInfo=function(){function et(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return et}(),ReactNativeInfo=function(){function et(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return et}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(et){return et?parseUserAgent(et):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(et){return et!==""&&userAgentRules.reduce(function(_e,tt){var rt=tt[0],nt=tt[1];if(_e)return _e;var it=nt.exec(et);return!!it&&[rt,it]},!1)}function parseUserAgent(et){var _e=matchUserAgent(et);if(!_e)return null;var tt=_e[0],rt=_e[1];if(tt==="searchbot")return new BotInfo;var nt=rt[1]&&rt[1].split(".").join("_").split("_").slice(0,3);nt?nt.length<REQUIRED_VERSION_PARTS&&(nt=__spreadArray(__spreadArray([],nt,!0),createVersionParts(REQUIRED_VERSION_PARTS-nt.length),!0)):nt=[];var it=nt.join("."),at=detectOS$1(et),st=SEARCHBOT_OS_REGEX.exec(et);return st&&st[1]?new SearchBotDeviceInfo(tt,it,at,st[1]):new BrowserInfo(tt,it,at)}function detectOS$1(et){for(var _e=0,tt=operatingSystemRules.length;_e<tt;_e++){var rt=operatingSystemRules[_e],nt=rt[0],it=rt[1],at=it.exec(et);if(at)return nt}return null}function getNodeVersion(){var et=typeof process<"u"&&process.version;return et?new NodeInfo(process.version.slice(1)):null}function createVersionParts(et){for(var _e=[],tt=0;tt<et;tt++)_e.push("0");return _e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends.apply(this,arguments)}function memoize(et){var _e=Object.create(null);return function(tt){return _e[tt]===void 0&&(_e[tt]=et(tt)),_e[tt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(et){return reactPropsRegex.test(et)||et.charCodeAt(0)===111&&et.charCodeAt(1)===110&&et.charCodeAt(2)<91});function sheetForTag(et){if(et.sheet)return et.sheet;for(var _e=0;_e<document.styleSheets.length;_e++)if(document.styleSheets[_e].ownerNode===et)return document.styleSheets[_e]}function createStyleElement(et){var _e=document.createElement("style");return _e.setAttribute("data-emotion",et.key),et.nonce!==void 0&&_e.setAttribute("nonce",et.nonce),_e.appendChild(document.createTextNode("")),_e.setAttribute("data-s",""),_e}var StyleSheet=function(){function et(tt){var rt=this;this._insertTag=function(nt){var it;rt.tags.length===0?rt.insertionPoint?it=rt.insertionPoint.nextSibling:rt.prepend?it=rt.container.firstChild:it=rt.before:it=rt.tags[rt.tags.length-1].nextSibling,rt.container.insertBefore(nt,it),rt.tags.push(nt)},this.isSpeedy=tt.speedy===void 0?!0:tt.speedy,this.tags=[],this.ctr=0,this.nonce=tt.nonce,this.key=tt.key,this.container=tt.container,this.prepend=tt.prepend,this.insertionPoint=tt.insertionPoint,this.before=null}var _e=et.prototype;return _e.hydrate=function(rt){rt.forEach(this._insertTag)},_e.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(nt);try{it.insertRule(rt,it.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(rt));this.ctr++},_e.flush=function(){this.tags.forEach(function(rt){return rt.parentNode&&rt.parentNode.removeChild(rt)}),this.tags=[],this.ctr=0},et}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(et,_e){return charat(et,0)^45?(((_e<<2^charat(et,0))<<2^charat(et,1))<<2^charat(et,2))<<2^charat(et,3):0}function trim(et){return et.trim()}function match(et,_e){return(et=_e.exec(et))?et[0]:et}function replace(et,_e,tt){return et.replace(_e,tt)}function indexof(et,_e){return et.indexOf(_e)}function charat(et,_e){return et.charCodeAt(_e)|0}function substr(et,_e,tt){return et.slice(_e,tt)}function strlen(et){return et.length}function sizeof(et){return et.length}function append(et,_e){return _e.push(et),et}function combine(et,_e){return et.map(_e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(et,_e,tt,rt,nt,it,at){return{value:et,root:_e,parent:tt,type:rt,props:nt,children:it,line,column,length:at,return:""}}function copy(et,_e){return assign(node("",null,null,"",null,null,0),et,{length:-et.length},_e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(et,_e){return substr(characters,et,_e)}function token(et){switch(et){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(et){return line=column=1,length=strlen(characters=et),position=0,[]}function dealloc(et){return characters="",et}function delimit(et){return trim(slice$1(position-1,delimiter(et===91?et+2:et===40?et+1:et)))}function whitespace(et){for(;(character=peek())&&character<33;)next();return token(et)>2||token(character)>3?"":" "}function escaping(et,_e){for(;--_e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(et,caret()+(_e<6&&peek()==32&&next()==32))}function delimiter(et){for(;next();)switch(character){case et:return position;case 34:case 39:et!==34&&et!==39&&delimiter(character);break;case 40:et===41&&delimiter(et);break;case 92:next();break}return position}function commenter(et,_e){for(;next()&&et+character!==47+10;)if(et+character===42+42&&peek()===47)break;return"/*"+slice$1(_e,position-1)+"*"+from(et===47?et:next())}function identifier(et){for(;!token(peek());)next();return slice$1(et,position)}function compile(et){return dealloc(parse("",null,null,null,[""],et=alloc(et),0,[0],et))}function parse(et,_e,tt,rt,nt,it,at,st,ot){for(var ct=0,lt=0,ut=at,dt=0,mt=0,gt=0,bt=1,ht=1,yt=1,wt=0,xt="",At=nt,kt=it,Ot=rt,Wt=xt;ht;)switch(gt=wt,wt=next()){case 40:if(gt!=108&&charat(Wt,ut-1)==58){indexof(Wt+=replace(delimit(wt),"&","&\f"),"&\f")!=-1&&(yt=-1);break}case 34:case 39:case 91:Wt+=delimit(wt);break;case 9:case 10:case 13:case 32:Wt+=whitespace(gt);break;case 92:Wt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),_e,tt),ot);break;default:Wt+="/"}break;case 123*bt:st[ct++]=strlen(Wt)*yt;case 125*bt:case 59:case 0:switch(wt){case 0:case 125:ht=0;case 59+lt:mt>0&&strlen(Wt)-ut&&append(mt>32?declaration(Wt+";",rt,tt,ut-1):declaration(replace(Wt," ","")+";",rt,tt,ut-2),ot);break;case 59:Wt+=";";default:if(append(Ot=ruleset(Wt,_e,tt,ct,lt,nt,st,xt,At=[],kt=[],ut),it),wt===123)if(lt===0)parse(Wt,_e,Ot,Ot,At,it,ut,st,kt);else switch(dt===99&&charat(Wt,3)===110?100:dt){case 100:case 109:case 115:parse(et,Ot,Ot,rt&&append(ruleset(et,Ot,Ot,0,0,nt,st,xt,nt,At=[],ut),kt),nt,kt,ut,st,rt?At:kt);break;default:parse(Wt,Ot,Ot,Ot,[""],kt,0,st,kt)}}ct=lt=mt=0,bt=yt=1,xt=Wt="",ut=at;break;case 58:ut=1+strlen(Wt),mt=gt;default:if(bt<1){if(wt==123)--bt;else if(wt==125&&bt++==0&&prev()==125)continue}switch(Wt+=from(wt),wt*bt){case 38:yt=lt>0?1:(Wt+="\f",-1);break;case 44:st[ct++]=(strlen(Wt)-1)*yt,yt=1;break;case 64:peek()===45&&(Wt+=delimit(next())),dt=peek(),lt=ut=strlen(xt=Wt+=identifier(caret())),wt++;break;case 45:gt===45&&strlen(Wt)==2&&(bt=0)}}return it}function ruleset(et,_e,tt,rt,nt,it,at,st,ot,ct,lt){for(var ut=nt-1,dt=nt===0?it:[""],mt=sizeof(dt),gt=0,bt=0,ht=0;gt<rt;++gt)for(var yt=0,wt=substr(et,ut+1,ut=abs(bt=at[gt])),xt=et;yt<mt;++yt)(xt=trim(bt>0?dt[yt]+" "+wt:replace(wt,/&\f/g,dt[yt])))&&(ot[ht++]=xt);return node(et,_e,tt,nt===0?RULESET:st,ot,ct,lt)}function comment(et,_e,tt){return node(et,_e,tt,COMMENT,from(char()),substr(et,2,-2),0)}function declaration(et,_e,tt,rt){return node(et,_e,tt,DECLARATION,substr(et,0,rt),substr(et,rt+1,-1),rt)}function serialize(et,_e){for(var tt="",rt=sizeof(et),nt=0;nt<rt;nt++)tt+=_e(et[nt],nt,et,_e)||"";return tt}function stringify(et,_e,tt,rt){switch(et.type){case IMPORT:case DECLARATION:return et.return=et.return||et.value;case COMMENT:return"";case KEYFRAMES:return et.return=et.value+"{"+serialize(et.children,rt)+"}";case RULESET:et.value=et.props.join(",")}return strlen(tt=serialize(et.children,rt))?et.return=et.value+"{"+tt+"}":""}function middleware(et){var _e=sizeof(et);return function(tt,rt,nt,it){for(var at="",st=0;st<_e;st++)at+=et[st](tt,rt,nt,it)||"";return at}}function rulesheet(et){return function(_e){_e.root||(_e=_e.return)&&et(_e)}}var identifierWithPointTracking=function et(_e,tt,rt){for(var nt=0,it=0;nt=it,it=peek(),nt===38&&it===12&&(tt[rt]=1),!token(it);)next();return slice$1(_e,position)},toRules=function et(_e,tt){var rt=-1,nt=44;do switch(token(nt)){case 0:nt===38&&peek()===12&&(tt[rt]=1),_e[rt]+=identifierWithPointTracking(position-1,tt,rt);break;case 2:_e[rt]+=delimit(nt);break;case 4:if(nt===44){_e[++rt]=peek()===58?"&\f":"",tt[rt]=_e[rt].length;break}default:_e[rt]+=from(nt)}while(nt=next());return _e},getRules=function et(_e,tt){return dealloc(toRules(alloc(_e),tt))},fixedElements=new WeakMap,compat=function et(_e){if(!(_e.type!=="rule"||!_e.parent||_e.length<1)){for(var tt=_e.value,rt=_e.parent,nt=_e.column===rt.column&&_e.line===rt.line;rt.type!=="rule";)if(rt=rt.parent,!rt)return;if(!(_e.props.length===1&&tt.charCodeAt(0)!==58&&!fixedElements.get(rt))&&!nt){fixedElements.set(_e,!0);for(var it=[],at=getRules(tt,it),st=rt.props,ot=0,ct=0;ot<at.length;ot++)for(var lt=0;lt<st.length;lt++,ct++)_e.props[ct]=it[ot]?at[ot].replace(/&\f/g,st[lt]):st[lt]+" "+at[ot]}}},removeLabel=function et(_e){if(_e.type==="decl"){var tt=_e.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(_e.return="",_e.value="")}};function prefix(et,_e){switch(hash(et,_e)){case 5103:return WEBKIT+"print-"+et+et;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+et+et;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+et+MOZ+et+MS+et+et;case 6828:case 4268:return WEBKIT+et+MS+et+et;case 6165:return WEBKIT+et+MS+"flex-"+et+et;case 5187:return WEBKIT+et+replace(et,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+et;case 5443:return WEBKIT+et+MS+"flex-item-"+replace(et,/flex-|-self/,"")+et;case 4675:return WEBKIT+et+MS+"flex-line-pack"+replace(et,/align-content|flex-|-self/,"")+et;case 5548:return WEBKIT+et+MS+replace(et,"shrink","negative")+et;case 5292:return WEBKIT+et+MS+replace(et,"basis","preferred-size")+et;case 6060:return WEBKIT+"box-"+replace(et,"-grow","")+WEBKIT+et+MS+replace(et,"grow","positive")+et;case 4554:return WEBKIT+replace(et,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+et;case 6187:return replace(replace(replace(et,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),et,"")+et;case 5495:case 3959:return replace(et,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(et,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+et+et;case 4095:case 3583:case 4068:case 2532:return replace(et,/(.+)-inline(.+)/,WEBKIT+"$1$2")+et;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(et)-1-_e>6)switch(charat(et,_e+1)){case 109:if(charat(et,_e+4)!==45)break;case 102:return replace(et,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(et,_e+3)==108?"$3":"$2-$3"))+et;case 115:return~indexof(et,"stretch")?prefix(replace(et,"stretch","fill-available"),_e)+et:et}break;case 4949:if(charat(et,_e+1)!==115)break;case 6444:switch(charat(et,strlen(et)-3-(~indexof(et,"!important")&&10))){case 107:return replace(et,":",":"+WEBKIT)+et;case 101:return replace(et,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(et,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+et}break;case 5936:switch(charat(et,_e+11)){case 114:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb")+et;case 108:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb-rl")+et;case 45:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"lr")+et}return WEBKIT+et+MS+et+et}return et}var prefixer=function et(_e,tt,rt,nt){if(_e.length>-1&&!_e.return)switch(_e.type){case DECLARATION:_e.return=prefix(_e.value,_e.length);break;case KEYFRAMES:return serialize([copy(_e,{value:replace(_e.value,"@","@"+WEBKIT)})],nt);case RULESET:if(_e.length)return combine(_e.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(_e,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],nt);case"::placeholder":return serialize([copy(_e,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(_e,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(_e,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],nt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function et(_e){var tt=_e.key;if(tt==="css"){var rt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rt,function(bt){var ht=bt.getAttribute("data-emotion");ht.indexOf(" ")!==-1&&(document.head.appendChild(bt),bt.setAttribute("data-s",""))})}var nt=_e.stylisPlugins||defaultStylisPlugins,it={},at,st=[];at=_e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tt+' "]'),function(bt){for(var ht=bt.getAttribute("data-emotion").split(" "),yt=1;yt<ht.length;yt++)it[ht[yt]]=!0;st.push(bt)});var ot,ct=[compat,removeLabel];{var lt,ut=[stringify,rulesheet(function(bt){lt.insert(bt)})],dt=middleware(ct.concat(nt,ut)),mt=function(ht){return serialize(compile(ht),dt)};ot=function(ht,yt,wt,xt){lt=wt,mt(ht?ht+"{"+yt.styles+"}":yt.styles),xt&&(gt.inserted[yt.name]=!0)}}var gt={key:tt,sheet:new StyleSheet({key:tt,container:at,nonce:_e.nonce,speedy:_e.speedy,prepend:_e.prepend,insertionPoint:_e.insertionPoint}),nonce:_e.nonce,inserted:it,registered:{},insert:ot};return gt.sheet.hydrate(st),gt},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p$1=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(et){if(typeof et=="object"&&et!==null){var _e=et.$$typeof;switch(_e){case c:switch(et=et.type,et){case l:case m$1:case e:case g$1:case f$1:case p$1:return et;default:switch(et=et&&et.$$typeof,et){case k$1:case n:case t:case r:case h$1:return et;default:return _e}}case d$1:return _e}}}function A$1(et){return z$1(et)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(et){return A$1(et)||z$1(et)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(et){return z$1(et)===k$1};reactIs_production_min.isContextProvider=function(et){return z$1(et)===h$1};reactIs_production_min.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===c};reactIs_production_min.isForwardRef=function(et){return z$1(et)===n};reactIs_production_min.isFragment=function(et){return z$1(et)===e};reactIs_production_min.isLazy=function(et){return z$1(et)===t};reactIs_production_min.isMemo=function(et){return z$1(et)===r};reactIs_production_min.isPortal=function(et){return z$1(et)===d$1};reactIs_production_min.isProfiler=function(et){return z$1(et)===g$1};reactIs_production_min.isStrictMode=function(et){return z$1(et)===f$1};reactIs_production_min.isSuspense=function(et){return z$1(et)===p$1};reactIs_production_min.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===e||et===m$1||et===g$1||et===f$1||et===p$1||et===q$1||typeof et=="object"&&et!==null&&(et.$$typeof===t||et.$$typeof===r||et.$$typeof===h$1||et.$$typeof===k$1||et.$$typeof===n||et.$$typeof===w||et.$$typeof===x||et.$$typeof===y$1||et.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;(function(et){et.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(et,_e,tt){var rt="";return tt.split(" ").forEach(function(nt){et[nt]!==void 0?_e.push(et[nt]+";"):rt+=nt+" "}),rt}var registerStyles=function et(_e,tt,rt){var nt=_e.key+"-"+tt.name;(rt===!1||isBrowser===!1)&&_e.registered[nt]===void 0&&(_e.registered[nt]=tt.styles)},insertStyles=function et(_e,tt,rt){registerStyles(_e,tt,rt);var nt=_e.key+"-"+tt.name;if(_e.inserted[tt.name]===void 0){var it=tt;do _e.insert(tt===it?"."+nt:"",it,_e.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(et){for(var _e=0,tt,rt=0,nt=et.length;nt>=4;++rt,nt-=4)tt=et.charCodeAt(rt)&255|(et.charCodeAt(++rt)&255)<<8|(et.charCodeAt(++rt)&255)<<16|(et.charCodeAt(++rt)&255)<<24,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),tt^=tt>>>24,_e=(tt&65535)*1540483477+((tt>>>16)*59797<<16)^(_e&65535)*1540483477+((_e>>>16)*59797<<16);switch(nt){case 3:_e^=(et.charCodeAt(rt+2)&255)<<16;case 2:_e^=(et.charCodeAt(rt+1)&255)<<8;case 1:_e^=et.charCodeAt(rt)&255,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16)}return _e^=_e>>>13,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16),((_e^_e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function et(_e){return _e.charCodeAt(1)===45},isProcessableValue=function et(_e){return _e!=null&&typeof _e!="boolean"},processStyleName=memoize(function(et){return isCustomProperty(et)?et:et.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function et(_e,tt){switch(_e){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(animationRegex,function(rt,nt,it){return cursor={name:nt,styles:it,next:cursor},nt})}return unitlessKeys[_e]!==1&&!isCustomProperty(_e)&&typeof tt=="number"&&tt!==0?tt+"px":tt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(et,_e,tt){if(tt==null)return"";if(tt.__emotion_styles!==void 0)return tt;switch(typeof tt){case"boolean":return"";case"object":{if(tt.anim===1)return cursor={name:tt.name,styles:tt.styles,next:cursor},tt.name;if(tt.styles!==void 0){var rt=tt.next;if(rt!==void 0)for(;rt!==void 0;)cursor={name:rt.name,styles:rt.styles,next:cursor},rt=rt.next;var nt=tt.styles+";";return nt}return createStringFromObject(et,_e,tt)}case"function":{if(et!==void 0){var it=cursor,at=tt(et);return cursor=it,handleInterpolation(et,_e,at)}break}}if(_e==null)return tt;var st=_e[tt];return st!==void 0?st:tt}function createStringFromObject(et,_e,tt){var rt="";if(Array.isArray(tt))for(var nt=0;nt<tt.length;nt++)rt+=handleInterpolation(et,_e,tt[nt])+";";else for(var it in tt){var at=tt[it];if(typeof at!="object")_e!=null&&_e[at]!==void 0?rt+=it+"{"+_e[at]+"}":isProcessableValue(at)&&(rt+=processStyleName(it)+":"+processStyleValue(it,at)+";");else if(Array.isArray(at)&&typeof at[0]=="string"&&(_e==null||_e[at[0]]===void 0))for(var st=0;st<at.length;st++)isProcessableValue(at[st])&&(rt+=processStyleName(it)+":"+processStyleValue(it,at[st])+";");else{var ot=handleInterpolation(et,_e,at);switch(it){case"animation":case"animationName":{rt+=processStyleName(it)+":"+ot+";";break}default:rt+=it+"{"+ot+"}"}}}return rt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function et(_e,tt,rt){if(_e.length===1&&typeof _e[0]=="object"&&_e[0]!==null&&_e[0].styles!==void 0)return _e[0];var nt=!0,it="";cursor=void 0;var at=_e[0];at==null||at.raw===void 0?(nt=!1,it+=handleInterpolation(rt,tt,at)):it+=at[0];for(var st=1;st<_e.length;st++)it+=handleInterpolation(rt,tt,_e[st]),nt&&(it+=at[st]);labelPattern.lastIndex=0;for(var ot="",ct;(ct=labelPattern.exec(it))!==null;)ot+="-"+ct[1];var lt=murmur2(it)+ot;return{name:lt,styles:it,next:cursor}},syncFallback=function et(_e){return _e()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=react.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function et(_e){return react.exports.forwardRef(function(tt,rt){var nt=react.exports.useContext(EmotionCacheContext);return _e(tt,nt,rt)})},ThemeContext=react.exports.createContext({});function css(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];return serializeStyles(_e)}var keyframes=function et(){var _e=css.apply(void 0,arguments),tt="animation-"+_e.name;return{name:tt,styles:"@keyframes "+tt+"{"+_e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function et(_e){return _e!=="theme"},getDefaultShouldForwardProp=function et(_e){return typeof _e=="string"&&_e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function et(_e,tt,rt){var nt;if(tt){var it=tt.shouldForwardProp;nt=_e.__emotion_forwardProp&&it?function(at){return _e.__emotion_forwardProp(at)&&it(at)}:it}return typeof nt!="function"&&rt&&(nt=_e.__emotion_forwardProp),nt},Insertion=function et(_e){var tt=_e.cache,rt=_e.serialized,nt=_e.isStringTag;return registerStyles(tt,rt,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,rt,nt)}),null},createStyled=function et(_e,tt){var rt=_e.__emotion_real===_e,nt=rt&&_e.__emotion_base||_e,it,at;tt!==void 0&&(it=tt.label,at=tt.target);var st=composeShouldForwardProps(_e,tt,rt),ot=st||getDefaultShouldForwardProp(nt),ct=!ot("as");return function(){var lt=arguments,ut=rt&&_e.__emotion_styles!==void 0?_e.__emotion_styles.slice(0):[];if(it!==void 0&&ut.push("label:"+it+";"),lt[0]==null||lt[0].raw===void 0)ut.push.apply(ut,lt);else{ut.push(lt[0][0]);for(var dt=lt.length,mt=1;mt<dt;mt++)ut.push(lt[mt],lt[0][mt])}var gt=withEmotionCache(function(bt,ht,yt){var wt=ct&&bt.as||nt,xt="",At=[],kt=bt;if(bt.theme==null){kt={};for(var Ot in bt)kt[Ot]=bt[Ot];kt.theme=react.exports.useContext(ThemeContext)}typeof bt.className=="string"?xt=getRegisteredStyles(ht.registered,At,bt.className):bt.className!=null&&(xt=bt.className+" ");var Wt=serializeStyles(ut.concat(At),ht.registered,kt);xt+=ht.key+"-"+Wt.name,at!==void 0&&(xt+=" "+at);var Ht=ct&&st===void 0?getDefaultShouldForwardProp(wt):ot,Zt={};for(var Lt in bt)ct&&Lt==="as"||Ht(Lt)&&(Zt[Lt]=bt[Lt]);return Zt.className=xt,Zt.ref=yt,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:ht,serialized:Wt,isStringTag:typeof wt=="string"}),react.exports.createElement(wt,Zt))});return gt.displayName=it!==void 0?it:"Styled("+(typeof nt=="string"?nt:nt.displayName||nt.name||"Component")+")",gt.defaultProps=_e.defaultProps,gt.__emotion_real=gt,gt.__emotion_base=nt,gt.__emotion_styles=ut,gt.__emotion_forwardProp=st,Object.defineProperty(gt,"toString",{value:function(){return"."+at}}),gt.withComponent=function(bt,ht){return et(bt,_extends({},tt,ht,{shouldForwardProp:composeShouldForwardProps(gt,ht,!0)})).apply(void 0,ut)},gt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(et){newStyled[et]=newStyled(et)});var colorString$1={exports:{}},colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function et(_e){return!_e||typeof _e=="string"?!1:_e instanceof Array||Array.isArray(_e)||_e.length>=0&&(_e.splice instanceof Function||Object.getOwnPropertyDescriptor(_e,_e.length-1)&&_e.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function et(_e){for(var tt=[],rt=0,nt=_e.length;rt<nt;rt++){var it=_e[rt];isArrayish(it)?tt=concat.call(tt,slice.call(it)):tt.push(it)}return tt};swizzle$1.wrap=function(et){return function(){return et(swizzle$1(arguments))}};var colorNames=colorName$1,swizzle=simpleSwizzle.exports,hasOwnProperty=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(et){var _e=et.substring(0,3).toLowerCase(),tt,rt;switch(_e){case"hsl":tt=cs.get.hsl(et),rt="hsl";break;case"hwb":tt=cs.get.hwb(et),rt="hwb";break;default:tt=cs.get.rgb(et),rt="rgb";break}return tt?{model:rt,value:tt}:null};cs.get.rgb=function(et){if(!et)return null;var _e=/^#([a-f0-9]{3,4})$/i,tt=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,rt=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,nt=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,it=/^(\w+)$/,at=[0,0,0,1],st,ot,ct;if(st=et.match(tt)){for(ct=st[2],st=st[1],ot=0;ot<3;ot++){var lt=ot*2;at[ot]=parseInt(st.slice(lt,lt+2),16)}ct&&(at[3]=parseInt(ct,16)/255)}else if(st=et.match(_e)){for(st=st[1],ct=st[3],ot=0;ot<3;ot++)at[ot]=parseInt(st[ot]+st[ot],16);ct&&(at[3]=parseInt(ct+ct,16)/255)}else if(st=et.match(rt)){for(ot=0;ot<3;ot++)at[ot]=parseInt(st[ot+1],0);st[4]&&(st[5]?at[3]=parseFloat(st[4])*.01:at[3]=parseFloat(st[4]))}else if(st=et.match(nt)){for(ot=0;ot<3;ot++)at[ot]=Math.round(parseFloat(st[ot+1])*2.55);st[4]&&(st[5]?at[3]=parseFloat(st[4])*.01:at[3]=parseFloat(st[4]))}else return(st=et.match(it))?st[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,st[1])?(at=colorNames[st[1]],at[3]=1,at):null:null;for(ot=0;ot<3;ot++)at[ot]=clamp(at[ot],0,255);return at[3]=clamp(at[3],0,1),at};cs.get.hsl=function(et){if(!et)return null;var _e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,tt=et.match(_e);if(tt){var rt=parseFloat(tt[4]),nt=(parseFloat(tt[1])%360+360)%360,it=clamp(parseFloat(tt[2]),0,100),at=clamp(parseFloat(tt[3]),0,100),st=clamp(isNaN(rt)?1:rt,0,1);return[nt,it,at,st]}return null};cs.get.hwb=function(et){if(!et)return null;var _e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,tt=et.match(_e);if(tt){var rt=parseFloat(tt[4]),nt=(parseFloat(tt[1])%360+360)%360,it=clamp(parseFloat(tt[2]),0,100),at=clamp(parseFloat(tt[3]),0,100),st=clamp(isNaN(rt)?1:rt,0,1);return[nt,it,at,st]}return null};cs.to.hex=function(){var et=swizzle(arguments);return"#"+hexDouble(et[0])+hexDouble(et[1])+hexDouble(et[2])+(et[3]<1?hexDouble(Math.round(et[3]*255)):"")};cs.to.rgb=function(){var et=swizzle(arguments);return et.length<4||et[3]===1?"rgb("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+")":"rgba("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+", "+et[3]+")"};cs.to.rgb.percent=function(){var et=swizzle(arguments),_e=Math.round(et[0]/255*100),tt=Math.round(et[1]/255*100),rt=Math.round(et[2]/255*100);return et.length<4||et[3]===1?"rgb("+_e+"%, "+tt+"%, "+rt+"%)":"rgba("+_e+"%, "+tt+"%, "+rt+"%, "+et[3]+")"};cs.to.hsl=function(){var et=swizzle(arguments);return et.length<4||et[3]===1?"hsl("+et[0]+", "+et[1]+"%, "+et[2]+"%)":"hsla("+et[0]+", "+et[1]+"%, "+et[2]+"%, "+et[3]+")"};cs.to.hwb=function(){var et=swizzle(arguments),_e="";return et.length>=4&&et[3]!==1&&(_e=", "+et[3]),"hwb("+et[0]+", "+et[1]+"%, "+et[2]+"%"+_e+")"};cs.to.keyword=function(et){return reverseNames[et.slice(0,3)]};function clamp(et,_e,tt){return Math.min(Math.max(_e,et),tt)}function hexDouble(et){var _e=Math.round(et).toString(16).toUpperCase();return _e.length<2?"0"+_e:_e}var colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const cssKeywords=colorName,reverseKeywords={};for(const et of Object.keys(cssKeywords))reverseKeywords[cssKeywords[et]]=et;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const et of Object.keys(convert$2)){if(!("channels"in convert$2[et]))throw new Error("missing channels property: "+et);if(!("labels"in convert$2[et]))throw new Error("missing channel labels property: "+et);if(convert$2[et].labels.length!==convert$2[et].channels)throw new Error("channel and label counts mismatch: "+et);const{channels:_e,labels:tt}=convert$2[et];delete convert$2[et].channels,delete convert$2[et].labels,Object.defineProperty(convert$2[et],"channels",{value:_e}),Object.defineProperty(convert$2[et],"labels",{value:tt})}convert$2.rgb.hsl=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.min(_e,tt,rt),it=Math.max(_e,tt,rt),at=it-nt;let st,ot;it===nt?st=0:_e===it?st=(tt-rt)/at:tt===it?st=2+(rt-_e)/at:rt===it&&(st=4+(_e-tt)/at),st=Math.min(st*60,360),st<0&&(st+=360);const ct=(nt+it)/2;return it===nt?ot=0:ct<=.5?ot=at/(it+nt):ot=at/(2-it-nt),[st,ot*100,ct*100]};convert$2.rgb.hsv=function(et){let _e,tt,rt,nt,it;const at=et[0]/255,st=et[1]/255,ot=et[2]/255,ct=Math.max(at,st,ot),lt=ct-Math.min(at,st,ot),ut=function(dt){return(ct-dt)/6/lt+1/2};return lt===0?(nt=0,it=0):(it=lt/ct,_e=ut(at),tt=ut(st),rt=ut(ot),at===ct?nt=rt-tt:st===ct?nt=1/3+_e-rt:ot===ct&&(nt=2/3+tt-_e),nt<0?nt+=1:nt>1&&(nt-=1)),[nt*360,it*100,ct*100]};convert$2.rgb.hwb=function(et){const _e=et[0],tt=et[1];let rt=et[2];const nt=convert$2.rgb.hsl(et)[0],it=1/255*Math.min(_e,Math.min(tt,rt));return rt=1-1/255*Math.max(_e,Math.max(tt,rt)),[nt,it*100,rt*100]};convert$2.rgb.cmyk=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.min(1-_e,1-tt,1-rt),it=(1-_e-nt)/(1-nt)||0,at=(1-tt-nt)/(1-nt)||0,st=(1-rt-nt)/(1-nt)||0;return[it*100,at*100,st*100,nt*100]};function comparativeDistance(et,_e){return(et[0]-_e[0])**2+(et[1]-_e[1])**2+(et[2]-_e[2])**2}convert$2.rgb.keyword=function(et){const _e=reverseKeywords[et];if(_e)return _e;let tt=1/0,rt;for(const nt of Object.keys(cssKeywords)){const it=cssKeywords[nt],at=comparativeDistance(et,it);at<tt&&(tt=at,rt=nt)}return rt};convert$2.keyword.rgb=function(et){return cssKeywords[et]};convert$2.rgb.xyz=function(et){let _e=et[0]/255,tt=et[1]/255,rt=et[2]/255;_e=_e>.04045?((_e+.055)/1.055)**2.4:_e/12.92,tt=tt>.04045?((tt+.055)/1.055)**2.4:tt/12.92,rt=rt>.04045?((rt+.055)/1.055)**2.4:rt/12.92;const nt=_e*.4124+tt*.3576+rt*.1805,it=_e*.2126+tt*.7152+rt*.0722,at=_e*.0193+tt*.1192+rt*.9505;return[nt*100,it*100,at*100]};convert$2.rgb.lab=function(et){const _e=convert$2.rgb.xyz(et);let tt=_e[0],rt=_e[1],nt=_e[2];tt/=95.047,rt/=100,nt/=108.883,tt=tt>.008856?tt**(1/3):7.787*tt+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116,nt=nt>.008856?nt**(1/3):7.787*nt+16/116;const it=116*rt-16,at=500*(tt-rt),st=200*(rt-nt);return[it,at,st]};convert$2.hsl.rgb=function(et){const _e=et[0]/360,tt=et[1]/100,rt=et[2]/100;let nt,it,at;if(tt===0)return at=rt*255,[at,at,at];rt<.5?nt=rt*(1+tt):nt=rt+tt-rt*tt;const st=2*rt-nt,ot=[0,0,0];for(let ct=0;ct<3;ct++)it=_e+1/3*-(ct-1),it<0&&it++,it>1&&it--,6*it<1?at=st+(nt-st)*6*it:2*it<1?at=nt:3*it<2?at=st+(nt-st)*(2/3-it)*6:at=st,ot[ct]=at*255;return ot};convert$2.hsl.hsv=function(et){const _e=et[0];let tt=et[1]/100,rt=et[2]/100,nt=tt;const it=Math.max(rt,.01);rt*=2,tt*=rt<=1?rt:2-rt,nt*=it<=1?it:2-it;const at=(rt+tt)/2,st=rt===0?2*nt/(it+nt):2*tt/(rt+tt);return[_e,st*100,at*100]};convert$2.hsv.rgb=function(et){const _e=et[0]/60,tt=et[1]/100;let rt=et[2]/100;const nt=Math.floor(_e)%6,it=_e-Math.floor(_e),at=255*rt*(1-tt),st=255*rt*(1-tt*it),ot=255*rt*(1-tt*(1-it));switch(rt*=255,nt){case 0:return[rt,ot,at];case 1:return[st,rt,at];case 2:return[at,rt,ot];case 3:return[at,st,rt];case 4:return[ot,at,rt];case 5:return[rt,at,st]}};convert$2.hsv.hsl=function(et){const _e=et[0],tt=et[1]/100,rt=et[2]/100,nt=Math.max(rt,.01);let it,at;at=(2-tt)*rt;const st=(2-tt)*nt;return it=tt*nt,it/=st<=1?st:2-st,it=it||0,at/=2,[_e,it*100,at*100]};convert$2.hwb.rgb=function(et){const _e=et[0]/360;let tt=et[1]/100,rt=et[2]/100;const nt=tt+rt;let it;nt>1&&(tt/=nt,rt/=nt);const at=Math.floor(6*_e),st=1-rt;it=6*_e-at,(at&1)!==0&&(it=1-it);const ot=tt+it*(st-tt);let ct,lt,ut;switch(at){default:case 6:case 0:ct=st,lt=ot,ut=tt;break;case 1:ct=ot,lt=st,ut=tt;break;case 2:ct=tt,lt=st,ut=ot;break;case 3:ct=tt,lt=ot,ut=st;break;case 4:ct=ot,lt=tt,ut=st;break;case 5:ct=st,lt=tt,ut=ot;break}return[ct*255,lt*255,ut*255]};convert$2.cmyk.rgb=function(et){const _e=et[0]/100,tt=et[1]/100,rt=et[2]/100,nt=et[3]/100,it=1-Math.min(1,_e*(1-nt)+nt),at=1-Math.min(1,tt*(1-nt)+nt),st=1-Math.min(1,rt*(1-nt)+nt);return[it*255,at*255,st*255]};convert$2.xyz.rgb=function(et){const _e=et[0]/100,tt=et[1]/100,rt=et[2]/100;let nt,it,at;return nt=_e*3.2406+tt*-1.5372+rt*-.4986,it=_e*-.9689+tt*1.8758+rt*.0415,at=_e*.0557+tt*-.204+rt*1.057,nt=nt>.0031308?1.055*nt**(1/2.4)-.055:nt*12.92,it=it>.0031308?1.055*it**(1/2.4)-.055:it*12.92,at=at>.0031308?1.055*at**(1/2.4)-.055:at*12.92,nt=Math.min(Math.max(0,nt),1),it=Math.min(Math.max(0,it),1),at=Math.min(Math.max(0,at),1),[nt*255,it*255,at*255]};convert$2.xyz.lab=function(et){let _e=et[0],tt=et[1],rt=et[2];_e/=95.047,tt/=100,rt/=108.883,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,tt=tt>.008856?tt**(1/3):7.787*tt+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116;const nt=116*tt-16,it=500*(_e-tt),at=200*(tt-rt);return[nt,it,at]};convert$2.lab.xyz=function(et){const _e=et[0],tt=et[1],rt=et[2];let nt,it,at;it=(_e+16)/116,nt=tt/500+it,at=it-rt/200;const st=it**3,ot=nt**3,ct=at**3;return it=st>.008856?st:(it-16/116)/7.787,nt=ot>.008856?ot:(nt-16/116)/7.787,at=ct>.008856?ct:(at-16/116)/7.787,nt*=95.047,it*=100,at*=108.883,[nt,it,at]};convert$2.lab.lch=function(et){const _e=et[0],tt=et[1],rt=et[2];let nt;nt=Math.atan2(rt,tt)*360/2/Math.PI,nt<0&&(nt+=360);const at=Math.sqrt(tt*tt+rt*rt);return[_e,at,nt]};convert$2.lch.lab=function(et){const _e=et[0],tt=et[1],nt=et[2]/360*2*Math.PI,it=tt*Math.cos(nt),at=tt*Math.sin(nt);return[_e,it,at]};convert$2.rgb.ansi16=function(et,_e=null){const[tt,rt,nt]=et;let it=_e===null?convert$2.rgb.hsv(et)[2]:_e;if(it=Math.round(it/50),it===0)return 30;let at=30+(Math.round(nt/255)<<2|Math.round(rt/255)<<1|Math.round(tt/255));return it===2&&(at+=60),at};convert$2.hsv.ansi16=function(et){return convert$2.rgb.ansi16(convert$2.hsv.rgb(et),et[2])};convert$2.rgb.ansi256=function(et){const _e=et[0],tt=et[1],rt=et[2];return _e===tt&&tt===rt?_e<8?16:_e>248?231:Math.round((_e-8)/247*24)+232:16+36*Math.round(_e/255*5)+6*Math.round(tt/255*5)+Math.round(rt/255*5)};convert$2.ansi16.rgb=function(et){let _e=et%10;if(_e===0||_e===7)return et>50&&(_e+=3.5),_e=_e/10.5*255,[_e,_e,_e];const tt=(~~(et>50)+1)*.5,rt=(_e&1)*tt*255,nt=(_e>>1&1)*tt*255,it=(_e>>2&1)*tt*255;return[rt,nt,it]};convert$2.ansi256.rgb=function(et){if(et>=232){const it=(et-232)*10+8;return[it,it,it]}et-=16;let _e;const tt=Math.floor(et/36)/5*255,rt=Math.floor((_e=et%36)/6)/5*255,nt=_e%6/5*255;return[tt,rt,nt]};convert$2.rgb.hex=function(et){const tt=(((Math.round(et[0])&255)<<16)+((Math.round(et[1])&255)<<8)+(Math.round(et[2])&255)).toString(16).toUpperCase();return"000000".substring(tt.length)+tt};convert$2.hex.rgb=function(et){const _e=et.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_e)return[0,0,0];let tt=_e[0];_e[0].length===3&&(tt=tt.split("").map(st=>st+st).join(""));const rt=parseInt(tt,16),nt=rt>>16&255,it=rt>>8&255,at=rt&255;return[nt,it,at]};convert$2.rgb.hcg=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.max(Math.max(_e,tt),rt),it=Math.min(Math.min(_e,tt),rt),at=nt-it;let st,ot;return at<1?st=it/(1-at):st=0,at<=0?ot=0:nt===_e?ot=(tt-rt)/at%6:nt===tt?ot=2+(rt-_e)/at:ot=4+(_e-tt)/at,ot/=6,ot%=1,[ot*360,at*100,st*100]};convert$2.hsl.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=tt<.5?2*_e*tt:2*_e*(1-tt);let nt=0;return rt<1&&(nt=(tt-.5*rt)/(1-rt)),[et[0],rt*100,nt*100]};convert$2.hsv.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e*tt;let nt=0;return rt<1&&(nt=(tt-rt)/(1-rt)),[et[0],rt*100,nt*100]};convert$2.hcg.rgb=function(et){const _e=et[0]/360,tt=et[1]/100,rt=et[2]/100;if(tt===0)return[rt*255,rt*255,rt*255];const nt=[0,0,0],it=_e%1*6,at=it%1,st=1-at;let ot=0;switch(Math.floor(it)){case 0:nt[0]=1,nt[1]=at,nt[2]=0;break;case 1:nt[0]=st,nt[1]=1,nt[2]=0;break;case 2:nt[0]=0,nt[1]=1,nt[2]=at;break;case 3:nt[0]=0,nt[1]=st,nt[2]=1;break;case 4:nt[0]=at,nt[1]=0,nt[2]=1;break;default:nt[0]=1,nt[1]=0,nt[2]=st}return ot=(1-tt)*rt,[(tt*nt[0]+ot)*255,(tt*nt[1]+ot)*255,(tt*nt[2]+ot)*255]};convert$2.hcg.hsv=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e+tt*(1-_e);let nt=0;return rt>0&&(nt=_e/rt),[et[0],nt*100,rt*100]};convert$2.hcg.hsl=function(et){const _e=et[1]/100,rt=et[2]/100*(1-_e)+.5*_e;let nt=0;return rt>0&&rt<.5?nt=_e/(2*rt):rt>=.5&&rt<1&&(nt=_e/(2*(1-rt))),[et[0],nt*100,rt*100]};convert$2.hcg.hwb=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e+tt*(1-_e);return[et[0],(rt-_e)*100,(1-rt)*100]};convert$2.hwb.hcg=function(et){const _e=et[1]/100,rt=1-et[2]/100,nt=rt-_e;let it=0;return nt<1&&(it=(rt-nt)/(1-nt)),[et[0],nt*100,it*100]};convert$2.apple.rgb=function(et){return[et[0]/65535*255,et[1]/65535*255,et[2]/65535*255]};convert$2.rgb.apple=function(et){return[et[0]/255*65535,et[1]/255*65535,et[2]/255*65535]};convert$2.gray.rgb=function(et){return[et[0]/100*255,et[0]/100*255,et[0]/100*255]};convert$2.gray.hsl=function(et){return[0,0,et[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(et){return[0,100,et[0]]};convert$2.gray.cmyk=function(et){return[0,0,0,et[0]]};convert$2.gray.lab=function(et){return[et[0],0,0]};convert$2.gray.hex=function(et){const _e=Math.round(et[0]/100*255)&255,rt=((_e<<16)+(_e<<8)+_e).toString(16).toUpperCase();return"000000".substring(rt.length)+rt};convert$2.rgb.gray=function(et){return[(et[0]+et[1]+et[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const et={},_e=Object.keys(conversions$1);for(let tt=_e.length,rt=0;rt<tt;rt++)et[_e[rt]]={distance:-1,parent:null};return et}function deriveBFS(et){const _e=buildGraph(),tt=[et];for(_e[et].distance=0;tt.length;){const rt=tt.pop(),nt=Object.keys(conversions$1[rt]);for(let it=nt.length,at=0;at<it;at++){const st=nt[at],ot=_e[st];ot.distance===-1&&(ot.distance=_e[rt].distance+1,ot.parent=rt,tt.unshift(st))}}return _e}function link(et,_e){return function(tt){return _e(et(tt))}}function wrapConversion(et,_e){const tt=[_e[et].parent,et];let rt=conversions$1[_e[et].parent][et],nt=_e[et].parent;for(;_e[nt].parent;)tt.unshift(_e[nt].parent),rt=link(conversions$1[_e[nt].parent][nt],rt),nt=_e[nt].parent;return rt.conversion=tt,rt}var route$1=function(et){const _e=deriveBFS(et),tt={},rt=Object.keys(_e);for(let nt=rt.length,it=0;it<nt;it++){const at=rt[it];_e[at].parent!==null&&(tt[at]=wrapConversion(at,_e))}return tt};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(et){const _e=function(...tt){const rt=tt[0];return rt==null?rt:(rt.length>1&&(tt=rt),et(tt))};return"conversion"in et&&(_e.conversion=et.conversion),_e}function wrapRounded(et){const _e=function(...tt){const rt=tt[0];if(rt==null)return rt;rt.length>1&&(tt=rt);const nt=et(tt);if(typeof nt=="object")for(let it=nt.length,at=0;at<it;at++)nt[at]=Math.round(nt[at]);return nt};return"conversion"in et&&(_e.conversion=et.conversion),_e}models.forEach(et=>{convert$1[et]={},Object.defineProperty(convert$1[et],"channels",{value:conversions[et].channels}),Object.defineProperty(convert$1[et],"labels",{value:conversions[et].labels});const _e=route(et);Object.keys(_e).forEach(rt=>{const nt=_e[rt];convert$1[et][rt]=wrapRounded(nt),convert$1[et][rt].raw=wrapRaw(nt)})});var colorConvert=convert$1;const colorString=colorString$1.exports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const et of Object.keys(convert))hashedModelKeys[[...convert[et].labels].sort().join("")]=et;const limiters={};function Color(et,_e){if(!(this instanceof Color))return new Color(et,_e);if(_e&&_e in skippedModels&&(_e=null),_e&&!(_e in convert))throw new Error("Unknown model: "+_e);let tt,rt;if(et==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(et instanceof Color)this.model=et.model,this.color=[...et.color],this.valpha=et.valpha;else if(typeof et=="string"){const nt=colorString.get(et);if(nt===null)throw new Error("Unable to parse color from string: "+et);this.model=nt.model,rt=convert[this.model].channels,this.color=nt.value.slice(0,rt),this.valpha=typeof nt.value[rt]=="number"?nt.value[rt]:1}else if(et.length>0){this.model=_e||"rgb",rt=convert[this.model].channels;const nt=Array.prototype.slice.call(et,0,rt);this.color=zeroArray(nt,rt),this.valpha=typeof et[rt]=="number"?et[rt]:1}else if(typeof et=="number")this.model="rgb",this.color=[et>>16&255,et>>8&255,et&255],this.valpha=1;else{this.valpha=1;const nt=Object.keys(et);"alpha"in et&&(nt.splice(nt.indexOf("alpha"),1),this.valpha=typeof et.alpha=="number"?et.alpha:0);const it=nt.sort().join("");if(!(it in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(et));this.model=hashedModelKeys[it];const{labels:at}=convert[this.model],st=[];for(tt=0;tt<at.length;tt++)st.push(et[at[tt]]);this.color=zeroArray(st)}if(limiters[this.model])for(rt=convert[this.model].channels,tt=0;tt<rt;tt++){const nt=limiters[this.model][tt];nt&&(this.color[tt]=nt(this.color[tt]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(et){let _e=this.model in colorString.to?this:this.rgb();_e=_e.round(typeof et=="number"?et:1);const tt=_e.valpha===1?_e.color:[..._e.color,this.valpha];return colorString.to[_e.model](tt)},percentString(et){const _e=this.rgb().round(typeof et=="number"?et:1),tt=_e.valpha===1?_e.color:[..._e.color,this.valpha];return colorString.to.rgb.percent(tt)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const et={},{channels:_e}=convert[this.model],{labels:tt}=convert[this.model];for(let rt=0;rt<_e;rt++)et[tt[rt]]=this.color[rt];return this.valpha!==1&&(et.alpha=this.valpha),et},unitArray(){const et=this.rgb().color;return et[0]/=255,et[1]/=255,et[2]/=255,this.valpha!==1&&et.push(this.valpha),et},unitObject(){const et=this.rgb().object();return et.r/=255,et.g/=255,et.b/=255,this.valpha!==1&&(et.alpha=this.valpha),et},round(et){return et=Math.max(et||0,0),new Color([...this.color.map(roundToPlace(et)),this.valpha],this.model)},alpha(et){return et!==void 0?new Color([...this.color,Math.max(0,Math.min(1,et))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,et=>(et%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(et){return et!==void 0?new Color(et):convert[this.model].keyword(this.color)},hex(et){return et!==void 0?new Color(et):colorString.to.hex(this.rgb().round().color)},hexa(et){if(et!==void 0)return new Color(et);const _e=this.rgb().round().color;let tt=Math.round(this.valpha*255).toString(16).toUpperCase();return tt.length===1&&(tt="0"+tt),colorString.to.hex(_e)+tt},rgbNumber(){const et=this.rgb().color;return(et[0]&255)<<16|(et[1]&255)<<8|et[2]&255},luminosity(){const et=this.rgb().color,_e=[];for(const[tt,rt]of et.entries()){const nt=rt/255;_e[tt]=nt<=.04045?nt/12.92:((nt+.055)/1.055)**2.4}return .2126*_e[0]+.7152*_e[1]+.0722*_e[2]},contrast(et){const _e=this.luminosity(),tt=et.luminosity();return _e>tt?(_e+.05)/(tt+.05):(tt+.05)/(_e+.05)},level(et){const _e=this.contrast(et);return _e>=7?"AAA":_e>=4.5?"AA":""},isDark(){const et=this.rgb().color;return(et[0]*2126+et[1]*7152+et[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const et=this.rgb();for(let _e=0;_e<3;_e++)et.color[_e]=255-et.color[_e];return et},lighten(et){const _e=this.hsl();return _e.color[2]+=_e.color[2]*et,_e},darken(et){const _e=this.hsl();return _e.color[2]-=_e.color[2]*et,_e},saturate(et){const _e=this.hsl();return _e.color[1]+=_e.color[1]*et,_e},desaturate(et){const _e=this.hsl();return _e.color[1]-=_e.color[1]*et,_e},whiten(et){const _e=this.hwb();return _e.color[1]+=_e.color[1]*et,_e},blacken(et){const _e=this.hwb();return _e.color[2]+=_e.color[2]*et,_e},grayscale(){const et=this.rgb().color,_e=et[0]*.3+et[1]*.59+et[2]*.11;return Color.rgb(_e,_e,_e)},fade(et){return this.alpha(this.valpha-this.valpha*et)},opaquer(et){return this.alpha(this.valpha+this.valpha*et)},rotate(et){const _e=this.hsl();let tt=_e.color[0];return tt=(tt+et)%360,tt=tt<0?360+tt:tt,_e.color[0]=tt,_e},mix(et,_e){if(!et||!et.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof et);const tt=et.rgb(),rt=this.rgb(),nt=_e===void 0?.5:_e,it=2*nt-1,at=tt.alpha()-rt.alpha(),st=((it*at===-1?it:(it+at)/(1+it*at))+1)/2,ot=1-st;return Color.rgb(st*tt.red()+ot*rt.red(),st*tt.green()+ot*rt.green(),st*tt.blue()+ot*rt.blue(),tt.alpha()*nt+rt.alpha()*(1-nt))}};for(const et of Object.keys(convert)){if(skippedModels.includes(et))continue;const{channels:_e}=convert[et];Color.prototype[et]=function(...tt){return this.model===et?new Color(this):tt.length>0?new Color(tt,et):new Color([...assertArray(convert[this.model][et].raw(this.color)),this.valpha],et)},Color[et]=function(...tt){let rt=tt[0];return typeof rt=="number"&&(rt=zeroArray(tt,_e)),new Color(rt,et)}}function roundTo(et,_e){return Number(et.toFixed(_e))}function roundToPlace(et){return function(_e){return roundTo(_e,et)}}function getset(et,_e,tt){et=Array.isArray(et)?et:[et];for(const rt of et)(limiters[rt]||(limiters[rt]=[]))[_e]=tt;return et=et[0],function(rt){let nt;return rt!==void 0?(tt&&(rt=tt(rt)),nt=this[et](),nt.color[_e]=rt,nt):(nt=this[et]().color[_e],tt&&(nt=tt(nt)),nt)}}function maxfn(et){return function(_e){return Math.max(0,Math.min(et,_e))}}function assertArray(et){return Array.isArray(et)?et:[et]}function zeroArray(et,_e){for(let tt=0;tt<_e;tt++)typeof et[tt]!="number"&&(et[tt]=0);return et}var color=Color;const color$1=color,DEFAULT_API_KEY="f9e23156ccfc6173c5267eaabf320fb692ffab1c2d572095a58091cbb67590cd";function transformChainToMinimalWagmiChain(et){return{id:et.chainId,name:et.name,rpcUrls:et.rpc,nativeCurrency:{name:et.nativeCurrency.name,symbol:et.nativeCurrency.symbol,decimals:et.nativeCurrency.decimals},testnet:et.testnet,blockExplorers:et.explorers}}const defaultdAppMeta={name:"thirdweb powered dApp"},defaultWalletConnectors=["metamask","walletConnect","walletLink"],ThirdwebProvider=et=>{let{sdkOptions:_e,supportedChains:tt=defaultChains$1,activeChain:rt,walletConnectors:nt=defaultWalletConnectors,dAppMeta:it=defaultdAppMeta,authConfig:at,storageInterface:st,queryClient:ot,autoConnect:ct=!0,children:lt,thirdwebApiKey:ut=DEFAULT_API_KEY,alchemyApiKey:dt,infuraApiKey:mt,desiredChainId:gt,chainRpc:bt}=et;const ht=react.exports.useMemo(()=>!rt||typeof rt=="string"||typeof rt=="number"?tt:[...tt,rt],[tt,rt]),yt=react.exports.useMemo(()=>{var xt,At;return rt?typeof rt=="number"?rt:typeof rt=="string"?(At=tt.find(kt=>kt.slug===rt))==null?void 0:At.chainId:rt.chainId:(xt=tt[0])==null?void 0:xt.chainId},[rt,tt]),wt=react.exports.useMemo(()=>{const xt=ht.map(transformChainToMinimalWagmiChain),At={...ht.reduce((Wt,Ht)=>{try{Wt[Ht.chainId]=getChainRPC(Ht,{thirdwebApiKey:ut,alchemyApiKey:dt,infuraApiKey:mt})}catch{console.warn("No viable rpc url for chain: ",Ht.slug),Wt[Ht.chainId]=""}return Wt},{})},kt={name:it.name,url:it.url||"",icons:[it.logoUrl||""],description:it.description||""},Ot={appName:it.name,appLogoUrl:it.logoUrl,darkMode:it.isDarkMode};return{autoConnect:ct,connectorStorageKey:"tw:provider:connectors",connectors:Wt=>{let{chainId:Ht}=Wt;return nt.map(Zt=>{if(Zt instanceof Connector$1)return Zt;if(typeof Zt=="string"&&(Zt==="injected"||Zt==="metamask")||typeof Zt=="object"&&(Zt.name==="injected"||Zt.name==="metamask"))return new InjectedConnector({options:typeof Zt=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:Zt.options,chains:xt});if(typeof Zt=="string"&&Zt==="walletConnect"||typeof Zt=="object"&&Zt.name==="walletConnect")return new WalletConnectConnector({options:typeof Zt=="string"?{chainId:Ht,rpc:At,clientMeta:kt,qrcode:!0}:{chainId:Ht,rpc:At,clientMeta:kt,qrcode:!0,...Zt.options},chains:xt});if(typeof Zt=="string"&&(Zt==="coinbase"||Zt==="walletLink")||typeof Zt=="object"&&(Zt.name==="coinbase"||Zt.name==="walletLink")){const Lt=At[Ht||1];return new CoinbaseWalletConnector({chains:xt,options:typeof Zt=="string"?{...Ot,jsonRpcUrl:Lt}:{...Ot,jsonRpcUrl:Lt,...Zt.options}})}return null}).filter(Zt=>Zt!==null)}}},[ht,it.name,it.url,it.logoUrl,it.description,it.isDarkMode,ct,ut,dt,mt,nt]);return jsx(Provider,{...wt,children:jsx(ThirdwebSDKProviderWagmiWrapper,{queryClient:ot,sdkOptions:_e,supportedChains:ht,activeChain:yt||gt,storageInterface:st,authConfig:at,thirdwebApiKey:ut,alchemyApiKey:dt,infuraApiKey:mt,children:lt})})},ThirdwebSDKProviderWagmiWrapper=et=>{let{children:_e,...tt}=et;const[rt]=useSigner();return jsx(ThirdwebSDKProvider,{signer:rt.data,...tt,children:_e})};function detectEnv(et){return detect(et)}function isAndroid(){const et=detectOS();return et?et.toLowerCase().includes("android"):!1}function isIOS(){const et=detectOS();return et?et.toLowerCase().includes("ios")||et.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function detectOS(){const et=detectEnv();return et!=null&&et.os?et.os:void 0}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function useMetamask(){var ot;const et=useContext();invariant(et,"useMetamask() can only be used inside <ThirdwebProvider />. If you are using <ThirdwebSDKProvider /> you will have to use your own wallet-connection logic.");const[_e,tt]=useConnect(),rt=typeof window<"u"&&((ot=window.ethereum)==null?void 0:ot.isMetaMask),nt=isMobile()&&!rt,it=_e.data.connectors.find(ct=>ct.id==="injected"),at=_e.data.connectors.find(ct=>ct.id==="walletConnect"),st=(nt?at:it)||it;return invariant(st,"No connector found, please make sure you provide the InjectedConnector to your <ThirdwebProvider />"),async()=>{if(!rt){const ct=`https://metamask.app.link/dapp/${window.location.toString()}`;return window.open(ct,"_blank"),Promise.resolve({error:new Error("metamask not injected")})}return await tt(st)}}globalThis.Buffer=buffer$2.Buffer;globalThis.Buffer=buffer$2.Buffer;const DEFAULT_IPFS_GATEWAY="https://gateway.ipfscdn.io/ipfs/",DEFAULT_IPFS_RESOLVER_OPTIONS={gatewayUrl:DEFAULT_IPFS_GATEWAY};function resolveIpfsUri(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_IPFS_RESOLVER_OPTIONS;if(!!et)return et.startsWith("ipfs://")?et.replace("ipfs://",_e.gatewayUrl):et}async function resolveMimeType(et){if(!et)return;const _e=lite.getType(et);if(_e)return _e;const tt=await fetch(et,{method:"HEAD"});if(tt.ok&&tt.headers.has("content-type"))return tt.headers.get("content-type")||void 0}let video;function supportsVideoType(et){return typeof window>"u"||!et||!et.startsWith("video/")?"":(video||(video=document.createElement("video")),video.canPlayType(et))}function shouldRenderVideoTag(et){return!!supportsVideoType(et)}let audio;function supportsAudioType(et){return typeof window>"u"||!et||!et.startsWith("audio/")?"":(audio||(audio=document.createElement("audio")),audio.canPlayType(et))}function shouldRenderAudioTag(et){return!!supportsAudioType(et)}function mergeRefs(et){return _e=>{et.forEach(tt=>{typeof tt=="function"?tt(_e):tt!=null&&(tt.current=_e)})}}const CarbonDocumentUnknown=et=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:[jsx("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),jsx("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),jsx("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})]}),CarbonDocumentAudio=et=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:[jsx("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),jsx("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})]}),CarbonPauseFilled=et=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:jsx("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})}),CarbonPlayFilledAlt=et=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:jsx("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})}),ModelViewer=react.exports.lazy(()=>__vitePreload(()=>import("./ModelViewer-1ba1b804.esm.5347b10c.js"),[])),PlayButton=et=>{let{onClick:_e,isPlaying:tt}=et;const[rt,nt]=react.exports.useState(!1),it=()=>nt(!0),at=()=>nt(!1),st=()=>nt(!1),ot=()=>nt(!0);return jsx("button",{style:{position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer",...rt?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}},onClick:_e,onMouseEnter:it,onMouseLeave:at,onMouseDown:st,onMouseUp:ot,children:tt?jsx(CarbonPauseFilled,{style:{width:"66%",height:"66%"}}):jsx(CarbonPlayFilledAlt,{style:{width:"66%",height:"66%"}})})},VideoPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,requireInteraction:it,style:at,width:st,height:ot,controls:ct,...lt}=et;const ut=react.exports.useRef(null),[dt,mt]=react.exports.useState(!it),[gt,bt]=react.exports.useState(!0);return react.exports.useEffect(()=>{if(ut.current)if(dt)try{ut.current.play()}catch(ht){console.error("error playing video",ht)}else try{ut.current.pause(),ut.current.currentTime=0}catch(ht){console.error("error pausing video",ht)}},[dt]),jsxs("div",{style:{position:"relative",...at},...lt,children:[jsx("video",{ref:mergeRefs([ut,_e]),src:tt!=null?tt:void 0,poster:nt!=null?nt:void 0,loop:!0,playsInline:!0,controlsList:"nodownload",muted:gt,preload:nt?"metadata":"auto",onCanPlay:()=>{var ht;dt&&((ht=ut.current)==null||ht.play())},width:st,height:ot,controls:ct,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:nt?dt?1:0:1}}),nt&&jsx("img",{src:nt,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:dt?0:1,top:0,left:0,right:0,bottom:0},alt:rt}),jsx(PlayButton,{onClick:()=>{mt(ht=>!ht),bt(!1)},isPlaying:dt})]})});VideoPlayer.displayName="VideoPlayer";const AudioPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,style:it,height:at,width:st,...ot}=et;const ct=react.exports.useRef(null),[lt,ut]=react.exports.useState(!1),[dt,mt]=react.exports.useState(!0);return react.exports.useEffect(()=>{ct.current&&(lt?ct.current.play():(ct.current.pause(),ct.current.currentTime=0))},[lt]),jsxs("div",{style:{position:"relative",...it},...ot,children:[nt?jsx("img",{height:at,width:st,src:nt,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"},alt:rt}):jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsx(CarbonDocumentAudio,{style:{height:"64px",width:"64px"}})}),jsx(PlayButton,{onClick:()=>{ut(gt=>!gt),mt(!1)},isPlaying:lt}),jsx("audio",{ref:mergeRefs([ct,_e]),src:tt!=null?tt:void 0,loop:!0,playsInline:!0,muted:dt,preload:"none",controlsList:"nodownload",style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}})]})});AudioPlayer.displayName="AudioPlayer";const IframePlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,requireInteraction:it,style:at,...st}=et;const[ot,ct]=react.exports.useState(!it);return jsxs("div",{style:{position:"relative",...at},...st,children:[jsx("iframe",{src:ot&&tt!=null?tt:void 0,ref:_e,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:nt?ot?1:0:1},sandbox:"allow-scripts",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}),nt&&jsx("img",{src:nt,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:ot?0:1,top:0,left:0,right:0,bottom:0},alt:rt}),jsx(PlayButton,{onClick:()=>{ct(lt=>!lt)},isPlaying:ot})]})});IframePlayer.displayName="IframePlayer";const LinkPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,style:nt,...it}=et;return jsx("div",{style:{position:"relative",...nt},...it,children:jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"},children:[jsx(CarbonDocumentUnknown,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),jsx("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:tt!=null?tt:void 0,target:"_blank",ref:_e,children:rt||"File"})]})})})});LinkPlayer.displayName="LinkPlayer";const MediaRenderer=React$1.forwardRef((et,_e)=>{let{src:tt,poster:rt,alt:nt,requireInteraction:it=!1,width:at="300px",height:st="300px",style:ot,mimeType:ct,...lt}=et;const ut={objectFit:"contain",width:at,height:st,...ot},dt=useResolvedMediaType(tt!=null?tt:void 0,ct),mt=useResolvedMediaType(rt!=null?rt:void 0);if(dt.mimeType){if(dt.mimeType==="text/html")return jsx(IframePlayer,{style:ut,src:dt.url,poster:mt.url,requireInteraction:it,...lt});if(dt.mimeType.startsWith("model"))return jsx(react.exports.Suspense,{fallback:rt?jsx("img",{style:ut,src:rt,alt:nt,ref:_e,...lt}):null,children:jsx(ModelViewer,{style:ut,src:dt.url||"",poster:rt,alt:nt,...lt})});if(shouldRenderVideoTag(dt.mimeType))return jsx(VideoPlayer,{style:ut,src:dt.url,poster:mt.url,requireInteraction:it,...lt});if(shouldRenderAudioTag(dt.mimeType))return jsx(AudioPlayer,{style:ut,src:dt.url,poster:mt.url,requireInteraction:it,...lt});if(dt.mimeType.startsWith("image/"))return jsx("img",{style:ut,src:dt.url,alt:nt,ref:_e,...lt})}else return jsx("img",{style:ut,...lt,ref:_e,alt:nt});return jsx(LinkPlayer,{style:ut,src:dt.url,alt:nt,ref:_e,...lt})});MediaRenderer.displayName="MediaRenderer";function useResolvedMediaType(et,_e){const tt=react.exports.useMemo(()=>resolveIpfsUri(et),[et]),rt=useQuery(["mime-type",tt],()=>resolveMimeType(tt),{enabled:!!tt&&!_e,initialData:_e});return{url:tt,mimeType:rt.data}}const ThirdwebNftMedia=React$1.forwardRef((et,_e)=>{var st;let{metadata:tt,width:rt="300px",height:nt="300px",style:it,...at}=et;return jsx(MediaRenderer,{src:tt.animation_url||tt.image,poster:tt.image,alt:((st=tt.name)==null?void 0:st.toString())||"",ref:_e,width:rt,height:nt,style:{...it},...at})});ThirdwebNftMedia.displayName="ThirdwebNftMedia";newStyled.div``;const spin=keyframes({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});newStyled.div`
  display: inline-block;
  border-top: 2px solid currentcolor;
  border-right: 2px solid currentcolor;
  border-bottom-style: solid;
  border-left-style: solid;
  border-radius: 99999px;
  border-bottom-width: 2px;
  border-left-width: 2px;
  border-bottom-color: transparent;
  border-left-color: transparent;
  animation: 0.45s linear 0s infinite normal none running ${spin};
  width: 0.75em;
  height: 0.75em;
  flex-shrink: 0;
`;const BaseButton=newStyled.button`
  position: relative;
  border-radius: 0.5em;
  padding: 0.75em 1.25em;
  padding-right: ${et=>et.hasRightElement?"0.75em":"1.25em"};
  padding-left: ${et=>et.hasLeftElement?"0.75em":"1.25em"};
  font-size: 1em;
  font-weight: 600;
  letter-spacing: 0.5px;
  display: flex;
  gap: 0.5em;
  align-items: center;
  color: ${et=>computeTextColorBasedOnBackground(et.theme.colors.accent)};
  border: 2px solid
    ${et=>computeHoverColor(et.theme.colors.accent)};
  &:hover {
    cursor: pointer;
  }
  &:disabled {
    cursor: not-allowed;
  }
  &:focus {
    position: relative;
    border-radius: 0.5em;
    outline: 0;
  }
  &:focus:after {
    content: "";
    position: absolute;
    top: -5px;
    right: -5px;
    bottom: -5px;
    left: -5px;
    border: 2px solid ${et=>et.theme.colors.accent};
    border-radius: 11px;
  }
`;function computeHoverColor(et){const _e=color$1(et);return _e.hex()==="#000000"?"#262627":_e.luminosity()<.2?_e.lighten(.1).hex():_e.darken(.1).hex()}function computeDisabledColor(et){const _e=color$1(et);return _e.hex()==="#000000"?"#262627":_e.luminosity()<.2?_e.lighten(.5).hex():_e.darken(.5).hex()}function computeTextColorBasedOnBackground(et){return color$1(et).isDark()?"#fff":"#000"}newStyled(BaseButton)`
  background: ${et=>et.theme.colors.accent};
  &:hover {
    background: ${et=>computeHoverColor(et.theme.colors.accent)};
    border-color: ${et=>computeHoverColor(et.theme.colors.accent)};
  }
  &:disabled {
    background: ${et=>computeDisabledColor(et.theme.colors.accent)};
    border-color: ${et=>computeDisabledColor(et.theme.colors.accent)};
    color: ${et=>computeTextColorBasedOnBackground(computeDisabledColor(et.theme.colors.accent))};
  }
`;newStyled(BaseButton)`
  background: transparent;
  &:hover {
    background: ${et=>color$1(et.theme.colors.background).alpha(.5).hexa()};
  }
`;newStyled.svg`
  border-radius: 0.25em;
  flex-shrink: 0;
  ${et=>et.boxSize?`width: ${et.boxSize};
    height: ${et.boxSize};`:""}
`;newStyled.li`
  display: flex;
  padding: 0.75em 1em;
  align-items: center;
  gap: 0.5em;
  font-size: 1em;

  ${et=>et.isSelectable?`&:hover,
  &[data-focus] {
    cursor: pointer;
    background: ${color$1(et.theme.colors.text).alpha(.15).hexa()};
  }`:""}

  > svg {
    flex-shrink: 0;
  }
`;newStyled.ul`
  padding: 0;
  margin: 0;
  background: ${et=>et.theme.colors.background};
  color: ${et=>et.theme.colors.text};
  list-style: none;
  border-radius: 0.5em;
  overflow: hidden;
  position: relative;
  pointer-events: auto;
  &:focus {
    outline: 0;
  }
  &:after {
    content: "";
    position: absolute;
    border: 1px solid ${et=>et.theme.colors.accent};
    border-radius: 0.5em;
    pointer-events: none;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`;newStyled.select`
  margin: -0.25em 0;
  background: ${et=>color$1(et.theme.colors.background).alpha(.85).hexa()};
  color: ${et=>et.theme.colors.text};
  border: 1px solid
    ${et=>color$1(et.theme.colors.text).alpha(.25).hexa()};
  border-radius: 0.25em;
  padding: 0.25em;
  width: 100%;
  flex-shrink: 1;
  font-size: 1em;
  &:hover {
    cursor: pointer;
  }
  &:focus {
    outline: 2px solid ${et=>et.theme.colors.accent};
  }
  &:disabled {
    cursor: not-allowed;
  }
`;ChainId$1.Mainnet+"",ChainId$1.Goerli+"",ChainId$1.Arbitrum+"",ChainId$1.ArbitrumGoerli+"",ChainId$1.Avalanche+"",ChainId$1.AvalancheFujiTestnet+"",ChainId$1.Fantom+"",ChainId$1.FantomTestnet+"",ChainId$1.Optimism+"",ChainId$1.OptimismGoerli+"",ChainId$1.Polygon+"",ChainId$1.Mumbai+"",ChainId$1.BinanceSmartChainMainnet+"",ChainId$1.BinanceSmartChainTestnet+"",ChainId$1.Hardhat+"",ChainId$1.Localhost+"";const u=et=>typeof et=="number"&&!isNaN(et),d=et=>typeof et=="string",p=et=>typeof et=="function",m=et=>d(et)||p(et)?et:null,f=et=>react.exports.isValidElement(et)||d(et)||p(et)||u(et);function g(et,_e,tt){tt===void 0&&(tt=300);const{scrollHeight:rt,style:nt}=et;requestAnimationFrame(()=>{nt.minHeight="initial",nt.height=rt+"px",nt.transition=`all ${tt}ms`,requestAnimationFrame(()=>{nt.height="0",nt.padding="0",nt.margin="0",setTimeout(_e,tt)})})}function h(et){let{enter:_e,exit:tt,appendPosition:rt=!1,collapse:nt=!0,collapseDuration:it=300}=et;return function(at){let{children:st,position:ot,preventExitTransition:ct,done:lt,nodeRef:ut,isIn:dt}=at;const mt=rt?`${_e}--${ot}`:_e,gt=rt?`${tt}--${ot}`:tt,bt=react.exports.useRef(0);return react.exports.useLayoutEffect(()=>{const ht=ut.current,yt=mt.split(" "),wt=xt=>{xt.target===ut.current&&(ht.dispatchEvent(new Event("d")),ht.removeEventListener("animationend",wt),ht.removeEventListener("animationcancel",wt),bt.current===0&&xt.type!=="animationcancel"&&ht.classList.remove(...yt))};ht.classList.add(...yt),ht.addEventListener("animationend",wt),ht.addEventListener("animationcancel",wt)},[]),react.exports.useEffect(()=>{const ht=ut.current,yt=()=>{ht.removeEventListener("animationend",yt),nt?g(ht,lt,it):lt()};dt||(ct?yt():(bt.current=1,ht.className+=` ${gt}`,ht.addEventListener("animationend",yt)))},[dt]),React$1.createElement(React$1.Fragment,null,st)}}function y(et,_e){return{content:et.content,containerId:et.props.containerId,id:et.props.toastId,theme:et.props.theme,type:et.props.type,data:et.props.data||{},isLoading:et.props.isLoading,icon:et.props.icon,status:_e}}const v={list:new Map,emitQueue:new Map,on(et,_e){return this.list.has(et)||this.list.set(et,[]),this.list.get(et).push(_e),this},off(et,_e){if(_e){const tt=this.list.get(et).filter(rt=>rt!==_e);return this.list.set(et,tt),this}return this.list.delete(et),this},cancelEmit(et){const _e=this.emitQueue.get(et);return _e&&(_e.forEach(clearTimeout),this.emitQueue.delete(et)),this},emit(et){this.list.has(et)&&this.list.get(et).forEach(_e=>{const tt=setTimeout(()=>{_e(...[].slice.call(arguments,1))},0);this.emitQueue.has(et)||this.emitQueue.set(et,[]),this.emitQueue.get(et).push(tt)})}},T=et=>{let{theme:_e,type:tt,...rt}=et;return jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:_e==="colored"?"currentColor":`var(--toastify-icon-color-${tt})`,...rt})},E={info:function(et){return jsx(T,{...et,children:jsx("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"})})},warning:function(et){return jsx(T,{...et,children:jsx("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"})})},success:function(et){return jsx(T,{...et,children:jsx("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"})})},error:function(et){return jsx(T,{...et,children:jsx("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"})})},spinner:function(){return jsx("div",{className:"Toastify__spinner"})}};function C(et){const[,_e]=react.exports.useReducer(mt=>mt+1,0),[tt,rt]=react.exports.useState([]),nt=react.exports.useRef(null),it=react.exports.useRef(new Map).current,at=mt=>tt.indexOf(mt)!==-1,st=react.exports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:et,containerId:null,isToastActive:at,getToast:mt=>it.get(mt)}).current;function ot(mt){let{containerId:gt}=mt;const{limit:bt}=st.props;!bt||gt&&st.containerId!==gt||(st.count-=st.queue.length,st.queue=[])}function ct(mt){rt(gt=>mt==null?[]:gt.filter(bt=>bt!==mt))}function lt(){const{toastContent:mt,toastProps:gt,staleId:bt}=st.queue.shift();dt(mt,gt,bt)}function ut(mt,gt){let{delay:bt,staleId:ht,...yt}=gt;if(!f(mt)||function(It){return!nt.current||st.props.enableMultiContainer&&It.containerId!==st.props.containerId||it.has(It.toastId)&&It.updateId==null}(yt))return;const{toastId:wt,updateId:xt,data:At}=yt,{props:kt}=st,Ot=()=>ct(wt),Wt=xt==null;Wt&&st.count++;const Ht={...kt,style:kt.toastStyle,key:st.toastKey++,...Object.fromEntries(Object.entries(yt).filter(It=>{let[Ct,vt]=It;return vt!=null})),toastId:wt,updateId:xt,data:At,closeToast:Ot,isIn:!1,className:m(yt.className||kt.toastClassName),bodyClassName:m(yt.bodyClassName||kt.bodyClassName),progressClassName:m(yt.progressClassName||kt.progressClassName),autoClose:!yt.isLoading&&(Zt=yt.autoClose,Lt=kt.autoClose,Zt===!1||u(Zt)&&Zt>0?Zt:Lt),deleteToast(){const It=y(it.get(wt),"removed");it.delete(wt),v.emit(4,It);const Ct=st.queue.length;if(st.count=wt==null?st.count-st.displayedToast:st.count-1,st.count<0&&(st.count=0),Ct>0){const vt=wt==null?st.props.limit:1;if(Ct===1||vt===1)st.displayedToast++,lt();else{const Tt=vt>Ct?Ct:vt;st.displayedToast=Tt;for(let Mt=0;Mt<Tt;Mt++)lt()}}else _e()}};var Zt,Lt;Ht.iconOut=function(It){let{theme:Ct,type:vt,isLoading:Tt,icon:Mt}=It,Nt=null;const $t={theme:Ct,type:vt};return Mt===!1||(p(Mt)?Nt=Mt($t):react.exports.isValidElement(Mt)?Nt=react.exports.cloneElement(Mt,$t):d(Mt)||u(Mt)?Nt=Mt:Tt?Nt=E.spinner():(St=>St in E)(vt)&&(Nt=E[vt]($t))),Nt}(Ht),p(yt.onOpen)&&(Ht.onOpen=yt.onOpen),p(yt.onClose)&&(Ht.onClose=yt.onClose),Ht.closeButton=kt.closeButton,yt.closeButton===!1||f(yt.closeButton)?Ht.closeButton=yt.closeButton:yt.closeButton===!0&&(Ht.closeButton=!f(kt.closeButton)||kt.closeButton);let Et=mt;react.exports.isValidElement(mt)&&!d(mt.type)?Et=react.exports.cloneElement(mt,{closeToast:Ot,toastProps:Ht,data:At}):p(mt)&&(Et=mt({closeToast:Ot,toastProps:Ht,data:At})),kt.limit&&kt.limit>0&&st.count>kt.limit&&Wt?st.queue.push({toastContent:Et,toastProps:Ht,staleId:ht}):u(bt)?setTimeout(()=>{dt(Et,Ht,ht)},bt):dt(Et,Ht,ht)}function dt(mt,gt,bt){const{toastId:ht}=gt;bt&&it.delete(bt);const yt={content:mt,props:gt};it.set(ht,yt),rt(wt=>[...wt,ht].filter(xt=>xt!==bt)),v.emit(4,y(yt,yt.props.updateId==null?"added":"updated"))}return react.exports.useEffect(()=>(st.containerId=et.containerId,v.cancelEmit(3).on(0,ut).on(1,mt=>nt.current&&ct(mt)).on(5,ot).emit(2,st),()=>{it.clear(),v.emit(3,st)}),[]),react.exports.useEffect(()=>{st.props=et,st.isToastActive=at,st.displayedToast=tt.length}),{getToastToRender:function(mt){const gt=new Map,bt=Array.from(it.values());return et.newestOnTop&&bt.reverse(),bt.forEach(ht=>{const{position:yt}=ht.props;gt.has(yt)||gt.set(yt,[]),gt.get(yt).push(ht)}),Array.from(gt,ht=>mt(ht[0],ht[1]))},containerRef:nt,isToastActive:at}}function b(et){return et.targetTouches&&et.targetTouches.length>=1?et.targetTouches[0].clientX:et.clientX}function I(et){return et.targetTouches&&et.targetTouches.length>=1?et.targetTouches[0].clientY:et.clientY}function _(et){const[_e,tt]=react.exports.useState(!1),[rt,nt]=react.exports.useState(!1),it=react.exports.useRef(null),at=react.exports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,st=react.exports.useRef(et),{autoClose:ot,pauseOnHover:ct,closeToast:lt,onClick:ut,closeOnClick:dt}=et;function mt(At){if(et.draggable){At.nativeEvent.type==="touchstart"&&At.nativeEvent.preventDefault(),at.didMove=!1,document.addEventListener("mousemove",yt),document.addEventListener("mouseup",wt),document.addEventListener("touchmove",yt),document.addEventListener("touchend",wt);const kt=it.current;at.canCloseOnClick=!0,at.canDrag=!0,at.boundingRect=kt.getBoundingClientRect(),kt.style.transition="",at.x=b(At.nativeEvent),at.y=I(At.nativeEvent),et.draggableDirection==="x"?(at.start=at.x,at.removalDistance=kt.offsetWidth*(et.draggablePercent/100)):(at.start=at.y,at.removalDistance=kt.offsetHeight*(et.draggablePercent===80?1.5*et.draggablePercent:et.draggablePercent/100))}}function gt(At){if(at.boundingRect){const{top:kt,bottom:Ot,left:Wt,right:Ht}=at.boundingRect;At.nativeEvent.type!=="touchend"&&et.pauseOnHover&&at.x>=Wt&&at.x<=Ht&&at.y>=kt&&at.y<=Ot?ht():bt()}}function bt(){tt(!0)}function ht(){tt(!1)}function yt(At){const kt=it.current;at.canDrag&&kt&&(at.didMove=!0,_e&&ht(),at.x=b(At),at.y=I(At),at.delta=et.draggableDirection==="x"?at.x-at.start:at.y-at.start,at.start!==at.x&&(at.canCloseOnClick=!1),kt.style.transform=`translate${et.draggableDirection}(${at.delta}px)`,kt.style.opacity=""+(1-Math.abs(at.delta/at.removalDistance)))}function wt(){document.removeEventListener("mousemove",yt),document.removeEventListener("mouseup",wt),document.removeEventListener("touchmove",yt),document.removeEventListener("touchend",wt);const At=it.current;if(at.canDrag&&at.didMove&&At){if(at.canDrag=!1,Math.abs(at.delta)>at.removalDistance)return nt(!0),void et.closeToast();At.style.transition="transform 0.2s, opacity 0.2s",At.style.transform=`translate${et.draggableDirection}(0)`,At.style.opacity="1"}}react.exports.useEffect(()=>{st.current=et}),react.exports.useEffect(()=>(it.current&&it.current.addEventListener("d",bt,{once:!0}),p(et.onOpen)&&et.onOpen(react.exports.isValidElement(et.children)&&et.children.props),()=>{const At=st.current;p(At.onClose)&&At.onClose(react.exports.isValidElement(At.children)&&At.children.props)}),[]),react.exports.useEffect(()=>(et.pauseOnFocusLoss&&(document.hasFocus()||ht(),window.addEventListener("focus",bt),window.addEventListener("blur",ht)),()=>{et.pauseOnFocusLoss&&(window.removeEventListener("focus",bt),window.removeEventListener("blur",ht))}),[et.pauseOnFocusLoss]);const xt={onMouseDown:mt,onTouchStart:mt,onMouseUp:gt,onTouchEnd:gt};return ot&&ct&&(xt.onMouseEnter=ht,xt.onMouseLeave=bt),dt&&(xt.onClick=At=>{ut&&ut(At),at.canCloseOnClick&&lt()}),{playToast:bt,pauseToast:ht,isRunning:_e,preventExitTransition:rt,toastRef:it,eventHandlers:xt}}function L(et){let{closeToast:_e,theme:tt,ariaLabel:rt="close"}=et;return jsx("button",{className:`Toastify__close-button Toastify__close-button--${tt}`,type:"button",onClick:nt=>{nt.stopPropagation(),_e(nt)},"aria-label":rt,children:jsx("svg",{"aria-hidden":"true",viewBox:"0 0 14 16",children:jsx("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})})})}function O(et){let{delay:_e,isRunning:tt,closeToast:rt,type:nt="default",hide:it,className:at,style:st,controlledProgress:ot,progress:ct,rtl:lt,isIn:ut,theme:dt}=et;const mt=it||ot&&ct===0,gt={...st,animationDuration:`${_e}ms`,animationPlayState:tt?"running":"paused",opacity:mt?0:1};ot&&(gt.transform=`scaleX(${ct})`);const bt=clsx("Toastify__progress-bar",ot?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${dt}`,`Toastify__progress-bar--${nt}`,{"Toastify__progress-bar--rtl":lt}),ht=p(at)?at({rtl:lt,type:nt,defaultClassName:bt}):clsx(bt,at);return React$1.createElement("div",{role:"progressbar","aria-hidden":mt?"true":"false","aria-label":"notification timer",className:ht,style:gt,[ot&&ct>=1?"onTransitionEnd":"onAnimationEnd"]:ot&&ct<1?null:()=>{ut&&rt()}})}const N=et=>{const{isRunning:_e,preventExitTransition:tt,toastRef:rt,eventHandlers:nt}=_(et),{closeButton:it,children:at,autoClose:st,onClick:ot,type:ct,hideProgressBar:lt,closeToast:ut,transition:dt,position:mt,className:gt,style:bt,bodyClassName:ht,bodyStyle:yt,progressClassName:wt,progressStyle:xt,updateId:At,role:kt,progress:Ot,rtl:Wt,toastId:Ht,deleteToast:Zt,isIn:Lt,isLoading:Et,iconOut:It,closeOnClick:Ct,theme:vt}=et,Tt=clsx("Toastify__toast",`Toastify__toast-theme--${vt}`,`Toastify__toast--${ct}`,{"Toastify__toast--rtl":Wt},{"Toastify__toast--close-on-click":Ct}),Mt=p(gt)?gt({rtl:Wt,position:mt,type:ct,defaultClassName:Tt}):clsx(Tt,gt),Nt=!!Ot||!st,$t={closeToast:ut,type:ct,theme:vt};let St=null;return it===!1||(St=p(it)?it($t):react.exports.isValidElement(it)?react.exports.cloneElement(it,$t):L($t)),React$1.createElement(dt,{isIn:Lt,done:Zt,position:mt,preventExitTransition:tt,nodeRef:rt},jsxs("div",{id:Ht,onClick:ot,className:Mt,...nt,style:bt,ref:rt,children:[jsxs("div",{...Lt&&{role:kt},className:p(ht)?ht({type:ct}):clsx("Toastify__toast-body",ht),style:yt,children:[It!=null&&jsx("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Et}),children:It}),jsx("div",{children:at})]}),St,jsx(O,{...At&&!Nt?{key:`pb-${At}`}:{},rtl:Wt,theme:vt,delay:st,isRunning:_e,isIn:Lt,closeToast:ut,hide:lt,type:ct,style:xt,className:wt,controlledProgress:Nt,progress:Ot||0})]}))},M=function(et,_e){return _e===void 0&&(_e=!1),{enter:`Toastify--animate Toastify__${et}-enter`,exit:`Toastify--animate Toastify__${et}-exit`,appendPosition:_e}},R=h(M("bounce",!0));h(M("slide",!0));h(M("zoom"));h(M("flip"));const k=react.exports.forwardRef((et,_e)=>{const{getToastToRender:tt,containerRef:rt,isToastActive:nt}=C(et),{className:it,style:at,rtl:st,containerId:ot}=et;function ct(lt){const ut=clsx("Toastify__toast-container",`Toastify__toast-container--${lt}`,{"Toastify__toast-container--rtl":st});return p(it)?it({position:lt,rtl:st,defaultClassName:ut}):clsx(ut,m(it))}return react.exports.useEffect(()=>{_e&&(_e.current=rt.current)},[]),jsx("div",{ref:rt,className:"Toastify",id:ot,children:tt((lt,ut)=>{const dt=ut.length?{...at}:{...at,pointerEvents:"none"};return jsx("div",{className:ct(lt),style:dt,children:ut.map((mt,gt)=>{let{content:bt,props:ht}=mt;return react.exports.createElement(N,{...ht,isIn:nt(ht.toastId),style:{...ht.style,"--nth":gt+1,"--len":ut.length},key:`toast-${ht.key}`},bt)})},`container-${lt}`)})})});k.displayName="ToastContainer",k.defaultProps={position:"top-right",transition:R,autoClose:5e3,closeButton:L,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P,B=new Map,D=[],A=1;function z(){return""+A++}function F(et){return et&&(d(et.toastId)||u(et.toastId))?et.toastId:z()}function H(et,_e){return B.size>0?v.emit(0,et,_e):D.push({content:et,options:_e}),_e.toastId}function S(et,_e){return{..._e,type:_e&&_e.type||et,toastId:F(_e)}}function q(et){return(_e,tt)=>H(_e,S(et,tt))}function Q(et,_e){return H(et,S("default",_e))}Q.loading=(et,_e)=>H(et,S("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,..._e})),Q.promise=function(et,_e,tt){let rt,{pending:nt,error:it,success:at}=_e;nt&&(rt=d(nt)?Q.loading(nt,tt):Q.loading(nt.render,{...tt,...nt}));const st={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},ot=(lt,ut,dt)=>{if(ut==null)return void Q.dismiss(rt);const mt={type:lt,...st,...tt,data:dt},gt=d(ut)?{render:ut}:ut;return rt?Q.update(rt,{...mt,...gt}):Q(gt.render,{...mt,...gt}),dt},ct=p(et)?et():et;return ct.then(lt=>ot("success",at,lt)).catch(lt=>ot("error",it,lt)),ct},Q.success=q("success"),Q.info=q("info"),Q.error=q("error"),Q.warning=q("warning"),Q.warn=Q.warning,Q.dark=(et,_e)=>H(et,S("default",{theme:"dark",..._e})),Q.dismiss=et=>{B.size>0?v.emit(1,et):D=D.filter(_e=>et!=null&&_e.options.toastId!==et)},Q.clearWaitingQueue=function(et){return et===void 0&&(et={}),v.emit(5,et)},Q.isActive=et=>{let _e=!1;return B.forEach(tt=>{tt.isToastActive&&tt.isToastActive(et)&&(_e=!0)}),_e},Q.update=function(et,_e){_e===void 0&&(_e={}),setTimeout(()=>{const tt=function(rt,nt){let{containerId:it}=nt;const at=B.get(it||P);return at&&at.getToast(rt)}(et,_e);if(tt){const{props:rt,content:nt}=tt,it={delay:100,...rt,..._e,toastId:_e.toastId||et,updateId:z()};it.toastId!==et&&(it.staleId=et);const at=it.render||nt;delete it.render,H(at,it)}},0)},Q.done=et=>{Q.update(et,{progress:1})},Q.onChange=et=>(v.on(4,et),()=>{v.off(4,et)}),Q.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Q.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},v.on(2,et=>{P=et.containerId||et,B.set(P,et),D.forEach(_e=>{v.emit(0,_e.content,_e.options)}),D=[]}).on(3,et=>{B.delete(et.containerId||et),B.size===0&&v.off(0).off(1).off(5)});const CONTRACT_ADDRESS="0x7B47092f6ae9E0d9722E68744a11dD551F32A4c8",NETWORK="goerli",StoreContext=react.exports.createContext(),useStore=()=>react.exports.useContext(StoreContext),Store=({children:et})=>{const{contract:_e}=useContract(CONTRACT_ADDRESS),{mutateAsync:tt}=useContractWrite(_e,"createCampaign"),{mutateAsync:rt}=useContractWrite(_e,"changeCampaignStatus"),nt=useAddress(),it=useMetamask(),at=async ut=>{try{const dt=await tt([nt,ut.title,ut.description,ut.image,parseUnits(ut.target,18),new Date(ut.deadline).getTime()]);Q.success("Your campaign has been created successfully!")}catch{Q.error("Unfortunately, your campaign could not be created!")}},st=async()=>(await _e.call("getCampaigns")).map((mt,gt)=>({id:gt,owner:mt.owner,title:mt.title,image:mt.image,isActive:mt.isActive,description:mt.description,target:formatEther(mt.target),amountCollected:formatEther(mt.amountCollected),deadline:new Date(mt.deadline.toNumber()).toDateString(),donators:mt.donators,donations:mt.donations.map(bt=>formatEther(bt))})),ot=async ut=>{const dt=await _e.call("getCampaign",ut);return{id:ut,owner:dt.owner,title:dt.title,image:dt.image,isActive:dt.isActive,description:dt.description,target:formatEther(dt.target),amountCollected:formatEther(dt.amountCollected),deadline:new Date(dt.deadline.toNumber()).toDateString(),donators:dt.donators,donations:dt.donations.map(gt=>formatEther(gt))}},ct=async(ut,dt)=>{try{const mt=await _e.call("donateToCampaign",ut,{value:parseUnits(dt,18)});return Q.success("Your donation has been successfully processed!"),!0}catch{return Q.error("Unfortunately, your donation was unsuccessful!"),!1}},lt=async(ut,dt)=>{try{const mt=await rt([ut,dt]);return Q.success("Your campaign status has been changed successfully!"),!0}catch{return Q.error("Unfortunately, your campaign status could not be changed!"),!1}};return jsx(StoreContext.Provider,{value:{contract:_e,address:nt,connect:it,createCampaign:at,getCampaign:ot,getCampaigns:st,donateToCampaign:ct,changeCampaignStatus:lt},children:et})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React$1.createContext&&React$1.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(et){for(var _e,tt=1,rt=arguments.length;tt<rt;tt++){_e=arguments[tt];for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&(et[nt]=_e[nt])}return et},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(et,_e){var tt={};for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&_e.indexOf(rt)<0&&(tt[rt]=et[rt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(et);nt<rt.length;nt++)_e.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(et,rt[nt])&&(tt[rt[nt]]=et[rt[nt]]);return tt};function Tree2Element(et){return et&&et.map(function(_e,tt){return React$1.createElement(_e.tag,__assign({key:tt},_e.attr),Tree2Element(_e.child))})}function GenIcon(et){return function(_e){return jsx(IconBase,{...__assign({attr:__assign({},et.attr)},_e),children:Tree2Element(et.child)})}}function IconBase(et){var _e=function(tt){var rt=et.attr,nt=et.size,it=et.title,at=__rest(et,["attr","size","title"]),st=nt||tt.size||"1em",ot;return tt.className&&(ot=tt.className),et.className&&(ot=(ot?ot+" ":"")+et.className),jsxs("svg",{...__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tt.attr,rt,at,{className:ot,style:__assign(__assign({color:et.color||tt.color},tt.style),et.style),height:st,width:st,xmlns:"http://www.w3.org/2000/svg"}),children:[it&&jsx("title",{children:it}),et.children]})};return IconContext!==void 0?jsx(IconContext.Consumer,{children:function(tt){return _e(tt)}}):_e(DefaultContext)}function MdAccountCircle(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0112.28 0C16.43 19.18 14.03 20 12 20z"}}]})(et)}function MdCalendarMonth(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 002 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"}}]})(et)}function MdDashboard(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}}]})(et)}function MdPowerSettingsNew(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42A6.92 6.92 0 0119 12c0 3.87-3.13 7-7 7A6.995 6.995 0 017.58 6.58L6.17 5.17A8.932 8.932 0 003 12a9 9 0 0018 0c0-2.74-1.23-5.18-3.17-6.83z"}}]})(et)}function MdRocketLaunch(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55l1.33.26zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83L11.17 17zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81l-.26-1.33zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12A2.996 2.996 0 019 18zm4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z"}}]})(et)}function MdKey(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 10h-8.35A5.99 5.99 0 007 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 005.65-4H13l2 2 2-2 2 2 4-4.04L21 10zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"}}]})(et)}function MdCopyAll(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H9V4h9v12zM3 15v-2h2v2H3zm0-5.5h2v2H3v-2zM10 20h2v2h-2v-2zm-7-1.5v-2h2v2H3zM5 22c-1.1 0-2-.9-2-2h2v2zm3.5 0h-2v-2h2v2zm5 0v-2h2c0 1.1-.9 2-2 2zM5 6v2H3c0-1.1.9-2 2-2z"}}]})(et)}function MdCreditScore(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h5v-2H4v-6h18V6c0-1.11-.89-2-2-2zm0 4H4V6h16v2zm-5.07 11.17l-2.83-2.83-1.41 1.41L14.93 22 22 14.93l-1.41-1.41-5.66 5.65z"}}]})(et)}function MdMonetizationOn(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}}]})(et)}function MdFolder(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}}]})(et)}function MdCampaign(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"}}]})(et)}function TbPlugConnected(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z"}},{tag:"path",attr:{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z"}},{tag:"path",attr:{d:"M3 21l2.5 -2.5"}},{tag:"path",attr:{d:"M18.5 5.5l2.5 -2.5"}},{tag:"path",attr:{d:"M10 11l-2 2"}},{tag:"path",attr:{d:"M13 14l-2 2"}}]})(et)}const Navbar=()=>{const et=useNavigate(),{pathname:_e}=useLocation(),{address:tt,connect:rt}=useStore();return jsxs("nav",{className:"flex flex-col gap-4 md:flex-row items-center justify-between",children:[_e!=="/"&&jsx("div",{onClick:()=>et("/"),className:"md:flex hidden p-2 bg-zinc-800 justify-center items-center rounded-lg cursor-pointer hover:bg-zinc-700",children:jsx(MdDashboard,{className:"text-5xl"})}),jsxs("div",{onClick:()=>et("/"),className:"spin-group cursor-pointer px-8 py-4 bg-zinc-800 flex justify-center items-center rounded-full font-bold uppercase tracking-widest text-2xl md:text-3xl",children:[jsx("div",{children:"Cr"}),jsx(MdMonetizationOn,{className:"spin ml-[-2px] text-3xl md:text-4xl text-yellow-500"}),jsx("div",{children:"wdfund"}),jsx(MdKey,{className:"rotate-90 text-yellow-500 ml-[-6px] -mr-1"}),jsx("div",{children:"ng"})]}),jsxs("div",{className:"flex gap-4 items-center",children:[tt?_e!=="/campaigns/create"&&jsxs("div",{onClick:()=>et("/campaigns/create"),className:"button",children:[jsx(MdCampaign,{}),jsx("div",{className:"md:hidden lg:inline-block whitespace-nowrap",children:"Create a campaign"})]}):jsxs("div",{onClick:rt,className:"button",children:[jsx(TbPlugConnected,{}),jsx("div",{className:"md:hidden lg:inline-block whitespace-nowrap",children:"Connect to wallet"})]}),_e!=="/profile"&&jsx("div",{onClick:()=>et("/profile"),className:"hover:bg-zinc-700 cursor-pointer p-2 bg-zinc-800 flex justify-center items-center rounded-lg",children:jsx(MdAccountCircle,{className:"text-4xl md:text-5xl"})})]})]})},Footer=()=>jsxs("footer",{className:"text-zinc-700 italic text-center",children:["This site was created by"," ",jsx("a",{className:"font-bold",href:"https://yamdev.info",target:"_blank",children:"@yamdev"})," ","in March 2023 as a first attempt with the Web3 blockchain and cryptocurrency."]}),getDaysLeft=et=>{if(!et)return"";const _e=new Date(et),tt=new Date,rt=_e-tt;return Math.max(0,Math.ceil(rt/(1e3*60*60*24)))},getPercent=(et,_e)=>`${Math.min(100,Math.floor(et*100/_e))}%`,checkValidImage=(et,_e)=>{const tt=new Image;tt.src=et,tt.complete&&_e(!0),tt.onload=()=>_e(!0),tt.onerror=()=>_e(!1)},displayAddress=et=>et?`${et.substring(0,6)}...${et.substring(et.length-4)}`:"...",Copyable=({string:et,position:_e="left"})=>{const[tt,rt]=react.exports.useState(!1);return react.exports.useEffect(()=>{if(!tt)return;const it=setTimeout(()=>{rt(!1)},2e3);return()=>{clearTimeout(it)}},[tt]),jsxs("div",{onClick:it=>{it.stopPropagation(),!tt&&(navigator.clipboard.writeText(et),rt(!0))},className:"flex justify-between gap-2 items-center text-zinc-500 hover:text-white cursor-pointer relative group",children:[jsx("div",{children:displayAddress(et)}),jsx(MdCopyAll,{className:"text-2xl"}),jsx("div",{className:`hidden group-hover:flex absolute whitespace-nowrap font-bold italic text-sm transform -translate-y-1/2 top-1/2 ${_e==="right"?"left-full ml-2":"right-8"}`,children:tt?"Copied!":"Copy to clipboard!"})]})};function RiLoader4Line(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.364 5.636L16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z"}}]}]})(et)}const Home=()=>{const et=useNavigate(),{contract:_e,address:tt,getCampaigns:rt}=useStore(),[nt,it]=react.exports.useState([]),[at,st]=react.exports.useState(!1);react.exports.useEffect(()=>{_e&&ot()},[_e,tt]);const ot=async()=>{st(!0);const ct=await rt();it(ct),st(!1)};return jsxs("div",{className:"flex flex-col gap-4 flex-grow",children:[jsxs("div",{className:"font-bold",children:["All Campaigns (",nt.length,")"]}),jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:at?jsxs("div",{className:"flex text-zinc-500 italic items-center",children:[jsx(RiLoader4Line,{className:"animate-spin"}),jsx("div",{children:"Loading..."})]}):nt.map(ct=>jsxs("div",{onClick:()=>et(`/campaigns/details/${ct.id}`),className:"group rounded-lg overflow-hidden bg-zinc-800 cursor-pointer hover:bg-zinc-700",children:[jsx("div",{className:"w-full h-60 rounded-lg overflow-hidden",children:jsx("img",{className:"transition-all group-hover:scale-100 group-hover:grayscale-0 scale-110 grayscale-[50%] w-full h-full object-cover",src:ct.image,alt:ct.title})}),jsxs("div",{className:"flex flex-col p-4 md:p-8 gap-4",children:[jsxs("div",{className:"flex flex-col gap-2",children:[jsxs("div",{className:"flex items-center justify-between",children:[jsxs("div",{className:"flex gap-1 items-center text-zinc-500 italic",children:[jsx(MdFolder,{}),jsx("div",{children:ct.owner===tt?"My campaigns":"Others"})]}),jsx("div",{className:`text-xs px-4 py-1 rounded-full border ${ct.isActive?"border-white text-white":"border-zinc-500 text-zinc-500"}`,children:ct.isActive?"Active":"Disabled"})]}),jsxs("div",{children:[jsx("div",{className:"font-bold text-2xl truncate",children:ct.title}),jsx("div",{className:"truncate text-zinc-500 italic",children:ct.description})]})]}),jsxs("div",{className:"flex justify-between",children:[jsxs("div",{children:[jsx("div",{className:"font-bold",children:ct.amountCollected}),jsxs("div",{className:"text-zinc-500 italic",children:["Raised of ",ct.target]})]}),jsxs("div",{children:[jsx("div",{className:"font-bold",children:getDaysLeft(ct.deadline)}),jsx("div",{className:"text-zinc-500 italic",children:"Days left"})]})]}),jsxs("div",{className:"flex items-center gap-2",children:[jsx(MdAccountCircle,{className:"text-4xl"}),jsxs("div",{className:"truncate italic",children:[jsx("span",{className:"text-zinc-500",children:"by"})," ",jsx("span",{className:"font-bold",children:displayAddress(ct.owner)})]})]})]})]},ct.id))})]})},Profile=()=>{const et=useNavigate(),{contract:_e,address:tt,getCampaigns:rt}=useStore(),[nt,it]=react.exports.useState([]),[at,st]=react.exports.useState(!1);react.exports.useEffect(()=>{_e&&ot()},[_e,tt]);const ot=async()=>{st(!0);const lt=(await rt()).filter(ut=>ut.owner==tt);it(lt),st(!1)};return jsxs("div",{className:"flex flex-col gap-4 flex-grow",children:[jsxs("div",{className:"font-bold",children:["Your Campaigns (",nt.length,")"]}),jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:at?jsxs("div",{className:"flex text-zinc-500 italic items-center",children:[jsx(RiLoader4Line,{className:"animate-spin"}),jsx("div",{children:"Loading..."})]}):nt.map(ct=>jsxs("div",{onClick:()=>et(`/campaigns/details/${ct.id}`),className:"group rounded-lg overflow-hidden bg-zinc-800 cursor-pointer hover:bg-zinc-700",children:[jsx("div",{className:"w-full h-60 rounded-lg overflow-hidden",children:jsx("img",{className:"transition-all group-hover:scale-100 group-hover:grayscale-0 scale-110 grayscale-[50%] w-full h-full object-cover",src:ct.image,alt:ct.title})}),jsxs("div",{className:"flex flex-col p-4 md:p-8 gap-4",children:[jsxs("div",{children:[jsx("div",{className:"font-bold text-2xl truncate",children:ct.title}),jsx("div",{className:"truncate text-zinc-500 italic",children:ct.description})]}),jsxs("div",{className:"flex justify-between",children:[jsxs("div",{children:[jsx("div",{className:"font-bold",children:ct.amountCollected}),jsxs("div",{className:"text-zinc-500 italic",children:["Raised of ",ct.target]})]}),jsxs("div",{children:[jsx("div",{className:"font-bold",children:getDaysLeft(ct.deadline)}),jsx("div",{className:"text-zinc-500 italic",children:"Days left"})]})]}),jsxs("div",{className:"flex justify-between items-center",children:[jsxs("div",{className:"flex items-center gap-2",children:[jsx(MdAccountCircle,{className:"text-4xl"}),jsxs("div",{className:"truncate italic",children:[jsx("span",{className:"text-zinc-500",children:"by"})," ",jsx("span",{className:"font-bold",children:displayAddress(ct.owner)})]})]}),jsx("div",{className:`text-xs px-4 py-1 rounded-full border ${ct.isActive?"border-white text-white":"border-zinc-500 text-zinc-500"}`,children:ct.isActive?"Active":"Disabled"})]})]})]},ct.id))})]})};function SiCampaignmonitor(et){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M23.836 4.27c-.29-.413-.86-.515-1.273-.226L.163 19.73c.167.235.437.39.747.39h22.18c.503 0 .91-.41.91-.914V4.78c-.004-.176-.058-.352-.164-.51zm-22.4-.226c-.413-.29-.982-.19-1.272.226-.107.154-.162.332-.164.51v14.45l10.664-8.736-9.227-6.45v-.002z"}}]})(et)}const CreateCampaign=()=>{const et=useNavigate(),{address:_e,createCampaign:tt}=useStore(),[rt,nt]=react.exports.useState({title:"",description:"",target:"",deadline:"",image:""}),[it,at]=react.exports.useState(!1),st=ct=>{const{name:lt,value:ut}=ct.target;lt==="deadline"&&getDaysLeft(ut)===0?(Q.error("The deadline should be a date in the future."),nt({...rt,deadline:""})):nt({...rt,[lt]:ut})};return jsxs("div",{className:"flex flex-col gap-4 bg-zinc-800 rounded-lg p-4 md:p-8",children:[jsxs("div",{className:"self-center text-zinc-400 flex gap-2 md:text-4xl font-bold items-center text-3xl",children:[jsx("div",{children:"Start a campaign"}),jsx(MdRocketLaunch,{})]}),jsxs("form",{onSubmit:async ct=>{ct.preventDefault(),!(it||!_e)&&checkValidImage(rt.image,async lt=>{lt?(at(!0),await tt(rt),at(!1),et("/")):(Q.error("Please enter a valid image URL!"),nt({...rt,image:""}))})},className:"flex flex-col gap-4",children:[jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxs("div",{className:"input",children:[jsx("label",{htmlFor:"owner",children:"Your Address *"}),jsx("div",{className:"address",children:jsx(Copyable,{string:_e})})]}),jsxs("div",{className:"input",children:[jsx("label",{htmlFor:"title",children:"Campaign Title *"}),jsx("input",{required:!0,name:"title",id:"title",type:"text",placeholder:"Write a title",value:rt.title,onChange:st})]})]}),jsxs("div",{className:"input",children:[jsx("label",{htmlFor:"description",children:"Description *"}),jsx("textarea",{required:!0,name:"description",id:"description",rows:"10",placeholder:"Write a description of your campaign",value:rt.description,onChange:st})]}),jsxs("div",{className:"bg-zinc-900 p-4 md:p-8 rounded-lg flex gap-2 text-center md:text-2xl items-center justify-center",children:[jsx(MdCreditScore,{className:"text-zinc-400 text-4xl"}),jsx("div",{className:"font-bold text-zinc-400",children:"You will get 100% of the raised amount"})]}),jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxs("div",{className:"input",children:[jsx("label",{htmlFor:"target",children:"Goal *"}),jsx("input",{required:!0,name:"target",id:"target",type:"number",min:"0",step:"0.1",placeholder:"ETH 0.5",value:rt.target,onChange:st})]}),jsxs("div",{className:"input",children:[jsx("label",{htmlFor:"deadline",children:"End Date *"}),jsx("input",{required:!0,name:"deadline",id:"deadline",type:"date",className:"picker",value:rt.deadline,onChange:st})]})]}),jsxs("div",{className:"input",children:[jsx("label",{htmlFor:"image",children:"Campaign Image *"}),jsx("input",{required:!0,name:"image",id:"image",type:"text",placeholder:"Place image URL of your campaign",value:rt.image,onChange:st})]}),jsxs("button",{type:"submit",disabled:it||!_e,className:`button w-fit self-center${it||!_e?" disabled":""}`,children:[it?jsx(RiLoader4Line,{className:"animate-spin"}):jsx(SiCampaignmonitor,{}),jsx("div",{children:"Submit new campaign"})]})]})]})};function FaDonate(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 416c114.9 0 208-93.1 208-208S370.9 0 256 0 48 93.1 48 208s93.1 208 208 208zM233.8 97.4V80.6c0-9.2 7.4-16.6 16.6-16.6h11.1c9.2 0 16.6 7.4 16.6 16.6v17c15.5.8 30.5 6.1 43 15.4 5.6 4.1 6.2 12.3 1.2 17.1L306 145.6c-3.8 3.7-9.5 3.8-14 1-5.4-3.4-11.4-5.1-17.8-5.1h-38.9c-9 0-16.3 8.2-16.3 18.3 0 8.2 5 15.5 12.1 17.6l62.3 18.7c25.7 7.7 43.7 32.4 43.7 60.1 0 34-26.4 61.5-59.1 62.4v16.8c0 9.2-7.4 16.6-16.6 16.6h-11.1c-9.2 0-16.6-7.4-16.6-16.6v-17c-15.5-.8-30.5-6.1-43-15.4-5.6-4.1-6.2-12.3-1.2-17.1l16.3-15.5c3.8-3.7 9.5-3.8 14-1 5.4 3.4 11.4 5.1 17.8 5.1h38.9c9 0 16.3-8.2 16.3-18.3 0-8.2-5-15.5-12.1-17.6l-62.3-18.7c-25.7-7.7-43.7-32.4-43.7-60.1.1-34 26.4-61.5 59.1-62.4zM480 352h-32.5c-19.6 26-44.6 47.7-73 64h63.8c5.3 0 9.6 3.6 9.6 8v16c0 4.4-4.3 8-9.6 8H73.6c-5.3 0-9.6-3.6-9.6-8v-16c0-4.4 4.3-8 9.6-8h63.8c-28.4-16.3-53.3-38-73-64H32c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32v-96c0-17.7-14.3-32-32-32z"}}]})(et)}const CampaignDetails=()=>{var bt,ht;const{id:et}=useParams(),{contract:_e,address:tt,getCampaign:rt,donateToCampaign:nt,changeCampaignStatus:it}=useStore(),[at,st]=react.exports.useState({}),[ot,ct]=react.exports.useState(!1),[lt,ut]=react.exports.useState();react.exports.useEffect(()=>{_e&&dt()},[_e,tt]);const dt=async()=>{const yt=await rt(et);st(yt)},mt=async()=>{lt<=0||ot||(ct(!0),await nt(et,lt),dt(),ct(!1))},gt=async yt=>{if(ot)return;ct(!0),await it(et,yt)&&dt(),ct(!1)};return jsxs("div",{className:"flex flex-col gap-4",children:[jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxs("div",{className:"h-96 relative rounded-t-lg overflow-hidden flex-grow",children:[jsx("img",{className:"w-full h-full object-cover",src:at.image,alt:at.title}),jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent top-0 left-0 p-4 md:p-8 flex items-end",children:jsx("div",{className:"font-bold text-4xl md:text-5xl text-center",children:at.title})}),jsx("div",{className:"percent",style:{"--value":getPercent(at.amountCollected,at.target)}})]}),jsxs("div",{className:"flex-shrink-0 grid grid-rows-3 gap-4",children:[jsxs("div",{className:"flex flex-col rounded-lg overflow-hidden",children:[jsx("div",{className:"p-4 flex-grow font-bold text-2xl bg-zinc-800 flex justify-center items-center",children:getDaysLeft(at.deadline)}),jsx("div",{className:"px-4 py-2 italic bg-zinc-700 flex justify-center items-center text-zinc-400",children:"Days Left"})]}),jsxs("div",{className:"flex flex-col rounded-lg overflow-hidden",children:[jsx("div",{className:"p-4 flex-grow font-bold text-2xl bg-zinc-800 flex justify-center items-center",children:at.amountCollected}),jsxs("div",{className:"px-4 py-2 italic bg-zinc-700 flex justify-center items-center text-zinc-400",children:["Raised of ",at.target]})]}),jsxs("div",{className:"flex flex-col rounded-lg overflow-hidden",children:[jsx("div",{className:"p-4 flex-grow font-bold text-2xl bg-zinc-800 flex justify-center items-center",children:(bt=at.donators)==null?void 0:bt.length}),jsx("div",{className:"px-4 py-2 italic bg-zinc-700 flex justify-center items-center text-zinc-400",children:"Total Donations"})]})]})]}),jsxs("div",{className:"flex gap-4 justify-between flex-col lg:flex-row",children:[jsxs("div",{className:"flex flex-col gap-4 w-full",children:[jsx("div",{className:"flex flex-col gap-2",children:jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-8",children:[jsxs("div",{className:"flex flex-col gap-2",children:[jsx("div",{className:"uppercase text-2xl font-bold",children:"Creator"}),jsxs("div",{className:"flex items-center gap-2",children:[jsx(MdAccountCircle,{className:"text-2xl"}),jsxs("div",{className:"italic flex gap-1",children:[jsx("span",{className:"text-zinc-500",children:"by"})," ",jsx("span",{className:"font-bold",children:jsx(Copyable,{string:at.owner,position:"right"})})]})]})]}),jsxs("div",{className:"flex flex-col gap-2 md:items-end",children:[jsx("div",{className:"uppercase text-2xl font-bold",children:"Deadline"}),jsxs("div",{className:"flex items-center gap-2",children:[jsx(MdCalendarMonth,{className:"text-2xl"}),jsx("div",{className:"font-bold text-zinc-500",children:at.deadline})]})]})]})}),jsxs("div",{className:"flex flex-col gap-2",children:[jsx("div",{className:"uppercase text-2xl font-bold",children:"description"}),jsx("div",{className:"italic text-zinc-500",children:at.description})]}),jsxs("div",{className:"flex flex-col gap-2",children:[jsx("div",{className:"uppercase text-2xl font-bold",children:"Donations"}),jsx("div",{className:"italic text-zinc-500 w-full flex flex-col",children:(ht=at.donators)==null?void 0:ht.map((yt,wt)=>jsxs("div",{className:"flex justify-between px-8 py-4 border-b border-zinc-800 hover:bg-zinc-800",children:[jsxs("div",{className:"flex gap-1",children:[jsxs("div",{children:[wt+1,"."]}),jsx(Copyable,{string:yt,position:"right"})]}),jsx("div",{children:at.donations[wt]})]},wt))})]})]}),jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[jsx("div",{className:"uppercase text-2xl font-bold",children:"Fund"}),tt?at.owner===tt?at.isActive?jsxs("div",{className:"bg-zinc-800 w-full max-w-[30rem] self-center p-4 md:p-8 rounded-lg flex flex-col gap-4 items-center",children:[jsx("div",{className:"font-bold text-2xl text-zinc-500",children:"End the donation process"}),jsxs("div",{className:"bg-zinc-900 p-4 md:p-8 rounded-lg w-full",children:[jsx("div",{className:"font-bold text-xl text-zinc-400",children:"Congratulations on your efforts."}),jsx("div",{className:"italic text-zinc-500",children:"You have reached your campaign goal and want to stop the donation process!"})]}),jsxs("div",{onClick:()=>gt(!1),className:`button delete${ot?" disabled":""}`,children:[ot?jsx(RiLoader4Line,{className:"animate-spin"}):jsx(MdPowerSettingsNew,{}),jsx("div",{children:"Disable campaign"})]})]}):jsxs("div",{className:"bg-zinc-800 w-full max-w-[30rem] self-center p-4 md:p-8 rounded-lg flex flex-col gap-4 items-center",children:[jsx("div",{className:"font-bold text-2xl text-zinc-500",children:"Continue the donation process"}),jsxs("div",{className:"bg-zinc-900 p-4 md:p-8 rounded-lg w-full",children:[jsx("div",{className:"font-bold text-xl text-zinc-400",children:"Every effort counts, keep going."}),jsx("div",{className:"italic text-zinc-500",children:"Don't give up, keep pushing and remember that change takes time!"})]}),at.isActive?jsxs("div",{onClick:()=>gt(!1),className:`button delete${ot?" disabled":""}`,children:[ot?jsx(RiLoader4Line,{className:"animate-spin"}):jsx(MdPowerSettingsNew,{}),jsx("div",{children:"Disable campaign"})]}):jsxs("div",{onClick:()=>gt(!0),className:`button${ot?" disabled":""}`,children:[ot?jsx(RiLoader4Line,{className:"animate-spin"}):jsx(MdPowerSettingsNew,{}),jsx("div",{children:"Active campaign"})]})]}):at.isActive?jsxs("div",{className:"bg-zinc-800 w-full max-w-[30rem] self-center p-4 md:p-8 rounded-lg flex flex-col gap-4 items-center",children:[jsx("div",{className:"font-bold text-2xl text-zinc-500",children:"Pledge without reward"}),jsx("input",{className:"placeholder:text-zinc-500 w-full bg-zinc-800 focus:outline-none rounded-lg px-8 py-4 text-white border-zinc-700 border font-bold text-2xl",type:"number",step:"0.01",min:"0",placeholder:"ETH 0.01",onChange:yt=>ut(yt.target.value)}),jsxs("div",{className:"bg-zinc-900 p-4 md:p-8 rounded-lg w-full",children:[jsx("div",{className:"font-bold text-xl text-zinc-400",children:"Back it because you believe in it."}),jsx("div",{className:"italic text-zinc-500",children:"Support the project for no reward, just because it speaks to you."})]}),jsxs("div",{onClick:mt,className:`button${lt<=0||ot?" disabled":""}`,children:[ot?jsx(RiLoader4Line,{className:"animate-spin"}):jsx(FaDonate,{}),jsx("div",{children:"Fund campaign"})]})]}):jsxs("div",{className:"bg-zinc-800 w-full max-w-[30rem] self-center p-4 md:p-8 rounded-lg flex flex-col gap-4 items-center",children:[jsx("div",{className:"font-bold text-2xl text-zinc-500",children:"Disabled campaign"}),jsxs("div",{className:"bg-zinc-900 p-4 md:p-8 rounded-lg w-full",children:[jsx("div",{className:"font-bold text-xl text-zinc-400",children:"Donations are no longer being accepted for this campaign."}),jsx("div",{className:"italic text-zinc-500",children:"The owner of this campaign has ended the donation process!"})]})]}):jsx("div",{className:"bg-zinc-800 w-full max-w-[30rem] self-center p-4 md:p-8 rounded-lg text-center font-bold text-2xl text-zinc-500",children:"To fund this campaign, please connect to your wallet first!"})]})]})]})},ReactToastify="";function App(){return jsx("div",{className:"w-full bg-zinc-900 text-white flex flex-col items-center select-none",children:jsxs("div",{className:"px-4 py-8 w-full max-w-[120rem] min-h-screen flex flex-col gap-4 md:px-8",children:[jsx(Navbar,{}),jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Home,{})}),jsx(Route,{path:"/profile",element:jsx(Profile,{})}),jsx(Route,{path:"/campaigns/create",element:jsx(CreateCampaign,{})}),jsx(Route,{path:"/campaigns/details/:id",element:jsx(CampaignDetails,{})})]}),jsx(Footer,{}),jsx(k,{position:"top-center",autoClose:3e3,closeOnClick:!0,pauseOnHover:!0})]})})}const index="",container=document.getElementById("root"),root=createRoot(container);root.render(jsx(React$1.StrictMode,{children:jsx(ThirdwebProvider,{activeChain:NETWORK,children:jsx(Store,{children:jsx(BrowserRouter,{basename:"/crowdfunding",children:jsx(App,{})})})})}));export{isTokenApprovedForTransfer as $,AddressZero as A,BigNumber as B,ContractWrapper as C,DropErc1155ContractSchema as D,Erc1155 as E,MarketplaceV3DirectListings as F,GasCostEstimator as G,MarketplaceV3EnglishAuctions as H,MarketplaceV3Offers as I,FEATURE_DIRECT_LISTINGS as J,FEATURE_ENGLISH_AUCTIONS as K,ListingNotFoundError as L,MarketplaceContractSchema as M,NATIVE_TOKENS as N,FEATURE_OFFERS as O,PaperCheckout as P,StandardErc721 as Q,React$1 as R,StandardErc1155 as S,Transaction as T,MultiwrapContractSchema as U,fetchCurrencyMetadata as V,formatUnits as W,uploadOrExtractURI as X,normalizePriceValue as Y,hasERC20Allowance as Z,_defineProperty$3 as _,ContractMetadata as a,TokenErc721ContractSchema as a0,Erc721 as a1,Erc721WithQuantitySignatureMintable as a2,DropErc721ContractSchema as a3,DropClaimConditions as a4,DelayedReveal as a5,FEATURE_NFT_REVEALABLE as a6,z$6 as a7,AddressSchema as a8,AmountSchema as a9,BigNumberishSchema as aa,NFTInputOrUriSchema as ab,RawDateSchema$1 as ac,PackContractSchema as ad,IPackVRFAbi as ae,FEATURE_PACK_VRF as af,LINK_TOKEN_ADDRESS as ag,Erc20 as ah,SplitsContractSchema as ai,Contract as aj,ERC20Abi as ak,fetchCurrencyValue as al,StandardErc20 as am,DropErc20ContractSchema as an,TokenErc20ContractSchema as ao,TokenERC20History as ap,Erc20SignatureMintable as aq,VoteContractSchema as ar,VoteType as as,id as at,ContractFactory$1 as au,Interface as av,buildTransactionFunction as b,ContractAppURI as c,ContractRoles as d,ContractRoyalty as e,ContractPrimarySale as f,DropErc1155ClaimConditions as g,ContractEvents as h,DropErc1155History as i,jsx as j,ContractEncoder as k,ContractPlatformFee as l,ContractInterceptor as m,ContractOwner as n,getRoleHash as o,TokenErc1155ContractSchema as p,Erc1155SignatureMintable as q,MarketplaceDirect as r,MarketplaceAuction as s,ListingType as t,mapOffer as u,invariant as v,isNativeToken as w,DEFAULT_QUERY_ALL_COUNT as x,assertEnabled as y,detectContractFeature as z};
